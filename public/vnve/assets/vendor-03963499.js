function qj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ui(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zne(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Zj={exports:{}},Nx={},Jj={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=Symbol.for("react.element"),Vne=Symbol.for("react.portal"),Gne=Symbol.for("react.fragment"),Hne=Symbol.for("react.strict_mode"),Wne=Symbol.for("react.profiler"),Kne=Symbol.for("react.provider"),Xne=Symbol.for("react.context"),Yne=Symbol.for("react.forward_ref"),qne=Symbol.for("react.suspense"),Zne=Symbol.for("react.memo"),Jne=Symbol.for("react.lazy"),Mk=Symbol.iterator;function Qne(t){return t===null||typeof t!="object"?null:(t=Mk&&t[Mk]||t["@@iterator"],typeof t=="function"?t:null)}var Qj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e5=Object.assign,t5={};function Op(t,e,r){this.props=t,this.context=e,this.refs=t5,this.updater=r||Qj}Op.prototype.isReactComponent={};Op.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Op.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r5(){}r5.prototype=Op.prototype;function aO(t,e,r){this.props=t,this.context=e,this.refs=t5,this.updater=r||Qj}var oO=aO.prototype=new r5;oO.constructor=aO;e5(oO,Op.prototype);oO.isPureReactComponent=!0;var kk=Array.isArray,n5=Object.prototype.hasOwnProperty,lO={current:null},i5={key:!0,ref:!0,__self:!0,__source:!0};function s5(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)n5.call(e,n)&&!i5.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ay,type:t,key:a,ref:o,props:s,_owner:lO.current}}function eie(t,e){return{$$typeof:Ay,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uO(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ay}function tie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Nk=/\/+/g;function tC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tie(""+t.key):e.toString(36)}function h1(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ay:case Vne:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+tC(o,0):n,kk(s)?(r="",t!=null&&(r=t.replace(Nk,"$&/")+"/"),h1(s,e,r,"",function(d){return d})):s!=null&&(uO(s)&&(s=eie(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nk,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",kk(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+tC(a,l);o+=h1(a,e,r,c,s)}else if(c=Qne(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+tC(a,l++),o+=h1(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function k_(t,e,r){if(t==null)return t;var n=[],s=0;return h1(t,n,"","",function(a){return e.call(r,a,s++)}),n}function rie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ki={current:null},p1={transition:null},nie={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:p1,ReactCurrentOwner:lO};function a5(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:k_,forEach:function(t,e,r){k_(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return k_(t,function(){e++}),e},toArray:function(t){return k_(t,function(e){return e})||[]},only:function(t){if(!uO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=Op;Yt.Fragment=Gne;Yt.Profiler=Wne;Yt.PureComponent=aO;Yt.StrictMode=Hne;Yt.Suspense=qne;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nie;Yt.act=a5;Yt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=e5({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=lO.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)n5.call(e,c)&&!i5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ay,type:t.type,key:s,ref:a,props:n,_owner:o}};Yt.createContext=function(t){return t={$$typeof:Xne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kne,_context:t},t.Consumer=t};Yt.createElement=s5;Yt.createFactory=function(t){var e=s5.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:Yne,render:t}};Yt.isValidElement=uO;Yt.lazy=function(t){return{$$typeof:Jne,_payload:{_status:-1,_result:t},_init:rie}};Yt.memo=function(t,e){return{$$typeof:Zne,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=p1.transition;p1.transition={};try{t()}finally{p1.transition=e}};Yt.unstable_act=a5;Yt.useCallback=function(t,e){return ki.current.useCallback(t,e)};Yt.useContext=function(t){return ki.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return ki.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return ki.current.useEffect(t,e)};Yt.useId=function(){return ki.current.useId()};Yt.useImperativeHandle=function(t,e,r){return ki.current.useImperativeHandle(t,e,r)};Yt.useInsertionEffect=function(t,e){return ki.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return ki.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return ki.current.useMemo(t,e)};Yt.useReducer=function(t,e,r){return ki.current.useReducer(t,e,r)};Yt.useRef=function(t){return ki.current.useRef(t)};Yt.useState=function(t){return ki.current.useState(t)};Yt.useSyncExternalStore=function(t,e,r){return ki.current.useSyncExternalStore(t,e,r)};Yt.useTransition=function(){return ki.current.useTransition()};Yt.version="18.3.1";Jj.exports=Yt;var C=Jj.exports;const q=ui(C),Ty=qj({__proto__:null,default:q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iie=C,sie=Symbol.for("react.element"),aie=Symbol.for("react.fragment"),oie=Object.prototype.hasOwnProperty,lie=iie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uie={key:!0,ref:!0,__self:!0,__source:!0};function o5(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)oie.call(e,n)&&!uie.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:sie,type:t,key:a,ref:o,props:s,_owner:lie.current}}Nx.Fragment=aie;Nx.jsx=o5;Nx.jsxs=o5;Zj.exports=Nx;var k=Zj.exports,Lk={},l5={exports:{}},Ms={},u5={exports:{}},c5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var K=$.length;$.push(H);e:for(;0<K;){var re=K-1>>>1,fe=$[re];if(0<s(fe,H))$[re]=H,$[K]=fe,K=re;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var H=$[0],K=$.pop();if(K!==H){$[0]=K;e:for(var re=0,fe=$.length,ye=fe>>>1;re<ye;){var he=2*(re+1)-1,ue=$[he],Z=he+1,z=$[Z];if(0>s(ue,K))Z<fe&&0>s(z,ue)?($[re]=z,$[Z]=K,re=Z):($[re]=ue,$[he]=K,re=he);else if(Z<fe&&0>s(z,K))$[re]=z,$[Z]=K,re=Z;else break e}}return H}function s($,H){var K=$.sortIndex-H.sortIndex;return K!==0?K:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,p=null,g=3,y=!1,b=!1,_=!1,u=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var H=r(d);H!==null;){if(H.callback===null)n(d);else if(H.startTime<=$)n(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(d)}}function w($){if(_=!1,v($),!b)if(r(c)!==null)b=!0,G(x);else{var H=r(d);H!==null&&j(w,H.startTime-$)}}function x($,H){b=!1,_&&(_=!1,h(P),P=-1),y=!0;var K=g;try{for(v(H),p=r(c);p!==null&&(!(p.expirationTime>H)||$&&!R());){var re=p.callback;if(typeof re=="function"){p.callback=null,g=p.priorityLevel;var fe=re(p.expirationTime<=H);H=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===r(c)&&n(c),v(H)}else n(c);p=r(c)}if(p!==null)var ye=!0;else{var he=r(d);he!==null&&j(w,he.startTime-H),ye=!1}return ye}finally{p=null,g=K,y=!1}}var S=!1,E=null,P=-1,T=5,A=-1;function R(){return!(t.unstable_now()-A<T)}function D(){if(E!==null){var $=t.unstable_now();A=$;var H=!0;try{H=E(!0,$)}finally{H?O():(S=!1,E=null)}}else S=!1}var O;if(typeof m=="function")O=function(){m(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=D,O=function(){M.postMessage(null)}}else O=function(){u(D,0)};function G($){E=$,S||(S=!0,O())}function j($,H){P=u(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,G(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var K=g;g=H;try{return $()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=g;g=$;try{return H()}finally{g=K}},t.unstable_scheduleCallback=function($,H,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,$){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,$={id:f++,callback:H,priorityLevel:$,startTime:K,expirationTime:fe,sortIndex:-1},K>re?($.sortIndex=K,e(d,$),r(c)===null&&$===r(d)&&(_?(h(P),P=-1):_=!0,j(w,K-re))):($.sortIndex=fe,e(c,$),b||y||(b=!0,G(x))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var H=g;return function(){var K=g;g=H;try{return $.apply(this,arguments)}finally{g=K}}}})(c5);u5.exports=c5;var cie=u5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var die=C,Rs=cie;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d5=new Set,Jg={};function tf(t,e){qh(t,e),qh(t+"Capture",e)}function qh(t,e){for(Jg[t]=e,t=0;t<e.length;t++)d5.add(e[t])}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YT=Object.prototype.hasOwnProperty,fie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uk={},$k={};function hie(t){return YT.call($k,t)?!0:YT.call(Uk,t)?!1:fie.test(t)?$k[t]=!0:(Uk[t]=!0,!1)}function pie(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mie(t,e,r,n){if(e===null||typeof e>"u"||pie(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ni(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oi[t]=new Ni(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oi[e]=new Ni(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oi[t]=new Ni(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oi[t]=new Ni(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oi[t]=new Ni(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oi[t]=new Ni(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oi[t]=new Ni(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oi[t]=new Ni(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oi[t]=new Ni(t,5,!1,t.toLowerCase(),null,!1,!1)});var cO=/[\-:]([a-z])/g;function dO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cO,dO);oi[e]=new Ni(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cO,dO);oi[e]=new Ni(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cO,dO);oi[e]=new Ni(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oi[t]=new Ni(t,1,!1,t.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oi[t]=new Ni(t,1,!1,t.toLowerCase(),null,!0,!0)});function fO(t,e,r,n){var s=oi.hasOwnProperty(e)?oi[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mie(e,r,s,n)&&(r=null),n||s===null?hie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ll=die.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N_=Symbol.for("react.element"),ih=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),hO=Symbol.for("react.strict_mode"),qT=Symbol.for("react.profiler"),f5=Symbol.for("react.provider"),h5=Symbol.for("react.context"),pO=Symbol.for("react.forward_ref"),ZT=Symbol.for("react.suspense"),JT=Symbol.for("react.suspense_list"),mO=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),p5=Symbol.for("react.offscreen"),jk=Symbol.iterator;function fm(t){return t===null||typeof t!="object"?null:(t=jk&&t[jk]||t["@@iterator"],typeof t=="function"?t:null)}var tn=Object.assign,rC;function zm(t){if(rC===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rC=e&&e[1]||""}return"\n"+rC+t}var nC=!1;function iC(t,e){if(!t||nC)return"";nC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split("\n"),a=n.stack.split("\n"),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c="\n"+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{nC=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zm(t):""}function gie(t){switch(t.tag){case 5:return zm(t.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return t=iC(t.type,!1),t;case 11:return t=iC(t.type.render,!1),t;case 1:return t=iC(t.type,!0),t;default:return""}}function QT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sh:return"Fragment";case ih:return"Portal";case qT:return"Profiler";case hO:return"StrictMode";case ZT:return"Suspense";case JT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h5:return(t.displayName||"Context")+".Consumer";case f5:return(t._context.displayName||"Context")+".Provider";case pO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mO:return e=t.displayName||null,e!==null?e:QT(t.type)||"Memo";case uu:e=t._payload,t=t._init;try{return QT(t(e))}catch(r){}}return null}function vie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QT(e);case 8:return e===hO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yie(t){var e=m5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function L_(t){t._valueTracker||(t._valueTracker=yie(t))}function g5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=m5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function eP(t,e){var r=e.checked;return tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function zk(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v5(t,e){e=e.checked,e!=null&&fO(t,"checked",e,!1)}function tP(t,e){v5(t,e);var r=qu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rP(t,e.type,r):e.hasOwnProperty("defaultValue")&&rP(t,e.type,qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vk(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function rP(t,e,r){(e!=="number"||gb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Vm=Array.isArray;function Sh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function nP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gk(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(Vm(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qu(r)}}function y5(t,e){var r=qu(e.value),n=qu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Hk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var U_,b5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(U_=U_||document.createElement("div"),U_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=U_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_ie=["Webkit","ms","Moz","O"];Object.keys(yg).forEach(function(t){_ie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yg[e]=yg[t]})});function w5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yg.hasOwnProperty(t)&&yg[t]?(""+e).trim():e+"px"}function x5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=w5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var bie=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sP(t,e){if(e){if(bie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function aP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oP=null;function gO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lP=null,Ch=null,Ah=null;function Wk(t){if(t=Ry(t)){if(typeof lP!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=zx(e),lP(t.stateNode,t.type,e))}}function E5(t){Ch?Ah?Ah.push(t):Ah=[t]:Ch=t}function S5(){if(Ch){var t=Ch,e=Ah;if(Ah=Ch=null,Wk(t),e)for(t=0;t<e.length;t++)Wk(e[t])}}function C5(t,e){return t(e)}function A5(){}var sC=!1;function T5(t,e,r){if(sC)return t(e,r);sC=!0;try{return C5(t,e,r)}finally{sC=!1,(Ch!==null||Ah!==null)&&(A5(),S5())}}function ev(t,e){var r=t.stateNode;if(r===null)return null;var n=zx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var uP=!1;if(xl)try{var hm={};Object.defineProperty(hm,"passive",{get:function(){uP=!0}}),window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch(t){uP=!1}function wie(t,e,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(f){this.onError(f)}}var _g=!1,vb=null,yb=!1,cP=null,xie={onError:function(t){_g=!0,vb=t}};function Eie(t,e,r,n,s,a,o,l,c){_g=!1,vb=null,wie.apply(xie,arguments)}function Sie(t,e,r,n,s,a,o,l,c){if(Eie.apply(this,arguments),_g){if(_g){var d=vb;_g=!1,vb=null}else throw Error(Oe(198));yb||(yb=!0,cP=d)}}function rf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function P5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kk(t){if(rf(t)!==t)throw Error(Oe(188))}function Cie(t){var e=t.alternate;if(!e){if(e=rf(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Kk(s),t;if(a===n)return Kk(s),e;a=a.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function D5(t){return t=Cie(t),t!==null?R5(t):null}function R5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R5(t);if(e!==null)return e;t=t.sibling}return null}var O5=Rs.unstable_scheduleCallback,Xk=Rs.unstable_cancelCallback,Aie=Rs.unstable_shouldYield,Tie=Rs.unstable_requestPaint,mn=Rs.unstable_now,Pie=Rs.unstable_getCurrentPriorityLevel,vO=Rs.unstable_ImmediatePriority,I5=Rs.unstable_UserBlockingPriority,_b=Rs.unstable_NormalPriority,Die=Rs.unstable_LowPriority,B5=Rs.unstable_IdlePriority,Lx=null,Co=null;function Rie(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Lx,t,void 0,(t.current.flags&128)===128)}catch(e){}}var $a=Math.clz32?Math.clz32:Bie,Oie=Math.log,Iie=Math.LN2;function Bie(t){return t>>>=0,t===0?32:31-(Oie(t)/Iie|0)|0}var $_=64,j_=4194304;function Gm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Gm(l):(a&=o,a!==0&&(n=Gm(a)))}else o=r&~s,o!==0?n=Gm(o):a!==0&&(n=Gm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-$a(e),s=1<<r,n|=t[r],e&=~s;return n}function Fie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-$a(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Fie(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function dP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F5(){var t=$_;return $_<<=1,!($_&4194240)&&($_=64),t}function aC(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Py(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$a(e),t[e]=r}function kie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-$a(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function yO(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-$a(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var pr=0;function M5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var k5,_O,N5,L5,U5,fP=!1,z_=[],Fu=null,Mu=null,ku=null,tv=new Map,rv=new Map,vu=[],Nie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yk(t,e){switch(t){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Mu=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":tv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rv.delete(e.pointerId)}}function pm(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Ry(e),e!==null&&_O(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lie(t,e,r,n,s){switch(e){case"focusin":return Fu=pm(Fu,t,e,r,n,s),!0;case"dragenter":return Mu=pm(Mu,t,e,r,n,s),!0;case"mouseover":return ku=pm(ku,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return tv.set(a,pm(tv.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,rv.set(a,pm(rv.get(a)||null,t,e,r,n,s)),!0}return!1}function $5(t){var e=nd(t.target);if(e!==null){var r=rf(e);if(r!==null){if(e=r.tag,e===13){if(e=P5(r),e!==null){t.blockedOn=e,U5(t.priority,function(){N5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function m1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);oP=n,r.target.dispatchEvent(n),oP=null}else return e=Ry(r),e!==null&&_O(e),t.blockedOn=r,!1;e.shift()}return!0}function qk(t,e,r){m1(t)&&r.delete(e)}function Uie(){fP=!1,Fu!==null&&m1(Fu)&&(Fu=null),Mu!==null&&m1(Mu)&&(Mu=null),ku!==null&&m1(ku)&&(ku=null),tv.forEach(qk),rv.forEach(qk)}function mm(t,e){t.blockedOn===e&&(t.blockedOn=null,fP||(fP=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,Uie)))}function nv(t){function e(s){return mm(s,t)}if(0<z_.length){mm(z_[0],t);for(var r=1;r<z_.length;r++){var n=z_[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fu!==null&&mm(Fu,t),Mu!==null&&mm(Mu,t),ku!==null&&mm(ku,t),tv.forEach(e),rv.forEach(e),r=0;r<vu.length;r++)n=vu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)$5(r),r.blockedOn===null&&vu.shift()}var Th=Ll.ReactCurrentBatchConfig,wb=!0;function $ie(t,e,r,n){var s=pr,a=Th.transition;Th.transition=null;try{pr=1,bO(t,e,r,n)}finally{pr=s,Th.transition=a}}function jie(t,e,r,n){var s=pr,a=Th.transition;Th.transition=null;try{pr=4,bO(t,e,r,n)}finally{pr=s,Th.transition=a}}function bO(t,e,r,n){if(wb){var s=hP(t,e,r,n);if(s===null)gC(t,e,n,xb,r),Yk(t,n);else if(Lie(s,t,e,r,n))n.stopPropagation();else if(Yk(t,n),e&4&&-1<Nie.indexOf(t)){for(;s!==null;){var a=Ry(s);if(a!==null&&k5(a),a=hP(t,e,r,n),a===null&&gC(t,e,n,xb,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else gC(t,e,n,null,r)}}var xb=null;function hP(t,e,r,n){if(xb=null,t=gO(n),t=nd(t),t!==null)if(e=rf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=P5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xb=t,null}function j5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pie()){case vO:return 1;case I5:return 4;case _b:case Die:return 16;case B5:return 536870912;default:return 16}default:return 16}}var xu=null,wO=null,g1=null;function z5(){if(g1)return g1;var t,e=wO,r=e.length,n,s="value"in xu?xu.value:xu.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return g1=s.slice(t,1<n?1-n:void 0)}function v1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function V_(){return!0}function Zk(){return!1}function ks(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?V_:Zk,this.isPropagationStopped=Zk,this}return tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=V_)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=V_)},persist:function(){},isPersistent:V_}),e}var Ip={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xO=ks(Ip),Dy=tn({},Ip,{view:0,detail:0}),zie=ks(Dy),oC,lC,gm,Ux=tn({},Dy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gm&&(gm&&t.type==="mousemove"?(oC=t.screenX-gm.screenX,lC=t.screenY-gm.screenY):lC=oC=0,gm=t),oC)},movementY:function(t){return"movementY"in t?t.movementY:lC}}),Jk=ks(Ux),Vie=tn({},Ux,{dataTransfer:0}),Gie=ks(Vie),Hie=tn({},Dy,{relatedTarget:0}),uC=ks(Hie),Wie=tn({},Ip,{animationName:0,elapsedTime:0,pseudoElement:0}),Kie=ks(Wie),Xie=tn({},Ip,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yie=ks(Xie),qie=tn({},Ip,{data:0}),Qk=ks(qie),Zie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ese(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qie[t])?!!e[t]:!1}function EO(){return ese}var tse=tn({},Dy,{key:function(t){if(t.key){var e=Zie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=v1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EO,charCode:function(t){return t.type==="keypress"?v1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?v1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rse=ks(tse),nse=tn({},Ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eN=ks(nse),ise=tn({},Dy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EO}),sse=ks(ise),ase=tn({},Ip,{propertyName:0,elapsedTime:0,pseudoElement:0}),ose=ks(ase),lse=tn({},Ux,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),use=ks(lse),cse=[9,13,27,32],SO=xl&&"CompositionEvent"in window,bg=null;xl&&"documentMode"in document&&(bg=document.documentMode);var dse=xl&&"TextEvent"in window&&!bg,V5=xl&&(!SO||bg&&8<bg&&11>=bg),tN=String.fromCharCode(32),rN=!1;function G5(t,e){switch(t){case"keyup":return cse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ah=!1;function fse(t,e){switch(t){case"compositionend":return H5(e);case"keypress":return e.which!==32?null:(rN=!0,tN);case"textInput":return t=e.data,t===tN&&rN?null:t;default:return null}}function hse(t,e){if(ah)return t==="compositionend"||!SO&&G5(t,e)?(t=z5(),g1=wO=xu=null,ah=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V5&&e.locale!=="ko"?null:e.data;default:return null}}var pse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pse[t.type]:e==="textarea"}function W5(t,e,r,n){E5(n),e=Eb(e,"onChange"),0<e.length&&(r=new xO("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wg=null,iv=null;function mse(t){nz(t,0)}function $x(t){var e=uh(t);if(g5(e))return t}function gse(t,e){if(t==="change")return e}var K5=!1;if(xl){var cC;if(xl){var dC="oninput"in document;if(!dC){var iN=document.createElement("div");iN.setAttribute("oninput","return;"),dC=typeof iN.oninput=="function"}cC=dC}else cC=!1;K5=cC&&(!document.documentMode||9<document.documentMode)}function sN(){wg&&(wg.detachEvent("onpropertychange",X5),iv=wg=null)}function X5(t){if(t.propertyName==="value"&&$x(iv)){var e=[];W5(e,iv,t,gO(t)),T5(mse,e)}}function vse(t,e,r){t==="focusin"?(sN(),wg=e,iv=r,wg.attachEvent("onpropertychange",X5)):t==="focusout"&&sN()}function yse(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $x(iv)}function _se(t,e){if(t==="click")return $x(e)}function bse(t,e){if(t==="input"||t==="change")return $x(e)}function wse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wa=typeof Object.is=="function"?Object.is:wse;function sv(t,e){if(Wa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!YT.call(e,s)||!Wa(t[s],e[s]))return!1}return!0}function aN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oN(t,e){var r=aN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aN(r)}}function Y5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q5(){for(var t=window,e=gb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=gb(t.document)}return e}function CO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xse(t){var e=q5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Y5(r.ownerDocument.documentElement,r)){if(n!==null&&CO(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=oN(r,a);var o=oN(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ese=xl&&"documentMode"in document&&11>=document.documentMode,oh=null,pP=null,xg=null,mP=!1;function lN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mP||oh==null||oh!==gb(n)||(n=oh,"selectionStart"in n&&CO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xg&&sv(xg,n)||(xg=n,n=Eb(pP,"onSelect"),0<n.length&&(e=new xO("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=oh)))}function G_(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lh={animationend:G_("Animation","AnimationEnd"),animationiteration:G_("Animation","AnimationIteration"),animationstart:G_("Animation","AnimationStart"),transitionend:G_("Transition","TransitionEnd")},fC={},Z5={};xl&&(Z5=document.createElement("div").style,"AnimationEvent"in window||(delete lh.animationend.animation,delete lh.animationiteration.animation,delete lh.animationstart.animation),"TransitionEvent"in window||delete lh.transitionend.transition);function jx(t){if(fC[t])return fC[t];if(!lh[t])return t;var e=lh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Z5)return fC[t]=e[r];return t}var J5=jx("animationend"),Q5=jx("animationiteration"),ez=jx("animationstart"),tz=jx("transitionend"),rz=new Map,uN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(t,e){rz.set(t,e),tf(e,[t])}for(var hC=0;hC<uN.length;hC++){var pC=uN[hC],Sse=pC.toLowerCase(),Cse=pC[0].toUpperCase()+pC.slice(1);pc(Sse,"on"+Cse)}pc(J5,"onAnimationEnd");pc(Q5,"onAnimationIteration");pc(ez,"onAnimationStart");pc("dblclick","onDoubleClick");pc("focusin","onFocus");pc("focusout","onBlur");pc(tz,"onTransitionEnd");qh("onMouseEnter",["mouseout","mouseover"]);qh("onMouseLeave",["mouseout","mouseover"]);qh("onPointerEnter",["pointerout","pointerover"]);qh("onPointerLeave",["pointerout","pointerover"]);tf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tf("onBeforeInput",["compositionend","keypress","textInput","paste"]);tf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ase=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hm));function cN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Sie(n,e,void 0,t),t.currentTarget=null}function nz(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;cN(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;cN(s,l,d),a=c}}}if(yb)throw t=cP,yb=!1,cP=null,t}function Tr(t,e){var r=e[bP];r===void 0&&(r=e[bP]=new Set);var n=t+"__bubble";r.has(n)||(iz(e,t,2,!1),r.add(n))}function mC(t,e,r){var n=0;e&&(n|=4),iz(r,t,n,e)}var H_="_reactListening"+Math.random().toString(36).slice(2);function av(t){if(!t[H_]){t[H_]=!0,d5.forEach(function(r){r!=="selectionchange"&&(Ase.has(r)||mC(r,!1,t),mC(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H_]||(e[H_]=!0,mC("selectionchange",!1,e))}}function iz(t,e,r,n){switch(j5(e)){case 1:var s=$ie;break;case 4:s=jie;break;default:s=bO}r=s.bind(null,e,r,t),s=void 0,!uP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function gC(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=nd(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}T5(function(){var d=a,f=gO(r),p=[];e:{var g=rz.get(t);if(g!==void 0){var y=xO,b=t;switch(t){case"keypress":if(v1(r)===0)break e;case"keydown":case"keyup":y=rse;break;case"focusin":b="focus",y=uC;break;case"focusout":b="blur",y=uC;break;case"beforeblur":case"afterblur":y=uC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Gie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sse;break;case J5:case Q5:case ez:y=Kie;break;case tz:y=ose;break;case"scroll":y=zie;break;case"wheel":y=use;break;case"copy":case"cut":case"paste":y=Yie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=eN}var _=(e&4)!==0,u=!_&&t==="scroll",h=_?g!==null?g+"Capture":null:g;_=[];for(var m=d,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,h!==null&&(w=ev(m,h),w!=null&&_.push(ov(m,w,v)))),u)break;m=m.return}0<_.length&&(g=new y(g,b,null,r,f),p.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&r!==oP&&(b=r.relatedTarget||r.fromElement)&&(nd(b)||b[El]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=d,b=b?nd(b):null,b!==null&&(u=rf(b),b!==u||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(_=Jk,w="onMouseLeave",h="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=eN,w="onPointerLeave",h="onPointerEnter",m="pointer"),u=y==null?g:uh(y),v=b==null?g:uh(b),g=new _(w,m+"leave",y,r,f),g.target=u,g.relatedTarget=v,w=null,nd(f)===d&&(_=new _(h,m+"enter",b,r,f),_.target=v,_.relatedTarget=u,w=_),u=w,y&&b)t:{for(_=y,h=b,m=0,v=_;v;v=wf(v))m++;for(v=0,w=h;w;w=wf(w))v++;for(;0<m-v;)_=wf(_),m--;for(;0<v-m;)h=wf(h),v--;for(;m--;){if(_===h||h!==null&&_===h.alternate)break t;_=wf(_),h=wf(h)}_=null}else _=null;y!==null&&dN(p,g,y,_,!1),b!==null&&u!==null&&dN(p,u,b,_,!0)}}e:{if(g=d?uh(d):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var x=gse;else if(nN(g))if(K5)x=bse;else{x=yse;var S=vse}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(x=_se);if(x&&(x=x(t,d))){W5(p,x,r,f);break e}S&&S(t,g,d),t==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&rP(g,"number",g.value)}switch(S=d?uh(d):window,t){case"focusin":(nN(S)||S.contentEditable==="true")&&(oh=S,pP=d,xg=null);break;case"focusout":xg=pP=oh=null;break;case"mousedown":mP=!0;break;case"contextmenu":case"mouseup":case"dragend":mP=!1,lN(p,r,f);break;case"selectionchange":if(Ese)break;case"keydown":case"keyup":lN(p,r,f)}var E;if(SO)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ah?G5(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(V5&&r.locale!=="ko"&&(ah||P!=="onCompositionStart"?P==="onCompositionEnd"&&ah&&(E=z5()):(xu=f,wO="value"in xu?xu.value:xu.textContent,ah=!0)),S=Eb(d,P),0<S.length&&(P=new Qk(P,t,null,r,f),p.push({event:P,listeners:S}),E?P.data=E:(E=H5(r),E!==null&&(P.data=E)))),(E=dse?fse(t,r):hse(t,r))&&(d=Eb(d,"onBeforeInput"),0<d.length&&(f=new Qk("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:d}),f.data=E))}nz(p,e)})}function ov(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Eb(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ev(t,r),a!=null&&n.unshift(ov(t,a,s)),a=ev(t,e),a!=null&&n.push(ov(t,a,s))),t=t.return}return n}function wf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dN(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=ev(r,a),c!=null&&o.unshift(ov(r,c,l))):s||(c=ev(r,a),c!=null&&o.push(ov(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Tse=/\r\n?/g,Pse=/\u0000|\uFFFD/g;function fN(t){return(typeof t=="string"?t:""+t).replace(Tse,"\n").replace(Pse,"")}function W_(t,e,r){if(e=fN(e),fN(t)!==e&&r)throw Error(Oe(425))}function Sb(){}var gP=null,vP=null;function yP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _P=typeof setTimeout=="function"?setTimeout:void 0,Dse=typeof clearTimeout=="function"?clearTimeout:void 0,hN=typeof Promise=="function"?Promise:void 0,Rse=typeof queueMicrotask=="function"?queueMicrotask:typeof hN<"u"?function(t){return hN.resolve(null).then(t).catch(Ose)}:_P;function Ose(t){setTimeout(function(){throw t})}function vC(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),nv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);nv(e)}function Nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bp=Math.random().toString(36).slice(2),vo="__reactFiber$"+Bp,lv="__reactProps$"+Bp,El="__reactContainer$"+Bp,bP="__reactEvents$"+Bp,Ise="__reactListeners$"+Bp,Bse="__reactHandles$"+Bp;function nd(t){var e=t[vo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[El]||r[vo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=pN(t);t!==null;){if(r=t[vo])return r;t=pN(t)}return e}t=r,r=t.parentNode}return null}function Ry(t){return t=t[vo]||t[El],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function zx(t){return t[lv]||null}var wP=[],ch=-1;function mc(t){return{current:t}}function Br(t){0>ch||(t.current=wP[ch],wP[ch]=null,ch--)}function Cr(t,e){ch++,wP[ch]=t.current,t.current=e}var Zu={},bi=mc(Zu),Ji=mc(!1),Bd=Zu;function Zh(t,e){var r=t.type.contextTypes;if(!r)return Zu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qi(t){return t=t.childContextTypes,t!=null}function Cb(){Br(Ji),Br(bi)}function mN(t,e,r){if(bi.current!==Zu)throw Error(Oe(168));Cr(bi,e),Cr(Ji,r)}function sz(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Oe(108,vie(t)||"Unknown",s));return tn({},r,n)}function Ab(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zu,Bd=bi.current,Cr(bi,t),Cr(Ji,Ji.current),!0}function gN(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=sz(t,e,Bd),n.__reactInternalMemoizedMergedChildContext=t,Br(Ji),Br(bi),Cr(bi,t)):Br(Ji),Cr(Ji,r)}var nl=null,Vx=!1,yC=!1;function az(t){nl===null?nl=[t]:nl.push(t)}function Fse(t){Vx=!0,az(t)}function gc(){if(!yC&&nl!==null){yC=!0;var t=0,e=pr;try{var r=nl;for(pr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nl=null,Vx=!1}catch(s){throw nl!==null&&(nl=nl.slice(t+1)),O5(vO,gc),s}finally{pr=e,yC=!1}}return null}var dh=[],fh=0,Tb=null,Pb=0,Ys=[],qs=0,Fd=null,ul=1,cl="";function Vc(t,e){dh[fh++]=Pb,dh[fh++]=Tb,Tb=t,Pb=e}function oz(t,e,r){Ys[qs++]=ul,Ys[qs++]=cl,Ys[qs++]=Fd,Fd=t;var n=ul;t=cl;var s=32-$a(n)-1;n&=~(1<<s),r+=1;var a=32-$a(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ul=1<<32-$a(e)+s|r<<s|n,cl=a+t}else ul=1<<a|r<<s|n,cl=t}function AO(t){t.return!==null&&(Vc(t,1),oz(t,1,0))}function TO(t){for(;t===Tb;)Tb=dh[--fh],dh[fh]=null,Pb=dh[--fh],dh[fh]=null;for(;t===Fd;)Fd=Ys[--qs],Ys[qs]=null,cl=Ys[--qs],Ys[qs]=null,ul=Ys[--qs],Ys[qs]=null}var As=null,xs=null,Vr=!1,Ra=null;function lz(t,e){var r=ra(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,As=t,xs=Nu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,As=t,xs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Fd!==null?{id:ul,overflow:cl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ra(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,As=t,xs=null,!0):!1;default:return!1}}function xP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function EP(t){if(Vr){var e=xs;if(e){var r=e;if(!vN(t,e)){if(xP(t))throw Error(Oe(418));e=Nu(r.nextSibling);var n=As;e&&vN(t,e)?lz(n,r):(t.flags=t.flags&-4097|2,Vr=!1,As=t)}}else{if(xP(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Vr=!1,As=t}}}function yN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;As=t}function K_(t){if(t!==As)return!1;if(!Vr)return yN(t),Vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yP(t.type,t.memoizedProps)),e&&(e=xs)){if(xP(t))throw uz(),Error(Oe(418));for(;e;)lz(t,e),e=Nu(e.nextSibling)}if(yN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xs=Nu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xs=null}}else xs=As?Nu(t.stateNode.nextSibling):null;return!0}function uz(){for(var t=xs;t;)t=Nu(t.nextSibling)}function Jh(){xs=As=null,Vr=!1}function PO(t){Ra===null?Ra=[t]:Ra.push(t)}var Mse=Ll.ReactCurrentBatchConfig;function vm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function X_(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _N(t){var e=t._init;return e(t._payload)}function cz(t){function e(h,m){if(t){var v=h.deletions;v===null?(h.deletions=[m],h.flags|=16):v.push(m)}}function r(h,m){if(!t)return null;for(;m!==null;)e(h,m),m=m.sibling;return null}function n(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function s(h,m){return h=ju(h,m),h.index=0,h.sibling=null,h}function a(h,m,v){return h.index=v,t?(v=h.alternate,v!==null?(v=v.index,v<m?(h.flags|=2,m):v):(h.flags|=2,m)):(h.flags|=1048576,m)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,m,v,w){return m===null||m.tag!==6?(m=CC(v,h.mode,w),m.return=h,m):(m=s(m,v),m.return=h,m)}function c(h,m,v,w){var x=v.type;return x===sh?f(h,m,v.props.children,w,v.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===uu&&_N(x)===m.type)?(w=s(m,v.props),w.ref=vm(h,m,v),w.return=h,w):(w=S1(v.type,v.key,v.props,null,h.mode,w),w.ref=vm(h,m,v),w.return=h,w)}function d(h,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=AC(v,h.mode,w),m.return=h,m):(m=s(m,v.children||[]),m.return=h,m)}function f(h,m,v,w,x){return m===null||m.tag!==7?(m=md(v,h.mode,w,x),m.return=h,m):(m=s(m,v),m.return=h,m)}function p(h,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=CC(""+m,h.mode,v),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case N_:return v=S1(m.type,m.key,m.props,null,h.mode,v),v.ref=vm(h,null,m),v.return=h,v;case ih:return m=AC(m,h.mode,v),m.return=h,m;case uu:var w=m._init;return p(h,w(m._payload),v)}if(Vm(m)||fm(m))return m=md(m,h.mode,v,null),m.return=h,m;X_(h,m)}return null}function g(h,m,v,w){var x=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:l(h,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case N_:return v.key===x?c(h,m,v,w):null;case ih:return v.key===x?d(h,m,v,w):null;case uu:return x=v._init,g(h,m,x(v._payload),w)}if(Vm(v)||fm(v))return x!==null?null:f(h,m,v,w,null);X_(h,v)}return null}function y(h,m,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(v)||null,l(m,h,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case N_:return h=h.get(w.key===null?v:w.key)||null,c(m,h,w,x);case ih:return h=h.get(w.key===null?v:w.key)||null,d(m,h,w,x);case uu:var S=w._init;return y(h,m,v,S(w._payload),x)}if(Vm(w)||fm(w))return h=h.get(v)||null,f(m,h,w,x,null);X_(m,w)}return null}function b(h,m,v,w){for(var x=null,S=null,E=m,P=m=0,T=null;E!==null&&P<v.length;P++){E.index>P?(T=E,E=null):T=E.sibling;var A=g(h,E,v[P],w);if(A===null){E===null&&(E=T);break}t&&E&&A.alternate===null&&e(h,E),m=a(A,m,P),S===null?x=A:S.sibling=A,S=A,E=T}if(P===v.length)return r(h,E),Vr&&Vc(h,P),x;if(E===null){for(;P<v.length;P++)E=p(h,v[P],w),E!==null&&(m=a(E,m,P),S===null?x=E:S.sibling=E,S=E);return Vr&&Vc(h,P),x}for(E=n(h,E);P<v.length;P++)T=y(E,h,P,v[P],w),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?P:T.key),m=a(T,m,P),S===null?x=T:S.sibling=T,S=T);return t&&E.forEach(function(R){return e(h,R)}),Vr&&Vc(h,P),x}function _(h,m,v,w){var x=fm(v);if(typeof x!="function")throw Error(Oe(150));if(v=x.call(v),v==null)throw Error(Oe(151));for(var S=x=null,E=m,P=m=0,T=null,A=v.next();E!==null&&!A.done;P++,A=v.next()){E.index>P?(T=E,E=null):T=E.sibling;var R=g(h,E,A.value,w);if(R===null){E===null&&(E=T);break}t&&E&&R.alternate===null&&e(h,E),m=a(R,m,P),S===null?x=R:S.sibling=R,S=R,E=T}if(A.done)return r(h,E),Vr&&Vc(h,P),x;if(E===null){for(;!A.done;P++,A=v.next())A=p(h,A.value,w),A!==null&&(m=a(A,m,P),S===null?x=A:S.sibling=A,S=A);return Vr&&Vc(h,P),x}for(E=n(h,E);!A.done;P++,A=v.next())A=y(E,h,P,A.value,w),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?P:A.key),m=a(A,m,P),S===null?x=A:S.sibling=A,S=A);return t&&E.forEach(function(D){return e(h,D)}),Vr&&Vc(h,P),x}function u(h,m,v,w){if(typeof v=="object"&&v!==null&&v.type===sh&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case N_:e:{for(var x=v.key,S=m;S!==null;){if(S.key===x){if(x=v.type,x===sh){if(S.tag===7){r(h,S.sibling),m=s(S,v.props.children),m.return=h,h=m;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===uu&&_N(x)===S.type){r(h,S.sibling),m=s(S,v.props),m.ref=vm(h,S,v),m.return=h,h=m;break e}r(h,S);break}else e(h,S);S=S.sibling}v.type===sh?(m=md(v.props.children,h.mode,w,v.key),m.return=h,h=m):(w=S1(v.type,v.key,v.props,null,h.mode,w),w.ref=vm(h,m,v),w.return=h,h=w)}return o(h);case ih:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(h,m.sibling),m=s(m,v.children||[]),m.return=h,h=m;break e}else{r(h,m);break}else e(h,m);m=m.sibling}m=AC(v,h.mode,w),m.return=h,h=m}return o(h);case uu:return S=v._init,u(h,m,S(v._payload),w)}if(Vm(v))return b(h,m,v,w);if(fm(v))return _(h,m,v,w);X_(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(h,m.sibling),m=s(m,v),m.return=h,h=m):(r(h,m),m=CC(v,h.mode,w),m.return=h,h=m),o(h)):r(h,m)}return u}var Qh=cz(!0),dz=cz(!1),Db=mc(null),Rb=null,hh=null,DO=null;function RO(){DO=hh=Rb=null}function OO(t){var e=Db.current;Br(Db),t._currentValue=e}function SP(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ph(t,e){Rb=t,DO=hh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qi=!0),t.firstContext=null)}function ha(t){var e=t._currentValue;if(DO!==t)if(t={context:t,memoizedValue:e,next:null},hh===null){if(Rb===null)throw Error(Oe(308));hh=t,Rb.dependencies={lanes:0,firstContext:t}}else hh=hh.next=t;return e}var id=null;function IO(t){id===null?id=[t]:id.push(t)}function fz(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,IO(e)):(r.next=s.next,s.next=r),e.interleaved=r,Sl(t,n)}function Sl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var cu=!1;function BO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,sr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Sl(t,r)}return s=n.interleaved,s===null?(e.next=e,IO(n)):(e.next=s.next,s.next=e),n.interleaved=e,Sl(t,r)}function y1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yO(t,r)}}function bN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ob(t,e,r,n){var s=t.updateQueue;cu=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var p=s.baseState;o=0,f=d=c=null,l=a;do{var g=l.lane,y=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,_=l;switch(g=e,y=r,_.tag){case 1:if(b=_.payload,typeof b=="function"){p=b.call(y,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,g=typeof b=="function"?b.call(y,p,g):b,g==null)break e;p=tn({},p,g);break e;case 2:cu=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,c=p):f=f.next=y,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);kd|=o,t.lanes=o,t.memoizedState=p}}function wN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Oe(191,s));s.call(n)}}}var Oy={},Ao=mc(Oy),uv=mc(Oy),cv=mc(Oy);function sd(t){if(t===Oy)throw Error(Oe(174));return t}function FO(t,e){switch(Cr(cv,e),Cr(uv,t),Cr(Ao,Oy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iP(e,t)}Br(Ao),Cr(Ao,e)}function ep(){Br(Ao),Br(uv),Br(cv)}function pz(t){sd(cv.current);var e=sd(Ao.current),r=iP(e,t.type);e!==r&&(Cr(uv,t),Cr(Ao,r))}function MO(t){uv.current===t&&(Br(Ao),Br(uv))}var qr=mc(0);function Ib(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _C=[];function kO(){for(var t=0;t<_C.length;t++)_C[t]._workInProgressVersionPrimary=null;_C.length=0}var _1=Ll.ReactCurrentDispatcher,bC=Ll.ReactCurrentBatchConfig,Md=0,en=null,Dn=null,Vn=null,Bb=!1,Eg=!1,dv=0,kse=0;function ci(){throw Error(Oe(321))}function NO(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Wa(t[r],e[r]))return!1;return!0}function LO(t,e,r,n,s,a){if(Md=a,en=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_1.current=t===null||t.memoizedState===null?$se:jse,t=r(n,s),Eg){a=0;do{if(Eg=!1,dv=0,25<=a)throw Error(Oe(301));a+=1,Vn=Dn=null,e.updateQueue=null,_1.current=zse,t=r(n,s)}while(Eg)}if(_1.current=Fb,e=Dn!==null&&Dn.next!==null,Md=0,Vn=Dn=en=null,Bb=!1,e)throw Error(Oe(300));return t}function UO(){var t=dv!==0;return dv=0,t}function uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?en.memoizedState=Vn=t:Vn=Vn.next=t,Vn}function pa(){if(Dn===null){var t=en.alternate;t=t!==null?t.memoizedState:null}else t=Dn.next;var e=Vn===null?en.memoizedState:Vn.next;if(e!==null)Vn=e,Dn=t;else{if(t===null)throw Error(Oe(310));Dn=t,t={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Vn===null?en.memoizedState=Vn=t:Vn=Vn.next=t}return Vn}function fv(t,e){return typeof e=="function"?e(t):e}function wC(t){var e=pa(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=Dn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((Md&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,en.lanes|=f,kd|=f}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Wa(n,e.memoizedState)||(qi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,en.lanes|=a,kd|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function xC(t){var e=pa(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Wa(a,e.memoizedState)||(qi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function mz(){}function gz(t,e){var r=en,n=pa(),s=e(),a=!Wa(n.memoizedState,s);if(a&&(n.memoizedState=s,qi=!0),n=n.queue,$O(_z.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Vn!==null&&Vn.memoizedState.tag&1){if(r.flags|=2048,hv(9,yz.bind(null,r,n,s,e),void 0,null),Xn===null)throw Error(Oe(349));Md&30||vz(r,e,s)}return s}function vz(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yz(t,e,r,n){e.value=r,e.getSnapshot=n,bz(e)&&wz(t)}function _z(t,e,r){return r(function(){bz(e)&&wz(t)})}function bz(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Wa(t,r)}catch(n){return!0}}function wz(t){var e=Sl(t,1);e!==null&&ja(e,t,1,-1)}function xN(t){var e=uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:t},e.queue=t,t=t.dispatch=Use.bind(null,en,t),[e.memoizedState,t]}function hv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xz(){return pa().memoizedState}function b1(t,e,r,n){var s=uo();en.flags|=t,s.memoizedState=hv(1|e,r,void 0,n===void 0?null:n)}function Gx(t,e,r,n){var s=pa();n=n===void 0?null:n;var a=void 0;if(Dn!==null){var o=Dn.memoizedState;if(a=o.destroy,n!==null&&NO(n,o.deps)){s.memoizedState=hv(e,r,a,n);return}}en.flags|=t,s.memoizedState=hv(1|e,r,a,n)}function EN(t,e){return b1(8390656,8,t,e)}function $O(t,e){return Gx(2048,8,t,e)}function Ez(t,e){return Gx(4,2,t,e)}function Sz(t,e){return Gx(4,4,t,e)}function Cz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Az(t,e,r){return r=r!=null?r.concat([t]):null,Gx(4,4,Cz.bind(null,e,t),r)}function jO(){}function Tz(t,e){var r=pa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&NO(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Pz(t,e){var r=pa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&NO(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dz(t,e,r){return Md&21?(Wa(r,e)||(r=F5(),en.lanes|=r,kd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qi=!0),t.memoizedState=r)}function Nse(t,e){var r=pr;pr=r!==0&&4>r?r:4,t(!0);var n=bC.transition;bC.transition={};try{t(!1),e()}finally{pr=r,bC.transition=n}}function Rz(){return pa().memoizedState}function Lse(t,e,r){var n=$u(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Oz(t))Iz(e,r);else if(r=fz(t,e,r,n),r!==null){var s=Fi();ja(r,t,n,s),Bz(r,e,n)}}function Use(t,e,r){var n=$u(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Oz(t))Iz(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Wa(l,o)){var c=e.interleaved;c===null?(s.next=s,IO(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch(d){}finally{}r=fz(t,e,s,n),r!==null&&(s=Fi(),ja(r,t,n,s),Bz(r,e,n))}}function Oz(t){var e=t.alternate;return t===en||e!==null&&e===en}function Iz(t,e){Eg=Bb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Bz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yO(t,r)}}var Fb={readContext:ha,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},$se={readContext:ha,useCallback:function(t,e){return uo().memoizedState=[t,e===void 0?null:e],t},useContext:ha,useEffect:EN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,b1(4194308,4,Cz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return b1(4194308,4,t,e)},useInsertionEffect:function(t,e){return b1(4,2,t,e)},useMemo:function(t,e){var r=uo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=uo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Lse.bind(null,en,t),[n.memoizedState,t]},useRef:function(t){var e=uo();return t={current:t},e.memoizedState=t},useState:xN,useDebugValue:jO,useDeferredValue:function(t){return uo().memoizedState=t},useTransition:function(){var t=xN(!1),e=t[0];return t=Nse.bind(null,t[1]),uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=en,s=uo();if(Vr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),Xn===null)throw Error(Oe(349));Md&30||vz(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,EN(_z.bind(null,n,a,t),[t]),n.flags|=2048,hv(9,yz.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=uo(),e=Xn.identifierPrefix;if(Vr){var r=cl,n=ul;r=(n&~(1<<32-$a(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=dv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=kse++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jse={readContext:ha,useCallback:Tz,useContext:ha,useEffect:$O,useImperativeHandle:Az,useInsertionEffect:Ez,useLayoutEffect:Sz,useMemo:Pz,useReducer:wC,useRef:xz,useState:function(){return wC(fv)},useDebugValue:jO,useDeferredValue:function(t){var e=pa();return Dz(e,Dn.memoizedState,t)},useTransition:function(){var t=wC(fv)[0],e=pa().memoizedState;return[t,e]},useMutableSource:mz,useSyncExternalStore:gz,useId:Rz,unstable_isNewReconciler:!1},zse={readContext:ha,useCallback:Tz,useContext:ha,useEffect:$O,useImperativeHandle:Az,useInsertionEffect:Ez,useLayoutEffect:Sz,useMemo:Pz,useReducer:xC,useRef:xz,useState:function(){return xC(fv)},useDebugValue:jO,useDeferredValue:function(t){var e=pa();return Dn===null?e.memoizedState=t:Dz(e,Dn.memoizedState,t)},useTransition:function(){var t=xC(fv)[0],e=pa().memoizedState;return[t,e]},useMutableSource:mz,useSyncExternalStore:gz,useId:Rz,unstable_isNewReconciler:!1};function Ca(t,e){if(t&&t.defaultProps){e=tn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function CP(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hx={isMounted:function(t){return(t=t._reactInternals)?rf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fi(),s=$u(t),a=gl(n,s);a.payload=e,r!=null&&(a.callback=r),e=Lu(t,a,s),e!==null&&(ja(e,t,s,n),y1(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fi(),s=$u(t),a=gl(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Lu(t,a,s),e!==null&&(ja(e,t,s,n),y1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fi(),n=$u(t),s=gl(r,n);s.tag=2,e!=null&&(s.callback=e),e=Lu(t,s,n),e!==null&&(ja(e,t,n,r),y1(e,t,n))}};function SN(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!sv(r,n)||!sv(s,a):!0}function Fz(t,e,r){var n=!1,s=Zu,a=e.contextType;return typeof a=="object"&&a!==null?a=ha(a):(s=Qi(e)?Bd:bi.current,n=e.contextTypes,a=(n=n!=null)?Zh(t,s):Zu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function CN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hx.enqueueReplaceState(e,e.state,null)}function AP(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},BO(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=ha(a):(a=Qi(e)?Bd:bi.current,s.context=Zh(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(CP(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hx.enqueueReplaceState(s,s.state,null),Ob(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tp(t,e){try{var r="",n=e;do r+=gie(n),n=n.return;while(n);var s=r}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:t,source:e,stack:s,digest:null}}function EC(t,e,r){return{value:t,source:null,stack:r!=null?r:null,digest:e!=null?e:null}}function TP(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Vse=typeof WeakMap=="function"?WeakMap:Map;function Mz(t,e,r){r=gl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){kb||(kb=!0,NP=n),TP(t,e)},r}function kz(t,e,r){r=gl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){TP(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){TP(t,e),typeof n!="function"&&(Uu===null?Uu=new Set([this]):Uu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function AN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Vse;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=nae.bind(null,t,e,r),e.then(t,t))}function TN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PN(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gl(-1,1),e.tag=2,Lu(r,e,1))),r.lanes|=1),t)}var Gse=Ll.ReactCurrentOwner,qi=!1;function Ti(t,e,r,n){e.child=t===null?dz(e,null,r,n):Qh(e,t.child,r,n)}function DN(t,e,r,n,s){r=r.render;var a=e.ref;return Ph(e,s),n=LO(t,e,r,n,a,s),r=UO(),t!==null&&!qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cl(t,e,s)):(Vr&&r&&AO(e),e.flags|=1,Ti(t,e,n,s),e.child)}function RN(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!YO(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Nz(t,e,a,n,s)):(t=S1(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:sv,r(o,n)&&t.ref===e.ref)return Cl(t,e,s)}return e.flags|=1,t=ju(a,n),t.ref=e.ref,t.return=e,e.child=t}function Nz(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(sv(a,n)&&t.ref===e.ref)if(qi=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(qi=!0);else return e.lanes=t.lanes,Cl(t,e,s)}return PP(t,e,r,n,s)}function Lz(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(mh,hs),hs|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(mh,hs),hs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Cr(mh,hs),hs|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Cr(mh,hs),hs|=n;return Ti(t,e,s,r),e.child}function Uz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function PP(t,e,r,n,s){var a=Qi(r)?Bd:bi.current;return a=Zh(e,a),Ph(e,s),r=LO(t,e,r,n,a,s),n=UO(),t!==null&&!qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cl(t,e,s)):(Vr&&n&&AO(e),e.flags|=1,Ti(t,e,r,s),e.child)}function ON(t,e,r,n,s){if(Qi(r)){var a=!0;Ab(e)}else a=!1;if(Ph(e,s),e.stateNode===null)w1(t,e),Fz(e,r,n),AP(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ha(d):(d=Qi(r)?Bd:bi.current,d=Zh(e,d));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&CN(e,o,n,d),cu=!1;var g=e.memoizedState;o.state=g,Ob(e,n,o,s),c=e.memoizedState,l!==n||g!==c||Ji.current||cu?(typeof f=="function"&&(CP(e,r,f,n),c=e.memoizedState),(l=cu||SN(e,r,l,n,g,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,hz(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ca(e.type,l),o.props=d,p=e.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ha(c):(c=Qi(r)?Bd:bi.current,c=Zh(e,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==c)&&CN(e,o,n,c),cu=!1,g=e.memoizedState,o.state=g,Ob(e,n,o,s);var b=e.memoizedState;l!==p||g!==b||Ji.current||cu?(typeof y=="function"&&(CP(e,r,y,n),b=e.memoizedState),(d=cu||SN(e,r,d,n,g,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return DP(t,e,r,n,a,s)}function DP(t,e,r,n,s,a){Uz(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&gN(e,r,!1),Cl(t,e,a);n=e.stateNode,Gse.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Qh(e,t.child,null,a),e.child=Qh(e,null,l,a)):Ti(t,e,l,a),e.memoizedState=n.state,s&&gN(e,r,!0),e.child}function $z(t){var e=t.stateNode;e.pendingContext?mN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mN(t,e.context,!1),FO(t,e.containerInfo)}function IN(t,e,r,n,s){return Jh(),PO(s),e.flags|=256,Ti(t,e,r,n),e.child}var RP={dehydrated:null,treeContext:null,retryLane:0};function OP(t){return{baseLanes:t,cachePool:null,transitions:null}}function jz(t,e,r){var n=e.pendingProps,s=qr.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Cr(qr,s&1),t===null)return EP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xx(o,n,0,null),t=md(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=OP(r),e.memoizedState=RP,t):zO(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Hse(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ju(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ju(l,a):(a=md(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?OP(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=RP,n}return a=t.child,t=a.sibling,n=ju(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zO(t,e){return e=Xx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Y_(t,e,r,n){return n!==null&&PO(n),Qh(e,t.child,null,r),t=zO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hse(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=EC(Error(Oe(422))),Y_(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=Xx({mode:"visible",children:n.children},s,0,null),a=md(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Qh(e,t.child,null,o),e.child.memoizedState=OP(o),e.memoizedState=RP,a);if(!(e.mode&1))return Y_(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Oe(419)),n=EC(a,n,void 0),Y_(t,e,o,n)}if(l=(o&t.childLanes)!==0,qi||l){if(n=Xn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Sl(t,s),ja(n,t,s,-1))}return XO(),n=EC(Error(Oe(421))),Y_(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iae.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,xs=Nu(s.nextSibling),As=e,Vr=!0,Ra=null,t!==null&&(Ys[qs++]=ul,Ys[qs++]=cl,Ys[qs++]=Fd,ul=t.id,cl=t.overflow,Fd=e),e=zO(e,n.children),e.flags|=4096,e)}function BN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),SP(t.return,e,r)}function SC(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function zz(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(Ti(t,e,n.children,r),n=qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BN(t,r,e);else if(t.tag===19)BN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Cr(qr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ib(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),SC(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ib(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}SC(e,!0,r,null,a);break;case"together":SC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function w1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),kd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=ju(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ju(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Wse(t,e,r){switch(e.tag){case 3:$z(e),Jh();break;case 5:pz(e);break;case 1:Qi(e.type)&&Ab(e);break;case 4:FO(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Cr(Db,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cr(qr,qr.current&1),e.flags|=128,null):r&e.child.childLanes?jz(t,e,r):(Cr(qr,qr.current&1),t=Cl(t,e,r),t!==null?t.sibling:null);Cr(qr,qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zz(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cr(qr,qr.current),n)break;return null;case 22:case 23:return e.lanes=0,Lz(t,e,r)}return Cl(t,e,r)}var Vz,IP,Gz,Hz;Vz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};IP=function(){};Gz=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,sd(Ao.current);var a=null;switch(r){case"input":s=eP(t,s),n=eP(t,n),a=[];break;case"select":s=tn({},s,{value:void 0}),n=tn({},n,{value:void 0}),a=[];break;case"textarea":s=nP(t,s),n=nP(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Sb)}sP(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jg.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Tr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Hz=function(t,e,r,n){r!==n&&(e.flags|=4)};function ym(t,e){if(!Vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function di(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Kse(t,e,r){var n=e.pendingProps;switch(TO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(e),null;case 1:return Qi(e.type)&&Cb(),di(e),null;case 3:return n=e.stateNode,ep(),Br(Ji),Br(bi),kO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(K_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ra!==null&&($P(Ra),Ra=null))),IP(t,e),di(e),null;case 5:MO(e);var s=sd(cv.current);if(r=e.type,t!==null&&e.stateNode!=null)Gz(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return di(e),null}if(t=sd(Ao.current),K_(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[vo]=e,n[lv]=a,t=(e.mode&1)!==0,r){case"dialog":Tr("cancel",n),Tr("close",n);break;case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(s=0;s<Hm.length;s++)Tr(Hm[s],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"details":Tr("toggle",n);break;case"input":zk(n,a),Tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",n);break;case"textarea":Gk(n,a),Tr("invalid",n)}sP(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&W_(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&W_(n.textContent,l,t),s=["children",""+l]):Jg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Tr("scroll",n)}switch(r){case"input":L_(n),Vk(n,a,!0);break;case"textarea":L_(n),Hk(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sb)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[vo]=e,t[lv]=n,Vz(t,e,!1,!1),e.stateNode=t;e:{switch(o=aP(r,n),r){case"dialog":Tr("cancel",t),Tr("close",t),s=n;break;case"iframe":case"object":case"embed":Tr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Hm.length;s++)Tr(Hm[s],t);s=n;break;case"source":Tr("error",t),s=n;break;case"img":case"image":case"link":Tr("error",t),Tr("load",t),s=n;break;case"details":Tr("toggle",t),s=n;break;case"input":zk(t,n),s=eP(t,n),Tr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=tn({},n,{value:void 0}),Tr("invalid",t);break;case"textarea":Gk(t,n),s=nP(t,n),Tr("invalid",t);break;default:s=n}sP(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?x5(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&b5(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qg(t,c):typeof c=="number"&&Qg(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jg.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Tr("scroll",t):c!=null&&fO(t,a,c,o))}switch(r){case"input":L_(t),Vk(t,n,!1);break;case"textarea":L_(t),Hk(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Sh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Sh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Sb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return di(e),null;case 6:if(t&&e.stateNode!=null)Hz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=sd(cv.current),sd(Ao.current),K_(e)){if(n=e.stateNode,r=e.memoizedProps,n[vo]=e,(a=n.nodeValue!==r)&&(t=As,t!==null))switch(t.tag){case 3:W_(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&W_(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vo]=e,e.stateNode=n}return di(e),null;case 13:if(Br(qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vr&&xs!==null&&e.mode&1&&!(e.flags&128))uz(),Jh(),e.flags|=98560,a=!1;else if(a=K_(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[vo]=e}else Jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;di(e),a=!1}else Ra!==null&&($P(Ra),Ra=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||qr.current&1?Rn===0&&(Rn=3):XO())),e.updateQueue!==null&&(e.flags|=4),di(e),null);case 4:return ep(),IP(t,e),t===null&&av(e.stateNode.containerInfo),di(e),null;case 10:return OO(e.type._context),di(e),null;case 17:return Qi(e.type)&&Cb(),di(e),null;case 19:if(Br(qr),a=e.memoizedState,a===null)return di(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ym(a,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ib(t),o!==null){for(e.flags|=128,ym(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Cr(qr,qr.current&1|2),e.child}t=t.sibling}a.tail!==null&&mn()>rp&&(e.flags|=128,n=!0,ym(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ib(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ym(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Vr)return di(e),null}else 2*mn()-a.renderingStartTime>rp&&r!==1073741824&&(e.flags|=128,n=!0,ym(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=mn(),e.sibling=null,r=qr.current,Cr(qr,n?r&1|2:r&1),e):(di(e),null);case 22:case 23:return KO(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hs&1073741824&&(di(e),e.subtreeFlags&6&&(e.flags|=8192)):di(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function Xse(t,e){switch(TO(e),e.tag){case 1:return Qi(e.type)&&Cb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ep(),Br(Ji),Br(bi),kO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return MO(e),null;case 13:if(Br(qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Jh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Br(qr),null;case 4:return ep(),null;case 10:return OO(e.type._context),null;case 22:case 23:return KO(),null;case 24:return null;default:return null}}var q_=!1,pi=!1,Yse=typeof WeakSet=="function"?WeakSet:Set,st=null;function ph(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){on(t,e,n)}else r.current=null}function BP(t,e,r){try{r()}catch(n){on(t,e,n)}}var FN=!1;function qse(t,e){if(gP=wb,t=q5(),CO(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var y;p!==r||s!==0&&p.nodeType!==3||(l=o+s),p!==a||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===r&&++d===s&&(l=o),g===a&&++f===n&&(c=o),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vP={focusedElem:t,selectionRange:r},wb=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,u=b.memoizedState,h=e.stateNode,m=h.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ca(e.type,_),u);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(w){on(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return b=FN,FN=!1,b}function Sg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&BP(e,r,a)}s=s.next}while(s!==n)}}function Wx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function FP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Wz(t){var e=t.alternate;e!==null&&(t.alternate=null,Wz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vo],delete e[lv],delete e[bP],delete e[Ise],delete e[Bse])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kz(t){return t.tag===5||t.tag===3||t.tag===4}function MN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function MP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Sb));else if(n!==4&&(t=t.child,t!==null))for(MP(t,e,r),t=t.sibling;t!==null;)MP(t,e,r),t=t.sibling}function kP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(kP(t,e,r),t=t.sibling;t!==null;)kP(t,e,r),t=t.sibling}var ei=null,Pa=!1;function Zl(t,e,r){for(r=r.child;r!==null;)Xz(t,e,r),r=r.sibling}function Xz(t,e,r){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Lx,r)}catch(l){}switch(r.tag){case 5:pi||ph(r,e);case 6:var n=ei,s=Pa;ei=null,Zl(t,e,r),ei=n,Pa=s,ei!==null&&(Pa?(t=ei,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ei.removeChild(r.stateNode));break;case 18:ei!==null&&(Pa?(t=ei,r=r.stateNode,t.nodeType===8?vC(t.parentNode,r):t.nodeType===1&&vC(t,r),nv(t)):vC(ei,r.stateNode));break;case 4:n=ei,s=Pa,ei=r.stateNode.containerInfo,Pa=!0,Zl(t,e,r),ei=n,Pa=s;break;case 0:case 11:case 14:case 15:if(!pi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&BP(r,e,o),s=s.next}while(s!==n)}Zl(t,e,r);break;case 1:if(!pi&&(ph(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){on(r,e,l)}Zl(t,e,r);break;case 21:Zl(t,e,r);break;case 22:r.mode&1?(pi=(n=pi)||r.memoizedState!==null,Zl(t,e,r),pi=n):Zl(t,e,r);break;default:Zl(t,e,r)}}function kN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Yse),e.forEach(function(n){var s=sae.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _a(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ei=l.stateNode,Pa=!1;break e;case 3:ei=l.stateNode.containerInfo,Pa=!0;break e;case 4:ei=l.stateNode.containerInfo,Pa=!0;break e}l=l.return}if(ei===null)throw Error(Oe(160));Xz(a,o,s),ei=null,Pa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){on(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yz(e,t),e=e.sibling}function Yz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_a(e,t),eo(t),n&4){try{Sg(3,t,t.return),Wx(3,t)}catch(_){on(t,t.return,_)}try{Sg(5,t,t.return)}catch(_){on(t,t.return,_)}}break;case 1:_a(e,t),eo(t),n&512&&r!==null&&ph(r,r.return);break;case 5:if(_a(e,t),eo(t),n&512&&r!==null&&ph(r,r.return),t.flags&32){var s=t.stateNode;try{Qg(s,"")}catch(_){on(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&v5(s,a),aP(l,o);var d=aP(l,a);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?x5(s,p):f==="dangerouslySetInnerHTML"?b5(s,p):f==="children"?Qg(s,p):fO(s,f,p,d)}switch(l){case"input":tP(s,a);break;case"textarea":y5(s,a);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Sh(s,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?Sh(s,!!a.multiple,a.defaultValue,!0):Sh(s,!!a.multiple,a.multiple?[]:"",!1))}s[lv]=a}catch(_){on(t,t.return,_)}}break;case 6:if(_a(e,t),eo(t),n&4){if(t.stateNode===null)throw Error(Oe(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(_){on(t,t.return,_)}}break;case 3:if(_a(e,t),eo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nv(e.containerInfo)}catch(_){on(t,t.return,_)}break;case 4:_a(e,t),eo(t);break;case 13:_a(e,t),eo(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(HO=mn())),n&4&&kN(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(pi=(d=pi)||f,_a(e,t),pi=d):_a(e,t),eo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(st=t,f=t.child;f!==null;){for(p=st=f;st!==null;){switch(g=st,y=g.child,g.tag){case 0:case 11:case 14:case 15:Sg(4,g,g.return);break;case 1:ph(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){on(n,r,_)}}break;case 5:ph(g,g.return);break;case 22:if(g.memoizedState!==null){LN(p);continue}}y!==null?(y.return=g,st=y):LN(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=w5("display",o))}catch(_){on(t,t.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(_){on(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_a(e,t),eo(t),n&4&&kN(t);break;case 21:break;default:_a(e,t),eo(t)}}function eo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Kz(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qg(s,""),n.flags&=-33);var a=MN(t);kP(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=MN(t);MP(t,l,o);break;default:throw Error(Oe(161))}}catch(c){on(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zse(t,e,r){st=t,qz(t)}function qz(t,e,r){for(var n=(t.mode&1)!==0;st!==null;){var s=st,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||q_;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pi;l=q_;var d=pi;if(q_=o,(pi=c)&&!d)for(st=s;st!==null;)o=st,c=o.child,o.tag===22&&o.memoizedState!==null?UN(s):c!==null?(c.return=o,st=c):UN(s);for(;a!==null;)st=a,qz(a),a=a.sibling;st=s,q_=l,pi=d}NN(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,st=a):NN(t)}}function NN(t){for(;st!==null;){var e=st;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pi||Wx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pi)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ca(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&wN(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wN(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&nv(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}pi||e.flags&512&&FP(e)}catch(g){on(e,e.return,g)}}if(e===t){st=null;break}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}}function LN(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var r=e.sibling;if(r!==null){r.return=e.return,st=r;break}st=e.return}}function UN(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wx(4,e)}catch(c){on(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){on(e,s,c)}}var a=e.return;try{FP(e)}catch(c){on(e,a,c)}break;case 5:var o=e.return;try{FP(e)}catch(c){on(e,o,c)}}}catch(c){on(e,e.return,c)}if(e===t){st=null;break}var l=e.sibling;if(l!==null){l.return=e.return,st=l;break}st=e.return}}var Jse=Math.ceil,Mb=Ll.ReactCurrentDispatcher,VO=Ll.ReactCurrentOwner,ua=Ll.ReactCurrentBatchConfig,sr=0,Xn=null,wn=null,ii=0,hs=0,mh=mc(0),Rn=0,pv=null,kd=0,Kx=0,GO=0,Cg=null,Xi=null,HO=0,rp=1/0,Qo=null,kb=!1,NP=null,Uu=null,Z_=!1,Eu=null,Nb=0,Ag=0,LP=null,x1=-1,E1=0;function Fi(){return sr&6?mn():x1!==-1?x1:x1=mn()}function $u(t){return t.mode&1?sr&2&&ii!==0?ii&-ii:Mse.transition!==null?(E1===0&&(E1=F5()),E1):(t=pr,t!==0||(t=window.event,t=t===void 0?16:j5(t.type)),t):1}function ja(t,e,r,n){if(50<Ag)throw Ag=0,LP=null,Error(Oe(185));Py(t,r,n),(!(sr&2)||t!==Xn)&&(t===Xn&&(!(sr&2)&&(Kx|=r),Rn===4&&yu(t,ii)),es(t,n),r===1&&sr===0&&!(e.mode&1)&&(rp=mn()+500,Vx&&gc()))}function es(t,e){var r=t.callbackNode;Mie(t,e);var n=bb(t,t===Xn?ii:0);if(n===0)r!==null&&Xk(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Xk(r),e===1)t.tag===0?Fse($N.bind(null,t)):az($N.bind(null,t)),Rse(function(){!(sr&6)&&gc()}),r=null;else{switch(M5(n)){case 1:r=vO;break;case 4:r=I5;break;case 16:r=_b;break;case 536870912:r=B5;break;default:r=_b}r=i7(r,Zz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Zz(t,e){if(x1=-1,E1=0,sr&6)throw Error(Oe(327));var r=t.callbackNode;if(Dh()&&t.callbackNode!==r)return null;var n=bb(t,t===Xn?ii:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lb(t,n);else{e=n;var s=sr;sr|=2;var a=Qz();(Xn!==t||ii!==e)&&(Qo=null,rp=mn()+500,pd(t,e));do try{tae();break}catch(l){Jz(t,l)}while(1);RO(),Mb.current=a,sr=s,wn!==null?e=0:(Xn=null,ii=0,e=Rn)}if(e!==0){if(e===2&&(s=dP(t),s!==0&&(n=s,e=UP(t,s))),e===1)throw r=pv,pd(t,0),yu(t,n),es(t,mn()),r;if(e===6)yu(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qse(s)&&(e=Lb(t,n),e===2&&(a=dP(t),a!==0&&(n=a,e=UP(t,a))),e===1))throw r=pv,pd(t,0),yu(t,n),es(t,mn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:Gc(t,Xi,Qo);break;case 3:if(yu(t,n),(n&130023424)===n&&(e=HO+500-mn(),10<e)){if(bb(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Fi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_P(Gc.bind(null,t,Xi,Qo),e);break}Gc(t,Xi,Qo);break;case 4:if(yu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-$a(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=mn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jse(n/1960))-n,10<n){t.timeoutHandle=_P(Gc.bind(null,t,Xi,Qo),n);break}Gc(t,Xi,Qo);break;case 5:Gc(t,Xi,Qo);break;default:throw Error(Oe(329))}}}return es(t,mn()),t.callbackNode===r?Zz.bind(null,t):null}function UP(t,e){var r=Cg;return t.current.memoizedState.isDehydrated&&(pd(t,e).flags|=256),t=Lb(t,e),t!==2&&(e=Xi,Xi=r,e!==null&&$P(e)),t}function $P(t){Xi===null?Xi=t:Xi.push.apply(Xi,t)}function Qse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Wa(a(),s))return!1}catch(o){return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yu(t,e){for(e&=~GO,e&=~Kx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-$a(e),n=1<<r;t[r]=-1,e&=~n}}function $N(t){if(sr&6)throw Error(Oe(327));Dh();var e=bb(t,0);if(!(e&1))return es(t,mn()),null;var r=Lb(t,e);if(t.tag!==0&&r===2){var n=dP(t);n!==0&&(e=n,r=UP(t,n))}if(r===1)throw r=pv,pd(t,0),yu(t,e),es(t,mn()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gc(t,Xi,Qo),es(t,mn()),null}function WO(t,e){var r=sr;sr|=1;try{return t(e)}finally{sr=r,sr===0&&(rp=mn()+500,Vx&&gc())}}function Nd(t){Eu!==null&&Eu.tag===0&&!(sr&6)&&Dh();var e=sr;sr|=1;var r=ua.transition,n=pr;try{if(ua.transition=null,pr=1,t)return t()}finally{pr=n,ua.transition=r,sr=e,!(sr&6)&&gc()}}function KO(){hs=mh.current,Br(mh)}function pd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Dse(r)),wn!==null)for(r=wn.return;r!==null;){var n=r;switch(TO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cb();break;case 3:ep(),Br(Ji),Br(bi),kO();break;case 5:MO(n);break;case 4:ep();break;case 13:Br(qr);break;case 19:Br(qr);break;case 10:OO(n.type._context);break;case 22:case 23:KO()}r=r.return}if(Xn=t,wn=t=ju(t.current,null),ii=hs=e,Rn=0,pv=null,GO=Kx=kd=0,Xi=Cg=null,id!==null){for(e=0;e<id.length;e++)if(r=id[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}id=null}return t}function Jz(t,e){do{var r=wn;try{if(RO(),_1.current=Fb,Bb){for(var n=en.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bb=!1}if(Md=0,Vn=Dn=en=null,Eg=!1,dv=0,VO.current=null,r===null||r.return===null){Rn=1,pv=e,wn=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=ii,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=TN(o);if(y!==null){y.flags&=-257,PN(y,o,l,a,e),y.mode&1&&AN(a,d,e),e=y,c=d;var b=e.updateQueue;if(b===null){var _=new Set;_.add(c),e.updateQueue=_}else b.add(c);break e}else{if(!(e&1)){AN(a,d,e),XO();break e}c=Error(Oe(426))}}else if(Vr&&l.mode&1){var u=TN(o);if(u!==null){!(u.flags&65536)&&(u.flags|=256),PN(u,o,l,a,e),PO(tp(c,l));break e}}a=c=tp(c,l),Rn!==4&&(Rn=2),Cg===null?Cg=[a]:Cg.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var h=Mz(a,c,e);bN(a,h);break e;case 1:l=c;var m=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Uu===null||!Uu.has(v)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=kz(a,l,e);bN(a,w);break e}}a=a.return}while(a!==null)}t7(r)}catch(x){e=x,wn===r&&r!==null&&(wn=r=r.return);continue}break}while(1)}function Qz(){var t=Mb.current;return Mb.current=Fb,t===null?Fb:t}function XO(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Xn===null||!(kd&268435455)&&!(Kx&268435455)||yu(Xn,ii)}function Lb(t,e){var r=sr;sr|=2;var n=Qz();(Xn!==t||ii!==e)&&(Qo=null,pd(t,e));do try{eae();break}catch(s){Jz(t,s)}while(1);if(RO(),sr=r,Mb.current=n,wn!==null)throw Error(Oe(261));return Xn=null,ii=0,Rn}function eae(){for(;wn!==null;)e7(wn)}function tae(){for(;wn!==null&&!Aie();)e7(wn)}function e7(t){var e=n7(t.alternate,t,hs);t.memoizedProps=t.pendingProps,e===null?t7(t):wn=e,VO.current=null}function t7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Xse(r,e),r!==null){r.flags&=32767,wn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,wn=null;return}}else if(r=Kse(r,e,hs),r!==null){wn=r;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=t}while(e!==null);Rn===0&&(Rn=5)}function Gc(t,e,r){var n=pr,s=ua.transition;try{ua.transition=null,pr=1,rae(t,e,r,n)}finally{ua.transition=s,pr=n}return null}function rae(t,e,r,n){do Dh();while(Eu!==null);if(sr&6)throw Error(Oe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(kie(t,a),t===Xn&&(wn=Xn=null,ii=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Z_||(Z_=!0,i7(_b,function(){return Dh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ua.transition,ua.transition=null;var o=pr;pr=1;var l=sr;sr|=4,VO.current=null,qse(t,r),Yz(r,t),xse(vP),wb=!!gP,vP=gP=null,t.current=r,Zse(r),Tie(),sr=l,pr=o,ua.transition=a}else t.current=r;if(Z_&&(Z_=!1,Eu=t,Nb=s),a=t.pendingLanes,a===0&&(Uu=null),Rie(r.stateNode),es(t,mn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(kb)throw kb=!1,t=NP,NP=null,t;return Nb&1&&t.tag!==0&&Dh(),a=t.pendingLanes,a&1?t===LP?Ag++:(Ag=0,LP=t):Ag=0,gc(),null}function Dh(){if(Eu!==null){var t=M5(Nb),e=ua.transition,r=pr;try{if(ua.transition=null,pr=16>t?16:t,Eu===null)var n=!1;else{if(t=Eu,Eu=null,Nb=0,sr&6)throw Error(Oe(331));var s=sr;for(sr|=4,st=t.current;st!==null;){var a=st,o=a.child;if(st.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(st=d;st!==null;){var f=st;switch(f.tag){case 0:case 11:case 15:Sg(8,f,a)}var p=f.child;if(p!==null)p.return=f,st=p;else for(;st!==null;){f=st;var g=f.sibling,y=f.return;if(Wz(f),f===d){st=null;break}if(g!==null){g.return=y,st=g;break}st=y}}}var b=a.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var u=_.sibling;_.sibling=null,_=u}while(_!==null)}}st=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,st=o;else e:for(;st!==null;){if(a=st,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sg(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,st=h;break e}st=a.return}}var m=t.current;for(st=m;st!==null;){o=st;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,st=v;else e:for(o=m;st!==null;){if(l=st,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wx(9,l)}}catch(x){on(l,l.return,x)}if(l===o){st=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,st=w;break e}st=l.return}}if(sr=s,gc(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Lx,t)}catch(x){}n=!0}return n}finally{pr=r,ua.transition=e}}return!1}function jN(t,e,r){e=tp(r,e),e=Mz(t,e,1),t=Lu(t,e,1),e=Fi(),t!==null&&(Py(t,1,e),es(t,e))}function on(t,e,r){if(t.tag===3)jN(t,t,r);else for(;e!==null;){if(e.tag===3){jN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uu===null||!Uu.has(n))){t=tp(r,t),t=kz(e,t,1),e=Lu(e,t,1),t=Fi(),e!==null&&(Py(e,1,t),es(e,t));break}}e=e.return}}function nae(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fi(),t.pingedLanes|=t.suspendedLanes&r,Xn===t&&(ii&r)===r&&(Rn===4||Rn===3&&(ii&130023424)===ii&&500>mn()-HO?pd(t,0):GO|=r),es(t,e)}function r7(t,e){e===0&&(t.mode&1?(e=j_,j_<<=1,!(j_&130023424)&&(j_=4194304)):e=1);var r=Fi();t=Sl(t,e),t!==null&&(Py(t,e,r),es(t,r))}function iae(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),r7(t,r)}function sae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),r7(t,r)}var n7;n7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)qi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return qi=!1,Wse(t,e,r);qi=!!(t.flags&131072)}else qi=!1,Vr&&e.flags&1048576&&oz(e,Pb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;w1(t,e),t=e.pendingProps;var s=Zh(e,bi.current);Ph(e,r),s=LO(null,e,n,t,s,r);var a=UO();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qi(n)?(a=!0,Ab(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,BO(e),s.updater=Hx,e.stateNode=s,s._reactInternals=e,AP(e,n,t,r),e=DP(null,e,n,!0,a,r)):(e.tag=0,Vr&&a&&AO(e),Ti(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(w1(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=oae(n),t=Ca(n,t),s){case 0:e=PP(null,e,n,t,r);break e;case 1:e=ON(null,e,n,t,r);break e;case 11:e=DN(null,e,n,t,r);break e;case 14:e=RN(null,e,n,Ca(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),PP(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),ON(t,e,n,s,r);case 3:e:{if($z(e),t===null)throw Error(Oe(387));n=e.pendingProps,a=e.memoizedState,s=a.element,hz(t,e),Ob(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=tp(Error(Oe(423)),e),e=IN(t,e,n,r,s);break e}else if(n!==s){s=tp(Error(Oe(424)),e),e=IN(t,e,n,r,s);break e}else for(xs=Nu(e.stateNode.containerInfo.firstChild),As=e,Vr=!0,Ra=null,r=dz(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jh(),n===s){e=Cl(t,e,r);break e}Ti(t,e,n,r)}e=e.child}return e;case 5:return pz(e),t===null&&EP(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,yP(n,s)?o=null:a!==null&&yP(n,a)&&(e.flags|=32),Uz(t,e),Ti(t,e,o,r),e.child;case 6:return t===null&&EP(e),null;case 13:return jz(t,e,r);case 4:return FO(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qh(e,null,n,r):Ti(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),DN(t,e,n,s,r);case 7:return Ti(t,e,e.pendingProps,r),e.child;case 8:return Ti(t,e,e.pendingProps.children,r),e.child;case 12:return Ti(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Cr(Db,n._currentValue),n._currentValue=o,a!==null)if(Wa(a.value,o)){if(a.children===s.children&&!Ji.current){e=Cl(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=gl(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),SP(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),SP(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ti(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ph(e,r),s=ha(s),n=n(s),e.flags|=1,Ti(t,e,n,r),e.child;case 14:return n=e.type,s=Ca(n,e.pendingProps),s=Ca(n.type,s),RN(t,e,n,s,r);case 15:return Nz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),w1(t,e),e.tag=1,Qi(n)?(t=!0,Ab(e)):t=!1,Ph(e,r),Fz(e,n,s),AP(e,n,s,r),DP(null,e,n,!0,t,r);case 19:return zz(t,e,r);case 22:return Lz(t,e,r)}throw Error(Oe(156,e.tag))};function i7(t,e){return O5(t,e)}function aae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(t,e,r,n){return new aae(t,e,r,n)}function YO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oae(t){if(typeof t=="function")return YO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pO)return 11;if(t===mO)return 14}return 2}function ju(t,e){var r=t.alternate;return r===null?(r=ra(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function S1(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")YO(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sh:return md(r.children,s,a,e);case hO:o=8,s|=8;break;case qT:return t=ra(12,r,e,s|2),t.elementType=qT,t.lanes=a,t;case ZT:return t=ra(13,r,e,s),t.elementType=ZT,t.lanes=a,t;case JT:return t=ra(19,r,e,s),t.elementType=JT,t.lanes=a,t;case p5:return Xx(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case f5:o=10;break e;case h5:o=9;break e;case pO:o=11;break e;case mO:o=14;break e;case uu:o=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=ra(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function md(t,e,r,n){return t=ra(7,t,n,e),t.lanes=r,t}function Xx(t,e,r,n){return t=ra(22,t,n,e),t.elementType=p5,t.lanes=r,t.stateNode={isHidden:!1},t}function CC(t,e,r){return t=ra(6,t,null,e),t.lanes=r,t}function AC(t,e,r){return e=ra(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lae(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aC(0),this.expirationTimes=aC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aC(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qO(t,e,r,n,s,a,o,l,c){return t=new lae(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ra(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},BO(a),t}function uae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ih,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function s7(t){if(!t)return Zu;t=t._reactInternals;e:{if(rf(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(Qi(r))return sz(t,r,e)}return e}function a7(t,e,r,n,s,a,o,l,c){return t=qO(r,n,!0,t,s,a,o,l,c),t.context=s7(null),r=t.current,n=Fi(),s=$u(r),a=gl(n,s),a.callback=e!=null?e:null,Lu(r,a,s),t.current.lanes=s,Py(t,s,n),es(t,n),t}function Yx(t,e,r,n){var s=e.current,a=Fi(),o=$u(s);return r=s7(r),e.context===null?e.context=r:e.pendingContext=r,e=gl(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Lu(s,e,o),t!==null&&(ja(t,s,o,a),y1(t,s,o)),o}function Ub(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ZO(t,e){zN(t,e),(t=t.alternate)&&zN(t,e)}function cae(){return null}var o7=typeof reportError=="function"?reportError:function(t){console.error(t)};function JO(t){this._internalRoot=t}qx.prototype.render=JO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));Yx(t,e,null,null)};qx.prototype.unmount=JO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nd(function(){Yx(null,t,null,null)}),e[El]=null}};function qx(t){this._internalRoot=t}qx.prototype.unstable_scheduleHydration=function(t){if(t){var e=L5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vu.length&&e!==0&&e<vu[r].priority;r++);vu.splice(r,0,t),r===0&&$5(t)}};function QO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VN(){}function dae(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=Ub(o);a.call(d)}}var o=a7(e,n,t,0,null,!1,!1,"",VN);return t._reactRootContainer=o,t[El]=o.current,av(t.nodeType===8?t.parentNode:t),Nd(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Ub(c);l.call(d)}}var c=qO(t,0,!1,null,null,!1,!1,"",VN);return t._reactRootContainer=c,t[El]=c.current,av(t.nodeType===8?t.parentNode:t),Nd(function(){Yx(e,c,r,n)}),c}function Jx(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Ub(o);l.call(c)}}Yx(e,o,t,s)}else o=dae(r,e,t,s,n);return Ub(o)}k5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gm(e.pendingLanes);r!==0&&(yO(e,r|1),es(e,mn()),!(sr&6)&&(rp=mn()+500,gc()))}break;case 13:Nd(function(){var n=Sl(t,1);if(n!==null){var s=Fi();ja(n,t,1,s)}}),ZO(t,1)}};_O=function(t){if(t.tag===13){var e=Sl(t,134217728);if(e!==null){var r=Fi();ja(e,t,134217728,r)}ZO(t,134217728)}};N5=function(t){if(t.tag===13){var e=$u(t),r=Sl(t,e);if(r!==null){var n=Fi();ja(r,t,e,n)}ZO(t,e)}};L5=function(){return pr};U5=function(t,e){var r=pr;try{return pr=t,e()}finally{pr=r}};lP=function(t,e,r){switch(e){case"input":if(tP(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zx(n);if(!s)throw Error(Oe(90));g5(n),tP(n,s)}}}break;case"textarea":y5(t,r);break;case"select":e=r.value,e!=null&&Sh(t,!!r.multiple,e,!1)}};C5=WO;A5=Nd;var fae={usingClientEntryPoint:!1,Events:[Ry,uh,zx,E5,S5,WO]},_m={findFiberByHostInstance:nd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hae={bundleType:_m.bundleType,version:_m.version,rendererPackageName:_m.rendererPackageName,rendererConfig:_m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D5(t),t===null?null:t.stateNode},findFiberByHostInstance:_m.findFiberByHostInstance||cae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J_.isDisabled&&J_.supportsFiber)try{Lx=J_.inject(hae),Co=J_}catch(t){}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fae;Ms.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QO(e))throw Error(Oe(200));return uae(t,e,null,r)};Ms.createRoot=function(t,e){if(!QO(t))throw Error(Oe(299));var r=!1,n="",s=o7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qO(t,1,!1,null,null,r,!1,n,s),t[El]=e.current,av(t.nodeType===8?t.parentNode:t),new JO(e)};Ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=D5(e),t=t===null?null:t.stateNode,t};Ms.flushSync=function(t){return Nd(t)};Ms.hydrate=function(t,e,r){if(!Zx(e))throw Error(Oe(200));return Jx(null,t,e,!0,r)};Ms.hydrateRoot=function(t,e,r){if(!QO(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=o7;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=a7(e,null,t,1,r!=null?r:null,s,!1,a,o),t[El]=e.current,av(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new qx(e)};Ms.render=function(t,e,r){if(!Zx(e))throw Error(Oe(200));return Jx(null,t,e,!1,r)};Ms.unmountComponentAtNode=function(t){if(!Zx(t))throw Error(Oe(40));return t._reactRootContainer?(Nd(function(){Jx(null,null,t,!1,function(){t._reactRootContainer=null,t[El]=null})}),!0):!1};Ms.unstable_batchedUpdates=WO;Ms.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zx(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return Jx(t,e,r,!1,n)};Ms.version="18.3.1-next-f1338f8080-20240426";function l7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l7)}catch(t){console.error(t)}}l7(),l5.exports=Ms;var Ul=l5.exports;const eI=ui(Ul),pae=qj({__proto__:null,default:eI},[Ul]);var GN=Ul;Lk.createRoot=GN.createRoot,Lk.hydrateRoot=GN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jr.apply(this,arguments)}var dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dn||(dn={}));const HN="popstate";function mae(t){t===void 0&&(t={});function e(s,a){let{pathname:o="/",search:l="",hash:c=""}=ko(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),mv("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof a=="string"?a:Iy(a))}function n(s,a){Ju(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return vae(e,r,n,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ju(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function gae(){return Math.random().toString(36).substr(2,8)}function WN(t,e){return{usr:t.state,key:t.key,idx:e}}function mv(t,e,r,n){return r===void 0&&(r=null),jr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:r,key:e&&e.key||n||gae()})}function Iy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ko(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vae(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=dn.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(jr({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=dn.Pop;let u=f(),h=u==null?null:u-d;d=u,c&&c({action:l,location:_.location,delta:h})}function g(u,h){l=dn.Push;let m=mv(_.location,u,h);r&&r(m,u),d=f()+1;let v=WN(m,d),w=_.createHref(m);try{o.pushState(v,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(w)}a&&c&&c({action:l,location:_.location,delta:1})}function y(u,h){l=dn.Replace;let m=mv(_.location,u,h);r&&r(m,u),d=f();let v=WN(m,d),w=_.createHref(m);o.replaceState(v,"",w),a&&c&&c({action:l,location:_.location,delta:0})}function b(u){let h=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof u=="string"?u:Iy(u);return m=m.replace(/ $/,"%20"),rr(h,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,h)}let _={get action(){return l},get location(){return t(s,o)},listen(u){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(HN,p),c=u,()=>{s.removeEventListener(HN,p),c=null}},createHref(u){return e(s,u)},createURL:b,encodeLocation(u){let h=b(u);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:y,go(u){return o.go(u)}};return _}var hr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hr||(hr={}));const yae=new Set(["lazy","caseSensitive","path","id","index","children"]);function _ae(t){return t.index===!0}function $b(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,a)=>{let o=[...r,String(a)],l=typeof s.id=="string"?s.id:o.join("-");if(rr(s.index!==!0||!s.children,"Cannot specify children on an index route"),rr(!n[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),_ae(s)){let c=jr({},s,e(s),{id:l});return n[l]=c,c}else{let c=jr({},s,e(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=$b(s.children,e,o,n)),c}})}function Qc(t,e,r){return r===void 0&&(r="/"),C1(t,e,r,!1)}function C1(t,e,r,n){let s=typeof e=="string"?ko(e):e,a=By(s.pathname||"/",r);if(a==null)return null;let o=u7(t);wae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Iae(a);l=Rae(o[c],d,n)}return l}function bae(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function u7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=gd([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(rr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),u7(a.children,e,f,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:Pae(d,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of c7(a.path))s(a,o,c)}),e}function c7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=c7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function wae(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Dae(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xae=/^:[\w-]+$/,Eae=3,Sae=2,Cae=1,Aae=10,Tae=-2,KN=t=>t==="*";function Pae(t,e){let r=t.split("/"),n=r.length;return r.some(KN)&&(n+=Tae),e&&(n+=Sae),r.filter(s=>!KN(s)).reduce((s,a)=>s+(xae.test(a)?Eae:a===""?Cae:Aae),n)}function Dae(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Rae(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",p=XN({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=XN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:gd([a,p.pathname]),pathnameBase:Lae(gd([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=gd([a,p.pathnameBase]))}return o}function XN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Oae(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,p)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let _=l[p]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=l[p];return y&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function Oae(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ju(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Iae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ju(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function By(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Bae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fae=t=>Bae.test(t);function Mae(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ko(t):t,a;if(r)if(Fae(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ju(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=YN(r.substring(1),"/"):a=YN(r,e)}else a=e;return{pathname:a,search:Uae(n),hash:$ae(s)}}function YN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function TC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kae(t,e){let r=d7(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Nae(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ko(t):(s=jr({},t),rr(!s.pathname||!s.pathname.includes("?"),TC("?","pathname","search",s)),rr(!s.pathname||!s.pathname.includes("#"),TC("#","pathname","hash",s)),rr(!s.search||!s.search.includes("#"),TC("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=Mae(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const gd=t=>t.join("/").replace(/\/\/+/g,"/"),Lae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$ae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class jb{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function gv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const f7=["post","put","patch","delete"],jae=new Set(f7),zae=["get",...f7],Vae=new Set(zae),Gae=new Set([301,302,303,307,308]),Hae=new Set([307,308]),PC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kae=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),h7="remix-router-transitions";function Xae(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;rr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let W=t.detectErrorBoundary;s=Q=>({hasErrorBoundary:W(Q)})}else s=Kae;let a={},o=$b(t.routes,s,void 0,a),l,c=t.basename||"/",d=t.dataStrategy||Jae,f=t.patchRoutesOnNavigation,p=jr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,y=new Set,b=null,_=null,u=null,h=t.hydrationData!=null,m=Qc(o,t.history.location,c),v=!1,w=null;if(m==null&&!f){let W=Hi(404,{pathname:t.history.location.pathname}),{matches:Q,route:se}=a3(o);m=Q,w={[se.id]:W}}m&&!t.hydrationData&&Ct(m,o,t.history.location.pathname).active&&(m=null);let x;if(m)if(m.some(W=>W.route.lazy))x=!1;else if(!m.some(W=>W.route.loader))x=!0;else if(p.v7_partialHydration){let W=t.hydrationData?t.hydrationData.loaderData:null,Q=t.hydrationData?t.hydrationData.errors:null;if(Q){let se=m.findIndex(pe=>Q[pe.route.id]!==void 0);x=m.slice(0,se+1).every(pe=>!zP(pe.route,W,Q))}else x=m.every(se=>!zP(se.route,W,Q))}else x=t.hydrationData!=null;else if(x=!1,m=[],p.v7_partialHydration){let W=Ct(null,o,t.history.location.pathname);W.active&&W.matches&&(v=!0,m=W.matches)}let S,E={historyAction:t.history.action,location:t.history.location,matches:m,initialized:x,navigation:PC,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},P=dn.Pop,T=!1,A,R=!1,D=new Map,O=null,I=!1,M=!1,G=[],j=new Set,$=new Map,H=0,K=-1,re=new Map,fe=new Set,ye=new Map,he=new Map,ue=new Set,Z=new Map,z=new Map,V;function Y(){if(g=t.history.listen(W=>{let{action:Q,location:se,delta:pe}=W;if(V){V(),V=void 0;return}Ju(z.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Ft({currentLocation:E.location,nextLocation:se,historyAction:Q});if(Te&&pe!=null){let He=new Promise(ut=>{V=ut});t.history.go(pe*-1),ht(Te,{state:"blocked",location:se,proceed(){ht(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),He.then(()=>t.history.go(pe))},reset(){let ut=new Map(E.blockers);ut.set(Te,bm),me({blockers:ut})}});return}return tt(Q,se)}),r){foe(e,D);let W=()=>hoe(e,D);e.addEventListener("pagehide",W),O=()=>e.removeEventListener("pagehide",W)}return E.initialized||tt(dn.Pop,E.location,{initialHydration:!0}),S}function ne(){g&&g(),O&&O(),y.clear(),A&&A.abort(),E.fetchers.forEach((W,Q)=>B(Q)),E.blockers.forEach((W,Q)=>Ve(Q))}function ie(W){return y.add(W),()=>y.delete(W)}function me(W,Q){Q===void 0&&(Q={}),E=jr({},E,W);let se=[],pe=[];p.v7_fetcherPersist&&E.fetchers.forEach((Te,He)=>{Te.state==="idle"&&(ue.has(He)?pe.push(He):se.push(He))}),ue.forEach(Te=>{!E.fetchers.has(Te)&&!$.has(Te)&&pe.push(Te)}),[...y].forEach(Te=>Te(E,{deletedFetchers:pe,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),p.v7_fetcherPersist?(se.forEach(Te=>E.fetchers.delete(Te)),pe.forEach(Te=>B(Te))):pe.forEach(Te=>ue.delete(Te))}function xe(W,Q,se){var pe,Te;let{flushSync:He}=se===void 0?{}:se,ut=E.actionData!=null&&E.navigation.formMethod!=null&&Da(E.navigation.formMethod)&&E.navigation.state==="loading"&&((pe=W.state)==null?void 0:pe._isRedirect)!==!0,We;Q.actionData?Object.keys(Q.actionData).length>0?We=Q.actionData:We=null:ut?We=E.actionData:We=null;let Ie=Q.loaderData?i3(E.loaderData,Q.loaderData,Q.matches||[],Q.errors):E.loaderData,Ge=E.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((bt,ur)=>Ge.set(ur,bm)));let Re=T===!0||E.navigation.formMethod!=null&&Da(E.navigation.formMethod)&&((Te=W.state)==null?void 0:Te._isRedirect)!==!0;l&&(o=l,l=void 0),I||P===dn.Pop||(P===dn.Push?t.history.push(W,W.state):P===dn.Replace&&t.history.replace(W,W.state));let gt;if(P===dn.Pop){let bt=D.get(E.location.pathname);bt&&bt.has(W.pathname)?gt={currentLocation:E.location,nextLocation:W}:D.has(W.pathname)&&(gt={currentLocation:W,nextLocation:E.location})}else if(R){let bt=D.get(E.location.pathname);bt?bt.add(W.pathname):(bt=new Set([W.pathname]),D.set(E.location.pathname,bt)),gt={currentLocation:E.location,nextLocation:W}}me(jr({},Q,{actionData:We,loaderData:Ie,historyAction:P,location:W,initialized:!0,navigation:PC,revalidation:"idle",restoreScrollPosition:Jt(W,Q.matches||E.matches),preventScrollReset:Re,blockers:Ge}),{viewTransitionOpts:gt,flushSync:He===!0}),P=dn.Pop,T=!1,R=!1,I=!1,M=!1,G=[]}async function we(W,Q){if(typeof W=="number"){t.history.go(W);return}let se=jP(E.location,E.matches,c,p.v7_prependBasename,W,p.v7_relativeSplatPath,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:pe,submission:Te,error:He}=qN(p.v7_normalizeFormMethod,!1,se,Q),ut=E.location,We=mv(E.location,pe,Q&&Q.state);We=jr({},We,t.history.encodeLocation(We));let Ie=Q&&Q.replace!=null?Q.replace:void 0,Ge=dn.Push;Ie===!0?Ge=dn.Replace:Ie===!1||Te!=null&&Da(Te.formMethod)&&Te.formAction===E.location.pathname+E.location.search&&(Ge=dn.Replace);let Re=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,gt=(Q&&Q.flushSync)===!0,bt=Ft({currentLocation:ut,nextLocation:We,historyAction:Ge});if(bt){ht(bt,{state:"blocked",location:We,proceed(){ht(bt,{state:"proceeding",proceed:void 0,reset:void 0,location:We}),we(W,Q)},reset(){let ur=new Map(E.blockers);ur.set(bt,bm),me({blockers:ur})}});return}return await tt(Ge,We,{submission:Te,pendingError:He,preventScrollReset:Re,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:gt})}function Ee(){if(Ye(),me({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){tt(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}tt(P||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:R===!0})}}async function tt(W,Q,se){A&&A.abort(),A=null,P=W,I=(se&&se.startUninterruptedRevalidation)===!0,ar(E.location,E.matches),T=(se&&se.preventScrollReset)===!0,R=(se&&se.enableViewTransition)===!0;let pe=l||o,Te=se&&se.overrideNavigation,He=se!=null&&se.initialHydration&&E.matches&&E.matches.length>0&&!v?E.matches:Qc(pe,Q,c),ut=(se&&se.flushSync)===!0;if(He&&E.initialized&&!M&&ioe(E.location,Q)&&!(se&&se.submission&&Da(se.submission.formMethod))){xe(Q,{matches:He},{flushSync:ut});return}let We=Ct(He,pe,Q.pathname);if(We.active&&We.matches&&(He=We.matches),!He){let{error:$t,notFoundMatches:Wt,route:Kt}=Mt(Q.pathname);xe(Q,{matches:Wt,loaderData:{},errors:{[Kt.id]:$t}},{flushSync:ut});return}A=new AbortController;let Ie=xf(t.history,Q,A.signal,se&&se.submission),Ge;if(se&&se.pendingError)Ge=[ed(He).route.id,{type:hr.error,error:se.pendingError}];else if(se&&se.submission&&Da(se.submission.formMethod)){let $t=await xt(Ie,Q,se.submission,He,We.active,{replace:se.replace,flushSync:ut});if($t.shortCircuited)return;if($t.pendingActionResult){let[Wt,Kt]=$t.pendingActionResult;if(gs(Kt)&&gv(Kt.error)&&Kt.error.status===404){A=null,xe(Q,{matches:$t.matches,loaderData:{},errors:{[Wt]:Kt.error}});return}}He=$t.matches||He,Ge=$t.pendingActionResult,Te=DC(Q,se.submission),ut=!1,We.active=!1,Ie=xf(t.history,Ie.url,Ie.signal)}let{shortCircuited:Re,matches:gt,loaderData:bt,errors:ur}=await _t(Ie,Q,He,We.active,Te,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,ut,Ge);Re||(A=null,xe(Q,jr({matches:gt||He},s3(Ge),{loaderData:bt,errors:ur})))}async function xt(W,Q,se,pe,Te,He){He===void 0&&(He={}),Ye();let ut=coe(Q,se);if(me({navigation:ut},{flushSync:He.flushSync===!0}),Te){let Ge=await Fr(pe,Q.pathname,W.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let Re=ed(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,pendingActionResult:[Re,{type:hr.error,error:Ge.error}]}}else if(Ge.matches)pe=Ge.matches;else{let{notFoundMatches:Re,error:gt,route:bt}=Mt(Q.pathname);return{matches:Re,pendingActionResult:[bt.id,{type:hr.error,error:gt}]}}}let We,Ie=Wm(pe,Q);if(!Ie.route.action&&!Ie.route.lazy)We={type:hr.error,error:Hi(405,{method:W.method,pathname:Q.pathname,routeId:Ie.route.id})};else if(We=(await ce("action",E,W,[Ie],pe,null))[Ie.route.id],W.signal.aborted)return{shortCircuited:!0};if(ad(We)){let Ge;return He&&He.replace!=null?Ge=He.replace:Ge=t3(We.response.headers.get("Location"),new URL(W.url),c)===E.location.pathname+E.location.search,await _e(W,We,!0,{submission:se,replace:Ge}),{shortCircuited:!0}}if(Su(We))throw Hi(400,{type:"defer-action"});if(gs(We)){let Ge=ed(pe,Ie.route.id);return(He&&He.replace)!==!0&&(P=dn.Push),{matches:pe,pendingActionResult:[Ge.route.id,We]}}return{matches:pe,pendingActionResult:[Ie.route.id,We]}}async function _t(W,Q,se,pe,Te,He,ut,We,Ie,Ge,Re){let gt=Te||DC(Q,He),bt=He||ut||l3(gt),ur=!I&&(!p.v7_partialHydration||!Ie);if(pe){if(ur){let Mr=Gt(Re);me(jr({navigation:gt},Mr!==void 0?{actionData:Mr}:{}),{flushSync:Ge})}let tr=await Fr(se,Q.pathname,W.signal);if(tr.type==="aborted")return{shortCircuited:!0};if(tr.type==="error"){let Mr=ed(tr.partialMatches).route.id;return{matches:tr.partialMatches,loaderData:{},errors:{[Mr]:tr.error}}}else if(tr.matches)se=tr.matches;else{let{error:Mr,notFoundMatches:Kl,route:Ic}=Mt(Q.pathname);return{matches:Kl,loaderData:{},errors:{[Ic.id]:Mr}}}}let $t=l||o,[Wt,Kt]=JN(t.history,E,se,bt,Q,p.v7_partialHydration&&Ie===!0,p.v7_skipActionErrorRevalidation,M,G,j,ue,ye,fe,$t,c,Re);if(jt(tr=>!(se&&se.some(Mr=>Mr.route.id===tr))||Wt&&Wt.some(Mr=>Mr.route.id===tr)),K=++H,Wt.length===0&&Kt.length===0){let tr=ke();return xe(Q,jr({matches:se,loaderData:{},errors:Re&&gs(Re[1])?{[Re[0]]:Re[1].error}:null},s3(Re),tr?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Ge}),{shortCircuited:!0}}if(ur){let tr={};if(!pe){tr.navigation=gt;let Mr=Gt(Re);Mr!==void 0&&(tr.actionData=Mr)}Kt.length>0&&(tr.fetchers=X(Kt)),me(tr,{flushSync:Ge})}Kt.forEach(tr=>{J(tr.key),tr.controller&&$.set(tr.key,tr.controller)});let Ei=()=>Kt.forEach(tr=>J(tr.key));A&&A.signal.addEventListener("abort",Ei);let{loaderResults:ya,fetcherResults:gn}=await be(E,se,Wt,Kt,W);if(W.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Ei),Kt.forEach(tr=>$.delete(tr.key));let mr=Q_(ya);if(mr)return await _e(W,mr.result,!0,{replace:We}),{shortCircuited:!0};if(mr=Q_(gn),mr)return fe.add(mr.key),await _e(W,mr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:Si,errors:Fn}=n3(E,se,ya,Re,Kt,gn,Z);Z.forEach((tr,Mr)=>{tr.subscribe(Kl=>{(Kl||tr.done)&&Z.delete(Mr)})}),p.v7_partialHydration&&Ie&&E.errors&&(Fn=jr({},E.errors,Fn));let $i=ke(),_f=Ne(K),ji=$i||_f||Kt.length>0;return jr({matches:se,loaderData:Si,errors:Fn},ji?{fetchers:new Map(E.fetchers)}:{})}function Gt(W){if(W&&!gs(W[1]))return{[W[0]]:W[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function X(W){return W.forEach(Q=>{let se=E.fetchers.get(Q.key),pe=wm(void 0,se?se.data:void 0);E.fetchers.set(Q.key,pe)}),new Map(E.fetchers)}function oe(W,Q,se,pe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J(W);let Te=(pe&&pe.flushSync)===!0,He=l||o,ut=jP(E.location,E.matches,c,p.v7_prependBasename,se,p.v7_relativeSplatPath,Q,pe==null?void 0:pe.relative),We=Qc(He,ut,c),Ie=Ct(We,He,ut);if(Ie.active&&Ie.matches&&(We=Ie.matches),!We){Pe(W,Q,Hi(404,{pathname:ut}),{flushSync:Te});return}let{path:Ge,submission:Re,error:gt}=qN(p.v7_normalizeFormMethod,!0,ut,pe);if(gt){Pe(W,Q,gt,{flushSync:Te});return}let bt=Wm(We,Ge),ur=(pe&&pe.preventScrollReset)===!0;if(Re&&Da(Re.formMethod)){le(W,Q,Ge,bt,We,Ie.active,Te,ur,Re);return}ye.set(W,{routeId:Q,path:Ge}),Ae(W,Q,Ge,bt,We,Ie.active,Te,ur,Re)}async function le(W,Q,se,pe,Te,He,ut,We,Ie){Ye(),ye.delete(W);function Ge(nn){if(!nn.route.action&&!nn.route.lazy){let Xl=Hi(405,{method:Ie.formMethod,pathname:se,routeId:Q});return Pe(W,Q,Xl,{flushSync:ut}),!0}return!1}if(!He&&Ge(pe))return;let Re=E.fetchers.get(W);Xe(W,doe(Ie,Re),{flushSync:ut});let gt=new AbortController,bt=xf(t.history,se,gt.signal,Ie);if(He){let nn=await Fr(Te,new URL(bt.url).pathname,bt.signal,W);if(nn.type==="aborted")return;if(nn.type==="error"){Pe(W,Q,nn.error,{flushSync:ut});return}else if(nn.matches){if(Te=nn.matches,pe=Wm(Te,se),Ge(pe))return}else{Pe(W,Q,Hi(404,{pathname:se}),{flushSync:ut});return}}$.set(W,gt);let ur=H,Wt=(await ce("action",E,bt,[pe],Te,W))[pe.route.id];if(bt.signal.aborted){$.get(W)===gt&&$.delete(W);return}if(p.v7_fetcherPersist&&ue.has(W)){if(ad(Wt)||gs(Wt)){Xe(W,su(void 0));return}}else{if(ad(Wt))if($.delete(W),K>ur){Xe(W,su(void 0));return}else return fe.add(W),Xe(W,wm(Ie)),_e(bt,Wt,!1,{fetcherSubmission:Ie,preventScrollReset:We});if(gs(Wt)){Pe(W,Q,Wt.error);return}}if(Su(Wt))throw Hi(400,{type:"defer-action"});let Kt=E.navigation.location||E.location,Ei=xf(t.history,Kt,gt.signal),ya=l||o,gn=E.navigation.state!=="idle"?Qc(ya,E.navigation.location,c):E.matches;rr(gn,"Didn't find any matches after fetcher action");let mr=++H;re.set(W,mr);let Si=wm(Ie,Wt.data);E.fetchers.set(W,Si);let[Fn,$i]=JN(t.history,E,gn,Ie,Kt,!1,p.v7_skipActionErrorRevalidation,M,G,j,ue,ye,fe,ya,c,[pe.route.id,Wt]);$i.filter(nn=>nn.key!==W).forEach(nn=>{let Xl=nn.key,Bc=E.fetchers.get(Xl),qS=wm(void 0,Bc?Bc.data:void 0);E.fetchers.set(Xl,qS),J(Xl),nn.controller&&$.set(Xl,nn.controller)}),me({fetchers:new Map(E.fetchers)});let _f=()=>$i.forEach(nn=>J(nn.key));gt.signal.addEventListener("abort",_f);let{loaderResults:ji,fetcherResults:tr}=await be(E,gn,Fn,$i,Ei);if(gt.signal.aborted)return;gt.signal.removeEventListener("abort",_f),re.delete(W),$.delete(W),$i.forEach(nn=>$.delete(nn.key));let Mr=Q_(ji);if(Mr)return _e(Ei,Mr.result,!1,{preventScrollReset:We});if(Mr=Q_(tr),Mr)return fe.add(Mr.key),_e(Ei,Mr.result,!1,{preventScrollReset:We});let{loaderData:Kl,errors:Ic}=n3(E,gn,ji,void 0,$i,tr,Z);if(E.fetchers.has(W)){let nn=su(Wt.data);E.fetchers.set(W,nn)}Ne(mr),E.navigation.state==="loading"&&mr>K?(rr(P,"Expected pending action"),A&&A.abort(),xe(E.navigation.location,{matches:gn,loaderData:Kl,errors:Ic,fetchers:new Map(E.fetchers)})):(me({errors:Ic,loaderData:i3(E.loaderData,Kl,gn,Ic),fetchers:new Map(E.fetchers)}),M=!1)}async function Ae(W,Q,se,pe,Te,He,ut,We,Ie){let Ge=E.fetchers.get(W);Xe(W,wm(Ie,Ge?Ge.data:void 0),{flushSync:ut});let Re=new AbortController,gt=xf(t.history,se,Re.signal);if(He){let Wt=await Fr(Te,new URL(gt.url).pathname,gt.signal,W);if(Wt.type==="aborted")return;if(Wt.type==="error"){Pe(W,Q,Wt.error,{flushSync:ut});return}else if(Wt.matches)Te=Wt.matches,pe=Wm(Te,se);else{Pe(W,Q,Hi(404,{pathname:se}),{flushSync:ut});return}}$.set(W,Re);let bt=H,$t=(await ce("loader",E,gt,[pe],Te,W))[pe.route.id];if(Su($t)&&($t=await rI($t,gt.signal,!0)||$t),$.get(W)===Re&&$.delete(W),!gt.signal.aborted){if(ue.has(W)){Xe(W,su(void 0));return}if(ad($t))if(K>bt){Xe(W,su(void 0));return}else{fe.add(W),await _e(gt,$t,!1,{preventScrollReset:We});return}if(gs($t)){Pe(W,Q,$t.error);return}rr(!Su($t),"Unhandled fetcher deferred data"),Xe(W,su($t.data))}}async function _e(W,Q,se,pe){let{submission:Te,fetcherSubmission:He,preventScrollReset:ut,replace:We}=pe===void 0?{}:pe;Q.response.headers.has("X-Remix-Revalidate")&&(M=!0);let Ie=Q.response.headers.get("Location");rr(Ie,"Expected a Location header on the redirect Response"),Ie=t3(Ie,new URL(W.url),c);let Ge=mv(E.location,Ie,{_isRedirect:!0});if(r){let Wt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))Wt=!0;else if(tI.test(Ie)){const Kt=t.history.createURL(Ie);Wt=Kt.origin!==e.location.origin||By(Kt.pathname,c)==null}if(Wt){We?e.location.replace(Ie):e.location.assign(Ie);return}}A=null;let Re=We===!0||Q.response.headers.has("X-Remix-Replace")?dn.Replace:dn.Push,{formMethod:gt,formAction:bt,formEncType:ur}=E.navigation;!Te&&!He&&gt&&bt&&ur&&(Te=l3(E.navigation));let $t=Te||He;if(Hae.has(Q.response.status)&&$t&&Da($t.formMethod))await tt(Re,Ge,{submission:jr({},$t,{formAction:Ie}),preventScrollReset:ut||T,enableViewTransition:se?R:void 0});else{let Wt=DC(Ge,Te);await tt(Re,Ge,{overrideNavigation:Wt,fetcherSubmission:He,preventScrollReset:ut||T,enableViewTransition:se?R:void 0})}}async function ce(W,Q,se,pe,Te,He){let ut,We={};try{ut=await Qae(d,W,Q,se,pe,Te,He,a,s)}catch(Ie){return pe.forEach(Ge=>{We[Ge.route.id]={type:hr.error,error:Ie}}),We}for(let[Ie,Ge]of Object.entries(ut))if(soe(Ge)){let Re=Ge.result;We[Ie]={type:hr.redirect,response:roe(Re,se,Ie,Te,c,p.v7_relativeSplatPath)}}else We[Ie]=await toe(Ge);return We}async function be(W,Q,se,pe,Te){let He=W.matches,ut=ce("loader",W,Te,se,Q,null),We=Promise.all(pe.map(async Re=>{if(Re.matches&&Re.match&&Re.controller){let bt=(await ce("loader",W,xf(t.history,Re.path,Re.controller.signal),[Re.match],Re.matches,Re.key))[Re.match.route.id];return{[Re.key]:bt}}else return Promise.resolve({[Re.key]:{type:hr.error,error:Hi(404,{pathname:Re.path})}})})),Ie=await ut,Ge=(await We).reduce((Re,gt)=>Object.assign(Re,gt),{});return await Promise.all([loe(Q,Ie,Te.signal,He,W.loaderData),uoe(Q,Ge,pe)]),{loaderResults:Ie,fetcherResults:Ge}}function Ye(){M=!0,G.push(...jt()),ye.forEach((W,Q)=>{$.has(Q)&&j.add(Q),J(Q)})}function Xe(W,Q,se){se===void 0&&(se={}),E.fetchers.set(W,Q),me({fetchers:new Map(E.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Pe(W,Q,se,pe){pe===void 0&&(pe={});let Te=ed(E.matches,Q);B(W),me({errors:{[Te.route.id]:se},fetchers:new Map(E.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function L(W){return he.set(W,(he.get(W)||0)+1),ue.has(W)&&ue.delete(W),E.fetchers.get(W)||Wae}function B(W){let Q=E.fetchers.get(W);$.has(W)&&!(Q&&Q.state==="loading"&&re.has(W))&&J(W),ye.delete(W),re.delete(W),fe.delete(W),p.v7_fetcherPersist&&ue.delete(W),j.delete(W),E.fetchers.delete(W)}function U(W){let Q=(he.get(W)||0)-1;Q<=0?(he.delete(W),ue.add(W),p.v7_fetcherPersist||B(W)):he.set(W,Q),me({fetchers:new Map(E.fetchers)})}function J(W){let Q=$.get(W);Q&&(Q.abort(),$.delete(W))}function ae(W){for(let Q of W){let se=L(Q),pe=su(se.data);E.fetchers.set(Q,pe)}}function ke(){let W=[],Q=!1;for(let se of fe){let pe=E.fetchers.get(se);rr(pe,"Expected fetcher: "+se),pe.state==="loading"&&(fe.delete(se),W.push(se),Q=!0)}return ae(W),Q}function Ne(W){let Q=[];for(let[se,pe]of re)if(pe<W){let Te=E.fetchers.get(se);rr(Te,"Expected fetcher: "+se),Te.state==="loading"&&(J(se),re.delete(se),Q.push(se))}return ae(Q),Q.length>0}function at(W,Q){let se=E.blockers.get(W)||bm;return z.get(W)!==Q&&z.set(W,Q),se}function Ve(W){E.blockers.delete(W),z.delete(W)}function ht(W,Q){let se=E.blockers.get(W)||bm;rr(se.state==="unblocked"&&Q.state==="blocked"||se.state==="blocked"&&Q.state==="blocked"||se.state==="blocked"&&Q.state==="proceeding"||se.state==="blocked"&&Q.state==="unblocked"||se.state==="proceeding"&&Q.state==="unblocked","Invalid blocker state transition: "+se.state+" -> "+Q.state);let pe=new Map(E.blockers);pe.set(W,Q),me({blockers:pe})}function Ft(W){let{currentLocation:Q,nextLocation:se,historyAction:pe}=W;if(z.size===0)return;z.size>1&&Ju(!1,"A router only supports one blocker at a time");let Te=Array.from(z.entries()),[He,ut]=Te[Te.length-1],We=E.blockers.get(He);if(!(We&&We.state==="proceeding")&&ut({currentLocation:Q,nextLocation:se,historyAction:pe}))return He}function Mt(W){let Q=Hi(404,{pathname:W}),se=l||o,{matches:pe,route:Te}=a3(se);return jt(),{notFoundMatches:pe,route:Te,error:Q}}function jt(W){let Q=[];return Z.forEach((se,pe)=>{(!W||W(pe))&&(se.cancel(),Q.push(pe),Z.delete(pe))}),Q}function Ht(W,Q,se){if(b=W,u=Q,_=se||null,!h&&E.navigation===PC){h=!0;let pe=Jt(E.location,E.matches);pe!=null&&me({restoreScrollPosition:pe})}return()=>{b=null,u=null,_=null}}function Ut(W,Q){return _&&_(W,Q.map(pe=>bae(pe,E.loaderData)))||W.key}function ar(W,Q){if(b&&u){let se=Ut(W,Q);b[se]=u()}}function Jt(W,Q){if(b){let se=Ut(W,Q),pe=b[se];if(typeof pe=="number")return pe}return null}function Ct(W,Q,se){if(f)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:C1(Q,se,c,!0)}}else return{active:!0,matches:C1(Q,se,c,!0)||[]};return{active:!1,matches:null}}async function Fr(W,Q,se,pe){if(!f)return{type:"success",matches:W};let Te=W;for(;;){let He=l==null,ut=l||o,We=a;try{await f({signal:se,path:Q,matches:Te,fetcherKey:pe,patch:(Re,gt)=>{se.aborted||e3(Re,gt,ut,We,s)}})}catch(Re){return{type:"error",error:Re,partialMatches:Te}}finally{He&&!se.aborted&&(o=[...o])}if(se.aborted)return{type:"aborted"};let Ie=Qc(ut,Q,c);if(Ie)return{type:"success",matches:Ie};let Ge=C1(ut,Q,c,!0);if(!Ge||Te.length===Ge.length&&Te.every((Re,gt)=>Re.route.id===Ge[gt].route.id))return{type:"success",matches:null};Te=Ge}}function ot(W){a={},l=$b(W,s,void 0,a)}function $e(W,Q){let se=l==null;e3(W,Q,l||o,a,s),se&&(o=[...o],me({}))}return S={get basename(){return c},get future(){return p},get state(){return E},get routes(){return o},get window(){return e},initialize:Y,subscribe:ie,enableScrollRestoration:Ht,navigate:we,fetch:oe,revalidate:Ee,createHref:W=>t.history.createHref(W),encodeLocation:W=>t.history.encodeLocation(W),getFetcher:L,deleteFetcher:U,dispose:ne,getBlocker:at,deleteBlocker:Ve,patchRoutes:$e,_internalFetchControllers:$,_internalActiveDeferreds:Z,_internalSetRoutes:ot},S}function Yae(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function jP(t,e,r,n,s,a,o,l){let c,d;if(o){c=[];for(let p of e)if(c.push(p),p.route.id===o){d=p;break}}else c=e,d=e[e.length-1];let f=Nae(s||".",kae(c,a),By(t.pathname,r)||t.pathname,l==="path");if(s==null&&(f.search=t.search,f.hash=t.hash),(s==null||s===""||s===".")&&d){let p=nI(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(_=>_).forEach(_=>g.append("index",_));let b=g.toString();f.search=b?"?"+b:""}}return n&&r!=="/"&&(f.pathname=f.pathname==="/"?r:gd([r,f.pathname])),Iy(f)}function qN(t,e,r,n){if(!n||!Yae(n))return{path:r};if(n.formMethod&&!ooe(n.formMethod))return{path:r,error:Hi(405,{method:n.formMethod})};let s=()=>({path:r,error:Hi(400,{type:"invalid-body"})}),a=n.formMethod||"get",o=t?a.toUpperCase():a.toLowerCase(),l=g7(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Da(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,b)=>{let[_,u]=b;return""+y+_+"="+u+"\n"},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Da(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}rr(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=VP(n.formData),d=n.formData;else if(n.body instanceof FormData)c=VP(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=r3(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=r3(c)}catch(g){return s()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Da(f.formMethod))return{path:r,submission:f};let p=ko(r);return e&&p.search&&nI(p.search)&&c.append("index",""),p.search="?"+c,{path:Iy(p),submission:f}}function ZN(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(s=>s.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function JN(t,e,r,n,s,a,o,l,c,d,f,p,g,y,b,_){let u=_?gs(_[1])?_[1].error:_[1].data:void 0,h=t.createURL(e.location),m=t.createURL(s),v=r;a&&e.errors?v=ZN(r,Object.keys(e.errors)[0],!0):_&&gs(_[1])&&(v=ZN(r,_[0]));let w=_?_[1].statusCode:void 0,x=o&&w&&w>=400,S=v.filter((P,T)=>{let{route:A}=P;if(A.lazy)return!0;if(A.loader==null)return!1;if(a)return zP(A,e.loaderData,e.errors);if(qae(e.loaderData,e.matches[T],P)||c.some(O=>O===P.route.id))return!0;let R=e.matches[T],D=P;return QN(P,jr({currentUrl:h,currentParams:R.params,nextUrl:m,nextParams:D.params},n,{actionResult:u,actionStatus:w,defaultShouldRevalidate:x?!1:l||h.pathname+h.search===m.pathname+m.search||h.search!==m.search||p7(R,D)}))}),E=[];return p.forEach((P,T)=>{if(a||!r.some(I=>I.route.id===P.routeId)||f.has(T))return;let A=Qc(y,P.path,b);if(!A){E.push({key:T,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(T),D=Wm(A,P.path),O=!1;g.has(T)?O=!1:d.has(T)?(d.delete(T),O=!0):R&&R.state!=="idle"&&R.data===void 0?O=l:O=QN(D,jr({currentUrl:h,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:r[r.length-1].params},n,{actionResult:u,actionStatus:w,defaultShouldRevalidate:x?!1:l})),O&&E.push({key:T,routeId:P.routeId,path:P.path,matches:A,match:D,controller:new AbortController})}),[S,E]}function zP(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function qae(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function p7(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function QN(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function e3(t,e,r,n,s){var a;let o;if(t){let d=n[t];rr(d,"No route found to patch children into: routeId = "+t),d.children||(d.children=[]),o=d.children}else o=r;let l=e.filter(d=>!o.some(f=>m7(d,f))),c=$b(l,s,[t||"_","patch",String(((a=o)==null?void 0:a.length)||"0")],n);o.push(...c)}function m7(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(a=>m7(r,a))}):!1}async function Zae(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];rr(s,"No route found in manifest");let a={};for(let o in n){let c=s[o]!==void 0&&o!=="hasErrorBoundary";Ju(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!yae.has(o)&&(a[o]=n[o])}Object.assign(s,a),Object.assign(s,jr({},e(s),{lazy:void 0}))}async function Jae(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,a,o)=>Object.assign(s,{[r[o].route.id]:a}),{})}async function Qae(t,e,r,n,s,a,o,l,c,d){let f=a.map(y=>y.route.lazy?Zae(y.route,c,l):void 0),p=a.map((y,b)=>{let _=f[b],u=s.some(m=>m.route.id===y.route.id);return jr({},y,{shouldLoad:u,resolve:async m=>(m&&n.method==="GET"&&(y.route.lazy||y.route.loader)&&(u=!0),u?eoe(e,n,y,_,m,d):Promise.resolve({type:hr.data,result:void 0}))})}),g=await t({matches:p,request:n,params:a[0].params,fetcherKey:o,context:d});try{await Promise.all(f)}catch(y){}return g}async function eoe(t,e,r,n,s,a){let o,l,c=d=>{let f,p=new Promise((b,_)=>f=_);l=()=>f(),e.signal.addEventListener("abort",l);let g=b=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):d({request:e,params:r.params,context:a},...b!==void 0?[b]:[]),y=(async()=>{try{return{type:"data",result:await(s?s(_=>g(_)):g())}}catch(b){return{type:"error",result:b}}})();return Promise.race([y,p])};try{let d=r.route[t];if(n)if(d){let f,[p]=await Promise.all([c(d).catch(g=>{f=g}),n]);if(f!==void 0)throw f;o=p}else if(await n,d=r.route[t],d)o=await c(d);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw Hi(405,{method:e.method,pathname:p,routeId:r.route.id})}else return{type:hr.data,result:void 0};else if(d)o=await c(d);else{let f=new URL(e.url),p=f.pathname+f.search;throw Hi(404,{pathname:p})}rr(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:hr.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function toe(t){let{result:e,type:r}=t;if(v7(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:hr.error,error:g}}return r===hr.error?{type:hr.error,error:new jb(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:hr.data,data:p,statusCode:e.status,headers:e.headers}}if(r===hr.error){if(o3(e)){var n,s;if(e.data instanceof Error){var a,o;return{type:hr.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:hr.error,error:new jb(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:gv(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:hr.error,error:e,statusCode:gv(e)?e.status:void 0}}if(aoe(e)){var l,c;return{type:hr.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(o3(e)){var d,f;return{type:hr.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:hr.data,data:e}}function roe(t,e,r,n,s,a){let o=t.headers.get("Location");if(rr(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!tI.test(o)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);o=jP(new URL(e.url),l,s,!0,o,a),t.headers.set("Location",o)}return t}function t3(t,e,r){if(tI.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=By(s.pathname,r)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return t}function xf(t,e,r,n){let s=t.createURL(g7(e)).toString(),a={signal:r};if(n&&Da(n.formMethod)){let{formMethod:o,formEncType:l}=n;a.method=o.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=VP(n.formData):a.body=n.formData}return new Request(s,a)}function VP(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function r3(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function noe(t,e,r,n,s){let a={},o=null,l,c=!1,d={},f=r&&gs(r[1])?r[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,y=e[g];if(rr(!ad(y),"Cannot handle redirect results in processLoaderData"),gs(y)){let b=y.error;if(f!==void 0&&(b=f,f=void 0),o=o||{},s)o[g]=b;else{let _=ed(t,g);o[_.route.id]==null&&(o[_.route.id]=b)}a[g]=void 0,c||(c=!0,l=gv(y.error)?y.error.status:500),y.headers&&(d[g]=y.headers)}else Su(y)?(n.set(g,y.deferredData),a[g]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!c&&(l=y.statusCode),y.headers&&(d[g]=y.headers)):(a[g]=y.data,y.statusCode&&y.statusCode!==200&&!c&&(l=y.statusCode),y.headers&&(d[g]=y.headers))}),f!==void 0&&r&&(o={[r[0]]:f},a[r[0]]=void 0),{loaderData:a,errors:o,statusCode:l||200,loaderHeaders:d}}function n3(t,e,r,n,s,a,o){let{loaderData:l,errors:c}=noe(e,r,n,o,!1);return s.forEach(d=>{let{key:f,match:p,controller:g}=d,y=a[f];if(rr(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(gs(y)){let b=ed(t.matches,p==null?void 0:p.route.id);c&&c[b.route.id]||(c=jr({},c,{[b.route.id]:y.error})),t.fetchers.delete(f)}else if(ad(y))rr(!1,"Unhandled fetcher revalidation redirect");else if(Su(y))rr(!1,"Unhandled fetcher deferred data");else{let b=su(y.data);t.fetchers.set(f,b)}}),{loaderData:l,errors:c}}function i3(t,e,r,n){let s=jr({},e);for(let a of r){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&a.route.loader&&(s[o]=t[o]),n&&n.hasOwnProperty(o))break}return s}function s3(t){return t?gs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ed(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function a3(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hi(t,e){let{pathname:r,routeId:n,method:s,type:a,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?c="defer() is not supported in actions":a==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):t===404?(l="Not Found",c='No route matches URL "'+r+'"'):t===405&&(l="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new jb(t||500,l,new Error(c),!0)}function Q_(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(ad(s))return{key:n,result:s}}}function g7(t){let e=typeof t=="string"?ko(t):t;return Iy(jr({},e,{hash:""}))}function ioe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function soe(t){return v7(t.result)&&Gae.has(t.result.status)}function Su(t){return t.type===hr.deferred}function gs(t){return t.type===hr.error}function ad(t){return(t&&t.type)===hr.redirect}function o3(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aoe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function v7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ooe(t){return Vae.has(t.toLowerCase())}function Da(t){return jae.has(t.toLowerCase())}async function loe(t,e,r,n,s){let a=Object.entries(e);for(let o=0;o<a.length;o++){let[l,c]=a[o],d=t.find(g=>(g==null?void 0:g.route.id)===l);if(!d)continue;let f=n.find(g=>g.route.id===d.route.id),p=f!=null&&!p7(f,d)&&(s&&s[d.route.id])!==void 0;Su(c)&&p&&await rI(c,r,!1).then(g=>{g&&(e[l]=g)})}}async function uoe(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:a,controller:o}=r[n],l=e[s];t.find(d=>(d==null?void 0:d.route.id)===a)&&Su(l)&&(rr(o,"Expected an AbortController for revalidating fetcher deferred result"),await rI(l,o.signal,!0).then(d=>{d&&(e[s]=d)}))}}async function rI(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:hr.data,data:t.deferredData.unwrappedData}}catch(s){return{type:hr.error,error:s}}return{type:hr.data,data:t.deferredData.data}}}function nI(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wm(t,e){let r=typeof e=="string"?ko(e).search:e.search;if(t[t.length-1].route.index&&nI(r||""))return t[t.length-1];let n=d7(t);return n[n.length-1]}function l3(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:a,json:o}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function DC(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function coe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function wm(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function doe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function su(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function foe(t,e){try{let r=t.sessionStorage.getItem(h7);if(r){let n=JSON.parse(r);for(let[s,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch(r){}}function hoe(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(h7,JSON.stringify(r))}catch(n){Ju(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zb.apply(this,arguments)}const y7=C.createContext(null),_7=C.createContext(null),b7=C.createContext(null),Qx=C.createContext(null),eE=C.createContext({outlet:null,matches:[],isDataRoute:!1}),w7=C.createContext(null);function iI(){return C.useContext(Qx)!=null}function poe(){return iI()||rr(!1),C.useContext(Qx).location}function moe(t,e,r,n){iI()||rr(!1);let{navigator:s}=C.useContext(b7),{matches:a}=C.useContext(eE),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=poe(),f;if(e){var p;let u=typeof e=="string"?ko(e):e;c==="/"||(p=u.pathname)!=null&&p.startsWith(c)||rr(!1),f=u}else f=d;let g=f.pathname||"/",y=g;if(c!=="/"){let u=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(u.length).join("/")}let b=Qc(t,{pathname:y}),_=boe(b&&b.map(u=>Object.assign({},u,{params:Object.assign({},l,u.params),pathname:gd([c,s.encodeLocation?s.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?c:gd([c,s.encodeLocation?s.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),a,r,n);return e&&_?C.createElement(Qx.Provider,{value:{location:zb({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dn.Pop}},_):_}function goe(){let t=Soe(),e=gv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:s},r):null,a)}const voe=C.createElement(goe,null);class yoe extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(eE.Provider,{value:this.props.routeContext},C.createElement(w7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _oe(t){let{routeContext:e,match:r,children:n}=t,s=C.useContext(y7);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(eE.Provider,{value:e},n)}function boe(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||rr(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:y}=r,b=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let y,b=!1,_=null,u=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||voe,c&&(d<0&&g===0?(Coe("route-fallback",!1),b=!0,u=null):d===g&&(b=!0,u=p.route.hydrateFallbackElement||null)));let h=e.concat(o.slice(0,g+1)),m=()=>{let v;return y?v=_:b?v=u:p.route.Component?v=C.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=f,C.createElement(_oe,{match:p,routeContext:{outlet:f,matches:h,isDataRoute:r!=null},children:v})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(yoe,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var GP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(GP||{});function woe(t){let e=C.useContext(_7);return e||rr(!1),e}function xoe(t){let e=C.useContext(eE);return e||rr(!1),e}function Eoe(t){let e=xoe(),r=e.matches[e.matches.length-1];return r.route.id||rr(!1),r.route.id}function Soe(){var t;let e=C.useContext(w7),r=woe(GP.UseRouteError),n=Eoe(GP.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}const u3={};function Coe(t,e,r){!e&&!u3[t]&&(u3[t]=!0)}function Aoe(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Toe(t){let{basename:e="/",children:r=null,location:n,navigationType:s=dn.Pop,navigator:a,static:o=!1,future:l}=t;iI()&&rr(!1);let c=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:a,static:o,future:zb({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ko(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:b="default"}=n,_=C.useMemo(()=>{let u=By(f,c);return u==null?null:{location:{pathname:u,search:p,hash:g,state:y,key:b},navigationType:s}},[c,f,p,g,y,b,s]);return _==null?null:C.createElement(b7.Provider,{value:d},C.createElement(Qx.Provider,{children:r,value:_}))}new Promise(()=>{});function Poe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}const Doe="6";try{window.__reactRouterVersion=Doe}catch(t){}function EYe(t,e){return Xae({basename:e==null?void 0:e.basename,future:Vb({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:mae({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Roe(),routes:t,mapRouteProperties:Poe,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Roe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Vb({},e,{errors:Ooe(e.errors)})),e}function Ooe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new jb(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let o=new a(s.message);o.stack="",r[n]=o}catch(o){}}if(r[n]==null){let a=new Error(s.message);a.stack="",r[n]=a}}else r[n]=s;return r}const Ioe=C.createContext({isTransitioning:!1}),Boe=C.createContext(new Map),Foe="startTransition",c3=Ty[Foe],Moe="flushSync",d3=pae[Moe];function koe(t){c3?c3(t):t()}function xm(t){d3?d3(t):t()}class Noe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function SYe(t){let{fallbackElement:e,router:r,future:n}=t,[s,a]=C.useState(r.state),[o,l]=C.useState(),[c,d]=C.useState({isTransitioning:!1}),[f,p]=C.useState(),[g,y]=C.useState(),[b,_]=C.useState(),u=C.useRef(new Map),{v7_startTransition:h}=n||{},m=C.useCallback(P=>{h?koe(P):P()},[h]),v=C.useCallback((P,T)=>{let{deletedFetchers:A,flushSync:R,viewTransitionOpts:D}=T;P.fetchers.forEach((I,M)=>{I.data!==void 0&&u.current.set(M,I.data)}),A.forEach(I=>u.current.delete(I));let O=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!D||O){R?xm(()=>a(P)):m(()=>a(P));return}if(R){xm(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let I=r.window.document.startViewTransition(()=>{xm(()=>a(P))});I.finished.finally(()=>{xm(()=>{p(void 0),y(void 0),l(void 0),d({isTransitioning:!1})})}),xm(()=>y(I));return}g?(f&&f.resolve(),g.skipTransition(),_({state:P,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(P),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,g,f,u,m]);C.useLayoutEffect(()=>r.subscribe(v),[r,v]),C.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new Noe)},[c]),C.useEffect(()=>{if(f&&o&&r.window){let P=o,T=f.promise,A=r.window.document.startViewTransition(async()=>{m(()=>a(P)),await T});A.finished.finally(()=>{p(void 0),y(void 0),l(void 0),d({isTransitioning:!1})}),y(A)}},[m,o,f,r.window]),C.useEffect(()=>{f&&o&&s.location.key===o.location.key&&f.resolve()},[f,g,s.location,o]),C.useEffect(()=>{!c.isTransitioning&&b&&(l(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[c.isTransitioning,b]),C.useEffect(()=>{},[]);let w=C.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:P=>r.navigate(P),push:(P,T,A)=>r.navigate(P,{state:T,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(P,T,A)=>r.navigate(P,{replace:!0,state:T,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[r]),x=r.basename||"/",S=C.useMemo(()=>({router:r,navigator:w,static:!1,basename:x}),[r,w,x]),E=C.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return C.useEffect(()=>Aoe(n,r.future),[n,r.future]),C.createElement(C.Fragment,null,C.createElement(y7.Provider,{value:S},C.createElement(_7.Provider,{value:s},C.createElement(Boe.Provider,{value:u.current},C.createElement(Ioe.Provider,{value:c},C.createElement(Toe,{basename:x,location:s.location,navigationType:s.historyAction,navigator:w,future:E},s.initialized||r.future.v7_partialHydration?C.createElement(Loe,{routes:r.routes,future:r.future,state:s}):e))))),null)}const Loe=C.memo(Uoe);function Uoe(t){let{routes:e,future:r,state:n}=t;return moe(e,void 0,n,r)}var f3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f3||(f3={}));var h3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h3||(h3={}));function x7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=x7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function np(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=x7(t))&&(n&&(n+=" "),n+=e);return n}const sI="-",$oe=t=>{const e=zoe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(sI);return l[0]===""&&l.length!==1&&l.shift(),E7(l,e)||joe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},E7=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?E7(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(sI);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},p3=/^\[(.+)\]$/,joe=t=>{if(p3.test(t)){const e=p3.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},zoe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Goe(Object.entries(t.classGroups),r).forEach(([a,o])=>{HP(o,n,a,e)}),n},HP=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:m3(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(Voe(s)){HP(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{HP(o,m3(e,a),r,n)})})},m3=(t,e)=>{let r=t;return e.split(sI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Voe=t=>t.isThemeGetter,Goe=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,Hoe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},S7="!",Woe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let d=0,f=0,p;for(let u=0;u<l.length;u++){let h=l[u];if(d===0){if(h===s&&(n||l.slice(u,u+a)===e)){c.push(l.slice(f,u)),f=u+a;continue}if(h==="/"){p=u;continue}}h==="["?d++:h==="]"&&d--}const g=c.length===0?l:l.substring(f),y=g.startsWith(S7),b=y?g.substring(1):g,_=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:_}};return r?l=>r({className:l,parseClassName:o}):o},Koe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Xoe=t=>({cache:Hoe(t.cacheSize),parseClassName:Woe(t),...$oe(t)}),Yoe=/\s+/,qoe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(Yoe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=r(d);let b=!!y,_=n(b?g.substring(0,y):g);if(!_){if(!b){l=d+(l.length>0?" "+l:l);continue}if(_=n(g),!_){l=d+(l.length>0?" "+l:l);continue}b=!1}const u=Koe(f).join(":"),h=p?u+S7:u,m=h+_;if(a.includes(m))continue;a.push(m);const v=s(_,b);for(let w=0;w<v.length;++w){const x=v[w];a.push(h+x)}l=d+(l.length>0?" "+l:l)}return l};function Zoe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=C7(e))&&(n&&(n+=" "),n+=r);return n}const C7=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=C7(t[n]))&&(r&&(r+=" "),r+=e);return r};function Joe(t,...e){let r,n,s,a=o;function o(c){const d=e.reduce((f,p)=>p(f),t());return r=Xoe(d),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=qoe(c,r);return s(c,f),f}return function(){return a(Zoe.apply(null,arguments))}}const Ar=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},A7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qoe=/^\d+\/\d+$/,ele=new Set(["px","full","screen"]),tle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ile=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=t=>Rh(t)||ele.has(t)||Qoe.test(t),Jl=t=>Fp(t,"length",hle),Rh=t=>!!t&&!Number.isNaN(Number(t)),RC=t=>Fp(t,"number",Rh),Em=t=>!!t&&Number.isInteger(Number(t)),ale=t=>t.endsWith("%")&&Rh(t.slice(0,-1)),Lt=t=>A7.test(t),Ql=t=>tle.test(t),ole=new Set(["length","size","percentage"]),lle=t=>Fp(t,ole,T7),ule=t=>Fp(t,"position",T7),cle=new Set(["image","url"]),dle=t=>Fp(t,cle,mle),fle=t=>Fp(t,"",ple),Sm=()=>!0,Fp=(t,e,r)=>{const n=A7.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},hle=t=>rle.test(t)&&!nle.test(t),T7=()=>!1,ple=t=>ile.test(t),mle=t=>sle.test(t),gle=()=>{const t=Ar("colors"),e=Ar("spacing"),r=Ar("blur"),n=Ar("brightness"),s=Ar("borderColor"),a=Ar("borderRadius"),o=Ar("borderSpacing"),l=Ar("borderWidth"),c=Ar("contrast"),d=Ar("grayscale"),f=Ar("hueRotate"),p=Ar("invert"),g=Ar("gap"),y=Ar("gradientColorStops"),b=Ar("gradientColorStopPositions"),_=Ar("inset"),u=Ar("margin"),h=Ar("opacity"),m=Ar("padding"),v=Ar("saturate"),w=Ar("scale"),x=Ar("sepia"),S=Ar("skew"),E=Ar("space"),P=Ar("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Lt,e],D=()=>[Lt,e],O=()=>["",Go,Jl],I=()=>["auto",Rh,Lt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Lt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Rh,Lt];return{cacheSize:500,separator:":",theme:{colors:[Sm],spacing:[Go,Jl],blur:["none","",Ql,Lt],brightness:re(),borderColor:[t],borderRadius:["none","","full",Ql,Lt],borderSpacing:D(),borderWidth:O(),contrast:re(),grayscale:H(),hueRotate:re(),invert:H(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[ale,Jl],inset:R(),margin:R(),opacity:re(),padding:D(),saturate:re(),scale:re(),sepia:H(),skew:re(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Ql]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Lt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Em,Lt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Em,Lt]}],"grid-cols":[{"grid-cols":[Sm]}],"col-start-end":[{col:["auto",{span:["full",Em,Lt]},Lt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Sm]}],"row-start-end":[{row:["auto",{span:[Em,Lt]},Lt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[u]}],mx:[{mx:[u]}],my:[{my:[u]}],ms:[{ms:[u]}],me:[{me:[u]}],mt:[{mt:[u]}],mr:[{mr:[u]}],mb:[{mb:[u]}],ml:[{ml:[u]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,e]}],"min-w":[{"min-w":[Lt,e,"min","max","fit"]}],"max-w":[{"max-w":[Lt,e,"none","full","min","max","fit","prose",{screen:[Ql]},Ql]}],h:[{h:[Lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ql,Jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",RC]}],"font-family":[{font:[Sm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Rh,RC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Go,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Go,Jl]}],"underline-offset":[{"underline-offset":["auto",Go,Lt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),ule]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dle]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Go,Lt]}],"outline-w":[{outline:[Go,Jl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[Go,Jl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ql,fle]}],"shadow-color":[{shadow:[Sm]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ql,Lt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[v]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Em,Lt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Go,Jl,RC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vle=Joe(gle),g3=t=>{let e;const r=new Set,n=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=(p!=null?p:typeof g!="object"||g===null)?g:Object.assign({},e,g),r.forEach(b=>b(e,y))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{r.clear()}},d=e=t(n,s,c);return c},P7=t=>t?g3(t):g3;var D7={exports:{}},R7={},O7={exports:{}},I7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=C;function yle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _le=typeof Object.is=="function"?Object.is:yle,ble=ip.useState,wle=ip.useEffect,xle=ip.useLayoutEffect,Ele=ip.useDebugValue;function Sle(t,e){var r=e(),n=ble({inst:{value:r,getSnapshot:e}}),s=n[0].inst,a=n[1];return xle(function(){s.value=r,s.getSnapshot=e,OC(s)&&a({inst:s})},[t,r,e]),wle(function(){return OC(s)&&a({inst:s}),t(function(){OC(s)&&a({inst:s})})},[t]),Ele(r),r}function OC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_le(t,r)}catch(n){return!0}}function Cle(t,e){return e()}var Ale=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cle:Sle;I7.useSyncExternalStore=ip.useSyncExternalStore!==void 0?ip.useSyncExternalStore:Ale;O7.exports=I7;var Tle=O7.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=C,Ple=Tle;function Dle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rle=typeof Object.is=="function"?Object.is:Dle,Ole=Ple.useSyncExternalStore,Ile=tE.useRef,Ble=tE.useEffect,Fle=tE.useMemo,Mle=tE.useDebugValue;R7.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var a=Ile(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Fle(function(){function c(y){if(!d){if(d=!0,f=y,y=n(y),s!==void 0&&o.hasValue){var b=o.value;if(s(b,y))return p=b}return p=y}if(b=p,Rle(f,y))return b;var _=n(y);return s!==void 0&&s(b,_)?(f=y,b):(f=y,p=_)}var d=!1,f,p,g=r===void 0?null:r;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,r,n,s]);var l=Ole(t,a[0],a[1]);return Ble(function(){o.hasValue=!0,o.value=l},[l]),Mle(l),l};D7.exports=R7;var kle=D7.exports;const B7=ui(kle),{useDebugValue:Nle}=q,{useSyncExternalStoreWithSelector:Lle}=B7;const Ule=t=>t;function $le(t,e=Ule,r){const n=Lle(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Nle(n),n}const v3=t=>{const e=typeof t=="function"?P7(t):t,r=(n,s)=>$le(e,n,s);return Object.assign(r,e),r},CYe=t=>t?v3(t):v3;var vc=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(vc||{}),aI=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(aI||{}),Gb=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Gb||{}),wt=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(wt||{}),Fa=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Fa||{}),Be=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Be||{}),vd=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(vd||{}),mt=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(mt||{}),Ze=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Ze||{}),bo=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(bo||{}),To=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(To||{}),Ka=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Ka||{}),Ii=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ii||{}),Oa=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Oa||{}),rE=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(rE||{}),Es=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Es||{}),vn=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(vn||{}),F7=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(F7||{}),pn=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(pn||{}),za=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(za||{});const M7={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},et={ADAPTER:M7,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var IC=/iPhone/i,y3=/iPod/i,_3=/iPad/i,b3=/\biOS-universal(?:.+)Mac\b/i,BC=/\bAndroid(?:.+)Mobile\b/i,w3=/Android/i,Ef=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,e0=/Silk/i,Ho=/Windows Phone/i,x3=/\bWindows(?:.+)ARM\b/i,E3=/BlackBerry/i,S3=/BB10/i,C3=/Opera Mini/i,A3=/\b(CriOS|Chrome)(?:.+)Mobile/i,T3=/Mobile(?:.+)Firefox\b/i,P3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function jle(t){return function(e){return e.test(t)}}function D3(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var s=jle(r),a={apple:{phone:s(IC)&&!s(Ho),ipod:s(y3),tablet:!s(IC)&&(s(_3)||P3(e))&&!s(Ho),universal:s(b3),device:(s(IC)||s(y3)||s(_3)||s(b3)||P3(e))&&!s(Ho)},amazon:{phone:s(Ef),tablet:!s(Ef)&&s(e0),device:s(Ef)||s(e0)},android:{phone:!s(Ho)&&s(Ef)||!s(Ho)&&s(BC),tablet:!s(Ho)&&!s(Ef)&&!s(BC)&&(s(e0)||s(w3)),device:!s(Ho)&&(s(Ef)||s(e0)||s(BC)||s(w3))||s(/\bokhttp\b/i)},windows:{phone:s(Ho),tablet:s(x3),device:s(Ho)||s(x3)},other:{blackberry:s(E3),blackberry10:s(S3),opera:s(C3),firefox:s(T3),chrome:s(A3),device:s(E3)||s(S3)||s(C3)||s(T3)||s(A3)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var Yj;const zle=(Yj=D3.default)!=null?Yj:D3,Ma=zle(globalThis.navigator);et.RETINA_PREFIX=/@([0-9\.]+)x/;et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var k7={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new s(f,p||c,g),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],y]:c._events[b].push(y):(c._events[b]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,b=new Array(y);g<y;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,y,b){var _=r?r+d:d;if(!this._events[_])return!1;var u=this._events[_],h=arguments.length,m,v;if(u.fn){switch(u.once&&this.removeListener(d,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,f),!0;case 3:return u.fn.call(u.context,f,p),!0;case 4:return u.fn.call(u.context,f,p,g),!0;case 5:return u.fn.call(u.context,f,p,g,y),!0;case 6:return u.fn.call(u.context,f,p,g,y,b),!0}for(v=1,m=new Array(h-1);v<h;v++)m[v-1]=arguments[v];u.fn.apply(u.context,m)}else{var w=u.length,x;for(v=0;v<w;v++)switch(u[v].once&&this.removeListener(d,u[v].fn,void 0,!0),h){case 1:u[v].fn.call(u[v].context);break;case 2:u[v].fn.call(u[v].context,f);break;case 3:u[v].fn.call(u[v].context,f,p);break;case 4:u[v].fn.call(u[v].context,f,p,g);break;default:if(!m)for(x=1,m=new Array(h-1);x<h;x++)m[x-1]=arguments[x];u[v].fn.apply(u[v].context,m)}}return!0},l.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var y=r?r+d:d;if(!this._events[y])return this;if(!f)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===f&&(!g||b.once)&&(!p||b.context===p)&&o(this,y);else{for(var _=0,u=[],h=b.length;_<h;_++)(b[_].fn!==f||g&&!b[_].once||p&&b[_].context!==p)&&u.push(b[_]);u.length?this._events[y]=u.length===1?u[0]:u:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(k7);var Vle=k7.exports;const Mp=ui(Vle);var oI={exports:{}};oI.exports=nE;oI.exports.default=nE;function nE(t,e,r){r=r||2;var n=e&&e.length,s=n?e[0]*r:t.length,a=N7(t,0,s,r,!0),o=[];if(!a||a.next===a.prev)return o;var l,c,d,f,p,g,y;if(n&&(a=Xle(t,e,a,r)),t.length>80*r){l=d=t[0],c=f=t[1];for(var b=r;b<s;b+=r)p=t[b],g=t[b+1],p<l&&(l=p),g<c&&(c=g),p>d&&(d=p),g>f&&(f=g);y=Math.max(d-l,f-c),y=y!==0?32767/y:0}return vv(a,o,r,l,c,y,0),o}function N7(t,e,r,n,s){var a,o;if(s===XP(t,e,r,n)>0)for(a=e;a<r;a+=n)o=R3(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=R3(a,t[a],t[a+1],o);return o&&iE(o,o.next)&&(_v(o),o=o.next),o}function Ld(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(iE(r,r.next)||Jr(r.prev,r,r.next)===0)){if(_v(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function vv(t,e,r,n,s,a,o){if(t){!o&&a&&Qle(t,n,s,a);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,a?Hle(t,n,s,a):Gle(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),_v(t),t=d.next,l=d.next;continue}if(t=d,t===l){o?o===1?(t=Wle(Ld(t),e,r),vv(t,e,r,n,s,a,2)):o===2&&Kle(t,e,r,n,s,a):vv(Ld(t),e,r,n,s,a,1);break}}}}function Gle(t){var e=t.prev,r=t,n=t.next;if(Jr(e,r,n)>=0)return!1;for(var s=e.x,a=r.x,o=n.x,l=e.y,c=r.y,d=n.y,f=s<a?s<o?s:o:a<o?a:o,p=l<c?l<d?l:d:c<d?c:d,g=s>a?s>o?s:o:a>o?a:o,y=l>c?l>d?l:d:c>d?c:d,b=n.next;b!==e;){if(b.x>=f&&b.x<=g&&b.y>=p&&b.y<=y&&gh(s,l,a,c,o,d,b.x,b.y)&&Jr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function Hle(t,e,r,n){var s=t.prev,a=t,o=t.next;if(Jr(s,a,o)>=0)return!1;for(var l=s.x,c=a.x,d=o.x,f=s.y,p=a.y,g=o.y,y=l<c?l<d?l:d:c<d?c:d,b=f<p?f<g?f:g:p<g?p:g,_=l>c?l>d?l:d:c>d?c:d,u=f>p?f>g?f:g:p>g?p:g,h=WP(y,b,e,r,n),m=WP(_,u,e,r,n),v=t.prevZ,w=t.nextZ;v&&v.z>=h&&w&&w.z<=m;){if(v.x>=y&&v.x<=_&&v.y>=b&&v.y<=u&&v!==s&&v!==o&&gh(l,f,c,p,d,g,v.x,v.y)&&Jr(v.prev,v,v.next)>=0||(v=v.prevZ,w.x>=y&&w.x<=_&&w.y>=b&&w.y<=u&&w!==s&&w!==o&&gh(l,f,c,p,d,g,w.x,w.y)&&Jr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;v&&v.z>=h;){if(v.x>=y&&v.x<=_&&v.y>=b&&v.y<=u&&v!==s&&v!==o&&gh(l,f,c,p,d,g,v.x,v.y)&&Jr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;w&&w.z<=m;){if(w.x>=y&&w.x<=_&&w.y>=b&&w.y<=u&&w!==s&&w!==o&&gh(l,f,c,p,d,g,w.x,w.y)&&Jr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Wle(t,e,r){var n=t;do{var s=n.prev,a=n.next.next;!iE(s,a)&&L7(s,n,n.next,a)&&yv(s,a)&&yv(a,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),_v(n),_v(n.next),n=t=a),n=n.next}while(n!==t);return Ld(n)}function Kle(t,e,r,n,s,a){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&rue(o,l)){var c=U7(o,l);o=Ld(o,o.next),c=Ld(c,c.next),vv(o,e,r,n,s,a,0),vv(c,e,r,n,s,a,0);return}l=l.next}o=o.next}while(o!==t)}function Xle(t,e,r,n){var s=[],a,o,l,c,d;for(a=0,o=e.length;a<o;a++)l=e[a]*n,c=a<o-1?e[a+1]*n:t.length,d=N7(t,l,c,n,!1),d===d.next&&(d.steiner=!0),s.push(tue(d));for(s.sort(Yle),a=0;a<s.length;a++)r=qle(s[a],r);return r}function Yle(t,e){return t.x-e.x}function qle(t,e){var r=Zle(t,e);if(!r)return e;var n=U7(r,t);return Ld(n,n.next),Ld(r,r.next)}function Zle(t,e){var r=e,n=t.x,s=t.y,a=-1/0,o;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var l=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>a&&(a=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,f=o.y,p=1/0,g;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&gh(s<f?n:a,s,d,f,s<f?a:n,s,r.x,r.y)&&(g=Math.abs(s-r.y)/(n-r.x),yv(r,t)&&(g<p||g===p&&(r.x>o.x||r.x===o.x&&Jle(o,r)))&&(o=r,p=g)),r=r.next;while(r!==c);return o}function Jle(t,e){return Jr(t.prev,t,e.prev)<0&&Jr(e.next,t,t.next)<0}function Qle(t,e,r,n){var s=t;do s.z===0&&(s.z=WP(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,eue(s)}function eue(t){var e,r,n,s,a,o,l,c,d=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,l--):(s=n,n=n.nextZ,c--),a?a.nextZ=s:t=s,s.prevZ=a,a=s;r=n}a.nextZ=null,d*=2}while(o>1);return t}function WP(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function tue(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function gh(t,e,r,n,s,a,o,l){return(s-o)*(e-l)>=(t-o)*(a-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(a-l)>=(s-o)*(n-l)}function rue(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nue(t,e)&&(yv(t,e)&&yv(e,t)&&iue(t,e)&&(Jr(t.prev,t,e.prev)||Jr(t,e.prev,e))||iE(t,e)&&Jr(t.prev,t,t.next)>0&&Jr(e.prev,e,e.next)>0)}function Jr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function iE(t,e){return t.x===e.x&&t.y===e.y}function L7(t,e,r,n){var s=r0(Jr(t,e,r)),a=r0(Jr(t,e,n)),o=r0(Jr(r,n,t)),l=r0(Jr(r,n,e));return!!(s!==a&&o!==l||s===0&&t0(t,r,e)||a===0&&t0(t,n,e)||o===0&&t0(r,t,n)||l===0&&t0(r,e,n))}function t0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function r0(t){return t>0?1:t<0?-1:0}function nue(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&L7(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function yv(t,e){return Jr(t.prev,t,t.next)<0?Jr(t,e,t.next)>=0&&Jr(t,t.prev,e)>=0:Jr(t,e,t.prev)<0||Jr(t,t.next,e)<0}function iue(t,e){var r=t,n=!1,s=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&s<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function U7(t,e){var r=new KP(t.i,t.x,t.y),n=new KP(e.i,e.x,e.y),s=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function R3(t,e,r,n){var s=new KP(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function _v(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function KP(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}nE.deviation=function(t,e,r,n){var s=e&&e.length,a=s?e[0]*r:t.length,o=Math.abs(XP(t,0,a,r));if(s)for(var l=0,c=e.length;l<c;l++){var d=e[l]*r,f=l<c-1?e[l+1]*r:t.length;o-=Math.abs(XP(t,d,f,r))}var p=0;for(l=0;l<n.length;l+=3){var g=n[l]*r,y=n[l+1]*r,b=n[l+2]*r;p+=Math.abs((t[g]-t[b])*(t[y+1]-t[g+1])-(t[g]-t[y])*(t[b+1]-t[g+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function XP(t,e,r,n){for(var s=0,a=e,o=r-n;a<r;a+=n)s+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return s}nE.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var a=0;a<t[s].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[s][a][o]);s>0&&(n+=t[s-1].length,r.holes.push(n))}return r};var sue=oI.exports;const $7=ui(sue);var Hb={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Hb.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,a=typeof Yi=="object"&&Yi;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,l=2147483647,c=36,d=1,f=26,p=38,g=700,y=72,b=128,_="-",u=/^xn--/,h=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,x=Math.floor,S=String.fromCharCode,E;function P(K){throw new RangeError(v[K])}function T(K,re){for(var fe=K.length,ye=[];fe--;)ye[fe]=re(K[fe]);return ye}function A(K,re){var fe=K.split("@"),ye="";fe.length>1&&(ye=fe[0]+"@",K=fe[1]),K=K.replace(m,".");var he=K.split("."),ue=T(he,re).join(".");return ye+ue}function R(K){for(var re=[],fe=0,ye=K.length,he,ue;fe<ye;)he=K.charCodeAt(fe++),he>=55296&&he<=56319&&fe<ye?(ue=K.charCodeAt(fe++),(ue&64512)==56320?re.push(((he&1023)<<10)+(ue&1023)+65536):(re.push(he),fe--)):re.push(he);return re}function D(K){return T(K,function(re){var fe="";return re>65535&&(re-=65536,fe+=S(re>>>10&1023|55296),re=56320|re&1023),fe+=S(re),fe}).join("")}function O(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:c}function I(K,re){return K+22+75*(K<26)-((re!=0)<<5)}function M(K,re,fe){var ye=0;for(K=fe?x(K/g):K>>1,K+=x(K/re);K>w*f>>1;ye+=c)K=x(K/w);return x(ye+(w+1)*K/(K+p))}function G(K){var re=[],fe=K.length,ye,he=0,ue=b,Z=y,z,V,Y,ne,ie,me,xe,we,Ee;for(z=K.lastIndexOf(_),z<0&&(z=0),V=0;V<z;++V)K.charCodeAt(V)>=128&&P("not-basic"),re.push(K.charCodeAt(V));for(Y=z>0?z+1:0;Y<fe;){for(ne=he,ie=1,me=c;Y>=fe&&P("invalid-input"),xe=O(K.charCodeAt(Y++)),(xe>=c||xe>x((l-he)/ie))&&P("overflow"),he+=xe*ie,we=me<=Z?d:me>=Z+f?f:me-Z,!(xe<we);me+=c)Ee=c-we,ie>x(l/Ee)&&P("overflow"),ie*=Ee;ye=re.length+1,Z=M(he-ne,ye,ne==0),x(he/ye)>l-ue&&P("overflow"),ue+=x(he/ye),he%=ye,re.splice(he++,0,ue)}return D(re)}function j(K){var re,fe,ye,he,ue,Z,z,V,Y,ne,ie,me=[],xe,we,Ee,tt;for(K=R(K),xe=K.length,re=b,fe=0,ue=y,Z=0;Z<xe;++Z)ie=K[Z],ie<128&&me.push(S(ie));for(ye=he=me.length,he&&me.push(_);ye<xe;){for(z=l,Z=0;Z<xe;++Z)ie=K[Z],ie>=re&&ie<z&&(z=ie);for(we=ye+1,z-re>x((l-fe)/we)&&P("overflow"),fe+=(z-re)*we,re=z,Z=0;Z<xe;++Z)if(ie=K[Z],ie<re&&++fe>l&&P("overflow"),ie==re){for(V=fe,Y=c;ne=Y<=ue?d:Y>=ue+f?f:Y-ue,!(V<ne);Y+=c)tt=V-ne,Ee=c-ne,me.push(S(I(ne+tt%Ee,0))),V=x(tt/Ee);me.push(S(I(V,0))),ue=M(fe,we,ye==he),fe=0,++ye}++fe,++re}return me.join("")}function $(K){return A(K,function(re){return u.test(re)?G(re.slice(4).toLowerCase()):re})}function H(K){return A(K,function(re){return h.test(re)?"xn--"+j(re):re})}if(o={version:"1.4.1",ucs2:{decode:R,encode:D},decode:G,encode:j,toASCII:H,toUnicode:$},n&&s)if(t.exports==n)s.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(Yi)})(Hb,Hb.exports);var aue=Hb.exports,kp=TypeError;const oue={},lue=Object.freeze(Object.defineProperty({__proto__:null,default:oue},Symbol.toStringTag,{value:"Module"})),uue=zne(lue);var lI=typeof Map=="function"&&Map.prototype,FC=Object.getOwnPropertyDescriptor&&lI?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wb=lI&&FC&&typeof FC.get=="function"?FC.get:null,O3=lI&&Map.prototype.forEach,uI=typeof Set=="function"&&Set.prototype,MC=Object.getOwnPropertyDescriptor&&uI?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Kb=uI&&MC&&typeof MC.get=="function"?MC.get:null,I3=uI&&Set.prototype.forEach,cue=typeof WeakMap=="function"&&WeakMap.prototype,Tg=cue?WeakMap.prototype.has:null,due=typeof WeakSet=="function"&&WeakSet.prototype,Pg=due?WeakSet.prototype.has:null,fue=typeof WeakRef=="function"&&WeakRef.prototype,B3=fue?WeakRef.prototype.deref:null,hue=Boolean.prototype.valueOf,pue=Object.prototype.toString,mue=Function.prototype.toString,gue=String.prototype.match,cI=String.prototype.slice,Cu=String.prototype.replace,vue=String.prototype.toUpperCase,F3=String.prototype.toLowerCase,j7=RegExp.prototype.test,M3=Array.prototype.concat,go=Array.prototype.join,yue=Array.prototype.slice,k3=Math.floor,YP=typeof BigInt=="function"?BigInt.prototype.valueOf:null,kC=Object.getOwnPropertySymbols,qP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,sp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Dg=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===sp||"symbol")?Symbol.toStringTag:null,z7=Object.prototype.propertyIsEnumerable,N3=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function L3(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||j7.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-k3(-t):k3(t);if(n!==t){var s=String(n),a=cI.call(e,s.length+1);return Cu.call(s,r,"$&_")+"."+Cu.call(Cu.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Cu.call(e,r,"$&_")}var ZP=uue,U3=ZP.custom,$3=H7(U3)?U3:null,V7={__proto__:null,double:'"',single:"'"},_ue={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},sE=function t(e,r,n,s){var a=r||{};if(el(a,"quoteStyle")&&!el(V7,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(el(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=el(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(el(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(el(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return K7(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?L3(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return l?L3(e,d):d}var f=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return JP(e)?"[Array]":"[Object]";var p=Nue(a,n);if(typeof s>"u")s=[];else if(W7(s,e)>=0)return"[Circular]";function g(O,I,M){if(I&&(s=yue.call(s),s.push(I)),M){var G={depth:a.depth};return el(a,"quoteStyle")&&(G.quoteStyle=a.quoteStyle),t(O,G,n+1,s)}return t(O,a,n+1,s)}if(typeof e=="function"&&!j3(e)){var y=Pue(e),b=n0(e,g);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(b.length>0?" { "+go.call(b,", ")+" }":"")}if(H7(e)){var _=sp?Cu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qP.call(e);return typeof e=="object"&&!sp?Cm(_):_}if(Fue(e)){for(var u="<"+F3.call(String(e.nodeName)),h=e.attributes||[],m=0;m<h.length;m++)u+=" "+h[m].name+"="+G7(bue(h[m].value),"double",a);return u+=">",e.childNodes&&e.childNodes.length&&(u+="..."),u+="</"+F3.call(String(e.nodeName))+">",u}if(JP(e)){if(e.length===0)return"[]";var v=n0(e,g);return p&&!kue(v)?"["+QP(v,p)+"]":"[ "+go.call(v,", ")+" ]"}if(xue(e)){var w=n0(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!z7.call(e,"cause")?"{ ["+String(e)+"] "+go.call(M3.call("[cause]: "+g(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+go.call(w,", ")+" }"}if(typeof e=="object"&&o){if($3&&typeof e[$3]=="function"&&ZP)return ZP(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Due(e)){var x=[];return O3&&O3.call(e,function(O,I){x.push(g(I,e,!0)+" => "+g(O,e))}),z3("Map",Wb.call(e),x,p)}if(Iue(e)){var S=[];return I3&&I3.call(e,function(O){S.push(g(O,e))}),z3("Set",Kb.call(e),S,p)}if(Rue(e))return NC("WeakMap");if(Bue(e))return NC("WeakSet");if(Oue(e))return NC("WeakRef");if(Sue(e))return Cm(g(Number(e)));if(Aue(e))return Cm(g(YP.call(e)));if(Cue(e))return Cm(hue.call(e));if(Eue(e))return Cm(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Yi<"u"&&e===Yi)return"{ [object globalThis] }";if(!wue(e)&&!j3(e)){var E=n0(e,g),P=N3?N3(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",A=!P&&Dg&&Object(e)===e&&Dg in e?cI.call(yc(e),8,-1):T?"Object":"",R=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",D=R+(A||T?"["+go.call(M3.call([],A||[],T||[]),": ")+"] ":"");return E.length===0?D+"{}":p?D+"{"+QP(E,p)+"}":D+"{ "+go.call(E,", ")+" }"}return String(e)};function G7(t,e,r){var n=r.quoteStyle||e,s=V7[n];return s+t+s}function bue(t){return Cu.call(String(t),/"/g,"&quot;")}function nf(t){return!Dg||!(typeof t=="object"&&(Dg in t||typeof t[Dg]<"u"))}function JP(t){return yc(t)==="[object Array]"&&nf(t)}function wue(t){return yc(t)==="[object Date]"&&nf(t)}function j3(t){return yc(t)==="[object RegExp]"&&nf(t)}function xue(t){return yc(t)==="[object Error]"&&nf(t)}function Eue(t){return yc(t)==="[object String]"&&nf(t)}function Sue(t){return yc(t)==="[object Number]"&&nf(t)}function Cue(t){return yc(t)==="[object Boolean]"&&nf(t)}function H7(t){if(sp)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qP)return!1;try{return qP.call(t),!0}catch(e){}return!1}function Aue(t){if(!t||typeof t!="object"||!YP)return!1;try{return YP.call(t),!0}catch(e){}return!1}var Tue=Object.prototype.hasOwnProperty||function(t){return t in this};function el(t,e){return Tue.call(t,e)}function yc(t){return pue.call(t)}function Pue(t){if(t.name)return t.name;var e=gue.call(mue.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function W7(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Due(t){if(!Wb||!t||typeof t!="object")return!1;try{Wb.call(t);try{Kb.call(t)}catch(e){return!0}return t instanceof Map}catch(e){}return!1}function Rue(t){if(!Tg||!t||typeof t!="object")return!1;try{Tg.call(t,Tg);try{Pg.call(t,Pg)}catch(e){return!0}return t instanceof WeakMap}catch(e){}return!1}function Oue(t){if(!B3||!t||typeof t!="object")return!1;try{return B3.call(t),!0}catch(e){}return!1}function Iue(t){if(!Kb||!t||typeof t!="object")return!1;try{Kb.call(t);try{Wb.call(t)}catch(e){return!0}return t instanceof Set}catch(e){}return!1}function Bue(t){if(!Pg||!t||typeof t!="object")return!1;try{Pg.call(t,Pg);try{Tg.call(t,Tg)}catch(e){return!0}return t instanceof WeakSet}catch(e){}return!1}function Fue(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function K7(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return K7(cI.call(t,0,e.maxStringLength),e)+n}var s=_ue[e.quoteStyle||"single"];s.lastIndex=0;var a=Cu.call(Cu.call(t,s,"\\$1"),/[\x00-\x1f]/g,Mue);return G7(a,"single",e)}function Mue(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+vue.call(e.toString(16))}function Cm(t){return"Object("+t+")"}function NC(t){return t+" { ? }"}function z3(t,e,r,n){var s=n?QP(r,n):go.call(r,", ");return t+" ("+e+") {"+s+"}"}function kue(t){for(var e=0;e<t.length;e++)if(W7(t[e],"\n")>=0)return!1;return!0}function Nue(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=go.call(Array(t.indent+1)," ");else return null;return{base:r,prev:go.call(Array(e+1),r)}}function QP(t,e){if(t.length===0)return"";var r="\n"+e.prev+e.base;return r+go.call(t,","+r)+"\n"+e.prev}function n0(t,e){var r=JP(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=el(t,s)?e(t[s],t):""}var a=typeof kC=="function"?kC(t):[],o;if(sp){o={};for(var l=0;l<a.length;l++)o["$"+a[l]]=a[l]}for(var c in t)el(t,c)&&(r&&String(Number(c))===c&&c<t.length||sp&&o["$"+c]instanceof Symbol||(j7.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof kC=="function")for(var d=0;d<a.length;d++)z7.call(t,a[d])&&n.push("["+e(a[d])+"]: "+e(t[a[d]],t));return n}var Lue=sE,Uue=kp,aE=function(t,e,r){for(var n=t,s;(s=n.next)!=null;n=s)if(s.key===e)return n.next=s.next,r||(s.next=t.next,t.next=s),s},$ue=function(t,e){if(t){var r=aE(t,e);return r&&r.value}},jue=function(t,e,r){var n=aE(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},zue=function(t,e){return t?!!aE(t,e):!1},Vue=function(t,e){if(t)return aE(t,e,!0)},Gue=function(){var e,r={assert:function(n){if(!r.has(n))throw new Uue("Side channel does not contain "+Lue(n))},delete:function(n){var s=e&&e.next,a=Vue(e,n);return a&&s&&s===a&&(e=void 0),!!a},get:function(n){return $ue(e,n)},has:function(n){return zue(e,n)},set:function(n,s){e||(e={next:void 0}),jue(e,n,s)}};return r},X7=Object,Hue=Error,Wue=EvalError,Kue=RangeError,Xue=ReferenceError,Yue=SyntaxError,que=URIError,Zue=Math.abs,Jue=Math.floor,Que=Math.max,ece=Math.min,tce=Math.pow,rce=Math.round,nce=Number.isNaN||function(e){return e!==e},ice=nce,sce=function(e){return ice(e)||e===0?e:e<0?-1:1},ace=Object.getOwnPropertyDescriptor,A1=ace;if(A1)try{A1([],"length")}catch(t){A1=null}var Y7=A1,T1=Object.defineProperty||!1;if(T1)try{T1({},"a",{value:1})}catch(t){T1=!1}var oce=T1,LC,V3;function lce(){return V3||(V3=1,LC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),LC}var UC,G3;function uce(){if(G3)return UC;G3=1;var t=typeof Symbol<"u"&&Symbol,e=lce();return UC=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},UC}var $C,H3;function q7(){return H3||(H3=1,$C=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),$C}var jC,W3;function Z7(){if(W3)return jC;W3=1;var t=X7;return jC=t.getPrototypeOf||null,jC}var zC,K3;function cce(){if(K3)return zC;K3=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(c,d){for(var f=[],p=0;p<c.length;p+=1)f[p]=c[p];for(var g=0;g<d.length;g+=1)f[g+c.length]=d[g];return f},a=function(c,d){for(var f=[],p=d||0,g=0;p<c.length;p+=1,g+=1)f[g]=c[p];return f},o=function(l,c){for(var d="",f=0;f<l.length;f+=1)d+=l[f],f+1<l.length&&(d+=c);return d};return zC=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==n)throw new TypeError(t+d);for(var f=a(arguments,1),p,g=function(){if(this instanceof p){var h=d.apply(this,s(f,arguments));return Object(h)===h?h:this}return d.apply(c,s(f,arguments))},y=r(0,d.length-f.length),b=[],_=0;_<y;_++)b[_]="$"+_;if(p=Function("binder","return function ("+o(b,",")+"){ return binder.apply(this,arguments); }")(g),d.prototype){var u=function(){};u.prototype=d.prototype,p.prototype=new u,u.prototype=null}return p},zC}var VC,X3;function oE(){if(X3)return VC;X3=1;var t=cce();return VC=Function.prototype.bind||t,VC}var GC,Y3;function dI(){return Y3||(Y3=1,GC=Function.prototype.call),GC}var HC,q3;function J7(){return q3||(q3=1,HC=Function.prototype.apply),HC}var dce=typeof Reflect<"u"&&Reflect&&Reflect.apply,fce=oE(),hce=J7(),pce=dI(),mce=dce,gce=mce||fce.call(pce,hce),vce=oE(),yce=kp,_ce=dI(),bce=gce,Q7=function(e){if(e.length<1||typeof e[0]!="function")throw new yce("a function is required");return bce(vce,_ce,e)},WC,Z3;function wce(){if(Z3)return WC;Z3=1;var t=Q7,e=Y7,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return WC=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(l){return a(l==null?l:s(l))}:!1,WC}var KC,J3;function xce(){if(J3)return KC;J3=1;var t=q7(),e=Z7(),r=wce();return KC=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,KC}var XC,Q3;function Ece(){if(Q3)return XC;Q3=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=oE();return XC=r.call(t,e),XC}var Xt,Sce=X7,Cce=Hue,Ace=Wue,Tce=Kue,Pce=Xue,ap=Yue,Oh=kp,Dce=que,Rce=Zue,Oce=Jue,Ice=Que,Bce=ece,Fce=tce,Mce=rce,kce=sce,e9=Function,YC=function(t){try{return e9('"use strict"; return ('+t+").constructor;")()}catch(e){}},bv=Y7,Nce=oce,qC=function(){throw new Oh},Lce=bv?function(){try{return arguments.callee,qC}catch(t){try{return bv(arguments,"callee").get}catch(e){return qC}}}():qC,Sf=uce()(),jn=xce(),Uce=Z7(),$ce=q7(),t9=J7(),Fy=dI(),Wf={},jce=typeof Uint8Array>"u"||!jn?Xt:jn(Uint8Array),yd={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Xt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Xt:ArrayBuffer,"%ArrayIteratorPrototype%":Sf&&jn?jn([][Symbol.iterator]()):Xt,"%AsyncFromSyncIteratorPrototype%":Xt,"%AsyncFunction%":Wf,"%AsyncGenerator%":Wf,"%AsyncGeneratorFunction%":Wf,"%AsyncIteratorPrototype%":Wf,"%Atomics%":typeof Atomics>"u"?Xt:Atomics,"%BigInt%":typeof BigInt>"u"?Xt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Xt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Xt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Xt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Cce,"%eval%":eval,"%EvalError%":Ace,"%Float16Array%":typeof Float16Array>"u"?Xt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Xt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Xt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Xt:FinalizationRegistry,"%Function%":e9,"%GeneratorFunction%":Wf,"%Int8Array%":typeof Int8Array>"u"?Xt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Xt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Xt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Sf&&jn?jn(jn([][Symbol.iterator]())):Xt,"%JSON%":typeof JSON=="object"?JSON:Xt,"%Map%":typeof Map>"u"?Xt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Sf||!jn?Xt:jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Sce,"%Object.getOwnPropertyDescriptor%":bv,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Xt:Promise,"%Proxy%":typeof Proxy>"u"?Xt:Proxy,"%RangeError%":Tce,"%ReferenceError%":Pce,"%Reflect%":typeof Reflect>"u"?Xt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Xt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Sf||!jn?Xt:jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Xt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Sf&&jn?jn(""[Symbol.iterator]()):Xt,"%Symbol%":Sf?Symbol:Xt,"%SyntaxError%":ap,"%ThrowTypeError%":Lce,"%TypedArray%":jce,"%TypeError%":Oh,"%Uint8Array%":typeof Uint8Array>"u"?Xt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Xt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Xt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Xt:Uint32Array,"%URIError%":Dce,"%WeakMap%":typeof WeakMap>"u"?Xt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Xt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Xt:WeakSet,"%Function.prototype.call%":Fy,"%Function.prototype.apply%":t9,"%Object.defineProperty%":Nce,"%Object.getPrototypeOf%":Uce,"%Math.abs%":Rce,"%Math.floor%":Oce,"%Math.max%":Ice,"%Math.min%":Bce,"%Math.pow%":Fce,"%Math.round%":Mce,"%Math.sign%":kce,"%Reflect.getPrototypeOf%":$ce};if(jn)try{null.error}catch(t){var zce=jn(jn(t));yd["%Error.prototype%"]=zce}var Vce=function t(e){var r;if(e==="%AsyncFunction%")r=YC("async function () {}");else if(e==="%GeneratorFunction%")r=YC("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=YC("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&jn&&(r=jn(s.prototype))}return yd[e]=r,r},eL={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},My=oE(),Xb=Ece(),Gce=My.call(Fy,Array.prototype.concat),Hce=My.call(t9,Array.prototype.splice),tL=My.call(Fy,String.prototype.replace),Yb=My.call(Fy,String.prototype.slice),Wce=My.call(Fy,RegExp.prototype.exec),Kce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Xce=/\\(\\)?/g,Yce=function(e){var r=Yb(e,0,1),n=Yb(e,-1);if(r==="%"&&n!=="%")throw new ap("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ap("invalid intrinsic syntax, expected opening `%`");var s=[];return tL(e,Kce,function(a,o,l,c){s[s.length]=l?tL(c,Xce,"$1"):o||a}),s},qce=function(e,r){var n=e,s;if(Xb(eL,n)&&(s=eL[n],n="%"+s[0]+"%"),Xb(yd,n)){var a=yd[n];if(a===Wf&&(a=Vce(n)),typeof a>"u"&&!r)throw new Oh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:a}}throw new ap("intrinsic "+e+" does not exist!")},fI=function(e,r){if(typeof e!="string"||e.length===0)throw new Oh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Oh('"allowMissing" argument must be a boolean');if(Wce(/^%?[^%]*%?$/,e)===null)throw new ap("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Yce(e),s=n.length>0?n[0]:"",a=qce("%"+s+"%",r),o=a.name,l=a.value,c=!1,d=a.alias;d&&(s=d[0],Hce(n,Gce([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var g=n[f],y=Yb(g,0,1),b=Yb(g,-1);if((y==='"'||y==="'"||y==="`"||b==='"'||b==="'"||b==="`")&&y!==b)throw new ap("property names with quotes must have matching quotes");if((g==="constructor"||!p)&&(c=!0),s+="."+g,o="%"+s+"%",Xb(yd,o))l=yd[o];else if(l!=null){if(!(g in l)){if(!r)throw new Oh("base intrinsic for "+e+" exists, but the property is not available.");return}if(bv&&f+1>=n.length){var _=bv(l,g);p=!!_,p&&"get"in _&&!("originalValue"in _.get)?l=_.get:l=l[g]}else p=Xb(l,g),l=l[g];p&&!c&&(yd[o]=l)}}return l},r9=fI,n9=Q7,Zce=n9([r9("%String.prototype.indexOf%")]),i9=function(e,r){var n=r9(e,!!r);return typeof n=="function"&&Zce(e,".prototype.")>-1?n9([n]):n},Jce=fI,ky=i9,Qce=sE,ede=kp,rL=Jce("%Map%",!0),tde=ky("Map.prototype.get",!0),rde=ky("Map.prototype.set",!0),nde=ky("Map.prototype.has",!0),ide=ky("Map.prototype.delete",!0),sde=ky("Map.prototype.size",!0),s9=!!rL&&function(){var e,r={assert:function(n){if(!r.has(n))throw new ede("Side channel does not contain "+Qce(n))},delete:function(n){if(e){var s=ide(e,n);return sde(e)===0&&(e=void 0),s}return!1},get:function(n){if(e)return tde(e,n)},has:function(n){return e?nde(e,n):!1},set:function(n,s){e||(e=new rL),rde(e,n,s)}};return r},ade=fI,lE=i9,ode=sE,i0=s9,lde=kp,Cf=ade("%WeakMap%",!0),ude=lE("WeakMap.prototype.get",!0),cde=lE("WeakMap.prototype.set",!0),dde=lE("WeakMap.prototype.has",!0),fde=lE("WeakMap.prototype.delete",!0),hde=Cf?function(){var e,r,n={assert:function(s){if(!n.has(s))throw new lde("Side channel does not contain "+ode(s))},delete:function(s){if(Cf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return fde(e,s)}else if(i0&&r)return r.delete(s);return!1},get:function(s){return Cf&&s&&(typeof s=="object"||typeof s=="function")&&e?ude(e,s):r&&r.get(s)},has:function(s){return Cf&&s&&(typeof s=="object"||typeof s=="function")&&e?dde(e,s):!!r&&r.has(s)},set:function(s,a){Cf&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Cf),cde(e,s,a)):i0&&(r||(r=i0()),r.set(s,a))}};return n}:i0,pde=kp,mde=sE,gde=Gue,vde=s9,yde=hde,_de=yde||vde||gde,bde=function(){var e,r={assert:function(n){if(!r.has(n))throw new pde("Side channel does not contain "+mde(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,s){e||(e=_de()),e.set(n,s)}};return r},wde=String.prototype.replace,xde=/%20/g,ZC={RFC1738:"RFC1738",RFC3986:"RFC3986"},hI={default:ZC.RFC3986,formatters:{RFC1738:function(t){return wde.call(t,xde,"+")},RFC3986:function(t){return String(t)}},RFC1738:ZC.RFC1738,RFC3986:ZC.RFC3986},Ede=hI,JC=Object.prototype.hasOwnProperty,td=Array.isArray,to=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Sde=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(td(n)){for(var s=[],a=0;a<n.length;++a)typeof n[a]<"u"&&s.push(n[a]);r.obj[r.prop]=s}}},a9=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},Cde=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(td(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!JC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return td(e)&&!td(r)&&(s=a9(e,n)),td(e)&&td(r)?(r.forEach(function(a,o){if(JC.call(e,o)){var l=e[o];l&&typeof l=="object"&&a&&typeof a=="object"?e[o]=t(l,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var l=r[o];return JC.call(a,o)?a[o]=t(a[o],l,n):a[o]=l,a},s)},Ade=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},Tde=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(s){return n}},QC=1024,Pde=function(e,r,n,s,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;c+=QC){for(var d=o.length>=QC?o.slice(c,c+QC):o,f=[],p=0;p<d.length;++p){var g=d.charCodeAt(p);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||a===Ede.RFC1738&&(g===40||g===41)){f[f.length]=d.charAt(p);continue}if(g<128){f[f.length]=to[g];continue}if(g<2048){f[f.length]=to[192|g>>6]+to[128|g&63];continue}if(g<55296||g>=57344){f[f.length]=to[224|g>>12]+to[128|g>>6&63]+to[128|g&63];continue}p+=1,g=65536+((g&1023)<<10|d.charCodeAt(p)&1023),f[f.length]=to[240|g>>18]+to[128|g>>12&63]+to[128|g>>6&63]+to[128|g&63]}l+=f.join("")}return l},Dde=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var a=r[s],o=a.obj[a.prop],l=Object.keys(o),c=0;c<l.length;++c){var d=l[c],f=o[d];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:d}),n.push(f))}return Sde(r),e},Rde=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ode=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ide=function(e,r){return[].concat(e,r)},Bde=function(e,r){if(td(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},o9={arrayToObject:a9,assign:Ade,combine:Ide,compact:Dde,decode:Tde,encode:Pde,isBuffer:Ode,isRegExp:Rde,maybeMap:Bde,merge:Cde},l9=bde,P1=o9,Rg=hI,Fde=Object.prototype.hasOwnProperty,u9={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},co=Array.isArray,Mde=Array.prototype.push,c9=function(t,e){Mde.apply(t,co(e)?e:[e])},kde=Date.prototype.toISOString,nL=Rg.default,Tn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:P1.encode,encodeValuesOnly:!1,filter:void 0,format:nL,formatter:Rg.formatters[nL],indices:!1,serializeDate:function(e){return kde.call(e)},skipNulls:!1,strictNullHandling:!1},Nde=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},eA={},Lde=function t(e,r,n,s,a,o,l,c,d,f,p,g,y,b,_,u,h,m){for(var v=e,w=m,x=0,S=!1;(w=w.get(eA))!==void 0&&!S;){var E=w.get(e);if(x+=1,typeof E<"u"){if(E===x)throw new RangeError("Cyclic object value");S=!0}typeof w.get(eA)>"u"&&(x=0)}if(typeof f=="function"?v=f(r,v):v instanceof Date?v=y(v):n==="comma"&&co(v)&&(v=P1.maybeMap(v,function(K){return K instanceof Date?y(K):K})),v===null){if(o)return d&&!u?d(r,Tn.encoder,h,"key",b):r;v=""}if(Nde(v)||P1.isBuffer(v)){if(d){var P=u?r:d(r,Tn.encoder,h,"key",b);return[_(P)+"="+_(d(v,Tn.encoder,h,"value",b))]}return[_(r)+"="+_(String(v))]}var T=[];if(typeof v>"u")return T;var A;if(n==="comma"&&co(v))u&&d&&(v=P1.maybeMap(v,d)),A=[{value:v.length>0?v.join(",")||null:void 0}];else if(co(f))A=f;else{var R=Object.keys(v);A=p?R.sort(p):R}var D=c?String(r).replace(/\./g,"%2E"):String(r),O=s&&co(v)&&v.length===1?D+"[]":D;if(a&&co(v)&&v.length===0)return O+"[]";for(var I=0;I<A.length;++I){var M=A[I],G=typeof M=="object"&&M&&typeof M.value<"u"?M.value:v[M];if(!(l&&G===null)){var j=g&&c?String(M).replace(/\./g,"%2E"):String(M),$=co(v)?typeof n=="function"?n(O,j):O:O+(g?"."+j:"["+j+"]");m.set(e,x);var H=l9();H.set(eA,m),c9(T,t(G,$,n,s,a,o,l,c,n==="comma"&&u&&co(v)?null:d,f,p,g,y,b,_,u,h,H))}}return T},Ude=function(e){if(!e)return Tn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Tn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Rg.default;if(typeof e.format<"u"){if(!Fde.call(Rg.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Rg.formatters[n],a=Tn.filter;(typeof e.filter=="function"||co(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in u9?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Tn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Tn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Tn.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Tn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Tn.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Tn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Tn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Tn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Tn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Tn.encodeValuesOnly,filter:a,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Tn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Tn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Tn.strictNullHandling}},$de=function(t,e){var r=t,n=Ude(e),s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):co(n.filter)&&(a=n.filter,s=a);var o=[];if(typeof r!="object"||r===null)return"";var l=u9[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var d=l9(),f=0;f<s.length;++f){var p=s[f],g=r[p];n.skipNulls&&g===null||c9(o,Lde(g,p,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var y=o.join(n.delimiter),b=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""},Ud=o9,eD=Object.prototype.hasOwnProperty,iL=Array.isArray,sn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ud.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},jde=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},d9=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},zde="utf8=%26%2310003%3B",Vde="utf8=%E2%9C%93",Gde=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=s.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var l=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Vde?d="utf-8":o[c]===zde&&(d="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var f=o[c],p=f.indexOf("]="),g=p===-1?f.indexOf("="):p+1,y,b;g===-1?(y=r.decoder(f,sn.decoder,d,"key"),b=r.strictNullHandling?null:""):(y=r.decoder(f.slice(0,g),sn.decoder,d,"key"),b=Ud.maybeMap(d9(f.slice(g+1),r,iL(n[y])?n[y].length:0),function(u){return r.decoder(u,sn.decoder,d,"value")})),b&&r.interpretNumericEntities&&d==="iso-8859-1"&&(b=jde(String(b))),f.indexOf("[]=")>-1&&(b=iL(b)?[b]:b);var _=eD.call(n,y);_&&r.duplicates==="combine"?n[y]=Ud.combine(n[y],b):(!_||r.duplicates==="last")&&(n[y]=b)}return n},Hde=function(t,e,r,n){var s=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");s=Array.isArray(e)&&e[a]?e[a].length:0}for(var o=n?e:d9(e,r,s),l=t.length-1;l>=0;--l){var c,d=t[l];if(d==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:Ud.combine([],o);else{c=r.plainObjects?{__proto__:null}:{};var f=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,p=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,g=parseInt(p,10);!r.parseArrays&&p===""?c={0:o}:!isNaN(g)&&d!==p&&String(g)===p&&g>=0&&r.parseArrays&&g<=r.arrayLimit?(c=[],c[g]=o):p!=="__proto__"&&(c[p]=o)}o=c}return o},Wde=function(e,r,n,s){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),d=c?a.slice(0,c.index):a,f=[];if(d){if(!n.plainObjects&&eD.call(Object.prototype,d)&&!n.allowPrototypes)return;f.push(d)}for(var p=0;n.depth>0&&(c=l.exec(a))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&eD.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+a.slice(c.index)+"]")}return Hde(f,r,n,s)}},Kde=function(e){if(!e)return sn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?sn.charset:e.charset,n=typeof e.duplicates>"u"?sn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:sn.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:sn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:sn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:sn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:sn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:sn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:sn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:sn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:sn.decoder,delimiter:typeof e.delimiter=="string"||Ud.isRegExp(e.delimiter)?e.delimiter:sn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:sn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:sn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:sn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:sn.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:sn.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:sn.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Xde=function(t,e){var r=Kde(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Gde(t,r):t,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),o=0;o<a.length;++o){var l=a[o],c=Wde(l,n[l],r,typeof t=="string");s=Ud.merge(s,c,r)}return r.allowSparse===!0?s:Ud.compact(s)},Yde=$de,qde=Xde,Zde=hI,Jde={formats:Zde,parse:qde,stringify:Yde},Qde=aue;function Va(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var efe=/^([a-z0-9.+-]+:)/i,tfe=/:[0-9]*$/,rfe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,nfe=["<",">",'"',"`"," ","\r","\n","	"],ife=["{","}","|","\\","^","`"].concat(nfe),tD=["'"].concat(ife),sL=["%","/","?",";","#"].concat(tD),aL=["/","?","#"],sfe=255,oL=/^[+a-z0-9A-Z_-]{0,63}$/,afe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ofe={javascript:!0,"javascript:":!0},rD={javascript:!0,"javascript:":!0},Ih={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},nD=Jde;function uE(t,e,r){if(t&&typeof t=="object"&&t instanceof Va)return t;var n=new Va;return n.parse(t,e,r),n}Va.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(s),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(s);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=rfe.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=nD.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=efe.exec(l);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var p=l.substr(0,2)==="//";p&&!(d&&rD[d])&&(l=l.substr(2),this.slashes=!0)}if(!rD[d]&&(p||d&&!Ih[d])){for(var g=-1,y=0;y<aL.length;y++){var b=l.indexOf(aL[y]);b!==-1&&(g===-1||b<g)&&(g=b)}var _,u;g===-1?u=l.lastIndexOf("@"):u=l.lastIndexOf("@",g),u!==-1&&(_=l.slice(0,u),l=l.slice(u+1),this.auth=decodeURIComponent(_)),g=-1;for(var y=0;y<sL.length;y++){var b=l.indexOf(sL[y]);b!==-1&&(g===-1||b<g)&&(g=b)}g===-1&&(g=l.length),this.host=l.slice(0,g),l=l.slice(g),this.parseHost(),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h)for(var m=this.hostname.split(/\./),y=0,v=m.length;y<v;y++){var w=m[y];if(w&&!w.match(oL)){for(var x="",S=0,E=w.length;S<E;S++)w.charCodeAt(S)>127?x+="x":x+=w[S];if(!x.match(oL)){var P=m.slice(0,y),T=m.slice(y+1),A=w.match(afe);A&&(P.push(A[1]),T.unshift(A[2])),T.length&&(l="/"+T.join(".")+l),this.hostname=P.join(".");break}}}this.hostname.length>sfe?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=Qde.toASCII(this.hostname));var R=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+R,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!ofe[f])for(var y=0,v=tD.length;y<v;y++){var O=tD[y];if(l.indexOf(O)!==-1){var I=encodeURIComponent(O);I===O&&(I=escape(O)),l=l.split(O).join(I)}}var M=l.indexOf("#");M!==-1&&(this.hash=l.substr(M),l=l.slice(0,M));var G=l.indexOf("?");if(G!==-1?(this.search=l.substr(G),this.query=l.substr(G+1),e&&(this.query=nD.parse(this.query)),l=l.slice(0,G)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Ih[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",j=this.search||"";this.path=R+j}return this.href=this.format(),this};function lfe(t){return typeof t=="string"&&(t=uE(t)),t instanceof Va?t.format():Va.prototype.format.call(t)}Va.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,a="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=nD.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ih[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+s+r+o+n};function ufe(t,e){return uE(t,!1,!0).resolve(e)}Va.prototype.resolve=function(t){return this.resolveObject(uE(t,!1,!0)).format()};Va.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Va;e.parse(t,!1,!0),t=e}for(var r=new Va,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(r[c]=t[c])}return Ih[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ih[t.protocol]){for(var d=Object.keys(t),f=0;f<d.length;f++){var p=d[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!rD[t.protocol]){for(var v=(t.pathname||"").split("/");v.length&&!(t.host=v.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),r.pathname=v.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",_=t.host||t.pathname&&t.pathname.charAt(0)==="/",u=_||b||r.host&&t.pathname,h=u,m=r.pathname&&r.pathname.split("/")||[],v=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Ih[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(m[0]===""?m[0]=r.host:m.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(v[0]===""?v[0]=t.host:v.unshift(t.host)),t.host=null),u=u&&(v[0]===""||m[0]==="")),_)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,m=v;else if(v.length)m||(m=[]),m.pop(),m=m.concat(v),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=m.shift(),r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=m.slice(-1)[0],E=(r.host||t.host||m.length>1)&&(S==="."||S==="..")||S==="",P=0,T=m.length;T>=0;T--)S=m[T],S==="."?m.splice(T,1):S===".."?(m.splice(T,1),P++):P&&(m.splice(T,1),P--);if(!u&&!h)for(;P--;P)m.unshift("..");u&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),E&&m.join("/").substr(-1)!=="/"&&m.push("");var A=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(w){r.hostname=A?"":m.length?m.shift():"",r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return u=u||r.host&&m.length,u&&!A&&m.unshift(""),m.length>0?r.pathname=m.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Va.prototype.parseHost=function(){var t=this.host,e=tfe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var cfe=uE,dfe=ufe,ffe=lfe;const lL={};function At(t,e,r=3){if(lL[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),lL[e]=!0}const hfe={get parse(){return At("7.3.0","utils.url.parse is deprecated, use native URL API instead."),cfe},get format(){return At("7.3.0","utils.url.format is deprecated, use native URL API instead."),ffe},get resolve(){return At("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),dfe}};function ba(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function Am(t){return t.split("?")[0].split("#")[0]}function pfe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mfe(t,e,r){return t.replace(new RegExp(pfe(e),"g"),r)}function gfe(t,e){let r="",n=0,s=-1,a=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=l,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=l,a=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(s+1,l)):r=t.slice(s+1,l),n=l-s-1;s=l,a=0}else o===46&&a!==-1?++a:a=-1}return r}const On={toPosix(t){return mfe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){ba(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(ba(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Am(this.toPosix(e!=null?e:et.ADAPTER.getBaseUrl())),s=Am(this.toPosix(r!=null?r:this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?On.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(ba(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=gfe(t,!1),t.length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute(t){return ba(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var r;if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const s=t[n];if(ba(s),s.length>0)if(e===void 0)e=s;else{const a=(r=t[n-1])!=null?r:"";this.joinExtensions.includes(this.extname(a).toLowerCase())?e+="/../".concat(s):e+="/".concat(s)}}return e===void 0?".":this.normalize(e)},dirname(t){if(ba(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const a=this.getProtocol(t),o=t;t=t.slice(a.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!s){n=l;break}}else s=!1;return n===-1?r?"/":this.isUrl(o)?a+t:a:r&&n===1?"//":a+t.slice(0,n)},rootname(t){ba(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ba(t),e&&ba(e),t=Am(this.toPosix(t));let r=0,n=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(a=t.length-1;a>=0;--a){const c=t.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else l===-1&&(s=!1,l=a+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=a):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){r=a+1;break}}else n===-1&&(s=!1,n=a+1);return n===-1?"":t.slice(r,n)},extname(t){ba(t),t=Am(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,a=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),l===46?e===-1?e=o:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){ba(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Am(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let a=-1,o=0,l=-1,c=!0,d=t.length-1,f=0;for(;d>=s;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}l===-1&&(c=!1,l=d+1),r===46?a===-1?a=d:f!==1&&(f=1):a!==-1&&(f=-1)}return a===-1||l===-1||f===0||f===1&&a===l-1&&a===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,l)):(e.name=t.slice(o,a),e.base=t.slice(o,l)),e.ext=t.slice(a,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Tm;async function f9(){return Tm!=null||(Tm=(async()=>{var a;const t=document.createElement("canvas").getContext("webgl");if(!t)return Ii.UNPACK;const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return Ii.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(n),t.deleteTexture(r),(a=t.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?Ii.PMA:Ii.UNPACK})()),Tm}function vfe(){At("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function yfe(){At("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}let tA;function h9(){return typeof tA>"u"&&(tA=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!et.ADAPTER.getWebGLRenderingContext())return!1;const r=et.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const s=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,s}catch(r){return!1}}()),tA}var _fe={grad:.9,turn:360,rad:360/(2*Math.PI)},Wo=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Gn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},na=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},p9=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},uL=function(t){return{r:na(t.r,0,255),g:na(t.g,0,255),b:na(t.b,0,255),a:na(t.a)}},rA=function(t){return{r:Gn(t.r),g:Gn(t.g),b:Gn(t.b),a:Gn(t.a,3)}},bfe=/^#([0-9a-f]{3,8})$/i,s0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},m9=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=Math.max(e,r,n),o=a-Math.min(e,r,n),l=o?a===e?(r-n)/o:a===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:a?o/a*100:0,v:a/255*100,a:s}},g9=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),o=n*(1-r),l=n*(1-(e-a)*r),c=n*(1-(1-e+a)*r),d=a%6;return{r:255*[n,l,o,o,c,n][d],g:255*[c,n,n,l,o,o][d],b:255*[o,o,c,n,n,l][d],a:s}},cL=function(t){return{h:p9(t.h),s:na(t.s,0,100),l:na(t.l,0,100),a:na(t.a)}},dL=function(t){return{h:Gn(t.h),s:Gn(t.s),l:Gn(t.l),a:Gn(t.a,3)}},fL=function(t){return g9((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Og=function(t){return{h:(e=m9(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},wfe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xfe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Efe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sfe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iD={string:[[function(t){var e=bfe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Gn(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Gn(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Efe.exec(t)||Sfe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:uL({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=wfe.exec(t)||xfe.exec(t);if(!e)return null;var r,n,s=cL({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(_fe[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return fL(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=s===void 0?1:s;return Wo(e)&&Wo(r)&&Wo(n)?uL({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,a=s===void 0?1:s;if(!Wo(e)||!Wo(r)||!Wo(n))return null;var o=cL({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return fL(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,a=s===void 0?1:s;if(!Wo(e)||!Wo(r)||!Wo(n))return null;var o=function(l){return{h:p9(l.h),s:na(l.s,0,100),v:na(l.v,0,100),a:na(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return g9(o)},"hsv"]]},hL=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Cfe=function(t){return typeof t=="string"?hL(t.trim(),iD.string):typeof t=="object"&&t!==null?hL(t,iD.object):[null,void 0]},nA=function(t,e){var r=Og(t);return{h:r.h,s:na(r.s+100*e,0,100),l:r.l,a:r.a}},iA=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},pL=function(t,e){var r=Og(t);return{h:r.h,s:r.s,l:na(r.l+100*e,0,100),a:r.a}},sD=function(){function t(e){this.parsed=Cfe(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Gn(iA(this.rgba),2)},t.prototype.isDark=function(){return iA(this.rgba)<.5},t.prototype.isLight=function(){return iA(this.rgba)>=.5},t.prototype.toHex=function(){return e=rA(this.rgba),r=e.r,n=e.g,s=e.b,o=(a=e.a)<1?s0(Gn(255*a)):"","#"+s0(r)+s0(n)+s0(s)+o;var e,r,n,s,a,o},t.prototype.toRgb=function(){return rA(this.rgba)},t.prototype.toRgbString=function(){return e=rA(this.rgba),r=e.r,n=e.g,s=e.b,(a=e.a)<1?"rgba("+r+", "+n+", "+s+", "+a+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,a},t.prototype.toHsl=function(){return dL(Og(this.rgba))},t.prototype.toHslString=function(){return e=dL(Og(this.rgba)),r=e.h,n=e.s,s=e.l,(a=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+a+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,a},t.prototype.toHsv=function(){return e=m9(this.rgba),{h:Gn(e.h),s:Gn(e.s),v:Gn(e.v),a:Gn(e.a,3)};var e},t.prototype.invert=function(){return io({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),io(nA(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),io(nA(this.rgba,-e))},t.prototype.grayscale=function(){return io(nA(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),io(pL(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),io(pL(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?io({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Gn(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Og(this.rgba);return typeof e=="number"?io({h:e,s:r.s,l:r.l,a:r.a}):Gn(r.h)},t.prototype.isEqual=function(e){return this.toHex()===io(e).toHex()},t}(),io=function(t){return t instanceof sD?t:new sD(t)},mL=[],Afe=function(t){t.forEach(function(e){mL.indexOf(e)<0&&(e(sD,iD),mL.push(e))})};function Tfe(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var a={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,g="black";if(!a.length)for(var y in r)a[y]=new t(r[y]).toRgb();for(var b in r){var _=(l=f,c=a[b],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));_<p&&(p=_,g=b)}return g}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}Afe([Tfe]);const Kf=class D1{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof D1)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,a)=>s===r[a]);if(e!==null&&r!==null){const s=Object.keys(e),a=Object.keys(r);return s.length!==a.length?!1:s.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(r,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[r,n,s]=this._components;return e=e!=null?e:[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e!=null?e:[];const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,a]=D1.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,s]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e!=null?e:[];const[r,n,s,a]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e}normalize(e){let r,n,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,s=(o&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,a=255]=e,r/=255,n/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=D1.HEX_PATTERN.exec(e);l&&(e="#".concat(l[2]))}const o=io(e);o.isValid()&&({r,g:n,b:s,a}=o.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error("Unable to convert color ".concat(e))}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,r),n)}),e)}};Kf.shared=new Kf,Kf.temp=new Kf,Kf.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let lr=Kf;function Pfe(t,e=[]){return At("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),lr.shared.setValue(t).toRgbArray(e)}function v9(t){return At("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),lr.shared.setValue(t).toHex()}function Dfe(t){return At("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),lr.shared.setValue(t).toNumber()}function y9(t){return At("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),lr.shared.setValue(t).toNumber()}function Rfe(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[wt.NORMAL_NPM]=wt.NORMAL,t[wt.ADD_NPM]=wt.ADD,t[wt.SCREEN_NPM]=wt.SCREEN,e[wt.NORMAL]=wt.NORMAL_NPM,e[wt.ADD]=wt.ADD_NPM,e[wt.SCREEN]=wt.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const pI=Rfe();function mI(t,e){return pI[e?1:0][t]}function Ofe(t,e,r,n=!0){return At("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),lr.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}function Ife(t,e){return At("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),lr.shared.setValue(t).toPremultiplied(e)}function Bfe(t,e,r,n=!0){return At("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),lr.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}const _9=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function b9(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(let n=0,s=0;n<r;n+=6,s+=4)e[n+0]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3;return e}function cE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const Ffe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Mfe(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const a=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],p=cE(f);s[p]||(s[p]=new Ffe[p](a)),o=s[p];for(let g=0;g<f.length;g++){const y=(g/d|0)*n+l,b=g%d;o[y+b]=f[g]}l+=d}return new Float32Array(a)}function wv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function aD(t){return!(t&t-1)&&!!t}function oD(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function _d(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const a=n-r;for(s=e;s<a;++s)t[s]=t[s+r];t.length=a}function dl(t){return t===0?0:t<0?-1:1}let kfe=0;function Qu(){return++kfe}const lD=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};lD.EMPTY=new lD(0,0,0,0);let uD=lD;const cD={},Pi=Object.create(null),ps=Object.create(null);function Nfe(){let t;for(t in Pi)Pi[t].destroy();for(t in ps)ps[t].destroy()}function Lfe(){let t;for(t in Pi)delete Pi[t];for(t in ps)delete ps[t]}class w9{constructor(e,r,n){this._canvas=et.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||et.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function gL(t,e,r){for(let n=0,s=4*r*e;n<e;++n,s+=4)if(t[s+3]!==0)return!1;return!0}function vL(t,e,r,n,s){const a=4*e;for(let o=n,l=n*a+4*r;o<=s;++o,l+=a)if(t[l+3]!==0)return!1;return!0}function x9(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let a=0,o=0,l=e-1,c=r-1;for(;o<r&&gL(s,e,o);)++o;if(o===r)return uD.EMPTY;for(;gL(s,e,c);)--c;for(;vL(s,e,a,o,c);)++a;for(;vL(s,e,l,o,c);)--l;return++l,++c,new uD(a,o,l,c)}function E9(t){const e=x9(t),{width:r,height:n}=e;let s=null;if(!e.isEmpty()){const a=t.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:s}}function Ufe(t){const e=_9.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function S9(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Oo(t,e=1){var n;const r=(n=et.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}const $fe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ps,BoundingBox:uD,CanvasRenderTarget:w9,DATA_URI:_9,EventEmitter:Mp,ProgramCache:cD,TextureCache:Pi,clearTextureCache:Lfe,correctBlendMode:mI,createIndicesForQuads:b9,decomposeDataUri:Ufe,deprecation:At,destroyTextureCache:Nfe,detectVideoAlphaMode:f9,determineCrossOrigin:S9,earcut:$7,getBufferType:cE,getCanvasBoundingBox:x9,getResolutionOfUrl:Oo,hex2rgb:Pfe,hex2string:v9,interleaveTypedArrays:Mfe,isMobile:Ma,isPow2:aD,isWebGLSupported:h9,log2:oD,nextPow2:wv,path:On,premultiplyBlendMode:pI,premultiplyRgba:Ofe,premultiplyTint:Ife,premultiplyTintToRgba:Bfe,removeItems:_d,rgb2hex:y9,sayHello:yfe,sign:dl,skipHello:vfe,string2hex:Dfe,trimCanvas:E9,uid:Qu,url:hfe},Symbol.toStringTag,{value:"Module"}));var Ke=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Ke||{});const dD=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},yL=(t,e)=>{var r;return(r=dD(t).priority)!=null?r:e},ct={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(dD).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(dD).forEach(e=>{e.type.forEach(r=>{var a,o;const n=this._addHandlers,s=this._queue;n[r]?(a=n[r])==null||a.call(n,e):(s[r]=s[r]||[],(o=s[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error("Extension type ".concat(t," already has a handler"));n[t]=e,s[t]=r;const a=this._queue;return a[t]&&((o=a[t])==null||o.forEach(l=>e(l)),delete a[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,a)=>yL(a,r)-yL(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}};class qb{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}const jfe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function zfe(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}function C9(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=jfe.replace(/%forloop%/gi,zfe(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const sA=0,aA=1,oA=2,lA=3,uA=4,cA=5;class Ya{constructor(){this.data=0,this.blendMode=wt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<sA)}set blend(e){!!(this.data&1<<sA)!==e&&(this.data^=1<<sA)}get offsets(){return!!(this.data&1<<aA)}set offsets(e){!!(this.data&1<<aA)!==e&&(this.data^=1<<aA)}get culling(){return!!(this.data&1<<oA)}set culling(e){!!(this.data&1<<oA)!==e&&(this.data^=1<<oA)}get depthTest(){return!!(this.data&1<<lA)}set depthTest(e){!!(this.data&1<<lA)!==e&&(this.data^=1<<lA)}get depthMask(){return!!(this.data&1<<cA)}set depthMask(e){!!(this.data&1<<cA)!==e&&(this.data^=1<<cA)}get clockwiseFrontFace(){return!!(this.data&1<<uA)}set clockwiseFrontFace(e){!!(this.data&1<<uA)!==e&&(this.data^=1<<uA)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==wt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ya;return e.depthTest=!1,e.blend=!0,e}}Ya.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const Zb=[];function gI(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Zb.length-1;n>=0;--n){const s=Zb[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ts{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,s,a,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:f}=this;this._aliasCount++;for(let p=0,g=f.length;p<g;p++)f[p][d](e,r,n,s,a,o,l,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ts.prototype,{dispatch:{value:Ts.prototype.emit},run:{value:Ts.prototype.emit}});class op{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ts("setRealSize"),this.onUpdate=new Ts("update"),this.onError=new Ts("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Ny extends op{constructor(e,r){var a;const{width:n,height:s}=r||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=e,this.unpackAlignment=(a=r.unpackAlignment)!=null?a:4}upload(e,r,n){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ii.UNPACK);const a=r.realWidth,o=r.realHeight;return n.width===a&&n.height===o?s.texSubImage2D(r.target,0,0,0,a,o,r.format,n.type,this.data):(n.width=a,n.height=o,s.texImage2D(r.target,0,n.internalFormat,a,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Vfe={scaleMode:bo.NEAREST,alphaMode:Ii.NPM},fD=class Xf extends Mp{constructor(e=null,r=null){super(),r=Object.assign({},Xf.defaultOptions,r);const{alphaMode:n,mipmap:s,anisotropicLevel:a,scaleMode:o,width:l,height:c,wrapMode:d,format:f,type:p,target:g,resolution:y,resourceOptions:b}=r;e&&!(e instanceof op)&&(e=gI(e,b),e.internal=!0),this.resolution=y||et.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=d,this._scaleMode=o,this.format=f,this.type=p,this.target=g,this.alphaMode=n,this.uid=Qu(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=aD(this.realWidth)&&aD(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ps[this.cacheId],delete Pi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Xf.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=et.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(Qu())}a=e._pixiId}let o=ps[a];if(s&&n&&!o)throw new Error('The cacheId "'.concat(a,'" does not exist in BaseTextureCache.'));return o||(o=new Xf(e,r),o.cacheId=a,Xf.addToCache(o,a)),o}static fromBuffer(e,r,n,s){e=e||new Float32Array(r*n*4);const a=new Ny(e,{width:r,height:n,...s==null?void 0:s.resourceOptions});let o,l;return e instanceof Float32Array?(o=Be.RGBA,l=mt.FLOAT):e instanceof Int32Array?(o=Be.RGBA_INTEGER,l=mt.INT):e instanceof Uint32Array?(o=Be.RGBA_INTEGER,l=mt.UNSIGNED_INT):e instanceof Int16Array?(o=Be.RGBA_INTEGER,l=mt.SHORT):e instanceof Uint16Array?(o=Be.RGBA_INTEGER,l=mt.UNSIGNED_SHORT):e instanceof Int8Array?(o=Be.RGBA,l=mt.BYTE):(o=Be.RGBA,l=mt.UNSIGNED_BYTE),a.internal=!0,new Xf(a,Object.assign({},Vfe,{type:l,format:o},s))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ps[r]&&ps[r]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(r,"] that already had an entry")),ps[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ps[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ps[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ps[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};fD.defaultOptions={mipmap:Ka.POW2,anisotropicLevel:0,scaleMode:bo.LINEAR,wrapMode:To.CLAMP,alphaMode:Ii.UNPACK,target:vd.TEXTURE_2D,format:Be.RGBA,type:mt.UNSIGNED_BYTE},fD._globalBatch=0;let Ot=fD;class Jb{constructor(){this.texArray=null,this.blend=0,this.type=Fa.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Gfe=0,bn=class A9{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Gfe++,this.disposeRunner=new Ts("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?za.ELEMENT_ARRAY_BUFFER:za.ARRAY_BUFFER}get index(){return this.type===za.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new A9(e)}};class xv{constructor(e,r=0,n=!1,s=mt.FLOAT,a,o,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=s,this.stride=a,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,s,a){return new xv(e,r,n,s,a)}}const Hfe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Wfe(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const a=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],p=cE(f);s[p]||(s[p]=new Hfe[p](a)),o=s[p];for(let g=0;g<f.length;g++){const y=(g/d|0)*n+l,b=g%d;o[y+b]=f[g]}l+=d}return new Float32Array(a)}const _L={5126:4,5123:2,5121:1};let Kfe=0;const Xfe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Al{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Kfe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ts("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,s=!1,a,o,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof bn||(r instanceof Array&&(r=new Float32Array(r)),r=new bn(r));const d=e.split("|");if(d.length>1){for(let p=0;p<d.length;p++)this.addAttribute(d[p],r,n,s,a);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new xv(f,n,s,a,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof bn||(e instanceof Array&&(e=new Uint16Array(e)),e=new bn(e)),e.type=za.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new bn;let s;for(s in this.attributes){const a=this.attributes[s],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*_L[a.type]/4),a.buffer=0}for(n.data=Wfe(e,r),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Al;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new bn(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new xv(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=za.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Al,n=[],s=[],a=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)s[c]=s[c]||0,s[c]+=o.buffers[c].data.length,a[c]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new Xfe[cE(o.buffers[l].data)](s[l]),r.buffers[l]=new bn(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=za.ELEMENT_ARRAY_BUFFER;let l=0,c=0,d=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const g=o.attributes[p];(g.buffer|0)===f&&(c+=g.size*_L[g.type]/4)}for(let p=0;p<e.length;p++){const g=e[p].indexBuffer.data;for(let y=0;y<g.length;y++)r.indexBuffer.data[y+d]+=l;l+=e[p].buffers[f].data.length/c,d+=g.length}}return r}}class vI extends Al{constructor(e=!1){super(),this._buffer=new bn(null,e,!1),this._indexBuffer=new bn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,mt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,mt.FLOAT).addAttribute("aColor",this._buffer,4,!0,mt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,mt.FLOAT).addIndex(this._indexBuffer)}}const Ev=Math.PI*2,T9=180/Math.PI,P9=Math.PI/180;var Kn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Kn||{});let ze=class D9{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new D9(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}};ze.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const a0=[new ze,new ze,new ze,new ze];class Bt{constructor(e=0,r=0,n=0,s=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=Kn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Bt(0,0,0,0)}clone(){return new Bt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const P=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=P)return!1;const T=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>T}const n=this.left,s=this.right,a=this.top,o=this.bottom;if(s<=n||o<=a)return!1;const l=a0[0].set(e.left,e.top),c=a0[1].set(e.left,e.bottom),d=a0[2].set(e.right,e.top),f=a0[3].set(e.right,e.bottom);if(d.x<=l.x||c.y<=l.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(l,l),r.apply(c,c),r.apply(d,d),r.apply(f,f),Math.max(l.x,c.x,d.x,f.x)<=n||Math.min(l.x,c.x,d.x,f.x)>=s||Math.max(l.y,c.y,d.y,f.y)<=a||Math.min(l.y,c.y,d.y,f.y)>=o))return!1;const g=p*(c.y-l.y),y=p*(l.x-c.x),b=g*n+y*a,_=g*s+y*a,u=g*n+y*o,h=g*s+y*o;if(Math.max(b,_,u,h)<=g*l.x+y*l.y||Math.min(b,_,u,h)>=g*f.x+y*f.y)return!1;const m=p*(l.y-d.y),v=p*(d.x-l.x),w=m*n+v*a,x=m*s+v*a,S=m*n+v*o,E=m*s+v*o;return!(Math.max(w,x,S,E)<=m*l.x+v*l.y||Math.min(w,x,S,E)>=m*f.x+v*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=a-s,this}}Bt.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Ly{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Kn.CIRC}clone(){return new Ly(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,a=this.y-r;return s*=s,a*=a,s+a<=n}getBounds(){return new Bt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Ly.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class Uy{constructor(e=0,r=0,n=0,s=0){this.x=e,this.y=r,this.width=n,this.height=s,this.type=Kn.ELIP}clone(){return new Uy(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,s=(r-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new Bt(this.x-this.width,this.y-this.height,this.width,this.height)}}Uy.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class zu{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,a=r.length;s<a;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=Kn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new zu(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let a=0,o=s-1;a<s;o=a++){const l=this.points[a*2],c=this.points[a*2+1],d=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(d-l)*((r-c)/(f-c))+l&&(n=!n)}return n}}zu.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((t,e)=>"".concat(t,", ").concat(e),""),"]")};class $y{constructor(e=0,r=0,n=0,s=0,a=20){this.x=e,this.y=r,this.width=n,this.height=s,this.radius=a,this.type=Kn.RREC}clone(){return new $y(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),a=r-(this.y+n);const o=n*n;if(s*s+a*a<=o||(s=e-(this.x+this.width-n),s*s+a*a<=o)||(a=r-(this.y+this.height-n),s*s+a*a<=o)||(s=e-(this.x+n),s*s+a*a<=o))return!0}return!1}}$y.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class er{constructor(e=1,r=0,n=0,s=1,a=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,a,o){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ze;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new ze;const n=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return r.x=this.d*n*s+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,a=this.c,o=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,a=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this}setTransform(e,r,n,s,a,o,l,c,d){return this.a=Math.cos(l+d)*a,this.b=Math.sin(l+d)*a,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,a=this.d,o=e.pivot,l=-Math.atan2(-s,a),c=Math.atan2(n,r),d=Math.abs(l+c);return d<1e-5||Math.abs(Ev-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(o.x*r+o.y*s),e.position.y=this.ty+(o.x*n+o.y*a),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,a=this.tx,o=e*s-r*n;return this.a=s/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-s*a)/o,this.ty=-(e*this.ty-r*a)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new er;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new er}static get TEMP_MATRIX(){return new er}}er.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const Hc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Wc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Kc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Xc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hD=[],R9=[],o0=Math.sign;function Yfe(){for(let t=0;t<16;t++){const e=[];hD.push(e);for(let r=0;r<16;r++){const n=o0(Hc[t]*Hc[r]+Kc[t]*Wc[r]),s=o0(Wc[t]*Hc[r]+Xc[t]*Wc[r]),a=o0(Hc[t]*Kc[r]+Kc[t]*Xc[r]),o=o0(Wc[t]*Kc[r]+Xc[t]*Xc[r]);for(let l=0;l<16;l++)if(Hc[l]===n&&Wc[l]===s&&Kc[l]===a&&Xc[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new er;e.set(Hc[t],Wc[t],Kc[t],Xc[t],0,0),R9.push(e)}}Yfe();const Ur={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Hc[t],uY:t=>Wc[t],vX:t=>Kc[t],vY:t=>Xc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>hD[t][e],sub:(t,e)=>hD[t][Ur.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ur.S:Ur.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ur.E:Ur.W:e>0?t>0?Ur.SE:Ur.SW:t>0?Ur.NE:Ur.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=R9[Ur.inv(e)];s.tx=r,s.ty=n,t.append(s)}};class ka{constructor(e,r,n=0,s=0){this._x=n,this._y=s,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new ka(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}ka.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const pD=class{constructor(){this.worldTransform=new er,this.localTransform=new er,this.position=new ka(this.onChange,this,0,0),this.scale=new ka(this.onChange,this,1,1),this.pivot=new ka(this.onChange,this,0,0),this.skew=new ka(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};pD.IDENTITY=new pD;let Np=pD;Np.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};var qfe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",Zfe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";function bL(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function dA(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function O9(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return dA(2*e);case"bvec3":return dA(3*e);case"bvec4":return dA(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const bd=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            '),codeUbo:t=>"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }'),codeUbo:t=>"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}],Jfe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Qfe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function ehe(t,e){var n;const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const s in t.uniforms){const a=e[s];if(!a){((n=t.uniforms[s])==null?void 0:n.group)===!0&&(t.uniforms[s].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(s,", '").concat(s,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(s,", syncData);\n                    ")));continue}const o=t.uniforms[s];let l=!1;for(let c=0;c<bd.length;c++)if(bd[c].test(a,o)){r.push(bd[c].code(s,o)),l=!0;break}if(!l){const c=(a.size===1&&!a.isArray?Jfe:Qfe)[a.type].replace("location",'ud["'.concat(s,'"].location'));r.push('\n            cu = ud["'.concat(s,'"];\n            cv = cu.value;\n            v = uv["').concat(s,'"];\n            ').concat(c,";"))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}const I9={};let Af=I9;function B9(){if(Af===I9||Af!=null&&Af.isContextLost()){const t=et.ADAPTER.createCanvas();let e;et.PREFER_ENV>=vc.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Af=e}return Af}let l0;function the(){if(!l0){l0=Es.MEDIUM;const t=B9();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(l0=e.precision?Es.HIGH:Es.MEDIUM)}}return l0}function wL(t,e){const r=t.getShaderSource(e).split("\n").map((d,f)=>"".concat(f,": ").concat(d)),n=t.getShaderInfoLog(e),s=n.split("\n"),a={},o=s.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!a[d]?(a[d]=!0,!0):!1),l=[""];o.forEach(d=>{r[d-1]="%c".concat(r[d-1],"%c"),l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join("\n");l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function rhe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||wL(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||wL(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const nhe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function F9(t){return nhe[t]}let u0=null;const xL={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function M9(t,e){if(!u0){const r=Object.keys(xL);u0={};for(let n=0;n<r.length;++n){const s=r[n];u0[t[s]]=xL[s]}}return u0[e]}function EL(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Es.HIGH&&r!==Es.HIGH&&(n=Es.MEDIUM),"precision ".concat(n," float;\n").concat(t)}else if(r!==Es.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Pm;function k9(){if(typeof Pm=="boolean")return Pm;try{Pm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(t){Pm=!1}return Pm}let ihe=0;const c0={},mD=class Yf{constructor(e,r,n="pixi-shader",s={}){this.extra={},this.id=ihe++,this.vertexSrc=e||Yf.defaultVertexSrc,this.fragmentSrc=r||Yf.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),c0[n]?(c0[n]++,n+="-".concat(c0[n])):c0[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=EL(this.vertexSrc,Yf.defaultVertexPrecision,Es.HIGH),this.fragmentSrc=EL(this.fragmentSrc,Yf.defaultFragmentPrecision,the())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Zfe}static get defaultFragmentSrc(){return qfe}static from(e,r,n){const s=e+r;let a=cD[s];return a||(cD[s]=a=new Yf(e,r,n)),a}};mD.defaultVertexPrecision=Es.HIGH,mD.defaultFragmentPrecision=Ma.apple.device?Es.HIGH:Es.MEDIUM;let wo=mD,she=0;class ca{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=she++,this.static=!!r,this.ubo=!!n,e instanceof bn?(this.buffer=e,this.buffer.type=za.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new bn(new Float32Array(1)),this.buffer.type=za.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new ca(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new ca(e,r,n)}static uboFrom(e,r){return new ca(e,r!=null?r:!0,!0)}}class Ga{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ca?this.uniformGroup=r:this.uniformGroup=new ca(r):this.uniformGroup=new ca({}),this.disposeRunner=new Ts("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const s=r.uniforms[n];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const s=wo.from(e,r);return new Ga(s,n)}}class N9{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let a=0;a<e;a++)n[a]=a;this.defaultGroupCache[e]=ca.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,"".concat(e)),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new wo(this.vertexSrc,s)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new er,default:this.defaultGroupCache[e]};return new Ga(this.programCache[e],r)}generateSampleSrc(e){let r="";r+="\n",r+="\n";for(let n=0;n<e;n++)n>0&&(r+="\nelse "),n<e-1&&(r+="if(vTextureId < ".concat(n,".5)")),r+="\n{",r+="\n	color = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),r+="\n}";return r+="\n",r+="\n",r}}class Qb{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function ahe(){return!Ma.apple.device}function ohe(t){let e=!0;const r=et.ADAPTER.getNavigator();if(Ma.tablet||Ma.phone){if(Ma.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ma.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class jy{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var lhe="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",uhe="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";const Km=class xa extends jy{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=vI,this.vertexSize=6,this.state=Ya.for2d(),this.size=xa.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=(e=this._defaultMaxTextures)!=null?e:ohe(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=(e=this._canUploadSameBuffer)!=null?e:ahe(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return At("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return uhe}static get defaultFragmentTemplate(){return lhe}setShaderGenerator({vertex:e=xa.defaultVertexSrc,fragment:r=xa.defaultFragmentTemplate}={}){this.shaderGenerator=new N9(e,r)}contextChange(){const e=this.renderer.gl;et.PREFER_ENV===vc.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),xa.defaultMaxTextures),this.maxTextures=C9(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=xa,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Jb);for(;r.length<s;)r.push(new Qb);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=xa._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count;let l=++Ot._globalBatch,c=0,d=n[0],f=0;s.copyBoundTextures(a,r);for(let p=0;p<this._bufferSize;++p){const g=e[p];e[p]=null,g._batchEnabled!==l&&(d.count>=r&&(s.boundArray(d,a,l,r),this.buildDrawCalls(d,f,p),f=p,d=n[++c],++l),g._batchEnabled=l,g.touched=o,d.elements[d.count++]=g)}d.count>0&&(s.boundArray(d,a,l,r),this.buildDrawCalls(d,f,this._bufferSize),++c,++l);for(let p=0;p<a.length;p++)a[p]=null;Ot._globalBatch=l}buildDrawCalls(e,r,n){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:o,vertexSize:l}=this,c=xa._drawCallPool;let d=this._dcIndex,f=this._aIndex,p=this._iIndex,g=c[d];g.start=this._iIndex,g.texArray=e;for(let y=r;y<n;++y){const b=s[y],_=b._texture.baseTexture,u=pI[_.alphaMode?1:0][b.blendMode];s[y]=null,r<y&&g.blend!==u&&(g.size=p-g.start,r=y,g=c[++d],g.texArray=e,g.start=p),this.packInterleavedGeometry(b,a,o,f,p),f+=b.vertexData.length/2*l,p+=b.indices.length,g.blend=u}r<n&&(g.size=p-g.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=p}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;xa.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,s=xa._drawCallPool;let a=null;for(let o=0;o<e;o++){const{texArray:l,type:c,size:d,start:f,blend:p}=s[o];a!==l&&(a=l,this.bindAndClearTexArray(l)),this.state.blendMode=p,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),xa.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=wv(Math.ceil(e/8)),n=oD(r),s=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new qb(s*this.vertexSize*4)),a}getIndexBuffer(e){const r=wv(Math.ceil(e/12)),n=oD(r),s=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._iBuffers[n];return a||(this._iBuffers[n]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,r,n,s,a){const{uint32View:o,float32View:l}=r,c=s/this.vertexSize,d=e.uvs,f=e.indices,p=e.vertexData,g=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),b=lr.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let _=0;_<p.length;_+=2)l[s++]=p[_],l[s++]=p[_+1],l[s++]=d[_],l[s++]=d[_+1],o[s++]=b,l[s++]=g;for(let _=0;_<f.length;_++)n[a++]=c+f[_]}};Km.defaultBatchSize=4096,Km.extension={name:"batch",type:Ke.RendererPlugin},Km._drawCallPool=[],Km._textureArrayPool=[];let du=Km;ct.add(du);var che="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",dhe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const gD=class Xm extends Ga{constructor(e,r,n){const s=wo.from(e||Xm.defaultVertexSrc,r||Xm.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=Xm.defaultResolution,this.multisample=Xm.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ya}apply(e,r,n,s,a){e.applyFilter(this,r,n,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return dhe}static get defaultFragmentSrc(){return che}};gD.defaultResolution=1,gD.defaultMultisample=pn.NONE;let ri=gD;class Sv{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new lr(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:s}=e,a=n!=null?n:r;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Sv.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Sv.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"background"};ct.add(Sv);class yI{constructor(e){this.renderer=e,this.emptyRenderer=new jy(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let s=r-1;s>=0;--s)e[s]=n[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,r,n,s){const{elements:a,ids:o,count:l}=e;let c=0;for(let d=0;d<l;d++){const f=a[d],p=f._batchLocation;if(p>=0&&p<s&&r[p]===f){o[d]=p;continue}for(;c<s;){const g=r[c];if(g&&g._batchEnabled===n&&g._batchLocation===c){c++;continue}o[d]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}yI.extension={type:Ke.RendererSystem,name:"batch"};ct.add(yI);let SL=0;class Cv{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=SL++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=SL++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(et.PREFER_ENV>=vc.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Cv.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Cv.extension={type:Ke.RendererSystem,name:"context"};ct.add(Cv);class ew{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ts("disposeFramebuffer"),this.multisample=pn.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ot(null,{scaleMode:bo.NEAREST,resolution:1,mipmap:Ka.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ot(null,{scaleMode:bo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ka.OFF,format:Be.DEPTH_COMPONENT,type:mt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],a=s.resolution;s.setSize(e/a,r/a)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class _I extends Ot{constructor(e={}){var r,n,s;if(typeof e=="number"){const a=arguments[0],o=arguments[1],l=arguments[2],c=arguments[3];e={width:a,height:o,scaleMode:l,resolution:c}}e.width=(r=e.width)!=null?r:100,e.height=(n=e.height)!=null?n:100,(s=e.multisample)!=null||(e.multisample=pn.NONE),super(null,e),this.mipmap=Ka.OFF,this.valid=!0,this._clear=new lr([0,0,0,0]),this.framebuffer=new ew(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Io extends op{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,s=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=S9(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,s){const a=e.gl,o=r.realWidth,l=r.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ii.UNPACK),!this.noSubImage&&r.target===a.TEXTURE_2D&&n.width===o&&n.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,r.format,n.type,s):(n.width=o,n.height=l,a.texImage2D(r.target,0,n.internalFormat,r.format,n.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class bI extends Io{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const s=new Image;Io.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:et.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>r(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ii.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let s=!0;const a=r._glTextures;for(const o in a){const l=a[o];if(l!==n&&l.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class dE{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const s=r.width,a=r.height;if(n){const o=e.width/2/s,l=e.height/2/a,c=e.x/s+o,d=e.y/a+l;n=Ur.add(n,Ur.NW),this.x0=c+o*Ur.uX(n),this.y0=d+l*Ur.uY(n),n=Ur.add(n,2),this.x1=c+o*Ur.uX(n),this.y1=d+l*Ur.uY(n),n=Ur.add(n,2),this.x2=c+o*Ur.uX(n),this.y2=d+l*Ur.uY(n),n=Ur.add(n,2),this.x3=c+o*Ur.uX(n),this.y3=d+l*Ur.uY(n)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}dE.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const CL=new dE;function d0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Je extends Mp{constructor(e,r,n,s,a,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Bt(0,0,1,1)),e instanceof Je&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=CL,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ze(o.x,o.y):new ze(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Pi[r.url]&&Je.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Je.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new Je(this.baseTexture,!this.noFrame&&e,r,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===CL&&(this._uvs=new dE),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=et.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof Ot){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId="".concat(l,"-").concat(Qu()),Ot.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(Qu())}a=e._pixiId}let o=Pi[a];if(s&&n&&!o)throw new Error('The cacheId "'.concat(a,'" does not exist in TextureCache.'));return!o&&!(e instanceof Ot)?(r.resolution||(r.resolution=Oo(e)),o=new Je(new Ot(e,r)),o.baseTexture.cacheId=a,Ot.addToCache(o.baseTexture,a),Je.addToCache(o,a)):!o&&e instanceof Ot&&(o=new Je(e),Je.addToCache(o,a)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=Je.from(e,Object.assign({resourceOptions:n},r),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,r,n,s){return new Je(Ot.fromBuffer(e,r,n,s))}static fromLoader(e,r,n,s){const a=new Ot(e,Object.assign({scaleMode:Ot.defaultOptions.scaleMode,resolution:Oo(r)},s)),{resource:o}=a;o instanceof bI&&(o.url=r);const l=new Je(a);return n||(n=r),Ot.addToCache(l.baseTexture,n),Je.addToCache(l,n),n!==r&&(Ot.addToCache(l.baseTexture,r),Je.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Pi[r]&&Pi[r]!==e&&console.warn("Texture added to the cache with an id [".concat(r,"] that already had an entry")),Pi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Pi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Pi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Pi[e.textureCacheIds[r]]===e&&delete Pi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:s,height:a}=e,o=r+s>this.baseTexture.width,l=n+a>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",d="X: ".concat(r," + ").concat(s," = ").concat(r+s," > ").concat(this.baseTexture.width),f="Y: ".concat(n," + ").concat(a," = ").concat(n+a," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(d," ").concat(c," ").concat(f))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Je._EMPTY||(Je._EMPTY=new Je(new Ot),d0(Je._EMPTY),d0(Je._EMPTY.baseTexture)),Je._EMPTY}static get WHITE(){if(!Je._WHITE){const e=et.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Je._WHITE=new Je(Ot.from(e)),d0(Je._WHITE),d0(Je._WHITE.baseTexture)}return Je._WHITE}}class _c extends Je{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,o=Math.round(r*s)/s;this.valid=a>0&&o>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(a,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new _c(new _I(e))}}class wI{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=pn.NONE){const s=new _I(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new _c(s)}getOptimalTexture(e,r,n=1,s=pn.NONE){let a;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=wv(e),r=wv(r),a=((e&65535)<<16|r&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,s)),o.filterPoolKey=a,o.setResolution(n),o}getFilterTexture(e,r,n){const s=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||pn.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}wI.SCREEN_KEY=-1;class L9 extends Al{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class xI extends Al{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new bn(this.vertices),this.uvBuffer=new bn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+r.width/e.width,this.uvs[3]=s,this.uvs[4]=n+r.width/e.width,this.uvs[5]=s+r.height/e.height,this.uvs[6]=n,this.uvs[7]=s+r.height/e.height,n=r.x,s=r.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+r.width,this.vertices[3]=s,this.vertices[4]=n+r.width,this.vertices[5]=s+r.height,this.vertices[6]=n,this.vertices[7]=s+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class U9{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=pn.NONE,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.bindingSourceFrame=new Bt,this.bindingDestinationFrame=new Bt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const f0=[new ze,new ze,new ze,new ze],fA=new er;class EI{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new wI,this.statePool=[],this.quad=new L9,this.quadUv=new xI,this.tempRect=new Bt,this.activeState={},this.globalUniforms=new ca({outputFrame:new Bt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var u,h,m,v;const n=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new U9,o=n.renderTexture;let l,c;if(o.current){const w=o.current;l=w.resolution,c=w.multisample}else l=n.resolution,c=n.multisample;let d=r[0].resolution||l,f=(u=r[0].multisample)!=null?u:c,p=r[0].padding,g=r[0].autoFit,y=(h=r[0].legacy)!=null?h:!0;for(let w=1;w<r.length;w++){const x=r[w];d=Math.min(d,x.resolution||l),f=Math.min(f,(m=x.multisample)!=null?m:c),p=this.useMaxPadding?Math.max(p,x.padding):p+x.padding,g=g&&x.autoFit,y=y||((v=x.legacy)!=null?v:!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),s.push(a),a.resolution=d,a.multisample=f,a.legacy=y,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(p);const b=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(fA.copyFrom(n.projection.transform).invert(),b),g?(a.sourceFrame.fit(b),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(b)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,d,f),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const _=this.tempRect;_.x=0,_.y=0,_.width=a.sourceFrame.width,_.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,_),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const s=this.globalUniforms.uniforms;s.outputFrame=r.sourceFrame,s.resolution=r.resolution;const a=s.inputSize,o=s.inputPixel,l=s.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*a[2]-.5*o[2],l[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){const d=s.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Oa.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,r.resolution);f.filterFrame=d.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,r.resolution),f.filterFrame=d.filterFrame),n[p].apply(this,d,f,Oa.CLEAR,r);const g=d;d=f,f=g}n[p].apply(this,d,c.renderTexture,Oa.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Oa.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(r===Oa.CLEAR||r===Oa.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(n,s),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Fa.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Fa.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:a}=r._texture,o=e.set(s.width,0,0,s.height,n.x,n.y),l=r.worldTransform.copyTo(er.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/a.width,1/a.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,s=pn.NONE){return this.texturePool.getOptimalTexture(e,r,n,s)}getFilterTexture(e,r,n){if(typeof e=="number"){const a=e;e=r,r=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||pn.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=f0[0],s=f0[1],a=f0[2],o=f0[3];n.set(r.left,r.top),s.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(s,s),e.apply(a,a),e.apply(o,o);const l=Math.min(n.x,s.x,a.x,o.x),c=Math.min(n.y,s.y,a.y,o.y),d=Math.max(n.x,s.x,a.x,o.x),f=Math.max(n.y,s.y,a.y,o.y);r.x=l,r.y=c,r.width=d-l,r.height=f-c}roundFrame(e,r,n,s,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){const{a:o,b:l,c,d}=a;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}a=a?fA.copyFrom(a):fA.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}}}EI.extension={type:Ke.RendererSystem,name:"filter"};ct.add(EI);class $9{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=pn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const fhe=new Bt;class SI{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ew(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Bt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;et.PREFER_ENV===vc.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=s=>r.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,s){const a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),s=Math.round(s),(a.width!==n||a.height!==s||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=s,this.gl.viewport(e,r,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,s,a=Gb.COLOR|Gb.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,s),o.clear(a)}initFramebuffer(e){const{gl:r}=this,n=new $9(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const s=e.colorTextures;let a=s.length;r.drawBuffers||(a=Math.min(a,1));for(let o=0;o<a;o++){const l=s[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let o=a.length;n.drawBuffers||(o=Math.min(o,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const d=a[c],f=d.parentTextureArray||d;this.renderer.texture.bind(f,0),c===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,f._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=pn.NONE;if(e<=1||r===null)return n;for(let s=0;s<r.length;s++)if(r[s]<=e){n=r[s];break}return n===1&&(n=pn.NONE),n}blit(e,r,n){const{current:s,renderer:a,gl:o,CONTEXT_UID:l}=this;if(a.context.webGLVersion!==2||!s)return;const c=s.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=s.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new ew(s.width,s.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=fhe,r.width=s.width,r.height=s.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,s=e.height,a=this.gl,o=r.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o);let l,c;this.renderer.context.webGLVersion===1?(l=a.DEPTH_STENCIL_ATTACHMENT,c=a.DEPTH_STENCIL):e.depth?(l=a.DEPTH_STENCIL_ATTACHMENT,c=a.DEPTH24_STENCIL8):(l=a.STENCIL_ATTACHMENT,c=a.STENCIL_INDEX8),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,c,n,s):a.renderbufferStorage(a.RENDERBUFFER,c,n,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,l,a.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Bt}destroy(){this.renderer=null}}SI.extension={type:Ke.RendererSystem,name:"framebuffer"};ct.add(SI);const hA={5126:4,5123:2,5121:1};class CI{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;et.PREFER_ENV===vc.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=s=>n.bindVertexArrayOES(s),e.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(s,a)=>n.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,o,l,c)=>n.drawElementsInstancedANGLE(s,a,o,l,c),e.drawArraysInstanced=(s,a,o,l)=>n.drawArraysInstancedANGLE(s,a,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const o=s[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];r.update(s)}}checkCompatibility(e,r){const n=e.attributes,s=r.attributeData;for(const a in s)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(a,'" attribute'))}getSignature(e,r){const n=e.attributes,s=r.attributeData,a=["g",e.id];for(const o in n)s[o]&&a.push(o,s[o].location);return a.join("-")}initGeometryVao(e,r,n=!0){const s=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let f=d[c];if(f)return d[l.id]=f,f;const p=e.buffers,g=e.attributes,y={},b={};for(const _ in p)y[_]=0,b[_]=0;for(const _ in g)!g[_].size&&l.attributeData[_]?g[_].size=l.attributeData[_].size:g[_].size||console.warn("PIXI Geometry attribute '".concat(_,"' size cannot be determined (likely the bound shader does not have the attribute)")),y[g[_].buffer]+=g[_].size*hA[g[_].type];for(const _ in g){const u=g[_],h=u.size;u.stride===void 0&&(y[u.buffer]===h*hA[u.type]?u.stride=0:u.stride=y[u.buffer]),u.start===void 0&&(u.start=b[u.buffer],b[u.buffer]+=h*hA[u.type])}f=s.createVertexArray(),s.bindVertexArray(f);for(let _=0;_<p.length;_++){const u=p[_];o.bind(u),n&&u._glBuffers[a].refCount++}return this.activateVao(e,l),d[l.id]=f,d[c]=f,s.bindVertexArray(null),o.unbind(za.ARRAY_BUFFER),f}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<a.length;c++){const d=a[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&o.dispose(a[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let c=null;for(const d in l){const f=l[d],p=o[f.buffer],g=p._glBuffers[s];if(r.attributeData[d]){c!==g&&(a.bind(p),c=g);const y=r.attributeData[d].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(y,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,s){const{gl:a}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*l,s||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),s||1):a.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}CI.extension={type:Ke.RendererSystem,name:"geometry"};ct.add(CI);const AL=new er;class fE{constructor(e,r){this._texture=e,this.mapCoord=new er,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],o=e[s+1];r[s]=a*n.a+o*n.c+n.tx,r[s+1]=a*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=r.orig,a=r.trim;a&&(AL.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(AL));const o=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return l[0]=(r._frame.x+c+d)/o.width,l[1]=(r._frame.y+c+d)/o.height,l[2]=(r._frame.x+r._frame.width-c+d)/o.width,l[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var hhe="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",phe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";class j9 extends ri{constructor(e,r,n){let s=null;typeof e!="string"&&r===void 0&&n===void 0&&(s=e,e=void 0,r=void 0,n=void 0),super(e||phe,r||hhe,n),this.maskSprite=s,this.maskMatrix=new er}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,s){const a=this._maskSprite,o=a._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new fE(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,s))}}class z9{constructor(e=null){this.type=vn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ri.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=vn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class AI{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const a=this.maskDataPool.pop()||new z9;a.pooled=!0,a.maskObject=r,n=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==vn.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case vn.SCISSOR:this.renderer.scissor.push(n);break;case vn.STENCIL:this.renderer.stencil.push(n);break;case vn.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case vn.COLOR:this.pushColorMask(n);break}n.type===vn.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case vn.SCISSOR:this.renderer.scissor.pop(r);break;case vn.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case vn.SPRITE:this.popSpriteMask(r);break;case vn.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===vn.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=vn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=vn.SCISSOR:e.type=vn.STENCIL:e.type=vn.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new j9])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=r;const a=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}AI.extension={type:Ke.RendererSystem,name:"mask"};ct.add(AI);class V9{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==n&&(s===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const TL=new er,PL=[],G9=class R1 extends V9{constructor(e){super(e),this.glConst=et.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var l;if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:s}=this,a=s.renderTexture,o=n.getBounds(!0,(l=PL.pop())!=null?l:new Bt);this.roundFrameToPixels(o,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:s,d:a}=e;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||R1.isMatrixRotated(r.worldTransform)||R1.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,s,a){R1.isMatrixRotated(a)||(a=a?TL.copyFrom(a):TL.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&PL.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};G9.extension={type:Ke.RendererSystem,name:"scissor"};let H9=G9;ct.add(H9);class TI extends V9{constructor(e){super(e),this.glConst=et.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(e._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(n._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}TI.extension={type:Ke.RendererSystem,name:"stencil"};ct.add(TI);class PI{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}PI.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"_plugin"};ct.add(PI);class DI{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new er,this.transform=null}update(e,r,n,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,r,n,s){const a=this.projectionMatrix,o=s?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d}setTransform(e){}destroy(){this.renderer=null}}DI.extension={type:Ke.RendererSystem,name:"projection"};ct.add(DI);const mhe=new Np,DL=new Bt;class RI{constructor(e){this.renderer=e,this._tempMatrix=new er}generateTexture(e,r){var d;const{region:n,...s}=r||{},a=(n==null?void 0:n.copyTo(DL))||e.getLocalBounds(DL,!0),o=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/o),a.height=Math.max(a.height,1/o),s.width=a.width,s.height=a.height,s.resolution=o,(d=s.multisample)!=null||(s.multisample=this.renderer.multisample);const l=_c.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const c=e.transform;return e.transform=mhe,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,l}destroy(){}}RI.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"textureGenerator"};ct.add(RI);const Nc=new Bt,Dm=new Bt;class OI{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.viewportFrame=new Bt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const s=this.renderer;this.current=e;let a,o,l;e?(a=e.baseTexture,l=a.resolution,r||(Nc.width=e.frame.width,Nc.height=e.frame.height,r=Nc),n||(Dm.x=e.frame.x,Dm.y=e.frame.y,Dm.width=r.width,Dm.height=r.height,n=Dm),o=a.framebuffer):(l=s.resolution,r||(Nc.width=s._view.screen.width,Nc.height=s._view.screen.height,r=Nc),n||(n=Nc,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=s.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=lr.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=a.width!==o.width||a.height!==o.height;if(l){let{x:c,y:d,width:f,height:p}=this.viewportFrame;c=Math.round(c),d=Math.round(d),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,f,p)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}OI.extension={type:Ke.RendererSystem,name:"renderTexture"};ct.add(OI);class ghe{}class W9{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function vhe(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const a=e.getActiveAttrib(t,s);if(a.name.startsWith("gl_"))continue;const o=M9(e,a.type),l={type:o,name:a.name,size:F9(o),location:e.getAttribLocation(t,a.name)};r[a.name]=l}return r}function yhe(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const a=e.getActiveUniform(t,s),o=a.name.replace(/\[.*?\]$/,""),l=!!a.name.match(/\[.*?\]$/),c=M9(e,a.type);r[o]={name:o,index:s,type:c,size:a.size,isArray:l,value:O9(c,a.size)}}return r}function K9(t,e){var l;const r=bL(t,t.VERTEX_SHADER,e.vertexSrc),n=bL(t,t.FRAGMENT_SHADER,e.fragmentSrc),s=t.createProgram();t.attachShader(s,r),t.attachShader(s,n);const a=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(a&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||rhe(t,s,r,n),e.attributeData=vhe(s,t),e.uniformData=yhe(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,f)=>d>f?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(s,d,c[d]);t.linkProgram(s)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(s,c),value:O9(d.type,d.size)}}return new W9(s,o)}function _he(t,e,r,n,s){r.buffer.update(s)}const bhe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},X9={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Y9(t){const e=t.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let r=0,n=0,s=0;for(let a=0;a<e.length;a++){const o=e[a];if(r=X9[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,s+=l}n+r>16?(s=Math.ceil(s/16)*16,o.offset=s,s+=r,n=r):(o.offset=s,n+=r,s+=r)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function q9(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,s)=>n.index-s.index),r}function Z9(t,e){if(!t.autoManage)return{size:0,syncFunc:_he};const r=q9(t.uniforms,e),{uboElements:n,size:s}=Y9(r),a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let o=0;o<n.length;o++){const l=n[o],c=t.uniforms[l.data.name],d=l.data.name;let f=!1;for(let p=0;p<bd.length;p++){const g=bd[p];if(g.codeUbo&&g.test(l.data,c)){a.push("offset = ".concat(l.offset/4,";"),bd[p].codeUbo(l.data.name,c)),f=!0;break}}if(!f)if(l.data.size>1){const p=F9(l.data.type),g=Math.max(X9[l.data.type]/16,1),y=p/g,b=(4-y%4)%4;a.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(l.data.size*g,"; i++)\n                {\n                    for(var j = 0; j < ").concat(y,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(b,";\n                }\n\n                "))}else{const p=bhe[l.data.type];a.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n                ").concat(p,";\n                "))}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}let whe=0;const h0={textureCount:0,uboCount:0};class II{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=whe++}systemCheck(){if(!k9())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),r||(h0.textureCount=0,h0.uboCount=0,this.syncUniformGroup(e.uniformGroup,h0)),s}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=ehe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const s=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),s(n.uniformData,e.uniforms,this.renderer,h0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=Z9(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const s=e.uniforms,a=["".concat(n,"-")];for(const o in s)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,s=K9(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}II.extension={type:Ke.RendererSystem,name:"shader"};ct.add(II);class Av{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log("PixiJS 7.4.3 - ".concat(r.rendererLogId," - https://pixijs.com")),r.resize(r.screen.width,r.screen.height)}destroy(){}}Av.defaultOptions={hello:!1},Av.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"startup"};ct.add(Av);function xhe(t,e=[]){return e[wt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.ADD]=[t.ONE,t.ONE],e[wt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.NONE]=[0,0],e[wt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[wt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[wt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[wt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[wt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[wt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[wt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[wt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[wt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[wt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Ehe=0,She=1,Che=2,Ahe=3,The=4,Phe=5,J9=class vD{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=wt.NONE,this._blendEq=!1,this.map=[],this.map[Ehe]=this.setBlend,this.map[She]=this.setOffset,this.map[Che]=this.setCullFace,this.map[Ahe]=this.setDepthTest,this.map[The]=this.setFrontFace,this.map[Phe]=this.setDepthMask,this.checks=[],this.defaultState=new Ya,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=xhe(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(vD.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(vD.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};J9.extension={type:Ke.RendererSystem,name:"state"};let Q9=J9;ct.add(Q9);class eV extends Mp{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var s;this.addRunners(...e.runners);const r=((s=e.priority)!=null?s:[]).filter(a=>e.systems[a]),n=[...r,...Object.keys(e.systems).filter(a=>!r.includes(a))];for(const a of n)this.addSystem(e.systems[a],a)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ts(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error('Whoops! The name "'.concat(r,'" is already in use'));this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=n.find(o=>this._systemsHash[o]===s);s[e.name](r[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ym=class O1{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=O1.defaultMaxIdle,this.checkCountMax=O1.defaultCheckCountMax,this.mode=O1.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==rE.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let s=0;s<r.length;s++){const a=r[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[s]=null,n=!0)}if(n){let s=0;for(let a=0;a<r.length;a++)r[a]!==null&&(r[s++]=r[a]);r.length=s}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};Ym.defaultMode=rE.AUTO,Ym.defaultMaxIdle=60*60,Ym.defaultCheckCountMax=60*10,Ym.extension={type:Ke.RendererSystem,name:"textureGC"};let fu=Ym;ct.add(fu);class I1{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=mt.UNSIGNED_BYTE,this.internalFormat=Be.RGBA,this.samplerType=0}}function Dhe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Ze.FLOAT,[t.RGBA]:Ze.FLOAT,[t.ALPHA]:Ze.FLOAT,[t.LUMINANCE]:Ze.FLOAT,[t.LUMINANCE_ALPHA]:Ze.FLOAT,[t.R8]:Ze.FLOAT,[t.R8_SNORM]:Ze.FLOAT,[t.RG8]:Ze.FLOAT,[t.RG8_SNORM]:Ze.FLOAT,[t.RGB8]:Ze.FLOAT,[t.RGB8_SNORM]:Ze.FLOAT,[t.RGB565]:Ze.FLOAT,[t.RGBA4]:Ze.FLOAT,[t.RGB5_A1]:Ze.FLOAT,[t.RGBA8]:Ze.FLOAT,[t.RGBA8_SNORM]:Ze.FLOAT,[t.RGB10_A2]:Ze.FLOAT,[t.RGB10_A2UI]:Ze.FLOAT,[t.SRGB8]:Ze.FLOAT,[t.SRGB8_ALPHA8]:Ze.FLOAT,[t.R16F]:Ze.FLOAT,[t.RG16F]:Ze.FLOAT,[t.RGB16F]:Ze.FLOAT,[t.RGBA16F]:Ze.FLOAT,[t.R32F]:Ze.FLOAT,[t.RG32F]:Ze.FLOAT,[t.RGB32F]:Ze.FLOAT,[t.RGBA32F]:Ze.FLOAT,[t.R11F_G11F_B10F]:Ze.FLOAT,[t.RGB9_E5]:Ze.FLOAT,[t.R8I]:Ze.INT,[t.R8UI]:Ze.UINT,[t.R16I]:Ze.INT,[t.R16UI]:Ze.UINT,[t.R32I]:Ze.INT,[t.R32UI]:Ze.UINT,[t.RG8I]:Ze.INT,[t.RG8UI]:Ze.UINT,[t.RG16I]:Ze.INT,[t.RG16UI]:Ze.UINT,[t.RG32I]:Ze.INT,[t.RG32UI]:Ze.UINT,[t.RGB8I]:Ze.INT,[t.RGB8UI]:Ze.UINT,[t.RGB16I]:Ze.INT,[t.RGB16UI]:Ze.UINT,[t.RGB32I]:Ze.INT,[t.RGB32UI]:Ze.UINT,[t.RGBA8I]:Ze.INT,[t.RGBA8UI]:Ze.UINT,[t.RGBA16I]:Ze.INT,[t.RGBA16UI]:Ze.UINT,[t.RGBA32I]:Ze.INT,[t.RGBA32UI]:Ze.UINT,[t.DEPTH_COMPONENT16]:Ze.FLOAT,[t.DEPTH_COMPONENT24]:Ze.FLOAT,[t.DEPTH_COMPONENT32F]:Ze.FLOAT,[t.DEPTH_STENCIL]:Ze.FLOAT,[t.DEPTH24_STENCIL8]:Ze.FLOAT,[t.DEPTH32F_STENCIL8]:Ze.FLOAT}:e={[t.RGB]:Ze.FLOAT,[t.RGBA]:Ze.FLOAT,[t.ALPHA]:Ze.FLOAT,[t.LUMINANCE]:Ze.FLOAT,[t.LUMINANCE_ALPHA]:Ze.FLOAT,[t.DEPTH_STENCIL]:Ze.FLOAT},e}function Rhe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[mt.UNSIGNED_BYTE]:{[Be.RGBA]:t.RGBA8,[Be.RGB]:t.RGB8,[Be.RG]:t.RG8,[Be.RED]:t.R8,[Be.RGBA_INTEGER]:t.RGBA8UI,[Be.RGB_INTEGER]:t.RGB8UI,[Be.RG_INTEGER]:t.RG8UI,[Be.RED_INTEGER]:t.R8UI,[Be.ALPHA]:t.ALPHA,[Be.LUMINANCE]:t.LUMINANCE,[Be.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[mt.BYTE]:{[Be.RGBA]:t.RGBA8_SNORM,[Be.RGB]:t.RGB8_SNORM,[Be.RG]:t.RG8_SNORM,[Be.RED]:t.R8_SNORM,[Be.RGBA_INTEGER]:t.RGBA8I,[Be.RGB_INTEGER]:t.RGB8I,[Be.RG_INTEGER]:t.RG8I,[Be.RED_INTEGER]:t.R8I},[mt.UNSIGNED_SHORT]:{[Be.RGBA_INTEGER]:t.RGBA16UI,[Be.RGB_INTEGER]:t.RGB16UI,[Be.RG_INTEGER]:t.RG16UI,[Be.RED_INTEGER]:t.R16UI,[Be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[mt.SHORT]:{[Be.RGBA_INTEGER]:t.RGBA16I,[Be.RGB_INTEGER]:t.RGB16I,[Be.RG_INTEGER]:t.RG16I,[Be.RED_INTEGER]:t.R16I},[mt.UNSIGNED_INT]:{[Be.RGBA_INTEGER]:t.RGBA32UI,[Be.RGB_INTEGER]:t.RGB32UI,[Be.RG_INTEGER]:t.RG32UI,[Be.RED_INTEGER]:t.R32UI,[Be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[mt.INT]:{[Be.RGBA_INTEGER]:t.RGBA32I,[Be.RGB_INTEGER]:t.RGB32I,[Be.RG_INTEGER]:t.RG32I,[Be.RED_INTEGER]:t.R32I},[mt.FLOAT]:{[Be.RGBA]:t.RGBA32F,[Be.RGB]:t.RGB32F,[Be.RG]:t.RG32F,[Be.RED]:t.R32F,[Be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[mt.HALF_FLOAT]:{[Be.RGBA]:t.RGBA16F,[Be.RGB]:t.RGB16F,[Be.RG]:t.RG16F,[Be.RED]:t.R16F},[mt.UNSIGNED_SHORT_5_6_5]:{[Be.RGB]:t.RGB565},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Be.RGBA]:t.RGBA4},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Be.RGBA]:t.RGB5_A1},[mt.UNSIGNED_INT_2_10_10_10_REV]:{[Be.RGBA]:t.RGB10_A2,[Be.RGBA_INTEGER]:t.RGB10_A2UI},[mt.UNSIGNED_INT_10F_11F_11F_REV]:{[Be.RGB]:t.R11F_G11F_B10F},[mt.UNSIGNED_INT_5_9_9_9_REV]:{[Be.RGB]:t.RGB9_E5},[mt.UNSIGNED_INT_24_8]:{[Be.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[mt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Be.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[mt.UNSIGNED_BYTE]:{[Be.RGBA]:t.RGBA,[Be.RGB]:t.RGB,[Be.ALPHA]:t.ALPHA,[Be.LUMINANCE]:t.LUMINANCE,[Be.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[mt.UNSIGNED_SHORT_5_6_5]:{[Be.RGB]:t.RGB},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Be.RGBA]:t.RGBA},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Be.RGBA]:t.RGBA}},e}class BI{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ot,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Rhe(e),this.samplerTypes=Dhe(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let s=0;s<r;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new I1(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new I1(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===e&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[s]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let a=e-1;a>=0;--a){const o=r[a];o&&o._glTextures[s].samplerType!==Ze.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new I1(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,s,a;r.internalFormat=(s=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?s:e.format,r.samplerType=(a=this.samplerTypes[r.internalFormat])!=null?a:Ze.FLOAT,this.webGLVersion===2&&e.type===mt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var s;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(s=e.resource)==null?void 0:s.upload(n,e,r))r.samplerType!==Ze.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==a||r.height!==o||r.dirtyId<0)&&(r.width=a,r.height=o,l.texImage2D(e.target,0,r.internalFormat,a,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const s=this.managedTextures.indexOf(e);s!==-1&&_d(this.managedTextures,s,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ka.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=To.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Ka.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===bo.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===bo.LINEAR){const a=Math.min(e.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===bo.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===bo.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}BI.extension={type:Ke.RendererSystem,name:"texture"};ct.add(BI);class FI{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:s}=this;r&&s.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:s}=this,a=r.createTransformFeedback();e._glTransformFeedbacks[s]=a,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,a);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[s].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[s].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&a.dispose(l,r))}n&&(r||s.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}FI.extension={type:Ke.RendererSystem,name:"transformFeedback"};ct.add(FI);class Tv{constructor(e){this.renderer=e}init(e){this.screen=new Bt(0,0,e.width,e.height),this.element=e.view||et.ADAPTER.createCanvas(),this.resolution=e.resolution||et.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(s,"px")),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Tv.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Tv.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"_view"};ct.add(Tv);et.PREFER_ENV=vc.WEBGL2;et.STRICT_TEXTURE_CACHE=!1;et.RENDER_OPTIONS={...Cv.defaultOptions,...Sv.defaultOptions,...Tv.defaultOptions,...Av.defaultOptions};Object.defineProperties(et,{WRAP_MODE:{get(){return Ot.defaultOptions.wrapMode},set(t){At("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ot.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ot.defaultOptions.scaleMode},set(t){At("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ot.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ot.defaultOptions.mipmap},set(t){At("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ot.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ot.defaultOptions.anisotropicLevel},set(t){At("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ot.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return At("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ri.defaultResolution},set(t){ri.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return At("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ri.defaultMultisample},set(t){ri.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return du.defaultMaxTextures},set(t){At("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),du.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return du.defaultBatchSize},set(t){At("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),du.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return du.canUploadSameBuffer},set(t){At("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),du.canUploadSameBuffer=t}},GC_MODE:{get(){return fu.defaultMode},set(t){At("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),fu.defaultMode=t}},GC_MAX_IDLE:{get(){return fu.defaultMaxIdle},set(t){At("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),fu.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return fu.defaultCheckCountMax},set(t){At("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),fu.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return wo.defaultVertexPrecision},set(t){At("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),wo.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return wo.defaultFragmentPrecision},set(t){At("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),wo.defaultFragmentPrecision=t}}});var Bo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Bo||{});class pA{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=s}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const tV=class us{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new pA(null,null,1/0),this.deltaMS=1/us.targetFPMS,this.elapsedMS=1/us.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Bo.NORMAL){return this._addListener(new pA(e,r,n))}addOnce(e,r,n=Bo.NORMAL){return this._addListener(new pA(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*us.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,us.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!us._shared){const e=us._shared=new us;e.autoStart=!0,e._protected=!0}return us._shared}static get system(){if(!us._system){const e=us._system=new us;e.autoStart=!0,e._protected=!0}return us._system}};tV.targetFPMS=.06;let En=tV;Object.defineProperties(et,{TARGET_FPMS:{get(){return En.targetFPMS},set(t){At("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),En.targetFPMS=t}}});class MI{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Bo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?En.shared:new En,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}MI.extension=Ke.Application;ct.add(MI);const rV=[];ct.handleByList(Ke.Renderer,rV);function nV(t){for(const e of rV)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Ohe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Ihe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const iV=Ohe,kI=Ihe;class NI{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=pn.HIGH?this.multisample=pn.HIGH:r>=pn.MEDIUM?this.multisample=pn.MEDIUM:r>=pn.LOW?this.multisample=pn.LOW:this.multisample=pn.NONE}destroy(){}}NI.extension={type:Ke.RendererSystem,name:"_multisample"};ct.add(NI);class Bhe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class LI{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[r]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,a.buffer)}}bindBufferRange(e,r,n){const{gl:s,CONTEXT_UID:a}=this;n=n||0;const o=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const a=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,a)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),n&&(r||s.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Bhe(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}LI.extension={type:Ke.RendererSystem,name:"buffer"};ct.add(LI);class UI{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let s,a,o,l;if(r&&(s=r.renderTexture,a=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(s||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(a!=null?a:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),s&&(r.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}UI.extension={type:Ke.RendererSystem,name:"objectRenderer"};ct.add(UI);const B1=class yD extends eV{constructor(e){super(),this.type=aI.WEBGL,e=Object.assign({},et.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ca({projectionMatrix:new er},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:yD.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(At("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=yD.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:h9()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return At("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return At("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return At("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return At("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){At("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return At("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){At("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return At("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};B1.extension={type:Ke.Renderer,priority:1},B1.__plugins={},B1.__systems={};let hE=B1;ct.handleByMap(Ke.RendererPlugin,hE.__plugins);ct.handleByMap(Ke.RendererSystem,hE.__systems);ct.add(hE);class $I extends op{constructor(e,r){const{width:n,height:s}=r||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const o=new Ot;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof op?this.addResourceAt(e[n],n):this.addResourceAt(gI(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class sV extends $I{constructor(e,r){const{width:n,height:s}=r||{};let a,o;Array.isArray(e)?(a=e,o=e.length):o=e,super(o,{width:n,height:s}),a&&this.initFromArray(a,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=vd.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:s,itemDirtyIds:a,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,r.format,n.type,null);for(let c=0;c<s;c++){const d=o[c];a[c]<d.dirtyId&&(a[c]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class aV extends Io{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const oV=class qm extends $I{constructor(e,r){const{width:n,height:s,autoLoad:a,linkBaseTexture:o}=r||{};if(e&&e.length!==qm.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));super(6,{width:n,height:s});for(let l=0;l<qm.SIDES;l++)this.items[l].target=vd.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),a!==!1&&this.load()}bind(e){super.bind(e),e.target=vd.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=vd.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const s=this.itemDirtyIds;for(let a=0;a<qm.SIDES;a++){const o=this.items[a];(s[a]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),s[a]=o.dirtyId):s[a]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===qm.SIDES}};oV.SIDES=6;let lV=oV;class od extends Io{constructor(e,r){var o,l;r=r||{};let n,s,a;typeof e=="string"?(n=od.EMPTY,s=e,a=!0):(n=e,s=null,a=!1),super(n),this.url=s,this.crossOrigin=(o=r.crossOrigin)!=null?o:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=(l=r.ownsImageBitmap)!=null?l:a,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await et.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ii.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return od._EMPTY=(e=od._EMPTY)!=null?e:et.ADAPTER.createCanvas(0,0),od._EMPTY}}const _D=class F1 extends Io{constructor(e,r){r=r||{},super(et.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},F1.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Io.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=r*this.scale,a=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*r,a=this._overrideHeight||this._overrideWidth/r*n),s=Math.round(s),a=Math.round(a);const o=this.source;o.width=s,o.height=a,o._pixiId="canvas_".concat(Qu()),o.getContext("2d").drawImage(e,0,0,r,n,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const r=F1.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&F1.SVG_XML.test(e)}};_D.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,_D.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let tw=_D;class Fhe extends Io{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const bD=class wD extends Io{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Io.crossOrigin(n,s,r.crossorigin);for(let a=0;a<e.length;++a){const o=document.createElement("source");let{src:l,mime:c}=e[a];if(l=l||e[a],l.startsWith("data:"))c=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const d=l.split("?").shift().toLowerCase(),f=d.slice(d.lastIndexOf(".")+1);c=c||wD.MIME_TYPES[f]||"video/".concat(f)}o.src=l,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=En.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(En.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(En.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(En.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||wD.TYPES.includes(r)}};bD.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],bD.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let jI=bD;Zb.push(od,bI,aV,jI,Fhe,tw,Ny,lV,sV);class Mhe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Ts("disposeTransformFeedback")}bindBuffer(e,r){this.buffers[e]=r}destroy(){this.disposeRunner.emit(this,!1)}}const khe="7.4.3";class Pv{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Bt.EMPTY:(e=e||new Bt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:s,c:a,d:o,tx:l,ty:c}=e,d=n*r.x+a*r.y+l,f=s*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,s=this.maxX,a=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,this.minX=r,this.minY=n,this.maxX=s,this.maxY=a}addFrame(e,r,n,s,a){this.addFrameMatrix(e.worldTransform,r,n,s,a)}addFrameMatrix(e,r,n,s,a){const o=e.a,l=e.b,c=e.c,d=e.d,f=e.tx,p=e.ty;let g=this.minX,y=this.minY,b=this.maxX,_=this.maxY,u=o*r+c*n+f,h=l*r+d*n+p;g=u<g?u:g,y=h<y?h:y,b=u>b?u:b,_=h>_?h:_,u=o*s+c*n+f,h=l*s+d*n+p,g=u<g?u:g,y=h<y?h:y,b=u>b?u:b,_=h>_?h:_,u=o*r+c*a+f,h=l*r+d*a+p,g=u<g?u:g,y=h<y?h:y,b=u>b?u:b,_=h>_?h:_,u=o*s+c*a+f,h=l*s+d*a+p,g=u<g?u:g,y=h<y?h:y,b=u>b?u:b,_=h>_?h:_,this.minX=g,this.minY=y,this.maxX=b,this.maxY=_}addVertexData(e,r,n){let s=this.minX,a=this.minY,o=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],f=e[c+1];s=d<s?d:s,a=f<a?f:a,o=d>o?d:o,l=f>l?f:l}this.minX=s,this.minY=a,this.maxX=o,this.maxY=l}addVertices(e,r,n,s){this.addVerticesMatrix(e.worldTransform,r,n,s)}addVerticesMatrix(e,r,n,s,a=0,o=a){const l=e.a,c=e.b,d=e.c,f=e.d,p=e.tx,g=e.ty;let y=this.minX,b=this.minY,_=this.maxX,u=this.maxY;for(let h=n;h<s;h+=2){const m=r[h],v=r[h+1],w=l*m+d*v+p,x=f*v+c*m+g;y=Math.min(y,w-a),_=Math.max(_,w+a),b=Math.min(b,x-o),u=Math.max(u,x+o)}this.minX=y,this.minY=b,this.maxX=_,this.maxY=u}addBounds(e){const r=this.minX,n=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,s=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&s<=o){const l=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=a>d?a:d,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,s=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&s<=o){const l=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=a>d?a:d,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,s,a,o){e-=a,r-=o,n+=a,s+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>s?this.maxY:s}}class Hr extends Mp{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Np,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Pv,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];Object.defineProperty(Hr.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Bt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){var l;e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Pv);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(l=n==null?void 0:n.worldAlpha)!=null?l:1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-a,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,s){return r&&(e=r.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,s=1,a=0,o=0,l=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=s||1,this.rotation=a,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new uV),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*T9}set angle(e){this.transform.rotation=e*P9}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class uV extends Hr{constructor(){super(...arguments),this.sortDirty=null}}Hr.prototype.displayObjectUpdateTransform=Hr.prototype.updateTransform;const Nhe=new er;function Lhe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const cV=class xD extends Hr{constructor(){super(),this.children=[],this.sortableChildren=xD.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(r," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),s=this.getChildIndex(r);this.children[n]=r,this.children[s]=e,this.onChildrenChange(n<s?n:s)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error("The index ".concat(r," supplied is out of bounds ").concat(this.children.length));const n=this.getChildIndex(e);_d(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,_d(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,_d(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,s=r,a=s-n;let o;if(a>0&&a<=s){o=this.children.splice(n,a);for(let l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const s=this.children[r];s._lastSortedIndex=r,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Lhe),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let s=0,a=this.children.length;s<a;++s){const o=this.children[s];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==xD.prototype._render&&(n=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=Nhe.copyFrom(s),s.prepend(a)):s=a),n&&r.intersects(n,s))this._render(e);else if(this.cullArea)return;for(let o=0,l=this.children.length;o<l;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}}renderAdvanced(e){var a,o,l;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const s=r&&((a=this._enabledFilters)==null?void 0:a.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==vn.NONE));if(s&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let s=0;s<n.length;++s)n[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};cV.defaultSortableChildren=!1;let ss=cV;ss.prototype.containerUpdateTransform=ss.prototype.updateTransform;Object.defineProperties(et,{SORTABLE_CHILDREN:{get(){return ss.defaultSortableChildren},set(t){At("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ss.defaultSortableChildren=t}}});const Rm=new ze,Uhe=new Uint16Array([0,1,2,0,2,3]);let sf=class dV extends ss{constructor(e){super(),this._anchor=new ka(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new lr(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=wt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Je.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Uhe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=et.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=dl(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=dl(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,c=r.ty,d=this.vertexData,f=e.trim,p=e.orig,g=this._anchor;let y=0,b=0,_=0,u=0;if(f?(b=f.x-g._x*p.width,y=b+f.width,u=f.y-g._y*p.height,_=u+f.height):(b=-g._x*p.width,y=b+p.width,u=-g._y*p.height,_=u+p.height),d[0]=n*b+a*u+l,d[1]=o*u+s*b+c,d[2]=n*y+a*u+l,d[3]=o*u+s*y+c,d[4]=n*y+a*_+l,d[5]=o*_+s*y+c,d[6]=n*b+a*_+l,d[7]=o*_+s*b+c,this._roundPixels){const h=et.RESOLUTION;for(let m=0;m<d.length;++m)d[m]=Math.round(d[m]*h)/h}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,s=this._anchor,a=this.transform.worldTransform,o=a.a,l=a.b,c=a.c,d=a.d,f=a.tx,p=a.ty,g=-s._x*n.width,y=g+n.width,b=-s._y*n.height,_=b+n.height;if(r[0]=o*g+c*b+f,r[1]=d*b+l*g+p,r[2]=o*y+c*b+f,r[3]=d*b+l*y+p,r[4]=o*y+c*_+f,r[5]=d*_+l*y+p,r[6]=o*g+c*_+f,r[7]=d*_+l*g+p,this._roundPixels){const u=et.RESOLUTION;for(let h=0;h<r.length;++h)r[h]=Math.round(r[h]*u)/u}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Pv),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Rm);const r=this._texture.orig.width,n=this._texture.orig.height,s=-r*this.anchor.x;let a=0;return Rm.x>=s&&Rm.x<s+r&&(a=-n*this.anchor.y,Rm.y>=a&&Rm.y<a+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof Je?e:Je.from(e,r);return new dV(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=dl(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=dl(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Je.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const fV=new er;Hr.prototype._cacheAsBitmap=!1;Hr.prototype._cacheData=null;Hr.prototype._cacheAsBitmapResolution=null;Hr.prototype._cacheAsBitmapMultisample=null;class $he{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Hr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new $he),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Hr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Hr.prototype._initCachedDisplayObject=function(t){var g,y,b;if((g=this._cacheData)!=null&&g.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Bt,!0);if((y=this.filters)!=null&&y.length){const _=this.filters[0].padding;r.pad(_)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=_c.create({width:r.width,height:r.height,resolution:n,multisample:(b=this.cacheAsBitmapMultisample)!=null?b:t.multisample}),d="cacheAsBitmap_".concat(Qu());this._cacheData.textureCacheId=d,Ot.addToCache(c.baseTexture,d),Je.addToCache(c,d);const f=this.transform.localTransform.copyTo(fV).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(s,a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new sf(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};Hr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Hr.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new Bt,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,s=t._projTransform,a=this.cacheAsBitmapResolution||t.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const o=_c.create({width:e.width,height:e.height,resolution:a}),l="cacheAsBitmap_".concat(Qu());this._cacheData.textureCacheId=l,Ot.addToCache(o.baseTexture,l),Je.addToCache(o,l);const c=fV;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new sf(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};Hr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Hr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Hr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ot.removeFromCache(this._cacheData.textureCacheId),Je.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Hr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Hr.prototype.name=null;ss.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const s=this.children[r];if(!s.getChildByName)continue;const a=s.getChildByName(t,!0);if(a)return a}return null};Hr.prototype.getGlobalPosition=function(t=new ze,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var jhe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";class hV extends ri{constructor(e=1){super(iV,jhe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const zhe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Vhe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function Ghe(t){const e=zhe[t],r=e.length;let n=Vhe,s="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=a.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),s+=c,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}const Hhe="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function Whe(t,e){const r=Math.ceil(t/2);let n=Hhe,s="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=a.replace("%index%",o.toString());l=l.replace("%sampleIndex%","".concat(o-(r-1),".0")),s+=l,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}class rw extends ri{constructor(e,r=8,n=4,s=ri.defaultResolution,a=5){const o=Whe(a,e),l=Ghe(a);super(o,l),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,s);else{const a=e.getFilterTexture(),o=e.renderer;let l=r,c=a;this.state.blend=!1,e.applyFilter(this,l,c,Oa.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,Oa.BLIT),this.uniforms.uSampler=c;const f=c;c=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let pV=class extends ri{constructor(e=8,r=4,n=ri.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new rw(!0,e,r,n,s),this.blurYFilter=new rw(!1,e,r,n,s),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,s){const a=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(a&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Oa.CLEAR),this.blurYFilter.apply(e,l,n,s),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,s):this.blurXFilter.apply(e,r,n,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};var Khe="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";class nw extends ri{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(kI,Khe,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,s,a]=lr.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),s=Math.sin(e),a=Math.sqrt,o=1/3,l=a(o),c=n+(1-n)*o,d=o*(1-n)-l*s,f=o*(1-n)+l*s,p=o*(1-n)+l*s,g=n+o*(1-n),y=o*(1-n)-l*s,b=o*(1-n)-l*s,_=o*(1-n)+l*s,u=n+o*(1-n),h=[c,d,f,0,0,p,g,y,0,0,b,_,u,0,0,0,0,0,1,0];this._loadMatrix(h,r)}contrast(e,r){const n=(e||0)+1,s=-.5*(n-1),a=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(a,r)}saturate(e=0,r){const n=e*2/3+1,s=(n-1)*-.5,a=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(a,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,s,a){e=e||.2,r=r||.15,n=n||16770432,s=s||3375104;const o=lr.shared,[l,c,d]=o.setValue(n).toArray(),[f,p,g]=o.setValue(s).toArray(),y=[.3,.59,.11,0,0,l,c,d,e,0,f,p,g,r,0,l-f,c-p,d-g,0,0];this._loadMatrix(y,a)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}nw.prototype.grayscale=nw.prototype.greyscale;var Xhe="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Yhe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";class mV extends ri{constructor(e,r){const n=new er;e.renderable=!1,super(Yhe,Xhe,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ze(r,r)}apply(e,r,n,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,o=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/o,this.uniforms.rotation[1]=a.b/o,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),e.applyFilter(this,r,n,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var qhe='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Zhe="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";class gV extends ri{constructor(){super(Zhe,qhe)}}var Jhe="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";let vV=class extends ri{constructor(e=.5,r=Math.random()){super(kI,Jhe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};const ED={AlphaFilter:hV,BlurFilter:pV,BlurFilterPass:rw,ColorMatrixFilter:nw,DisplacementFilter:mV,FXAAFilter:gV,NoiseFilter:vV};Object.entries(ED).forEach(([t,e])=>{Object.defineProperty(ED,t,{get(){return At("7.1.0","filters.".concat(t," has moved to ").concat(t)),e}})});class Qhe{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(En.system.add(this.tickerUpdate,this,Bo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(En.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const _u=new Qhe;class Lp{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Lp.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ze,this.page=new ze,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Dv extends Lp{constructor(){super(...arguments),this.client=new ze,this.movement=new ze,this.offset=new ze,this.global=new ze,this.screen=new ze}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,s,a,o,l,c,d,f,p,g,y,b,_){throw new Error("Method not implemented.")}}class Vs extends Dv{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class wd extends Dv{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}wd.DOM_DELTA_PIXEL=0,wd.DOM_DELTA_LINE=1,wd.DOM_DELTA_PAGE=2;const epe=2048,tpe=new ze,mA=new ze;class yV{constructor(e){this.dispatch=new Mp,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,s)=>n.priority-s.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,s=r.length;n<s;n++)r[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,r){_u.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,tpe.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=n.length-1;s<a;s++)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(r)?r:[r];for(let a=n.length-1;a>=0;a--)s.forEach(o=>{e.currentTarget=n[a],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<epe&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,s,a,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(_u.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const g=f[p],y=this.hitTestMoveRecursive(g,this._isInteractive(r)?r:g.eventMode,n,s,a,o||a(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const b=e.isInteractive();(y.length>0||b)&&(b&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),l=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:c&&!a(e,n)&&s(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,s,a){if(this._interactivePrune(e)||a(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(_u.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const f=c[d],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,s,a);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const g=e.isInteractive();return(p.length>0||g)&&p.push(e),p}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&s(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,mA),!e.hitArea.contains(mA.x,mA.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((n=s.containsPoint)!=null&&n.call(s,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var a,o;r=r!=null?r:e.type;const n="on".concat(r);(o=(a=e.currentTarget)[n])==null||o.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const s=r.button===2;this.dispatchEvent(r,s?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d,f;if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((c=s.overTargets)==null?void 0:c.length)>0&&a!==r.target){const p=e.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(e,p,a);if(this.dispatchEvent(g,"pointerout"),n&&this.dispatchEvent(g,"mouseout"),!r.composedPath().includes(a)){const y=this.createPointerEvent(e,"pointerleave",a);for(y.eventPhase=y.AT_TARGET;y.target&&!r.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(g)}if(a!==r.target){const p=e.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(r,p);this.dispatchEvent(g,"pointerover"),n&&this.dispatchEvent(g,"mouseover");let y=a==null?void 0:a.parent;for(;y&&y!==this.rootTarget.parent&&y!==r.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const b=this.clonePointerEvent(r,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==a&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),n&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(g)}const o=[],l=(d=this.enableGlobalMoveEvents)!=null?d:!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(f=r.target)==null?void 0:f.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const a=this.clonePointerEvent(n,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(r.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),n&&this.dispatchEvent(a,"mouseout");const o=this.createPointerEvent(e,"pointerleave",s);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(a),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let o=a;if(a&&!n.composedPath().includes(a)){let l=a;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete s.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=s.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const d=l.button===2;this.dispatchEvent(l,d?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(n){let a=n;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof wd)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){var a;const s=this.allocateEvent(Vs);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=(a=n!=null?n:this.hitTest(s.global.x,s.global.y))!=null?a:this._hitElements[0],typeof r=="string"&&(s.type=r),s}createWheelEvent(e){const r=this.allocateEvent(wd);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Vs);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r!=null?r:n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Vs&&r instanceof Vs&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Dv&&r instanceof Dv&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let s=0,a=n.length;s<a&&!e.propagationImmediatelyStopped;s++)n[s].once&&e.currentTarget.removeListener(r,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,e)}}const rpe=1,npe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},SD=class CD{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new yV(null),_u.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Vs(null),this.rootWheelEvent=new wd(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...CD.defaultEventFeatures},{set:(r,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),r[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var s,a;const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,CD._defaultEventMode=(s=e.eventMode)!=null?s:"auto",Object.assign(this.features,(a=e.eventFeatures)!=null?a:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,s=r.length;n<s;n++){const a=r[n],o=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,_u.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const a=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,o=s.length;a<o;a++){const l=this.bootstrapEvent(this.rootPointerEvent,s[a]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const a=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,_u.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;_u.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;_u.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(r-s.left)*(this.domElement.width/s.width)*a,e.y=(n-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,s=e.changedTouches.length;n<s;n++){const a=e.changedTouches[n];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,r.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=rpe),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=npe[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};SD.extension={name:"events",type:[Ke.RendererSystem,Ke.CanvasRendererSystem]},SD.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let iw=SD;ct.add(iw);function RL(t){return t==="dynamic"||t==="static"}const _V={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return(t=this._internalInteractive)!=null?t:RL(iw.defaultEventMode)},set interactive(t){At("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return(t=this._internalEventMode)!=null?t:iw.defaultEventMode},set eventMode(t){this._internalInteractive=RL(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof r=="object"?r.signal:void 0,a=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t;const l=typeof e=="function"?e:e.handleEvent,c=this;s&&s.addEventListener("abort",()=>{c.off(t,l,o)}),a?c.once(t,l,o):c.on(t,l,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof Lp))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Hr.mixin(_V);const bV={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Hr.mixin(bV);const ipe=9,p0=100,spe=0,ape=0,OL=2,IL=1,ope=-1e3,lpe=-1e3,upe=2;class zI{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ma.tablet||Ma.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width="".concat(p0,"px"),r.style.height="".concat(p0,"px"),r.style.position="absolute",r.style.top="".concat(spe,"px"),r.style.left="".concat(ape,"px"),r.style.zIndex=OL.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="".concat(IL,"px"),e.style.height="".concat(IL,"px"),e.style.position="absolute",e.style.top="".concat(ope,"px"),e.style.left="".concat(lpe,"px"),e.style.zIndex=upe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Ma.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,d=s/o*c,f=a/l*c;let p=this.div;p.style.left="".concat(r,"px"),p.style.top="".concat(n,"px"),p.style.width="".concat(o,"px"),p.style.height="".concat(l,"px");for(let g=0;g<this.children.length;g++){const y=this.children[g];if(y.renderId!==this.renderId)y._accessibleActive=!1,_d(this.children,g,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,g--;else{p=y._accessibleDiv;let b=y.hitArea;const _=y.worldTransform;y.hitArea?(p.style.left="".concat((_.tx+b.x*_.a)*d,"px"),p.style.top="".concat((_.ty+b.y*_.d)*f,"px"),p.style.width="".concat(b.width*_.a*d,"px"),p.style.height="".concat(b.height*_.d*f,"px")):(b=y.getBounds(),this.capHitArea(b),p.style.left="".concat(b.x*d,"px"),p.style.top="".concat(b.y*f,"px"),p.style.width="".concat(b.width*d,"px"),p.style.height="".concat(b.height*f,"px"),p.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(p.title=y.accessibleTitle),p.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&p.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==p.title||y.tabIndex!==p.tabIndex)&&(p.title=y.accessibleTitle,p.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width="".concat(p0,"px"),r.style.height="".concat(p0,"px"),r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=OL.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,s=this.renderer.events.rootBoundary,a=Object.assign(new Lp(s),{target:n});s.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>s.dispatchEvent(a,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===ipe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}zI.extension={name:"accessibility",type:[Ke.RendererPlugin,Ke.CanvasRendererPlugin]};ct.add(zI);const wV=class AD{constructor(e){this.stage=new ss,e=Object.assign({forceCanvas:!1},e),this.renderer=nV(e),AD._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=AD._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};wV._plugins=[];let xV=wV;ct.handleByList(Ke.Application,xV._plugins);class VI{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;r=s,n=a}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}VI.extension=Ke.Application;ct.add(VI);const BL={loader:Ke.LoadParser,resolver:Ke.ResolveParser,cache:Ke.CacheParser,detection:Ke.DetectionParser};ct.handle(Ke.Asset,t=>{const e=t.ref;Object.entries(BL).filter(([r])=>!!e[r]).forEach(([r,n])=>{var s;return ct.add(Object.assign(e[r],{extension:(s=e[r].extension)!=null?s:n}))})},t=>{const e=t.ref;Object.keys(BL).filter(r=>!!e[r]).forEach(r=>ct.remove(e[r]))});class cpe{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function af(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith("data:".concat(r)))return!0;return!1}return t.startsWith("data:".concat(e))}function $l(t,e){const r=t.split("?")[0],n=On.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Zs=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),sw=(t,e)=>{const r=e.split("?")[1];return r&&(t+="?".concat(r)),t};function EV(t,e,r,n,s){const a=e[r];for(let o=0;o<a.length;o++){const l=a[o];r<e.length-1?EV(t.replace(n[r],l),e,r+1,n,s):s.push(t.replace(n[r],l))}}function SV(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(a=>{const o=a.substring(1,a.length-1).split(",");s.push(o)}),EV(t,s,0,r,n)}else n.push(t);return n}const Rv=t=>!Array.isArray(t);class dpe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),r}set(e,r){const n=Zs(e);let s;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){s=c.getCacheableAssets(n,r);break}}s||(s={},n.forEach(l=>{s[l]=r}));const a=Object.keys(s),o={cacheKeys:a,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),a.forEach(l=>{const c=s?s[l]:r;this._cache.has(l)&&this._cache.get(l)!==c&&console.warn("[Cache] already has key:",l),this._cache.set(l,s[l])}),r instanceof Je){const l=r;n.forEach(c=>{l.baseTexture!==Je.EMPTY.baseTexture&&Ot.addToCache(l.baseTexture,c),Je.addToCache(l,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const bu=new dpe;class fpe{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let s=null,a=null;if(r.loadParser&&(a=this._parserHash[r.loadParser],a||console.warn('[Assets] specified load parser "'.concat(r.loadParser,'" not found while loading ').concat(e))),!a){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((o=d.test)!=null&&o.call(d,e,r,this))){a=d;break}}if(!a)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}s=await a.load(e,r,this),n.parser=a;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((l=d.testParse)==null?void 0:l.call(d,s,r,this))&&(s=await d.parse(s,r,this)||s,n.parser=d)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const s={},a=Rv(e),o=Zs(e,d=>({alias:[d],src:d})),l=o.length,c=o.map(async d=>{const f=On.toAbsolute(d.src);if(!s[d.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,d)),s[d.src]=await this.promiseCache[f].promise,r&&r(++n/l)}catch(p){throw delete this.promiseCache[f],delete s[d.src],new Error("[Loader.load] Failed to load ".concat(f,".\n").concat(p))}});return await Promise.all(c),a?s[o[0].src]:s}async unload(e){const r=Zs(e,n=>({alias:[n],src:n})).map(async n=>{var o,l;const s=On.toAbsolute(n.src),a=this.promiseCache[s];if(a){const c=await a.promise;delete this.promiseCache[s],(l=(o=a.parser)==null?void 0:o.unload)==null||l.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn('[Assets] loadParser name conflict "'.concat(r.name,'"')),{...e,[r.name]:r}),{})}}var ma=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ma||{});const hpe=".json",ppe="application/json",CV={extension:{type:Ke.LoadParser,priority:ma.Low},name:"loadJson",test(t){return af(t,ppe)||$l(t,hpe)},async load(t){return await(await et.ADAPTER.fetch(t)).json()}};ct.add(CV);const mpe=".txt",gpe="text/plain",AV={name:"loadTxt",extension:{type:Ke.LoadParser,priority:ma.Low},test(t){return af(t,gpe)||$l(t,mpe)},async load(t){return await(await et.ADAPTER.fetch(t)).text()}};ct.add(AV);const vpe=["normal","bold","100","200","300","400","500","600","700","800","900"],ype=[".ttf",".otf",".woff",".woff2"],_pe=["font/ttf","font/otf","font/woff","font/woff2"],bpe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function TV(t){const e=On.extname(t),r=On.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let n=r.length>0;for(const a of r)if(!a.match(bpe)){n=!1;break}let s=r.join(" ");return n||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}const wpe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function xpe(t){return wpe.test(t)?t:encodeURI(t)}const PV={extension:{type:Ke.LoadParser,priority:ma.Low},name:"loadWebFont",test(t){return af(t,_pe)||$l(t,ype)},async load(t,e){var n,s,a,o,l,c;const r=et.ADAPTER.getFontFaceSet();if(r){const d=[],f=(s=(n=e.data)==null?void 0:n.family)!=null?s:TV(t),p=(l=(o=(a=e.data)==null?void 0:a.weights)==null?void 0:o.filter(y=>vpe.includes(y)))!=null?l:["normal"],g=(c=e.data)!=null?c:{};for(let y=0;y<p.length;y++){const b=p[y],_=new FontFace(f,"url(".concat(xpe(t),")"),{...g,weight:b});await _.load(),r.add(_),d.push(_)}return d.length===1?d[0]:d}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>et.ADAPTER.getFontFaceSet().delete(e))}};ct.add(PV);const Epe='(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n';let Bh=null,TD=class{constructor(){Bh||(Bh=URL.createObjectURL(new Blob([Epe],{type:"application/javascript"}))),this.worker=new Worker(Bh)}};TD.revokeObjectURL=function(){Bh&&(URL.revokeObjectURL(Bh),Bh=null)};const Spe='(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n';let Fh=null;class DV{constructor(){Fh||(Fh=URL.createObjectURL(new Blob([Spe],{type:"application/javascript"}))),this.worker=new Worker(Fh)}}DV.revokeObjectURL=function(){Fh&&(URL.revokeObjectURL(Fh),Fh=null)};let FL=0,gA;class Cpe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new TD;r.addEventListener("message",n=>{r.terminate(),TD.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){gA===void 0&&(gA=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<gA&&(this._createdWorkers++,e=new DV().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((s,a)=>{this.queue.push({id:e,arguments:r,resolve:s,reject:a})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[FL]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:FL++,id:n})}}const ML=new Cpe;function Up(t,e,r){t.resource.internal=!0;const n=new Je(t),s=()=>{delete e.promiseCache[r],bu.has(r)&&bu.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const Ape=[".jpeg",".jpg",".png",".webp",".avif"],Tpe=["image/jpeg","image/png","image/webp","image/avif"];async function RV(t){const e=await et.ADAPTER.fetch(t);if(!e.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(e.status," ").concat(e.statusText));const r=await e.blob();return await createImageBitmap(r)}const zy={name:"loadTextures",extension:{type:Ke.LoadParser,priority:ma.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return af(t,Tpe)||$l(t,Ape)},async load(t,e,r){var l,c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await ML.isImageBitmapSupported()?s=await ML.loadImageBitmap(t):s=await RV(t):s=await new Promise((d,f)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=t,p.complete?d(p):(p.onload=()=>d(p),p.onerror=g=>f(g))});const a={...e.data};(l=a.resolution)!=null||(a.resolution=Oo(t)),n&&((c=a.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const o=new Ot(s,a);return o.resource.src=t,Up(o,r,t)},unload(t){t.destroy(!0)}};ct.add(zy);const Ppe=".svg",Dpe="image/svg+xml",OV={extension:{type:Ke.LoadParser,priority:ma.High},name:"loadSVG",test(t){return af(t,Dpe)||$l(t,Ppe)},async testParse(t){return tw.test(t)},async parse(t,e,r){var a;const n=new tw(t,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await n.load();const s=new Ot(n,{resolution:Oo(t),...e==null?void 0:e.data});return s.resource.src=e.src,Up(s,r,e.src)},async load(t,e){return(await et.ADAPTER.fetch(t)).text()},unload:zy.unload};ct.add(OV);const Rpe=[".mp4",".m4v",".webm",".ogv"],Ope=["video/mp4","video/webm","video/ogg"],IV={name:"loadVideo",extension:{type:Ke.LoadParser,priority:ma.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return af(t,Ope)||$l(t,Rpe)},async load(t,e,r){var o;let n;const s=await(await et.ADAPTER.fetch(t)).blob(),a=URL.createObjectURL(s);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},c=new jI(a,l);await c.load();const d=new Ot(c,{alphaMode:await f9(),resolution:Oo(t),...e==null?void 0:e.data});d.resource.src=t,n=Up(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(l){throw URL.revokeObjectURL(a),l}return n},unload(t){t.destroy(!0)}};ct.add(IV);class Ipe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>"".concat(e).concat(this._bundleIdConnector).concat(r),extractAssetIdFromBundle:(e,r)=>r.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var r,n,s;if(this._bundleIdConnector=(r=e.connector)!=null?r:this._bundleIdConnector,this._createBundleAssetId=(n=e.createBundleAssetId)!=null?n:this._createBundleAssetId,this._extractAssetIdFromBundle=(s=e.extractAssetIdFromBundle)!=null?s:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r[n]))).join("&")}}getAlias(e){const{alias:r,name:n,src:s,srcs:a}=e;return Zs(r||n||s||a,o=>{var l;return typeof o=="string"?o:Array.isArray(o)?o.map(c=>{var d,f;return(f=(d=c==null?void 0:c.src)!=null?d:c==null?void 0:c.srcs)!=null?f:c}):o!=null&&o.src||o!=null&&o.srcs?(l=o.src)!=null?l:o.srcs:o},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(s=>{var c,d;const a=(c=s.src)!=null?c:s.srcs,o=(d=s.alias)!=null?d:s.name;let l;if(typeof o=="string"){const f=this._createBundleAssetId(e,o);n.push(f),l=[o,f]}else{const f=o.map(p=>this._createBundleAssetId(e,p));n.push(...f),l=[...o,...f]}this.add({...s,alias:l,src:a})}):Object.keys(r).forEach(s=>{var o;const a=[s,this._createBundleAssetId(e,s)];if(typeof r[s]=="string")this.add({alias:a,src:r[s]});else if(Array.isArray(r[s]))this.add({alias:a,src:r[s]});else{const l=r[s],c=(o=l.src)!=null?o:l.srcs;this.add({...l,alias:a,src:Array.isArray(c)?c:[c]})}n.push(...a)}),this._bundles[e]=n}add(e,r,n,s,a){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(At("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),o.push({alias:e,src:r,data:n,format:s,loadParser:a})):Array.isArray(e)?o.push(...e):o.push(e);let l;l=c=>{this.hasKey(c)&&console.warn("[Resolver] already has key: ".concat(c," overwriting"))},Zs(o).forEach(c=>{const{src:d,srcs:f}=c;let{data:p,format:g,loadParser:y}=c;const b=Zs(d||f).map(h=>typeof h=="string"?SV(h):Array.isArray(h)?h:[h]),_=this.getAlias(c);Array.isArray(_)?_.forEach(l):l(_);const u=[];b.forEach(h=>{h.forEach(m=>{var w,x,S;let v={};if(typeof m!="object"){v.src=m;for(let E=0;E<this._parsers.length;E++){const P=this._parsers[E];if(P.test(m)){v=P.parse(m);break}}}else p=(w=m.data)!=null?w:p,g=(x=m.format)!=null?x:g,y=(S=m.loadParser)!=null?S:y,v={...v,...m};if(!_)throw new Error("[Resolver] alias is undefined for this asset: ".concat(v.src));v=this.buildResolvedAsset(v,{aliases:_,data:p,format:g,loadParser:y}),u.push(v)})}),_.forEach(h=>{this._assetMap[h]=u})})}resolveBundle(e){const r=Rv(e);e=Zs(e);const n={};return e.forEach(s=>{const a=this._bundles[s];if(a){const o=this.resolve(a),l={};for(const c in o){const d=o[c];l[this._extractAssetIdFromBundle(s,c)]=d}n[s]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=Rv(e);e=Zs(e);const n={};return e.forEach(s=>{var a;if(!this._resolverHash[s])if(this._assetMap[s]){let o=this._assetMap[s];const l=o[0],c=this._getPreferredOrder(o);c==null||c.priority.forEach(d=>{c.params[d].forEach(f=>{const p=o.filter(g=>g[d]?g[d]===f:!1);p.length&&(o=p)})}),this._resolverHash[s]=(a=o[0])!=null?a:l}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return"".concat(e).concat(r).concat(this._defaultSearchParams)}buildResolvedAsset(e,r){var l,c;const{aliases:n,data:s,loadParser:a,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=On.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=(l=n!=null?n:e.alias)!=null?l:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a!=null?a:e.loadParser,e.format=(c=o!=null?o:e.format)!=null?c:On.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class BV{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Ipe,this.loader=new fpe,this.cache=bu,this._backgroundLoader=new cpe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,o,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=(o=(a=e.texturePreference)==null?void 0:a.resolution)!=null?o:1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(l=e.texturePreference)==null?void 0:l.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,s,a){this.resolver.add(e,r,n,s,a)}async load(e,r){this._initialized||await this.init();const n=Rv(e),s=Zs(e).map(l=>{if(typeof l!="string"){const c=this.resolver.getAlias(l);return c.some(d=>!this.resolver.hasKey(d))&&this.add(l),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),a=this.resolver.resolve(s),o=await this._mapLoadToResolve(a,r);return n?o[s[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},o=Object.keys(s);let l=0,c=0;const d=()=>{r==null||r(++l/c)},f=o.map(p=>{const g=s[p];return c+=Object.keys(g).length,this._mapLoadToResolve(g,d).then(y=>{a[p]=y})});return await Promise.all(f),n?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return bu.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=bu.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,c)=>{const d=a[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[s[c]]=d,bu.set(f,d)}),o}async unload(e){this._initialized||await this.init();const r=Zs(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Zs(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{bu.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}get preferWorkers(){return zy.config.preferWorkers}set preferWorkers(e){At("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Zm=new BV;ct.handleByList(Ke.LoadParser,Zm.loader.parsers).handleByList(Ke.ResolveParser,Zm.resolver.parsers).handleByList(Ke.CacheParser,Zm.cache.parsers).handleByList(Ke.DetectionParser,Zm.detections);const FV={extension:Ke.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Je),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,a)=>{r[n+(a===0?"":a+1)]=s})}),r}};ct.add(FV);async function MV(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(e){return!1}return!0}return!1}const kV={extension:{type:Ke.DetectionParser,priority:1},test:async()=>MV("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ct.add(kV);const NV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>MV("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ct.add(NV);const kL=["png","jpg","jpeg"],LV={extension:{type:Ke.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...kL],remove:async t=>t.filter(e=>!kL.includes(e))};ct.add(LV);const Bpe="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function GI(t){return Bpe?!1:document.createElement("video").canPlayType(t)!==""}const UV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>GI("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ct.add(UV);const $V={extension:{type:Ke.DetectionParser,priority:0},test:async()=>GI("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ct.add($V);const jV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>GI("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ct.add(jV);const zV={extension:Ke.ResolveParser,test:zy.test,parse:t=>{var e,r;return{resolution:parseFloat((r=(e=et.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?r:"1"),format:On.extname(t).slice(1),src:t}}};ct.add(zV);var Un=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Un||{});const Ov={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let so,qf;function NL(){qf={bptc:so.getExtension("EXT_texture_compression_bptc"),astc:so.getExtension("WEBGL_compressed_texture_astc"),etc:so.getExtension("WEBGL_compressed_texture_etc"),s3tc:so.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:so.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:so.getExtension("WEBGL_compressed_texture_pvrtc")||so.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:so.getExtension("WEBGL_compressed_texture_etc1"),atc:so.getExtension("WEBGL_compressed_texture_atc")}}const VV={extension:{type:Ke.DetectionParser,priority:2},test:async()=>{const t=et.ADAPTER.createCanvas().getContext("webgl");return t?(so=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{qf||NL();const e=[];for(const r in qf)qf[r]&&e.push(r);return[...e,...t]},remove:async t=>(qf||NL(),t.filter(e=>!(e in qf)))};ct.add(VV);class GV extends Ny{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,s;typeof e=="string"?(n=e,s=new Uint8Array):(n=null,s=e),super(s,r),this.origin=n,this.buffer=s?new qb(s):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new qb(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Vu extends GV{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Vu._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Vu._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let a=0,o=this.levels;a<o;a++){const{levelID:l,levelWidth:c,levelHeight:d,levelBuffer:f}=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,l,this.format,c,d,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Vu._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error("Invalid (compressed) texture format given: ".concat(e))}static _createLevelBuffers(e,r,n,s,a,o,l){const c=new Array(n);let d=e.byteOffset,f=o,p=l,g=f+s-1&~(s-1),y=p+a-1&~(a-1),b=g*y*Ov[r];for(let _=0;_<n;_++)c[_]={levelID:_,levelWidth:n>1?f:g,levelHeight:n>1?p:y,levelBuffer:new Uint8Array(e.buffer,d,b)},d+=b,f=f>>1||1,p=p>>1||1,g=f+s-1&~(s-1),y=p+a-1&~(a-1),b=g*y*Ov[r];return c}}const vA=4,m0=124,Fpe=32,LL=20,Mpe=542327876,g0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},kpe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},v0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Npe=1,Lpe=2,Upe=4,$pe=64,jpe=512,zpe=131072,Vpe=827611204,Gpe=861165636,Hpe=894720068,Wpe=808540228,Kpe=4,Xpe={[Vpe]:Un.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Gpe]:Un.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Hpe]:Un.COMPRESSED_RGBA_S3TC_DXT5_EXT},Ype={70:Un.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Un.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Un.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Un.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Un.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Un.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Un.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Un.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Un.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Un.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Un.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Un.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Un.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function HV(t){const e=new Uint32Array(t);if(e[0]!==Mpe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,m0/Uint32Array.BYTES_PER_ELEMENT),n=r[g0.HEIGHT],s=r[g0.WIDTH],a=r[g0.MIPMAP_COUNT],o=new Uint32Array(t,g0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Fpe/Uint32Array.BYTES_PER_ELEMENT),l=o[Npe];if(l&Upe){const c=o[kpe.FOURCC];if(c!==Wpe){const m=Xpe[c],v=vA+m0,w=new Uint8Array(t,v);return[new Vu(w,{format:m,width:s,height:n,levels:a})]}const d=vA+m0,f=new Uint32Array(e.buffer,d,LL/Uint32Array.BYTES_PER_ELEMENT),p=f[v0.DXGI_FORMAT],g=f[v0.RESOURCE_DIMENSION],y=f[v0.MISC_FLAG],b=f[v0.ARRAY_SIZE],_=Ype[p];if(_===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(p));if(y===Kpe)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const u=new Array,h=vA+m0+LL;if(b===1)u.push(new Uint8Array(t,h));else{const m=Ov[_];let v=0,w=s,x=n;for(let E=0;E<a;E++){const P=Math.max(1,w+3&-4),T=Math.max(1,x+3&-4),A=P*T*m;v+=A,w=w>>>1,x=x>>>1}let S=h;for(let E=0;E<b;E++)u.push(new Uint8Array(t,S,v)),S+=v}return u.map(m=>new Vu(m,{format:_,width:s,height:n,levels:a}))}throw l&$pe?new Error("DDSParser does not support uncompressed texture data."):l&jpe?new Error("DDSParser does not supported YUV uncompressed texture data."):l&zpe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&Lpe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const UL=[171,75,84,88,32,49,49,187,13,10,26,10],qpe=67305985,wa={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},PD=64,DD={[mt.UNSIGNED_BYTE]:1,[mt.UNSIGNED_SHORT]:2,[mt.INT]:4,[mt.UNSIGNED_INT]:4,[mt.FLOAT]:4,[mt.HALF_FLOAT]:8},WV={[Be.RGBA]:4,[Be.RGB]:3,[Be.RG]:2,[Be.RED]:1,[Be.LUMINANCE]:1,[Be.LUMINANCE_ALPHA]:2,[Be.ALPHA]:1},KV={[mt.UNSIGNED_SHORT_4_4_4_4]:2,[mt.UNSIGNED_SHORT_5_5_5_1]:2,[mt.UNSIGNED_SHORT_5_6_5]:2};function XV(t,e,r=!1){const n=new DataView(e);if(!Zpe(t,n))return null;const s=n.getUint32(wa.ENDIANNESS,!0)===qpe,a=n.getUint32(wa.GL_TYPE,s),o=n.getUint32(wa.GL_FORMAT,s),l=n.getUint32(wa.GL_INTERNAL_FORMAT,s),c=n.getUint32(wa.PIXEL_WIDTH,s),d=n.getUint32(wa.PIXEL_HEIGHT,s)||1,f=n.getUint32(wa.PIXEL_DEPTH,s)||1,p=n.getUint32(wa.NUMBER_OF_ARRAY_ELEMENTS,s)||1,g=n.getUint32(wa.NUMBER_OF_FACES,s),y=n.getUint32(wa.NUMBER_OF_MIPMAP_LEVELS,s),b=n.getUint32(wa.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||f!==1)throw new Error("Only 2D textures are supported");if(g!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const _=4,u=4,h=c+3&-4,m=d+3&-4,v=new Array(p);let w=c*d;a===0&&(w=h*m);let x;if(a!==0?DD[a]?x=DD[a]*WV[o]:x=KV[a]:x=Ov[l],x===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?Qpe(n,b,s):null;let E=w*x,P=c,T=d,A=h,R=m,D=PD+b;for(let O=0;O<y;O++){const I=n.getUint32(D,s);let M=D+4;for(let G=0;G<p;G++){let j=v[G];j||(j=v[G]=new Array(y)),j[O]={levelID:O,levelWidth:y>1||a!==0?P:A,levelHeight:y>1||a!==0?T:R,levelBuffer:new Uint8Array(e,M,E)},M+=E}D+=I+4,D=D%4!==0?D+4-D%4:D,P=P>>1||1,T=T>>1||1,A=P+_-1&~(_-1),R=T+u-1&~(u-1),E=A*R*x}return a!==0?{uncompressed:v.map(O=>{let I=O[0].levelBuffer,M=!1;return a===mt.FLOAT?I=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):a===mt.UNSIGNED_INT?(M=!0,I=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):a===mt.INT&&(M=!0,I=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Ny(I,{width:O[0].levelWidth,height:O[0].levelHeight}),type:a,format:M?Jpe(o):o}}),kvData:S}:{compressed:v.map(O=>new Vu(null,{format:l,width:c,height:d,levels:y,levelBuffers:O})),kvData:S}}function Zpe(t,e){for(let r=0;r<UL.length;r++)if(e.getUint8(r)!==UL[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}function Jpe(t){switch(t){case Be.RGBA:return Be.RGBA_INTEGER;case Be.RGB:return Be.RGB_INTEGER;case Be.RG:return Be.RG_INTEGER;case Be.RED:return Be.RED_INTEGER;default:return t}}function Qpe(t,e,r){const n=new Map;let s=0;for(;s<e;){const a=t.getUint32(PD+s,r),o=PD+s+4,l=3-(a+3)%4;if(a===0||a>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<a&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,a-c-1);n.set(d,f),s+=4+a+l}return n}const YV={extension:{type:Ke.LoadParser,priority:ma.High},name:"loadDDS",test(t){return $l(t,".dds")},async load(t,e,r){const n=await(await et.ADAPTER.fetch(t)).arrayBuffer(),s=HV(n).map(a=>{const o=new Ot(a,{mipmap:Ka.OFF,alphaMode:Ii.NO_PREMULTIPLIED_ALPHA,resolution:Oo(t),...e.data});return Up(o,r,t)});return s.length===1?s[0]:s},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(YV);const qV={extension:{type:Ke.LoadParser,priority:ma.High},name:"loadKTX",test(t){return $l(t,".ktx")},async load(t,e,r){const n=await(await et.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:o}=XV(t,n),l=s!=null?s:a,c={mipmap:Ka.OFF,alphaMode:Ii.NO_PREMULTIPLIED_ALPHA,resolution:Oo(t),...e.data},d=l.map(f=>{var y;l===a&&Object.assign(c,{type:f.type,format:f.format});const p=(y=f.resource)!=null?y:f,g=new Ot(p,c);return g.ktxKeyValueData=o,Up(g,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(qV);const eme=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],ZV={extension:Ke.ResolveParser,test:t=>{const e=On.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,s,a,o;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const l=e.pop();if(eme.includes(l))return{resolution:parseFloat((s=(n=et.RETINA_PREFIX.exec(t))==null?void 0:n[1])!=null?s:"1"),format:l,src:t}}return{resolution:parseFloat((o=(a=et.RETINA_PREFIX.exec(t))==null?void 0:a[1])!=null?o:"1"),format:r,src:t}}};ct.add(ZV);const y0=new Bt,tme=4,JV=class Jm{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,s){const a=new Image;return a.src=await this.base64(e,r,n,s),a}async base64(e,r,n,s){const a=this.canvas(e,s);if(a.toBlob!==void 0)return new Promise((o,l)=>{a.toBlob(c=>{if(!c){l(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=l,d.readAsDataURL(c)},r,n)});if(a.toDataURL!==void 0)return a.toDataURL(r,n);if(a.convertToBlob!==void 0){const o=await a.convertToBlob({type:r,quality:n});return new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:s,height:a,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);o&&Jm._flipY(n,s,a),l&&Jm._unpremultiplyAlpha(n);const c=new w9(s,a,1),d=new ImageData(new Uint8ClampedArray(n.buffer),s,a);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:s,height:a,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);return o&&Jm._flipY(n,s,a),l&&Jm._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let s,a=!1,o=!1,l,c=!1;e&&(e instanceof _c?l=e:(l=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(y0.width=r.width,y0.height=r.height,r=y0)));const d=n.gl;if(l){if(s=l.baseTexture.resolution,r=r!=null?r:l.frame,a=!1,o=l.baseTexture.alphaMode>0&&l.baseTexture.format===Be.RGBA,!c){n.renderTexture.bind(l);const y=l.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else s=n.resolution,r||(r=y0,r.width=n.width/s,r.height=n.height/s),a=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*s),1),p=Math.max(Math.round(r.height*s),1),g=new Uint8Array(tme*f*p);return d.readPixels(Math.round(r.x*s),Math.round(r.y*s),f,p,d.RGBA,d.UNSIGNED_BYTE,g),c&&(l==null||l.destroy(!0)),{pixels:g,width:f,height:p,flipY:a,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const s=r<<2,a=n>>1,o=new Uint8Array(s);for(let l=0;l<a;l++){const c=l*s,d=(n-l-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,d,d+s),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const s=e[n+3];if(s!==0){const a=255.001/s;e[n]=e[n]*a+.5,e[n+1]=e[n+1]*a+.5,e[n+2]=e[n+2]*a+.5}}}};JV.extension={name:"extract",type:Ke.RendererSystem};let QV=JV;ct.add(QV);const Iv={build(t){const e=t.points;let r,n,s,a,o,l;if(t.type===Kn.CIRC){const b=t.shape;r=b.x,n=b.y,o=l=b.radius,s=a=0}else if(t.type===Kn.ELIP){const b=t.shape;r=b.x,n=b.y,o=b.width,l=b.height,s=a=0}else{const b=t.shape,_=b.width/2,u=b.height/2;r=b.x+_,n=b.y+u,o=l=Math.max(0,Math.min(b.radius,Math.min(_,u))),s=_-o,a=u-l}if(!(o>=0&&l>=0&&s>=0&&a>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),d=c*8+(s?4:0)+(a?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+s,e[1]=e[3]=n+a,e[2]=e[4]=r-s,e[5]=e[7]=n-a;return}let f=0,p=c*4+(s?2:0)+2,g=p,y=d;{const b=s+o,_=a,u=r+b,h=r-b,m=n+_;if(e[f++]=u,e[f++]=m,e[--p]=m,e[--p]=h,a){const v=n-_;e[g++]=h,e[g++]=v,e[--y]=v,e[--y]=u}}for(let b=1;b<c;b++){const _=Math.PI/2*(b/c),u=s+Math.cos(_)*o,h=a+Math.sin(_)*l,m=r+u,v=r-u,w=n+h,x=n-h;e[f++]=m,e[f++]=w,e[--p]=w,e[--p]=v,e[g++]=v,e[g++]=x,e[--y]=x,e[--y]=m}{const b=s,_=a+l,u=r+b,h=r-b,m=n+_,v=n-_;e[f++]=u,e[f++]=m,e[--y]=v,e[--y]=u,s&&(e[f++]=h,e[f++]=m,e[--y]=v,e[--y]=h)}},triangulate(t,e){const r=t.points,n=e.points,s=e.indices;if(r.length===0)return;let a=n.length/2;const o=a;let l,c;if(t.type!==Kn.RREC){const f=t.shape;l=f.x,c=f.y}else{const f=t.shape;l=f.x+f.width/2,c=f.y+f.height/2}const d=t.matrix;n.push(t.matrix?d.a*l+d.c*c+d.tx:l,t.matrix?d.b*l+d.d*c+d.ty:c),a++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),s.push(a++,o,a);s.push(o+1,o,a)}};function $L(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let s=0,a=t[r-2],o=t[r-1];s<r;s+=2){const l=t[s],c=t[s+1];n+=(l-a)*(c+o),a=l,o=c}if(!e&&n>0||e&&n<=0){const s=r/2;for(let a=s+s%2;a<r;a+=2){const o=r-a-2,l=r-a-1,c=a,d=a+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[d]]=[t[d],t[l]]}}}const HI={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,s=e.points,a=e.indices;if(r.length>=6){$L(r,!1);const o=[];for(let d=0;d<n.length;d++){const f=n[d];$L(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const l=$7(r,o,2);if(!l)return;const c=s.length/2;for(let d=0;d<l.length;d+=3)a.push(l[d]+c),a.push(l[d+1]+c),a.push(l[d+2]+c);for(let d=0;d<r.length;d++)s.push(r[d])}}},eG={build(t){const e=t.shape,r=e.x,n=e.y,s=e.width,a=e.height,o=t.points;o.length=0,s>=0&&a>=0&&o.push(r,n,r+s,n,r+s,n+a,r,n+a)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const s=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},tG={build(t){Iv.build(t)},triangulate(t,e){Iv.triangulate(t,e)}};var ms=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ms||{}),fl=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(fl||{});const ec={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},rme=ec;class RD{static curveTo(e,r,n,s,a,o){const l=o[o.length-2],c=o[o.length-1]-r,d=l-e,f=s-r,p=n-e,g=Math.abs(c*p-d*f);if(g<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const y=c*c+d*d,b=f*f+p*p,_=c*f+d*p,u=a*Math.sqrt(y)/g,h=a*Math.sqrt(b)/g,m=u*_/y,v=h*_/b,w=u*p+h*d,x=u*f+h*c,S=d*(h+m),E=c*(h+m),P=p*(u+v),T=f*(u+v),A=Math.atan2(E-x,S-w),R=Math.atan2(T-x,P-w);return{cx:w+e,cy:x+r,radius:a,startAngle:A,endAngle:R,anticlockwise:d*f>p*c}}static arc(e,r,n,s,a,o,l,c,d){const f=l-o,p=ec._segmentsCount(Math.abs(f)*a,Math.ceil(Math.abs(f)/Ev)*40),g=f/(p*2),y=g*2,b=Math.cos(g),_=Math.sin(g),u=p-1,h=u%1/u;for(let m=0;m<=u;++m){const v=m+h*m,w=g+o+y*v,x=Math.cos(w),S=-Math.sin(w);d.push((b*x+_*S)*a+n,(b*-S+_*x)*a+s)}}}class rG{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class pE{static curveLength(e,r,n,s,a,o,l,c){let d=0,f=0,p=0,g=0,y=0,b=0,_=0,u=0,h=0,m=0,v=0,w=e,x=r;for(let S=1;S<=10;++S)f=S/10,p=f*f,g=p*f,y=1-f,b=y*y,_=b*y,u=_*e+3*b*f*n+3*y*p*a+g*l,h=_*r+3*b*f*s+3*y*p*o+g*c,m=w-u,v=x-h,w=u,x=h,d+=Math.sqrt(m*m+v*v);return d}static curveTo(e,r,n,s,a,o,l){const c=l[l.length-2],d=l[l.length-1];l.length-=2;const f=ec._segmentsCount(pE.curveLength(c,d,e,r,n,s,a,o));let p=0,g=0,y=0,b=0,_=0;l.push(c,d);for(let u=1,h=0;u<=f;++u)h=u/f,p=1-h,g=p*p,y=g*p,b=h*h,_=b*h,l.push(y*c+3*g*h*e+3*p*b*n+_*a,y*d+3*g*h*r+3*p*b*s+_*o)}}function jL(t,e,r,n,s,a,o,l){const c=t-r*s,d=e-n*s,f=t+r*a,p=e+n*a;let g,y;o?(g=n,y=-r):(g=-n,y=r);const b=c+g,_=d+y,u=f+g,h=p+y;return l.push(b,_,u,h),2}function Lc(t,e,r,n,s,a,o,l){const c=r-t,d=n-e;let f=Math.atan2(c,d),p=Math.atan2(s-t,a-e);l&&f<p?f+=Math.PI*2:!l&&f>p&&(p+=Math.PI*2);let g=f;const y=p-f,b=Math.abs(y),_=Math.sqrt(c*c+d*d),u=(15*b*Math.sqrt(_)/Math.PI>>0)+1,h=y/u;if(g+=h,l){o.push(t,e,r,n);for(let m=1,v=g;m<u;m++,v+=h)o.push(t,e,t+Math.sin(v)*_,e+Math.cos(v)*_);o.push(t,e,s,a)}else{o.push(r,n,t,e);for(let m=1,v=g;m<u;m++,v+=h)o.push(t+Math.sin(v)*_,e+Math.cos(v)*_,t,e);o.push(s,a,t,e)}return u*2}function nme(t,e){const r=t.shape;let n=t.points||r.points.slice();const s=e.closePointEps;if(n.length===0)return;const a=t.lineStyle,o=new ze(n[0],n[1]),l=new ze(n[n.length-2],n[n.length-1]),c=r.type!==Kn.POLY||r.closeStroke,d=Math.abs(o.x-l.x)<s&&Math.abs(o.y-l.y)<s;if(c){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const j=(o.x+l.x)*.5,$=(l.y+o.y)*.5;n.unshift(j,$),n.push(j,$)}const f=e.points,p=n.length/2;let g=n.length;const y=f.length/2,b=a.width/2,_=b*b,u=a.miterLimit*a.miterLimit;let h=n[0],m=n[1],v=n[2],w=n[3],x=0,S=0,E=-(m-w),P=h-v,T=0,A=0,R=Math.sqrt(E*E+P*P);E/=R,P/=R,E*=b,P*=b;const D=a.alignment,O=(1-D)*2,I=D*2;c||(a.cap===fl.ROUND?g+=Lc(h-E*(O-I)*.5,m-P*(O-I)*.5,h-E*O,m-P*O,h+E*I,m+P*I,f,!0)+2:a.cap===fl.SQUARE&&(g+=jL(h,m,E,P,O,I,!0,f))),f.push(h-E*O,m-P*O,h+E*I,m+P*I);for(let j=1;j<p-1;++j){h=n[(j-1)*2],m=n[(j-1)*2+1],v=n[j*2],w=n[j*2+1],x=n[(j+1)*2],S=n[(j+1)*2+1],E=-(m-w),P=h-v,R=Math.sqrt(E*E+P*P),E/=R,P/=R,E*=b,P*=b,T=-(w-S),A=v-x,R=Math.sqrt(T*T+A*A),T/=R,A/=R,T*=b,A*=b;const $=v-h,H=m-w,K=v-x,re=S-w,fe=$*K+H*re,ye=H*K-re*$,he=ye<0;if(Math.abs(ye)<.001*Math.abs(fe)){f.push(v-E*O,w-P*O,v+E*I,w+P*I),fe>=0&&(a.join===ms.ROUND?g+=Lc(v,w,v-E*O,w-P*O,v-T*O,w-A*O,f,!1)+4:g+=2,f.push(v-T*I,w-A*I,v+T*O,w+A*O));continue}const ue=(-E+h)*(-P+w)-(-E+v)*(-P+m),Z=(-T+x)*(-A+w)-(-T+v)*(-A+S),z=($*Z-K*ue)/ye,V=(re*ue-H*Z)/ye,Y=(z-v)*(z-v)+(V-w)*(V-w),ne=v+(z-v)*O,ie=w+(V-w)*O,me=v-(z-v)*I,xe=w-(V-w)*I,we=Math.min($*$+H*H,K*K+re*re),Ee=he?O:I,tt=we+Ee*Ee*_,xt=Y<=tt;let _t=a.join;if(_t===ms.MITER&&Y/_>u&&(_t=ms.BEVEL),xt)switch(_t){case ms.MITER:{f.push(ne,ie,me,xe);break}case ms.BEVEL:{he?f.push(ne,ie,v+E*I,w+P*I,ne,ie,v+T*I,w+A*I):f.push(v-E*O,w-P*O,me,xe,v-T*O,w-A*O,me,xe),g+=2;break}case ms.ROUND:{he?(f.push(ne,ie,v+E*I,w+P*I),g+=Lc(v,w,v+E*I,w+P*I,v+T*I,w+A*I,f,!0)+4,f.push(ne,ie,v+T*I,w+A*I)):(f.push(v-E*O,w-P*O,me,xe),g+=Lc(v,w,v-E*O,w-P*O,v-T*O,w-A*O,f,!1)+4,f.push(v-T*O,w-A*O,me,xe));break}}else{switch(f.push(v-E*O,w-P*O,v+E*I,w+P*I),_t){case ms.MITER:{he?f.push(me,xe,me,xe):f.push(ne,ie,ne,ie),g+=2;break}case ms.ROUND:{he?g+=Lc(v,w,v+E*I,w+P*I,v+T*I,w+A*I,f,!0)+2:g+=Lc(v,w,v-E*O,w-P*O,v-T*O,w-A*O,f,!1)+2;break}}f.push(v-T*O,w-A*O,v+T*I,w+A*I),g+=2}}h=n[(p-2)*2],m=n[(p-2)*2+1],v=n[(p-1)*2],w=n[(p-1)*2+1],E=-(m-w),P=h-v,R=Math.sqrt(E*E+P*P),E/=R,P/=R,E*=b,P*=b,f.push(v-E*O,w-P*O,v+E*I,w+P*I),c||(a.cap===fl.ROUND?g+=Lc(v-E*(O-I)*.5,w-P*(O-I)*.5,v-E*O,w-P*O,v+E*I,w+P*I,f,!1)+2:a.cap===fl.SQUARE&&(g+=jL(v,w,E,P,O,I,!1,f)));const M=e.indices,G=ec.epsilon*ec.epsilon;for(let j=y;j<g+y-2;++j)h=f[j*2],m=f[j*2+1],v=f[(j+1)*2],w=f[(j+1)*2+1],x=f[(j+2)*2],S=f[(j+2)*2+1],!(Math.abs(h*(w-S)+v*(S-m)+x*(m-w))<G)&&M.push(j,j+1,j+2)}function ime(t,e){let r=0;const n=t.shape,s=t.points||n.points,a=n.type!==Kn.POLY||n.closeStroke;if(s.length===0)return;const o=e.points,l=e.indices,c=s.length/2,d=o.length/2;let f=d;for(o.push(s[0],s[1]),r=1;r<c;r++)o.push(s[r*2],s[r*2+1]),l.push(f,f+1),f++;a&&l.push(f,d)}function OD(t,e){t.lineStyle.native?ime(t,e):nme(t,e)}class mE{static curveLength(e,r,n,s,a,o){const l=e-2*n+a,c=r-2*s+o,d=2*n-2*e,f=2*s-2*r,p=4*(l*l+c*c),g=4*(l*d+c*f),y=d*d+f*f,b=2*Math.sqrt(p+g+y),_=Math.sqrt(p),u=2*p*_,h=2*Math.sqrt(y),m=g/_;return(u*b+_*g*(b-h)+(4*y*p-g*g)*Math.log((2*_+m+b)/(m+h)))/(4*u)}static curveTo(e,r,n,s,a){const o=a[a.length-2],l=a[a.length-1],c=ec._segmentsCount(mE.curveLength(o,l,e,r,n,s));let d=0,f=0;for(let p=1;p<=c;++p){const g=p/c;d=o+(e-o)*g,f=l+(r-l)*g,a.push(d+(e+(n-e)*g-d)*g,f+(r+(s-r)*g-f)*g)}}}const M1={[Kn.POLY]:HI,[Kn.CIRC]:Iv,[Kn.ELIP]:Iv,[Kn.RECT]:eG,[Kn.RREC]:tG},ID=[],Qm=[];class Bv{constructor(e,r=null,n=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=s,this.type=e.type}clone(){return new Bv(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Tf=new ze,nG=class iG extends vI{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Pv,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Qm.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),ID.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,s=null){const a=new Bv(e,r,n,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Bv(e,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const s=r[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Tf):Tf.copyFrom(e),s.shape.contains(Tf.x,Tf.y))){let a=!1;if(s.holes){for(let o=0;o<s.holes.length;o++)if(s.holes[o].shape.contains(Tf.x,Tf.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],f=d.fillStyle,p=d.lineStyle;M1[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(f.visible||p.visible)&&this.processHoles(d.holes);for(let g=0;g<2;g++){const y=g===0?f:p;if(!y.visible)continue;const b=y.texture.baseTexture,_=this.indices.length,u=this.points.length/2;b.wrapMode=To.REPEAT,g===0?this.processFill(d):this.processLine(d);const h=this.points.length/2-u;h!==0&&(n&&!this._compareStyles(s,y)&&(n.end(_,u),n=null),n||(n=ID.pop()||new rG,n.begin(y,_,u),this.batches.push(n),s=y),this.addUvs(this.points,e,y.texture,u,h,y.matrix))}}const a=this.indices.length,o=this.points.length/2;if(n&&n.end(a,o),this.batches.length===0){this.batchable=!0;return}const l=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],s=n.fillStyle,a=n.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const s=e[r];for(let a=0;a<s.size;a++){const o=s.start+a;this.indicesUint16[o]=this.indicesUint16[o]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<iG.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ot._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Qm.push(this.drawCalls[p]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let s=Qm.pop();s||(s=new Jb,s.texArray=new Qb),s.texArray.count=0,s.start=0,s.size=0,s.type=Fa.TRIANGLES;let a=0,o=null,l=0,c=!1,d=Fa.TRIANGLES,f=0;this.drawCalls.push(s);for(let p=0;p<this.batches.length;p++){const g=this.batches[p],y=8,b=g.style,_=b.texture.baseTexture;c!==!!b.native&&(c=!!b.native,d=c?Fa.LINES:Fa.TRIANGLES,o=null,a=y,e++),o!==_&&(o=_,_._batchEnabled!==e&&(a===y&&(e++,a=0,s.size>0&&(s=Qm.pop(),s||(s=new Jb,s.texArray=new Qb),this.drawCalls.push(s)),s.start=f,s.size=0,s.texArray.count=0,s.type=d),_.touched=1,_._batchEnabled=e,_._batchLocation=a,_.wrapMode=To.REPEAT,s.texArray.elements[s.texArray.count++]=_,a++)),s.size+=g.size,f+=g.size,l=_._batchLocation,this.addColors(r,b.color,b.alpha,g.attribSize,g.attribStart),this.addTextureIds(n,l,g.attribSize,g.attribStart)}Ot._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),o=new Float32Array(a),l=new Uint32Array(a);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],l[c++]=n[d],o[c++]=s[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?HI.triangulate(e,this):M1[e.type].triangulate(e,this)}processLine(e){OD(e,this);for(let r=0;r<e.holes.length;r++)OD(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];M1[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const s=e[n*2],a=e[n*2+1];e[n*2]=r.a*s+r.c*a+r.tx,e[n*2+1]=r.b*s+r.d*a+r.ty}}addColors(e,r,n,s,a=0){const o=lr.shared.setValue(r).toLittleEndianNumber(),l=lr.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,a+s);for(let c=0;c<s;c++)e[a+c]=l}addTextureIds(e,r,n,s=0){e.length=Math.max(e.length,s+n);for(let a=0;a<n;a++)e[s+a]=r}addUvs(e,r,n,s,a,o=null){let l=0;const c=r.length,d=n.frame;for(;l<a;){let p=e[(s+l)*2],g=e[(s+l)*2+1];if(o){const y=o.a*p+o.c*g+o.tx;g=o.b*p+o.d*g+o.ty,p=y}l++,r.push(p/d.width,g/d.height)}const f=n.baseTexture;(d.width<f.width||d.height<f.height)&&this.adjustUvs(r,n,c,a)}adjustUvs(e,r,n,s){const a=r.baseTexture,o=1e-6,l=n+s*2,c=r.frame,d=c.width/a.width,f=c.height/a.height;let p=c.x/c.width,g=c.y/c.height,y=Math.floor(e[n]+o),b=Math.floor(e[n+1]+o);for(let _=n+2;_<l;_+=2)y=Math.min(y,Math.floor(e[_]+o)),b=Math.min(b,Math.floor(e[_+1]+o));p-=y,g-=b;for(let _=n;_<l;_+=2)e[_]=(e[_]+p)*d,e[_+1]=(e[_+1]+g)*f}};nG.BATCHABLE_SIZE=100;let sG=nG;class Vy{constructor(){this.color=16777215,this.alpha=1,this.texture=Je.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Vy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Je.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class gE extends Vy{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=fl.BUTT,this.join=ms.MITER,this.miterLimit=10}clone(){const e=new gE;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=fl.BUTT,this.join=ms.MITER,this.miterLimit=10}}const yA={},BD=class k1 extends ss{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Vy,this._lineStyle=new gE,this._matrix=null,this._holeMode=!1,this.state=Ya.for2d(),this._geometry=e||new sG,this._geometry.refCount++,this._transformID=-1,this._tintColor=new lr(16777215),this.blendMode=wt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new k1(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:Je.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:fl.BUTT,join:ms.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new zu,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new zu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],a=n[n.length-1];return(s!==e||a!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),mE.curveTo(e,r,n,s,a),this}bezierCurveTo(e,r,n,s,a,o){return this._initCurve(),pE.curveTo(e,r,n,s,a,o,this.currentPath.points),this}arcTo(e,r,n,s,a){this._initCurve(e,r);const o=this.currentPath.points,l=RD.curveTo(e,r,n,s,a,o);if(l){const{cx:c,cy:d,radius:f,startAngle:p,endAngle:g,anticlockwise:y}=l;this.arc(c,d,f,p,g,y)}return this}arc(e,r,n,s,a,o=!1){if(s===a)return this;if(!o&&a<=s?a+=Ev:o&&s<=a&&(s+=Ev),a-s===0)return this;const l=e+Math.cos(s)*n,c=r+Math.sin(s)*n,d=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const p=Math.abs(f[f.length-2]-l),g=Math.abs(f[f.length-1]-c);p<d&&g<d||f.push(l,c)}else this.moveTo(l,c),f=this.currentPath.points;return RD.arc(l,c,e,r,n,s,a,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:Je.WHITE,color:e,alpha:r})}normalizeColor(e){var n,s;const r=lr.shared.setValue((n=e.color)!=null?n:0);e.color=r.toNumber(),(s=e.alpha)!=null||(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:Je.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,s){return this.drawShape(new Bt(e,r,n,s))}drawRoundedRect(e,r,n,s,a){return this.drawShape(new $y(e,r,n,s,a))}drawCircle(e,r,n){return this.drawShape(new Ly(e,r,n))}drawEllipse(e,r,n,s){return this.drawShape(new Uy(e,r,n,s))}drawPolygon(...e){let r,n=!0;const s=e[0];s.points?(n=s.closeStroke,r=s.points):Array.isArray(e[0])?r=e[0]:r=e;const a=new zu(r);return a.closeStroke=n,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Kn.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let s=0;s<n;s++){const a=e.batches[s],o=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),f={vertexData:l,blendMode:r,indices:d,uvs:c,_batchRGB:lr.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,s=this.worldAlpha,a=r.uniforms,o=n.drawCalls;a.translationMatrix=this.transform.worldTransform,lr.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let l=0,c=o.length;l<c;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:n,type:s,size:a,start:o}=r,l=n.count;for(let c=0;c<l;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(s,a,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!yA[n]){const{maxTextures:s}=e.plugins[n],a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new er,default:ca.from({uSamplers:a},!0)},l=e.plugins[n]._shader.program;yA[n]=new Ga(l,o)}r=yA[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,r,n,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,k1._TEMP_POINT),this._geometry.containsPoint(k1._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=lr.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,c=r.ty,d=this._geometry.points,f=this.vertexData;let p=0;for(let g=0;g<d.length;g+=2){const y=d[g],b=d[g+1];f[p++]=n*y+a*b+l,f[p++]=o*b+s*y+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};BD.curves=ec,BD._TEMP_POINT=new ze;let hl=BD;const sme={buildPoly:HI,buildCircle:Iv,buildRectangle:eG,buildRoundedRectangle:tG,buildLine:OD,ArcUtils:RD,BezierUtils:pE,QuadraticUtils:mE,BatchPart:rG,FILL_COMMANDS:M1,BATCH_POOL:ID,DRAW_CALL_POOL:Qm};class aG{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const _A=new ze,zL=new zu,oG=class lG extends ss{constructor(e,r,n,s=Fa.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ya.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=et.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Fa.TRIANGLES&&r.length<lG.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const s=this.transform.worldTransform,a=s.a,o=s.b,l=s.c,c=s.d,d=s.tx,f=s.ty,p=this.vertexData;for(let g=0;g<p.length/2;g++){const y=r[g*2],b=r[g*2+1];p[g*2]=a*y+l*b+d,p[g*2+1]=o*y+c*b+f}if(this._roundPixels){const g=et.RESOLUTION;for(let y=0;y<p.length;++y)p[y]=Math.round(p[y]*g)/g}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new aG(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,_A);const r=this.geometry.getBuffer("aVertexPosition").data,n=zL.points,s=this.geometry.getIndex().data,a=s.length,o=this.drawMode===4?3:1;for(let l=0;l+2<a;l+=o){const c=s[l]*2,d=s[l+1]*2,f=s[l+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[f],n[5]=r[f+1],zL.contains(_A.x,_A.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};oG.BATCHABLE_SIZE=100;let lp=oG;class Gy extends Al{constructor(e,r,n){super();const s=new bn(e),a=new bn(r,!0),o=new bn(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,mt.FLOAT).addAttribute("aTextureCoord",a,2,!1,mt.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var ame="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",ome="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";class up extends Ga{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:er.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||wo.from(ome,ame),n),this._colorDirty=!1,this.uvMatrix=new fE(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new lr(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;lr.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class uG extends Gy{constructor(e=100,r=100,n=10,s=10){super(),this.segWidth=n,this.segHeight=s,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],s=[],a=this.segWidth-1,o=this.segHeight-1,l=this.width/a,c=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,g=f/this.segWidth|0;r.push(p*l,g*c),n.push(p/a,g/o)}const d=a*o;for(let f=0;f<d;f++){const p=f%a,g=f/a|0,y=g*this.segWidth+p,b=g*this.segWidth+p+1,_=(g+1)*this.segWidth+p,u=(g+1)*this.segWidth+p+1;s.push(y,b,_,b,u,_)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class cG extends Gy{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=n.data,o=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let l=0,c=e[0];const d=this._width*this.textureScale,f=e.length;for(let g=0;g<f;g++){const y=g*4;if(this.textureScale>0){const b=c.x-e[g].x,_=c.y-e[g].y,u=Math.sqrt(b*b+_*_);c=e[g],l+=u/d}else l=g/(f-1);a[y]=l,a[y+1]=0,a[y+2]=l,a[y+3]=1}let p=0;for(let g=0;g<f-1;g++){const y=g*2;o[p++]=y,o[p++]=y+1,o[p++]=y+2,o[p++]=y+2,o[p++]=y+1,o[p++]=y+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,s=0,a=0;const o=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<l;d++){const f=e[d],p=d*4;d<e.length-1?n=e[d+1]:n=f,a=-(n.x-r.x),s=n.y-r.y;const g=Math.sqrt(s*s+a*a);g<1e-6?(s=0,a=0):(s/=g,a/=g,s*=c,a*=c),o[p]=f.x+s,o[p+1]=f.y+a,o[p+2]=f.x-s,o[p+3]=f.y-a,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class dG extends lp{constructor(e,r,n){const s=new uG(e.width,e.height,r,n),a=new up(Je.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const _0=10;class lme extends dG{constructor(e,r,n,s,a){var o,l,c,d,f,p,g,y;super(Je.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=(l=r!=null?r:(o=e.defaultBorders)==null?void 0:o.left)!=null?l:_0,this._rightWidth=(d=s!=null?s:(c=e.defaultBorders)==null?void 0:c.right)!=null?d:_0,this._topHeight=(p=n!=null?n:(f=e.defaultBorders)==null?void 0:f.top)!=null?p:_0,this._bottomHeight=(y=a!=null?a:(g=e.defaultBorders)==null?void 0:g.bottom)!=null?y:_0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n;return Math.min(r,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class ume extends lp{constructor(e=Je.EMPTY,r,n,s,a){const o=new Gy(r,n,s);o.getBuffer("aVertexPosition").static=!1;const l=new up(e);super(o,l,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class cme extends lp{constructor(e,r,n=0){const s=new cG(e.height,r,n),a=new up(e);n>0&&(e.baseTexture.wrapMode=To.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class dme extends ss{constructor(e=1500,r,n=16384,s=!1){super();const a=16384;n>a&&(n=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=wt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new lr(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class VL{constructor(e,r,n){this.geometry=new Al,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||mt.FLOAT,offset:a.offset},r[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new bn(b9(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new bn(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=s,s+=l.size,this.staticStride+=l.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new bn(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===mt.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===mt.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,r,n,a.type===mt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,r,n,a.type===mt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var fme="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",hme="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";class WI extends jy{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new er,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:mt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ga.from(hme,fme,{}),this.state=Ya.for2d()}render(e){const r=e.children,n=e._maxSize,s=e._batchSize,a=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=mI(e.blendMode,d),a.state.set(this.state);const f=a.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=lr.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let g=!1;for(let y=0,b=0;y<o;y+=s,b+=1){let _=o-y;_>s&&(_=s),b>=l.length&&l.push(this._generateOneMoreBuffer(e));const u=l[b];u.uploadDynamic(r,y,_);const h=e._bufferUpdateIDs[b]||0;g=g||u._updateID<h,g&&(u._updateID=e._updateID,u.uploadStatic(r,y,_)),a.geometry.bind(u.geometry),f.drawElements(f.TRIANGLES,_*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,s=e._batchSize,a=e._properties;for(let o=0;o<n;o+=s)r.push(new VL(this.properties,a,s));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new VL(this.properties,n,r)}uploadVertices(e,r,n,s,a,o){let l=0,c=0,d=0,f=0;for(let p=0;p<n;++p){const g=e[r+p],y=g._texture,b=g.scale.x,_=g.scale.y,u=y.trim,h=y.orig;u?(c=u.x-g.anchor.x*h.width,l=c+u.width,f=u.y-g.anchor.y*h.height,d=f+u.height):(l=h.width*(1-g.anchor.x),c=h.width*-g.anchor.x,d=h.height*(1-g.anchor.y),f=h.height*-g.anchor.y),s[o]=c*b,s[o+1]=f*_,s[o+a]=l*b,s[o+a+1]=f*_,s[o+a*2]=l*b,s[o+a*2+1]=d*_,s[o+a*3]=c*b,s[o+a*3+1]=d*_,o+=a*4}}uploadPosition(e,r,n,s,a,o){for(let l=0;l<n;l++){const c=e[r+l].position;s[o]=c.x,s[o+1]=c.y,s[o+a]=c.x,s[o+a+1]=c.y,s[o+a*2]=c.x,s[o+a*2+1]=c.y,s[o+a*3]=c.x,s[o+a*3+1]=c.y,o+=a*4}}uploadRotation(e,r,n,s,a,o){for(let l=0;l<n;l++){const c=e[r+l].rotation;s[o]=c,s[o+a]=c,s[o+a*2]=c,s[o+a*3]=c,o+=a*4}}uploadUvs(e,r,n,s,a,o){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(s[o]=c.x0,s[o+1]=c.y0,s[o+a]=c.x1,s[o+a+1]=c.y1,s[o+a*2]=c.x2,s[o+a*2+1]=c.y2,s[o+a*3]=c.x3,s[o+a*3+1]=c.y3,o+=a*4):(s[o]=0,s[o+1]=0,s[o+a]=0,s[o+a+1]=0,s[o+a*2]=0,s[o+a*2+1]=0,s[o+a*3]=0,s[o+a*3+1]=0,o+=a*4)}}uploadTint(e,r,n,s,a,o){for(let l=0;l<n;++l){const c=e[r+l],d=lr.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);s[o]=d,s[o+a]=d,s[o+a*2]=d,s[o+a*3]=d,o+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}WI.extension={name:"particle",type:Ke.RendererPlugin};ct.add(WI);var Hy=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Hy||{});const b0={willReadFrequently:!0},ao=class dt{static get experimentalLetterSpacingSupported(){let e=dt._experimentalLetterSpacingSupported;if(e!==void 0){const r=et.ADAPTER.getCanvasRenderingContext2D().prototype;e=dt._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,a,o,l,c,d){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=a,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,s=dt._canvas){n=n!=null?n:r.wordWrap;const a=r.toFontString(),o=dt.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const l=s.getContext("2d",b0);l.font=a;const c=(n?dt.wordWrap(e,r,s):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let f=0;for(let b=0;b<c.length;b++){const _=dt._measureText(c[b],r.letterSpacing,l);d[b]=_,f=Math.max(f,_)}let p=f+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);const g=r.lineHeight||o.fontSize+r.strokeThickness;let y=Math.max(g,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(g+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new dt(e,r,p,y,c,d,g+r.leading,f,o)}static _measureText(e,r,n){let s=!1;dt.experimentalLetterSpacingSupported&&(dt.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let a=n.measureText(e).width;return a>0&&(s?a-=r:a+=(dt.graphemeSegmenter(e).length-1)*r),a}static wordWrap(e,r,n=dt._canvas){const s=n.getContext("2d",b0);let a=0,o="",l="";const c=Object.create(null),{letterSpacing:d,whiteSpace:f}=r,p=dt.collapseSpaces(f),g=dt.collapseNewlines(f);let y=!p;const b=r.wordWrapWidth+d,_=dt.tokenize(e);for(let u=0;u<_.length;u++){let h=_[u];if(dt.isNewline(h)){if(!g){l+=dt.addLine(o),y=!p,o="",a=0;continue}h=" "}if(p){const v=dt.isBreakingSpace(h),w=dt.isBreakingSpace(o[o.length-1]);if(v&&w)continue}const m=dt.getFromCache(h,d,c,s);if(m>b)if(o!==""&&(l+=dt.addLine(o),o="",a=0),dt.canBreakWords(h,r.breakWords)){const v=dt.wordWrapSplit(h);for(let w=0;w<v.length;w++){let x=v[w],S=x,E=1;for(;v[w+E];){const T=v[w+E];if(!dt.canBreakChars(S,T,h,w,r.breakWords))x+=T;else break;S=T,E++}w+=E-1;const P=dt.getFromCache(x,d,c,s);P+a>b&&(l+=dt.addLine(o),y=!1,o="",a=0),o+=x,a+=P}}else{o.length>0&&(l+=dt.addLine(o),o="",a=0);const v=u===_.length-1;l+=dt.addLine(h,!v),y=!1,o="",a=0}else m+a>b&&(y=!1,l+=dt.addLine(o),o="",a=0),(o.length>0||!dt.isBreakingSpace(h)||y)&&(o+=h,a+=m)}return l+=dt.addLine(o,!1),l}static addLine(e,r=!0){return e=dt.trimRight(e),e=r?"".concat(e,"\n"):e,e}static getFromCache(e,r,n,s){let a=n[e];return typeof a!="number"&&(a=dt._measureText(e,r,s)+r,n[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!dt.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:dt._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:dt._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const a=e[s],o=e[s+1];if(dt.isBreakingSpace(a,o)||dt.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,a){return!0}static wordWrapSplit(e){return dt.graphemeSegmenter(e)}static measureFont(e){if(dt._fonts[e])return dt._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=dt._canvas,s=dt._context;s.font=e;const a=dt.METRICS_STRING+dt.BASELINE_SYMBOL,o=Math.ceil(s.measureText(a).width);let l=Math.ceil(s.measureText(dt.BASELINE_SYMBOL).width);const c=Math.ceil(dt.HEIGHT_MULTIPLIER*l);if(l=l*dt.BASELINE_MULTIPLIER|0,o===0||c===0)return dt._fonts[e]=r,r;n.width=o,n.height=c,s.fillStyle="#f00",s.fillRect(0,0,o,c),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,l);const d=s.getImageData(0,0,o,c).data,f=d.length,p=o*4;let g=0,y=0,b=!1;for(g=0;g<l;++g){for(let _=0;_<p;_+=4)if(d[y+_]!==255){b=!0;break}if(!b)y+=p;else break}for(r.ascent=l-g,y=f-p,b=!1,g=c;g>l;--g){for(let _=0;_<p;_+=4)if(d[y+_]!==255){b=!0;break}if(!b)y-=p;else break}return r.descent=g-l,r.fontSize=r.ascent+r.descent,dt._fonts[e]=r,r}static clearMetrics(e=""){e?delete dt._fonts[e]:dt._fonts={}}static get _canvas(){var e;if(!dt.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",b0))!=null&&e.measureText)return dt.__canvas=n,n;r=et.ADAPTER.createCanvas()}catch(n){r=et.ADAPTER.createCanvas()}r.width=r.height=10,dt.__canvas=r}return dt.__canvas}static get _context(){return dt.__context||(dt.__context=dt._canvas.getContext("2d",b0)),dt.__context}};ao.METRICS_STRING="|q",ao.BASELINE_SYMBOL="M",ao.BASELINE_MULTIPLIER=1.4,ao.HEIGHT_MULTIPLIER=2,ao.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ao.experimentalLetterSpacing=!1,ao._fonts={},ao._newlines=[10,13],ao._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let il=ao;const pme=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],fG=class eg{constructor(e){this.styleID=0,this.reset(),wA(this,e,e)}clone(){const e={};return wA(e,this,eg.defaultStyle),new eg(e)}reset(){wA(this,eg.defaultStyle,eg.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=bA(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=bA(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){mme(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=bA(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?"".concat(this.fontSize,"px"):this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!pme.includes(s)&&(s='"'.concat(s,'"')),r[n]=s}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(r.join(","))}};fG.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Hy.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Tl=fG;function bA(t){const e=lr.shared,r=n=>{const s=e.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function mme(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function wA(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const gme={texture:!0,children:!1,baseTexture:!0},hG=class FD extends sf{constructor(e,r,n){var o;let s=!1;n||(n=et.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const a=Je.from(n);a.orig=new Bt,a.trim=new Bt,super(a),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=(o=FD.defaultResolution)!=null?o:et.RESOLUTION,this._autoResolution=FD.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return il.experimentalLetterSpacing}static set experimentalLetterSpacing(e){At("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),il.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,s=il.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,o=s.height,l=s.lines,c=s.lineHeight,d=s.lineWidths,f=s.maxLineWidth,p=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let g,y;const b=r.dropShadow?2:1;for(let _=0;_<b;++_){const u=r.dropShadow&&_===0,h=u?Math.ceil(Math.max(1,o)+r.padding*2):0,m=h*this._resolution;if(u){n.fillStyle="black",n.strokeStyle="black";const w=r.dropShadowColor,x=r.dropShadowBlur*this._resolution,S=r.dropShadowDistance*this._resolution;n.shadowColor=lr.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=x,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*S,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*S+m}else n.fillStyle=this._generateFillStyle(r,l,s),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let v=(c-p.fontSize)/2;c-p.fontSize<0&&(v=0);for(let w=0;w<l.length;w++)g=r.strokeThickness/2,y=r.strokeThickness/2+w*c+p.ascent+v,r.align==="right"?g+=f-d[w]:r.align==="center"&&(g+=(f-d[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[w],g+r.padding,y+r.padding-h,!0),r.fill&&this.drawLetterSpacing(l[w],g+r.padding,y+r.padding-h)}this.updateTexture()}drawLetterSpacing(e,r,n,s=!1){const a=this._style.letterSpacing;let o=!1;if(il.experimentalLetterSpacingSupported&&(il.experimentalLetterSpacing?(this.context.letterSpacing="".concat(a,"px"),this.context.textLetterSpacing="".concat(a,"px"),o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||o){s?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let l=r;const c=il.graphemeSegmenter(e);let d=this.context.measureText(e).width,f=0;for(let p=0;p<c.length;++p){const g=c[p];s?this.context.strokeText(g,l,n):this.context.fillText(g,l,n);let y="";for(let b=p+1;b<c.length;++b)y+=c[b];f=this.context.measureText(y).width,l+=d-f+a,d=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=E9(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,s=n.trim?0:n.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const o=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-o-l*2,d=this.canvas.height/this._resolution-o-l*2,f=s.slice(),p=e.fillGradientStops.slice();if(!p.length){const g=f.length+1;for(let y=1;y<g;++y)p.push(y/g)}if(f.unshift(s[0]),p.unshift(0),f.push(s[s.length-1]),p.push(1),e.fillGradientType===Hy.LINEAR_VERTICAL){a=this.context.createLinearGradient(c/2,l,c/2,d+l);const g=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const b=n.lineHeight*(y-1)+g,_=n.lineHeight*y;let u=_;y>0&&b>_&&(u=(_+b)/2);const h=_+g,m=n.lineHeight*(y+1);let v=h;y+1<r.length&&m<h&&(v=(h+m)/2);const w=(v-u)/d;for(let x=0;x<f.length;x++){let S=0;typeof p[x]=="number"?S=p[x]:S=x/f.length;let E=Math.min(1,Math.max(0,u/d+S*w));E=Number(E.toFixed(5)),a.addColorStop(E,f[x])}}}else{a=this.context.createLinearGradient(l,d/2,c+l,d/2);const g=f.length+1;let y=1;for(let b=0;b<f.length;b++){let _;typeof p[b]=="number"?_=p[b]:_=y/g,a.addColorStop(_,f[b]),y++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},gme,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=dl(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=dl(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Tl?this._style=e:this._style=new Tl(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};hG.defaultAutoResolution=!0;let KI=hG;class pG{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function vme(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let s=0;s<t._textures.length;s++)if(t._textures[s]instanceof Je){const a=t._textures[s].baseTexture;e.includes(a)||(e.push(a),r=!0)}}return r}function yme(t,e){if(t.baseTexture instanceof Ot){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function _me(t,e){if(t._texture&&t._texture instanceof Je){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function bme(t,e){return e instanceof KI?(e.updateText(!0),!0):!1}function wme(t,e){if(e instanceof Tl){const r=e.toFontString();return il.measureFont(r),!0}return!1}function xme(t,e){if(t instanceof KI){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Eme(t,e){return t instanceof Tl?(e.includes(t)||e.push(t),!0):!1}const mG=class gG{constructor(e){this.limiter=new pG(gG.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(xme),this.registerFindHook(Eme),this.registerFindHook(vme),this.registerFindHook(yme),this.registerFindHook(_me),this.registerUploadHook(bme),this.registerUploadHook(wme)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,En.system.addOnce(this.tick,this,Bo.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,s=this.uploadHooks.length;n<s;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)En.system.addOnce(this.tick,this,Bo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof ss)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&En.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};mG.uploadsPerFrame=4;let aw=mG;Object.defineProperties(et,{UPLOADS_PER_FRAME:{get(){return aw.uploadsPerFrame},set(t){At("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),aw.uploadsPerFrame=t}}});function vG(t,e){return e instanceof Ot?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Sme(t,e){if(!(e instanceof hl))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let s=0;s<n.length;s++){const{texture:a}=n[s].style;a&&vG(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Cme(t,e){return t instanceof hl?(e.push(t),!0):!1}class XI extends aw{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Cme),this.registerUploadHook(vG),this.registerUploadHook(Sme)}}XI.extension={name:"prepare",type:Ke.RendererSystem};ct.add(XI);class Ame{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class ow extends sf{constructor(e,r=!0){super(e[0]instanceof Je?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(En.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(En.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(Je.from(e[n]));return new ow(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(Je.from(e[n]));return new ow(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Je)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(En.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(En.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Om=new ze;class YI extends sf{constructor(e,r=100,n=100){super(e),this.tileTransform=new Np,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new fE(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Om);const r=this._width,n=this._height,s=-r*this.anchor._x;if(Om.x>=s&&Om.x<s+r){const a=-n*this.anchor._y;if(Om.y>=a&&Om.y<a+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof Je?e:Je.from(e,r);return new YI(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Tme="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",Pme="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Dme="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",GL="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Rme="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";const w0=new er;class qI extends jy{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new xI,this.state=Ya.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Ga.from(GL,Rme,r),this.shader=e.context.webGLVersion>1?Ga.from(Pme,Tme,r):Ga.from(GL,Dme,r)}render(e){const r=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;s=n.uvs,s[0]=s[6]=-a,s[1]=s[3]=-o,s[2]=s[4]=1-a,s[5]=s[7]=1-o,n.invalidate();const l=e._texture,c=l.baseTexture,d=c.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let g=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;g&&(c._glTextures[r.CONTEXT_UID]?g=c.wrapMode!==To.CLAMP:c.wrapMode===To.CLAMP&&(c.wrapMode=To.REPEAT));const y=g?this.simpleShader:this.shader,b=l.width,_=l.height,u=e._width,h=e._height;w0.set(f.a*b/u,f.b*b/h,f.c*_/u,f.d*_/h,f.tx/u,f.ty/h),w0.invert(),g?w0.prepend(p.mapCoord):(y.uniforms.uMapCoord=p.mapCoord.toArray(!0),y.uniforms.uClampFrame=p.uClampFrame,y.uniforms.uClampOffset=p.uClampOffset),y.uniforms.uTransform=w0.toArray(!0),y.uniforms.uColor=lr.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=mI(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}qI.extension={name:"tilingSprite",type:Ke.RendererPlugin};ct.add(qI);const yG=class tg{constructor(e,r,n){this.linkedSheets=[],(e instanceof Ot||e instanceof Je)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:s,data:a,resolutionFilename:o=null,cachePrefix:l=""}=e;this.cachePrefix=l,this._texture=s instanceof Je?s:null,this.baseTexture=s instanceof Ot?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const c=this.baseTexture.resource;this.resolution=this._updateResolution(o||(c?c.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=Oo(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r!=null?r:"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=tg.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=tg.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],a=this._frames[s],o=a.frame;if(o){let l=null,c=null;const d=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,f=new Bt(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);a.rotated?l=new Bt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new Bt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new Bt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[s]=new Je(this.baseTexture,l,f,c,a.rotated?2:0,a.anchor,a.borders),Je.addToCache(this.textures[s],this.cachePrefix+s.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*tg.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*tg.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};yG.BATCH_SIZE=1e3;let MD=yG;const Ome=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function _G(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n["".concat(e.cachePrefix).concat(s)]=e.textures[s]}),!r){const s=On.dirname(t[0]);e.linkedSheets.forEach((a,o)=>{Object.assign(n,_G(["".concat(s,"/").concat(e.data.meta.related_multi_packs[o])],a,!0))})}return n}const bG={extension:Ke.Asset,cache:{test:t=>t instanceof MD,getCacheableAssets:(t,e)=>_G(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&Ome.includes(n)},parse:t=>{var r,n;const e=t.split(".");return{resolution:parseFloat((n=(r=et.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Ke.LoadParser,priority:ma.Normal},async testParse(t,e){return On.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,p,g;const{texture:n,imageFilename:s,cachePrefix:a}=(f=e==null?void 0:e.data)!=null?f:{};let o=On.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l;if(n&&n.baseTexture)l=n;else{const y=sw(o+(s!=null?s:t.meta.image),e.src);l=(await r.load([y]))[y]}const c=new MD({texture:l.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:a});await c.parse();const d=(p=t==null?void 0:t.meta)==null?void 0:p.related_multi_packs;if(Array.isArray(d)){const y=[];for(const _ of d){if(typeof _!="string")continue;let u=o+_;(g=e.data)!=null&&g.ignoreMultiPack||(u=sw(u,e.src),y.push(r.load({src:u,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(y);c.linkedSheets=b,b.forEach(_=>{_.linkedSheets=[c].concat(c.linkedSheets.filter(u=>u!==_))})}return c},unload(t){t.destroy(!0)}}};ct.add(bG);class Fv{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Ig{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in r){const o=r[a].match(/^[a-z]+/gm)[0],l=r[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in l){const f=l[d].split("="),p=f[0],g=f[1].replace(/"/gm,""),y=parseFloat(g),b=isNaN(y)?g:y;c[p]=b}n[o].push(c)}const s=new Fv;return n.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),n.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),n.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),n.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),n.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),n.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class lw{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Fv,n=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<s.length;d++)r.common.push({lineHeight:parseInt(s[d].getAttribute("lineHeight"),10)});for(let d=0;d<a.length;d++)r.page.push({id:parseInt(a[d].getAttribute("id"),10)||0,file:a[d].getAttribute("file")});for(let d=0;d<o.length;d++){const f=o[d];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)r.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class uw{static test(e){return typeof e=="string"&&e.includes("<font>")?lw.test(et.ADAPTER.parseXML(e)):!1}static parse(e){return lw.parse(et.ADAPTER.parseXML(e))}}const xA=[Ig,lw,uw];function wG(t){for(let e=0;e<xA.length;e++)if(xA[e].test(t))return xA[e];return null}function Ime(t,e,r,n,s,a){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,f=t.width/n-c-d*2,p=t.height/n-c-d*2,g=o.slice(),y=r.fillGradientStops.slice();if(!y.length){const b=g.length+1;for(let _=1;_<b;++_)y.push(_/b)}if(g.unshift(o[0]),y.unshift(0),g.push(o[o.length-1]),y.push(1),r.fillGradientType===Hy.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,d,f/2,p+d);let b=0;const _=(a.fontProperties.fontSize+r.strokeThickness)/p;for(let u=0;u<s.length;u++){const h=a.lineHeight*u;for(let m=0;m<g.length;m++){let v=0;typeof y[m]=="number"?v=y[m]:v=m/g.length;const w=h/p+v*_;let x=Math.max(b,w);x=Math.min(x,1),l.addColorStop(x,g[m]),b=x}}}else{l=e.createLinearGradient(d,p/2,f+d,p/2);const b=g.length+1;let _=1;for(let u=0;u<g.length;u++){let h;typeof y[u]=="number"?h=y[u]:h=_/b,l.addColorStop(h,g[u]),_++}}return l}function Bme(t,e,r,n,s,a,o){const l=r.text,c=r.fontProperties;e.translate(n,s),e.scale(a,a);const d=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Ime(t,e,o,a,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,g=o.dropShadowBlur*a,y=o.dropShadowDistance*a;e.shadowColor=lr.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=g,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,d,f+r.lineHeight-c.descent),o.fill&&e.fillText(l,d,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function N1(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function xG(t){return Array.from?Array.from(t):t.split("")}function Fme(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(s.length,"."));const a=s[0].charCodeAt(0),o=s[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(let l=a,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...xG(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const au=class oo{constructor(e,r,n){var f,p;const[s]=e.info,[a]=e.common,[o]=e.page,[l]=e.distanceField,c=Oo(o.file),d={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/c,this.chars={},this.pageTextures=d;for(let g=0;g<e.page.length;g++){const{id:y,file:b}=e.page[g];d[y]=r instanceof Array?r[g]:r[b],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[y].baseTexture.alphaMode=Ii.NO_PREMULTIPLIED_ALPHA,d[y].baseTexture.mipmap=Ka.OFF)}for(let g=0;g<e.char.length;g++){const{id:y,page:b}=e.char[g];let{x:_,y:u,width:h,height:m,xoffset:v,yoffset:w,xadvance:x}=e.char[g];_/=c,u/=c,h/=c,m/=c,v/=c,w/=c,x/=c;const S=new Bt(_+d[b].frame.x/c,u+d[b].frame.y/c,h,m);this.chars[y]={xOffset:v,yOffset:w,xAdvance:x,kerning:{},texture:new Je(d[b].baseTexture,S),page:b}}for(let g=0;g<e.kerning.length;g++){let{first:y,second:b,amount:_}=e.kerning[g];y/=c,b/=c,_/=c,this.chars[b]&&(this.chars[b].kerning[y]=_)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(p=(f=l==null?void 0:l.fieldType)==null?void 0:f.toLowerCase())!=null?p:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let s;if(e instanceof Fv)s=e;else{const o=wG(e);if(!o)throw new Error("Unrecognized data format for font.");s=o.parse(e)}r instanceof Je&&(r=[r]);const a=new oo(s,r,n);return oo.available[a.font]=a,a}static uninstall(e){const r=oo.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete oo.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:o,textureWidth:l,textureHeight:c,...d}=Object.assign({},oo.defaultOptions,n),f=Fme(s),p=r instanceof Tl?r:new Tl(r),g=l,y=new Fv;y.info[0]={face:p.fontFamily,size:p.fontSize},y.common[0]={lineHeight:p.fontSize};let b=0,_=0,u,h,m,v=0;const w=[];for(let S=0;S<f.length;S++){u||(u=et.ADAPTER.createCanvas(),u.width=l,u.height=c,h=u.getContext("2d"),m=new Ot(u,{resolution:o,...d}),w.push(new Je(m)),y.page.push({id:w.length-1,file:""}));const E=f[S],P=il.measureText(E,p,!1,u),T=P.width,A=Math.ceil(P.height),R=Math.ceil((p.fontStyle==="italic"?2:1)*T);if(_>=c-A*o){if(_===0)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(E,"')"));--S,u=null,h=null,m=null,_=0,b=0,v=0;continue}if(v=Math.max(A+P.fontProperties.descent,v),R*o+b>=g){if(b===0)throw new Error("[BitmapFont] textureWidth ".concat(l,"px is too small (fontFamily: '").concat(p.fontFamily,"', fontSize: ").concat(p.fontSize,"px, char: '").concat(E,"')"));--S,_+=v*o,_=Math.ceil(_),b=0,v=0;continue}Bme(u,h,P,b,_,o,p);const D=N1(P.text);y.char.push({id:D,page:w.length-1,x:b/o,y:_/o,width:R,height:A,xoffset:0,yoffset:0,xadvance:T-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),b+=(R+2*a)*o,b=Math.ceil(b)}if(!(n!=null&&n.skipKerning))for(let S=0,E=f.length;S<E;S++){const P=f[S];for(let T=0;T<E;T++){const A=f[T],R=h.measureText(P).width,D=h.measureText(A).width,O=h.measureText(P+A).width-(R+D);O&&y.kerning.push({first:N1(P),second:N1(A),amount:O})}}const x=new oo(y,w,!0);return oo.available[e]!==void 0&&oo.uninstall(e),oo.available[e]=x,x}};au.ALPHA=[["a","z"],["A","Z"]," "],au.NUMERIC=[["0","9"]],au.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],au.ASCII=[[" ","~"]],au.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:au.ALPHANUMERIC},au.available={};let tl=au;var Mme="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n",kme="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";const HL=[],WL=[],KL=[],EG=class SG extends ss{constructor(e,r={}){super();const{align:n,tint:s,maxWidth:a,letterSpacing:o,fontName:l,fontSize:c}=Object.assign({},SG.styleDefaults,r);if(!tl.available[l])throw new Error('Missing BitmapFont "'.concat(l,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new lr(s),this._font=void 0,this._fontName=l,this._fontSize=c,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new ka(()=>{this.dirty=!0},this,0,0),this._roundPixels=et.ROUND_PIXELS,this.dirty=!0,this._resolution=et.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var R;const e=tl.available[this._fontName],r=this.fontSize,n=r/e.size,s=new ze,a=[],o=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=xG(c),f=this._maxWidth*e.size/r,p=e.distanceFieldType==="none"?HL:WL;let g=null,y=0,b=0,_=0,u=-1,h=0,m=0,v=0,w=0;for(let D=0;D<d.length;D++){const O=d[D],I=N1(O);if(/(?:\s)/.test(O)&&(u=D,h=y,w++),O==="\r"||O==="\n"){o.push(y),l.push(-1),b=Math.max(b,y),++_,++m,s.x=0,s.y+=e.lineHeight,g=null,w=0;continue}const M=e.chars[I];if(!M)continue;g&&M.kerning[g]&&(s.x+=M.kerning[g]);const G=KL.pop()||{texture:Je.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ze};G.texture=M.texture,G.line=_,G.charCode=I,G.position.x=Math.round(s.x+M.xOffset+this._letterSpacing/2),G.position.y=Math.round(s.y+M.yOffset),G.prevSpaces=w,a.push(G),y=G.position.x+Math.max(M.xAdvance-M.xOffset,M.texture.orig.width),s.x+=M.xAdvance+this._letterSpacing,v=Math.max(v,M.yOffset+M.texture.height),g=I,u!==-1&&f>0&&s.x>f&&(++m,_d(a,1+u-m,1+D-u),D=u,u=-1,o.push(h),l.push(a.length>0?a[a.length-1].prevSpaces:0),b=Math.max(b,h),_++,s.x=0,s.y+=e.lineHeight,g=null,w=0)}const x=d[d.length-1];x!=="\r"&&x!=="\n"&&(/(?:\s)/.test(x)&&(y=h),o.push(y),b=Math.max(b,y),l.push(-1));const S=[];for(let D=0;D<=_;D++){let O=0;this._align==="right"?O=b-o[D]:this._align==="center"?O=(b-o[D])/2:this._align==="justify"&&(O=l[D]<0?0:(b-o[D])/l[D]),S.push(O)}const E=a.length,P={},T=[],A=this._activePagesMeshData;p.push(...A);for(let D=0;D<E;D++){const O=a[D].texture,I=O.baseTexture.uid;if(!P[I]){let M=p.pop();if(!M){const j=new Gy;let $,H;e.distanceFieldType==="none"?($=new up(Je.EMPTY),H=wt.NORMAL):($=new up(Je.EMPTY,{program:wo.from(kme,Mme),uniforms:{uFWidth:0}}),H=wt.NORMAL_NPM);const K=new lp(j,$);K.blendMode=H,M={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:K,vertices:null,uvs:null,indices:null}}M.index=0,M.indexCount=0,M.vertexCount=0,M.uvsCount=0,M.total=0;const{_textureCache:G}=this;G[I]=G[I]||new Je(O.baseTexture),M.mesh.texture=G[I],M.mesh.tint=this._tintColor.value,T.push(M),P[I]=M}P[I].total++}for(let D=0;D<A.length;D++)T.includes(A[D])||this.removeChild(A[D].mesh);for(let D=0;D<T.length;D++)T[D].mesh.parent!==this&&this.addChild(T[D].mesh);this._activePagesMeshData=T;for(const D in P){const O=P[D],I=O.total;if(!(((R=O.indices)==null?void 0:R.length)>6*I)||O.vertices.length<lp.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*I),O.uvs=new Float32Array(4*2*I),O.indices=new Uint16Array(6*I);else{const M=O.total,G=O.vertices;for(let j=M*4*2;j<G.length;j++)G[j]=0}O.mesh.size=6*I}for(let D=0;D<E;D++){const O=a[D];let I=O.position.x+S[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(I=Math.round(I));const M=I*n,G=O.position.y*n,j=O.texture,$=P[j.baseTexture.uid],H=j.frame,K=j._uvs,re=$.index++;$.indices[re*6+0]=0+re*4,$.indices[re*6+1]=1+re*4,$.indices[re*6+2]=2+re*4,$.indices[re*6+3]=0+re*4,$.indices[re*6+4]=2+re*4,$.indices[re*6+5]=3+re*4,$.vertices[re*8+0]=M,$.vertices[re*8+1]=G,$.vertices[re*8+2]=M+H.width*n,$.vertices[re*8+3]=G,$.vertices[re*8+4]=M+H.width*n,$.vertices[re*8+5]=G+H.height*n,$.vertices[re*8+6]=M,$.vertices[re*8+7]=G+H.height*n,$.uvs[re*8+0]=K.x0,$.uvs[re*8+1]=K.y0,$.uvs[re*8+2]=K.x1,$.uvs[re*8+3]=K.y1,$.uvs[re*8+4]=K.x2,$.uvs[re*8+5]=K.y2,$.uvs[re*8+6]=K.x3,$.uvs[re*8+7]=K.y3}this._textWidth=b*n,this._textHeight=(s.y+e.lineHeight)*n;for(const D in P){const O=P[D];if(this.anchor.x!==0||this.anchor.y!==0){let j=0;const $=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let K=0;K<O.total;K++)O.vertices[j++]-=$,O.vertices[j++]-=H,O.vertices[j++]-=$,O.vertices[j++]-=H,O.vertices[j++]-=$,O.vertices[j++]-=H,O.vertices[j++]-=$,O.vertices[j++]-=H}this._maxLineHeight=v*n;const I=O.mesh.geometry.getBuffer("aVertexPosition"),M=O.mesh.geometry.getBuffer("aTextureCoord"),G=O.mesh.geometry.getIndex();I.data=O.vertices,M.data=O.uvs,G.data=O.indices,I.update(),M.update(),G.update()}for(let D=0;D<a.length;D++)KL.push(a[D]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:s}=tl.available[this._fontName];if(n!=="none"){const{a,b:o,c:l,d:c}=this.worldTransform,d=Math.sqrt(a*a+o*o),f=Math.sqrt(l*l+c*c),p=(Math.abs(d)+Math.abs(f))/2,g=this.fontSize/s,y=e._view.resolution;for(const b of this._activePagesMeshData)b.mesh.shader.uniforms.uFWidth=p*r*g*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=tl.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!tl.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return(e=this._fontSize)!=null?e:tl.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=tl.available[this._fontName].distanceFieldType==="none"?HL:WL;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>r[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=Je.EMPTY});for(const s in r)r[s].destroy(),delete r[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};EG.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Nme=EG;const Lme=[".xml",".fnt"],CG={extension:{type:Ke.LoadParser,priority:ma.Normal},name:"loadBitmapFont",test(t){return Lme.includes(On.extname(t).toLowerCase())},async testParse(t){return Ig.test(t)||uw.test(t)},async parse(t,e,r){const n=Ig.test(t)?Ig.parse(t):uw.parse(t),{src:s}=e,{page:a}=n,o=[];for(let d=0;d<a.length;++d){const f=a[d].file;let p=On.join(On.dirname(s),f);p=sw(p,s),o.push(p)}const l=await r.load(o),c=o.map(d=>l[d]);return tl.install(n,c,!0)},async load(t,e){return(await et.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ct.add(CG);const kD=class Zf extends Tl{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Zf(Object.keys(Zf.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Zf.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Zf;if(n[e]){const s=n[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return et.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((a,o)=>{const l=URL.createObjectURL(s),c=new FileReader;c.onload=()=>a([l,c.result]),c.onerror=o,c.readAsDataURL(s)})).then(async([s,a])=>{const o=Object.assign({family:On.basename(e,On.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:a,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const l=new FontFace(o.family,"url(".concat(o.src,")"),{weight:o.weight,style:o.style,display:o.display});o.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(r.family,"\";\n                src: url('").concat(r.dataSrc,"');\n                font-weight: ").concat(r.weight,";\n                font-style: ").concat(r.style,";\n                font-display: ").concat(r.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=y9(e)),typeof e=="number"?v9(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const a="".concat(n,"px ").concat(s,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(a," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(a," ").concat(e)}reset(){Object.assign(this,Zf.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=et.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};kD.availableFonts={},kD.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let L1=kD;const rg=class Jf extends sf{constructor(e="",r={}){var p;super(Je.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,s=Je.from(n,{scaleMode:et.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Bt,s.trim=new Bt,this.texture=s;const a="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(a,"svg"),c=document.createElementNS(a,"foreignObject"),d=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",l.appendChild(c),this.maxWidth=Jf.defaultMaxWidth,this.maxHeight=Jf.defaultMaxHeight,this._domElement=d,this._styleElement=f,this._svgRoot=l,this._foreignObject=c,this._foreignObject.appendChild(f),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=Jf.defaultAutoResolution,this._resolution=(p=Jf.defaultResolution)!=null?p:et.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,p;const{text:r,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:l}=a;(o>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(s)}),this._styleElement.textContent=(p=this._style)==null?void 0:p.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:s}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:a,height:o}=this.measureText();n.width=s.width=Math.ceil(Math.max(1,a)),n.height=s.height=Math.ceil(Math.max(1,o)),this._updateID++;const l=this._updateID;await new Promise(c=>{s.onload=async()=>{if(l<this._updateID){c();return}await r.onBeforeDraw(),n.src=s.src,s.onload=null,s.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);s.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:s}=this,{padding:a}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/s,r.trim.height=r._frame.height=n.height/s,r.trim.x=-a,r.trim.y=-a,r.orig.width=r._frame.width-a*2,r.orig.height=r._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,s,a,o,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Jf.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(s=this._svgRoot)==null||s.remove(),this._svgRoot=r,(a=this._domElement)==null||a.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=dl(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=dl(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof L1?(this.ownsStyle=!1,this._style=e):e instanceof Tl?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=L1.from(e)):(this.ownsStyle=!0,this._style=new L1(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};rg.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},rg.defaultMaxWidth=2024,rg.defaultMaxHeight=2024,rg.defaultAutoResolution=!0;let Ume=rg;const DYe=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Ii,AbstractMultiResource:$I,AccessibilityManager:zI,AlphaFilter:hV,AnimatedSprite:ow,Application:xV,ArrayResource:sV,Assets:Zm,AssetsClass:BV,Attribute:xv,BLEND_MODES:wt,BUFFER_BITS:Gb,BUFFER_TYPE:za,BackgroundSystem:Sv,BaseImageResource:Io,BasePrepare:aw,BaseRenderTexture:_I,BaseTexture:Ot,BatchDrawCall:Jb,BatchGeometry:vI,BatchRenderer:du,BatchShaderGenerator:N9,BatchSystem:yI,BatchTextureArray:Qb,BitmapFont:tl,BitmapFontData:Fv,BitmapText:Nme,BlobResource:GV,BlurFilter:pV,BlurFilterPass:rw,Bounds:Pv,BrowserAdapter:M7,Buffer:bn,BufferResource:Ny,BufferSystem:LI,CLEAR_MODES:Oa,COLOR_MASK_BITS:F7,Cache:bu,CanvasResource:aV,Circle:Ly,Color:lr,ColorMatrixFilter:nw,CompressedTextureResource:Vu,Container:ss,ContextSystem:Cv,CountLimiter:pG,CubeResource:lV,DEG_TO_RAD:P9,DRAW_MODES:Fa,DisplacementFilter:mV,DisplayObject:Hr,ENV:vc,Ellipse:Uy,EventBoundary:yV,EventSystem:iw,ExtensionType:Ke,Extract:QV,FORMATS:Be,FORMATS_TO_COMPONENTS:WV,FXAAFilter:gV,FederatedDisplayObject:_V,FederatedEvent:Lp,FederatedMouseEvent:Dv,FederatedPointerEvent:Vs,FederatedWheelEvent:wd,FillStyle:Vy,Filter:ri,FilterState:U9,FilterSystem:EI,Framebuffer:ew,FramebufferSystem:SI,GC_MODES:rE,GLFramebuffer:$9,GLProgram:W9,GLTexture:I1,GRAPHICS_CURVES:rme,GenerateTextureSystem:RI,Geometry:Al,GeometrySystem:CI,Graphics:hl,GraphicsData:Bv,GraphicsGeometry:sG,HTMLText:Ume,HTMLTextStyle:L1,IGLUniformData:ghe,INSTALLED:Zb,INTERNAL_FORMATS:Un,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ov,ImageBitmapResource:od,ImageResource:bI,LINE_CAP:fl,LINE_JOIN:ms,LineStyle:gE,LoaderParserPriority:ma,MASK_TYPES:vn,MIPMAP_MODES:Ka,MSAA_QUALITY:pn,MaskData:z9,MaskSystem:AI,Matrix:er,Mesh:lp,MeshBatchUvs:aG,MeshGeometry:Gy,MeshMaterial:up,MultisampleSystem:NI,NineSlicePlane:lme,NoiseFilter:vV,ObjectRenderer:jy,ObjectRendererSystem:UI,ObservablePoint:ka,PI_2:Ev,PRECISION:Es,ParticleContainer:dme,ParticleRenderer:WI,PlaneGeometry:uG,PluginSystem:PI,Point:ze,Polygon:zu,Prepare:XI,Program:wo,ProjectionSystem:DI,Quad:L9,QuadUv:xI,RAD_TO_DEG:T9,RENDERER_TYPE:aI,Rectangle:Bt,RenderTexture:_c,RenderTexturePool:wI,RenderTextureSystem:OI,Renderer:hE,ResizePlugin:VI,Resource:op,RopeGeometry:cG,RoundedRectangle:$y,Runner:Ts,SAMPLER_TYPES:Ze,SCALE_MODES:bo,SHAPES:Kn,SVGResource:tw,ScissorSystem:H9,Shader:Ga,ShaderSystem:II,SimpleMesh:ume,SimplePlane:dG,SimpleRope:cme,Sprite:sf,SpriteMaskFilter:j9,Spritesheet:MD,StartupSystem:Av,State:Ya,StateSystem:Q9,StencilSystem:TI,SystemManager:eV,TARGETS:vd,TEXT_GRADIENT:Hy,TYPES:mt,TYPES_TO_BYTES_PER_COMPONENT:DD,TYPES_TO_BYTES_PER_PIXEL:KV,TemporaryDisplayObject:uV,Text:KI,TextFormat:Ig,TextMetrics:il,TextStyle:Tl,Texture:Je,TextureGCSystem:fu,TextureMatrix:fE,TextureSystem:BI,TextureUvs:dE,Ticker:En,TickerPlugin:MI,TilingSprite:YI,TilingSpriteRenderer:qI,TimeLimiter:Ame,Transform:Np,TransformFeedback:Mhe,TransformFeedbackSystem:FI,UPDATE_PRIORITY:Bo,UniformGroup:ca,VERSION:khe,VideoResource:jI,ViewSystem:Tv,ViewableBuffer:qb,WRAP_MODES:To,XMLFormat:lw,XMLStringFormat:uw,accessibleTarget:bV,autoDetectFormat:wG,autoDetectRenderer:nV,autoDetectResource:gI,cacheTextureArray:FV,checkDataUrl:af,checkExtension:$l,checkMaxIfStatementsInShader:C9,convertToList:Zs,copySearchParams:sw,createStringVariations:SV,createTexture:Up,createUBOElements:Y9,curves:ec,defaultFilterVertex:kI,defaultVertex:iV,detectAvif:kV,detectCompressedTextures:VV,detectDefaults:LV,detectMp4:$V,detectOgv:jV,detectWebm:UV,detectWebp:NV,extensions:ct,filters:ED,generateProgram:K9,generateUniformBufferSync:Z9,getFontFamilyName:TV,getTestContext:B9,getUBOData:q9,graphicsUtils:sme,groupD8:Ur,isMobile:Ma,isSingleItem:Rv,loadBitmapFont:CG,loadDDS:YV,loadImageBitmap:RV,loadJson:CV,loadKTX:qV,loadSVG:OV,loadTextures:zy,loadTxt:AV,loadVideo:IV,loadWebFont:PV,parseDDS:HV,parseKTX:XV,resolveCompressedTextureUrl:ZV,resolveTextureUrl:zV,settings:et,spritesheetAsset:bG,uniformParsers:bd,unsafeEvalSupported:k9,utils:$fe},Symbol.toStringTag,{value:"Module"})),$me="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let RYe=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=$me[r[t]&63];return e};var AG={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(Yi,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],a={},o=null;function l(_,u){var h=_[u];if(typeof h.bind=="function")return h.bind(_);try{return Function.prototype.bind.call(h,_)}catch(m){return function(){return Function.prototype.apply.apply(h,[_,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(_){return _==="debug"&&(_="log"),typeof console===r?!1:_==="trace"&&n?c:console[_]!==void 0?l(console,_):console.log!==void 0?l(console,"log"):e}function f(){for(var _=this.getLevel(),u=0;u<s.length;u++){var h=s[u];this[h]=u<_?e:this.methodFactory(h,_,this.name)}if(this.log=this.debug,typeof console===r&&_<this.levels.SILENT)return"No console available for logging"}function p(_){return function(){typeof console!==r&&(f.call(this),this[_].apply(this,arguments))}}function g(_,u,h){return d(_)||p.apply(this,arguments)}function y(_,u){var h=this,m,v,w,x="loglevel";typeof _=="string"?x+=":"+_:typeof _=="symbol"&&(x=void 0);function S(R){var D=(s[R]||"silent").toUpperCase();if(!(typeof window===r||!x)){try{window.localStorage[x]=D;return}catch(O){}try{window.document.cookie=encodeURIComponent(x)+"="+D+";"}catch(O){}}}function E(){var R;if(!(typeof window===r||!x)){try{R=window.localStorage[x]}catch(M){}if(typeof R===r)try{var D=window.document.cookie,O=encodeURIComponent(x),I=D.indexOf(O+"=");I!==-1&&(R=/^([^;]+)/.exec(D.slice(I+O.length+1))[1])}catch(M){}return h.levels[R]===void 0&&(R=void 0),R}}function P(){if(!(typeof window===r||!x)){try{window.localStorage.removeItem(x)}catch(R){}try{window.document.cookie=encodeURIComponent(x)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(R){}}}function T(R){var D=R;if(typeof D=="string"&&h.levels[D.toUpperCase()]!==void 0&&(D=h.levels[D.toUpperCase()]),typeof D=="number"&&D>=0&&D<=h.levels.SILENT)return D;throw new TypeError("log.setLevel() called with invalid level: "+R)}h.name=_,h.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},h.methodFactory=u||g,h.getLevel=function(){return w!=null?w:v!=null?v:m},h.setLevel=function(R,D){return w=T(R),D!==!1&&S(w),f.call(h)},h.setDefaultLevel=function(R){v=T(R),E()||h.setLevel(R,!1)},h.resetLevel=function(){w=null,P(),f.call(h)},h.enableAll=function(R){h.setLevel(h.levels.TRACE,R)},h.disableAll=function(R){h.setLevel(h.levels.SILENT,R)},h.rebuild=function(){if(o!==h&&(m=T(o.getLevel())),f.call(h),o===h)for(var R in a)a[R].rebuild()},m=T(o?o.getLevel():"WARN");var A=E();A!=null&&(w=T(A)),f.call(h)}o=new y,o.getLogger=function(u){if(typeof u!="symbol"&&typeof u!="string"||u==="")throw new TypeError("You must supply a name when creating a logger.");var h=a[u];return h||(h=a[u]=new y(u,o.methodFactory)),h};var b=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=b),o},o.getLoggers=function(){return a},o.default=o,o})})(AG);var jme=AG.exports;const OYe=ui(jme);var zme="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Vme="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n";const TG=class extends ri{constructor(e,r=0){super(zme,Vme),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,TG.defaults,e)}apply(e,r,n,s){var a,o;this.uniforms.dimensions[0]=(a=r.filterFrame)==null?void 0:a.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,s)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let Gme=TG;Gme.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var xd={},PG={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.loop=vl.conditional=vl.parse=void 0;var Hme=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,s)});else if(typeof r=="function")r(e,n,s,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(s[a]={},t(e,r[a],n,s[a])):s[a]=r[a](e,n,s,t)}return n};vl.parse=Hme;var Wme=function(e,r){return function(n,s,a,o){r(n,s,a)&&o(n,e,s,a)}};vl.conditional=Wme;var Kme=function(e,r){return function(n,s,a,o){for(var l=[],c=n.pos;r(n,s,a);){var d={};if(o(n,e,s,d),n.pos===c)break;c=n.pos,l.push(d)}return l}};vl.loop=Kme;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.readBits=fn.readArray=fn.readUnsigned=fn.readString=fn.peekBytes=fn.readBytes=fn.peekByte=fn.readByte=fn.buildStream=void 0;var Xme=function(e){return{data:e,pos:0}};fn.buildStream=Xme;var DG=function(){return function(e){return e.data[e.pos++]}};fn.readByte=DG;var Yme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};fn.peekByte=Yme;var vE=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};fn.readBytes=vE;var qme=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};fn.peekBytes=qme;var Zme=function(e){return function(r){return Array.from(vE(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};fn.readString=Zme;var Jme=function(e){return function(r){var n=vE(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};fn.readUnsigned=Jme;var Qme=function(e,r){return function(n,s,a){for(var o=typeof r=="function"?r(n,s,a):r,l=vE(e),c=new Array(o),d=0;d<o;d++)c[d]=l(n);return c}};fn.readArray=Qme;var ege=function(e,r,n){for(var s=0,a=0;a<n;a++)s+=e[r+a]&&Math.pow(2,n-a-1);return s},tge=function(e){return function(r){for(var n=DG()(r),s=new Array(8),a=0;a<8;a++)s[7-a]=!!(n&1<<a);return Object.keys(e).reduce(function(o,l){var c=e[l];return c.length?o[l]=ege(s,c.index,c.length):o[l]=s[c.index],o},{})}};fn.readBits=tge;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=vl,r=fn,n={blocks:function(g){for(var y=0,b=[],_=g.data.length,u=0,h=(0,r.readByte)()(g);h!==y&&h;h=(0,r.readByte)()(g)){if(g.pos+h>=_){var m=_-g.pos;b.push((0,r.readBytes)(m)(g)),u+=m;break}b.push((0,r.readBytes)(h)(g)),u+=h}for(var v=new Uint8Array(u),w=0,x=0;x<b.length;x++)v.set(b[x],w),w+=b[x].length;return v}},s=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(p){var g=(0,r.peekBytes)(2)(p);return g[0]===33&&g[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(p,g,y){return Math.pow(2,y.descriptor.lct.size+1)})},function(p,g,y){return y.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(p){return(0,r.peekByte)()(p)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(g,y,b){return(0,r.readBytes)(b.text.blockSize)(g)}},n]},function(p){var g=(0,r.peekBytes)(2)(p);return g[0]===33&&g[1]===1}),l=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(g,y,b){return(0,r.readString)(b.blockSize)(g)}},n]},function(p){var g=(0,r.peekBytes)(2)(p);return g[0]===33&&g[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(p){var g=(0,r.peekBytes)(2)(p);return g[0]===33&&g[1]===254}),d=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(p,g){return Math.pow(2,g.lsd.gct.size+1)})},function(p,g){return g.lsd.gct.exists}),{frames:(0,e.loop)([s,l,c,a,o],function(p){var g=(0,r.peekByte)()(p);return g===33||g===44})}],f=d;t.default=f})(PG);var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.deinterlace=void 0;var rge=function(e,r){for(var n=new Array(e.length),s=e.length/r,a=function(g,y){var b=e.slice(y*r,(y+1)*r);n.splice.apply(n,[g*r,r].concat(b))},o=[0,4,2,1],l=[8,8,4,2],c=0,d=0;d<4;d++)for(var f=o[d];f<s;f+=l[d])a(f,c),c++;return n};yE.deinterlace=rge;var _E={};Object.defineProperty(_E,"__esModule",{value:!0});_E.lzw=void 0;var nge=function(e,r,n){var s=4096,a=-1,o=n,l,c,d,f,p,g,y,S,b,_,x,u,E,P,A,T,h=new Array(n),m=new Array(s),v=new Array(s),w=new Array(s+1);for(u=e,c=1<<u,p=c+1,l=c+2,y=a,f=u+1,d=(1<<f)-1,b=0;b<c;b++)m[b]=0,v[b]=b;var x,S,E,P,T,A;for(x=S=E=P=T=A=0,_=0;_<o;){if(P===0){if(S<f){x+=r[A]<<S,S+=8,A++;continue}if(b=x&d,x>>=f,S-=f,b>l||b==p)break;if(b==c){f=u+1,d=(1<<f)-1,l=c+2,y=a;continue}if(y==a){w[P++]=v[b],y=b,E=b;continue}for(g=b,b==l&&(w[P++]=E,b=y);b>c;)w[P++]=v[b],b=m[b];E=v[b]&255,w[P++]=E,l<s&&(m[l]=y,v[l]=E,l++,!(l&d)&&l<s&&(f++,d+=l)),y=g}P--,h[T++]=w[P],_++}for(_=T;_<o;_++)h[_]=0;return h};_E.lzw=nge;Object.defineProperty(xd,"__esModule",{value:!0});var ige=xd.decompressFrames=xd.decompressFrame=fge=xd.parseGIF=void 0,sge=cge(PG),age=vl,oge=fn,lge=yE,uge=_E;function cge(t){return t&&t.__esModule?t:{default:t}}var dge=function(e){var r=new Uint8Array(e);return(0,age.parse)((0,oge.buildStream)(r),sge.default)},fge=xd.parseGIF=dge,hge=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),s=0;s<r;s++){var a=s*4,o=e.pixels[s],l=e.colorTable[o]||[0,0,0];n[a]=l[0],n[a+1]=l[1],n[a+2]=l[2],n[a+3]=o!==e.transparentIndex?255:0}return n},RG=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var s=e.image,a=s.descriptor.width*s.descriptor.height,o=(0,uge.lzw)(s.data.minCodeSize,s.data.blocks,a);s.descriptor.lct.interlaced&&(o=(0,lge.deinterlace)(o,s.descriptor.width));var l={pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return s.descriptor.lct&&s.descriptor.lct.exists?l.colorTable=s.lct:l.colorTable=r,e.gce&&(l.delay=(e.gce.delay||10)*10,l.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(l.transparentIndex=e.gce.transparentColorIndex)),n&&(l.patch=hge(l)),l};xd.decompressFrame=RG;var pge=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return RG(n,e.gct,r)})};ige=xd.decompressFrames=pge;var OG={};(function(t){var e=function(){var u=new Date,h=4,m=3,v=2,w=1,x=h,S={setLogLevel:function(E){E==this.debug?x=w:E==this.info?x=v:E==this.warn?x=m:(E==this.error,x=h)},debug:function(E,P){console.debug===void 0&&(console.debug=console.log),w>=x&&console.debug("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)},log:function(E,P){this.debug(E.msg)},info:function(E,P){v>=x&&console.info("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)},warn:function(E,P){m>=x&&console.warn("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)},error:function(E,P){h>=x&&console.error("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)}};return S}();e.getDurationString=function(u,h){var m;function v(T,A){for(var R=""+T,D=R.split(".");D[0].length<A;)D[0]="0"+D[0];return D.join(".")}u<0?(m=!0,u=-u):m=!1;var w=h||1,x=u/w,S=Math.floor(x/3600);x-=S*3600;var E=Math.floor(x/60);x-=E*60;var P=x*1e3;return x=Math.floor(x),P-=x*1e3,P=Math.floor(P),(m?"-":"")+S+":"+v(E,2)+":"+v(x,2)+"."+v(P,3)},e.printRanges=function(u){var h=u.length;if(h>0){for(var m="",v=0;v<h;v++)v>0&&(m+=","),m+="["+e.getDurationString(u.start(v))+","+e.getDurationString(u.end(v))+"]";return m}else return"(empty)"},t.Log=e;var r=function(u){if(u instanceof ArrayBuffer)this.buffer=u,this.dataview=new DataView(u);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(u){var h=Math.max(0,Math.min(this.buffer.byteLength,u));return this.position=isNaN(h)||!isFinite(h)?0:h,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(u,h){var m=0;if(this.position+u<=this.buffer.byteLength){switch(u){case 1:h?m=this.dataview.getInt8(this.position):m=this.dataview.getUint8(this.position);break;case 2:h?m=this.dataview.getInt16(this.position):m=this.dataview.getUint16(this.position);break;case 3:if(h)throw"No method for reading signed 24 bits values";m=this.dataview.getUint8(this.position)<<16,m|=this.dataview.getUint8(this.position+1)<<8,m|=this.dataview.getUint8(this.position+2);break;case 4:h?m=this.dataview.getInt32(this.position):m=this.dataview.getUint32(this.position);break;case 8:if(h)throw"No method for reading signed 64 bits values";m=this.dataview.getUint32(this.position)<<32,m|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+u}return this.position+=u,m}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(u){if(this.position+u<=this.buffer.byteLength){for(var h="",m=0;m<u;m++)h+=String.fromCharCode(this.readUint8());return h}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var u=[];;){var h=this.readUint8();if(h!==0)u.push(h);else break}return String.fromCharCode.apply(null,u)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(u){for(var h=new Uint8Array(u),m=0;m<u;m++)h[m]=this.readUint8();return h},r.prototype.readInt16Array=function(u){for(var h=new Int16Array(u),m=0;m<u;m++)h[m]=this.readInt16();return h},r.prototype.readUint16Array=function(u){for(var h=new Int16Array(u),m=0;m<u;m++)h[m]=this.readUint16();return h},r.prototype.readUint32Array=function(u){for(var h=new Uint32Array(u),m=0;m<u;m++)h[m]=this.readUint32();return h},r.prototype.readInt32Array=function(u){for(var h=new Int32Array(u),m=0;m<u;m++)h[m]=this.readInt32();return h},t.MP4BoxStream=r;var n=function(u,h,m){this._byteOffset=h||0,u instanceof ArrayBuffer?this.buffer=u:typeof u=="object"?(this.dataView=u,h&&(this._byteOffset+=h)):this.buffer=new ArrayBuffer(u||0),this.position=0,this.endianness=m==null?n.LITTLE_ENDIAN:m};n.prototype={},n.prototype.getPosition=function(){return this.position},n.prototype._realloc=function(u){if(this._dynamicSize){var h=this._byteOffset+this.position+u,m=this._buffer.byteLength;if(h<=m){h>this._byteLength&&(this._byteLength=h);return}for(m<1&&(m=1);h>m;)m*=2;var v=new ArrayBuffer(m),w=new Uint8Array(this._buffer),x=new Uint8Array(v,0,w.length);x.set(w),this.buffer=v,this._byteLength=h}},n.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var u=new ArrayBuffer(this._byteLength),h=new Uint8Array(u),m=new Uint8Array(this._buffer,0,h.length);h.set(m),this.buffer=u}},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.prototype._byteLength=0,Object.defineProperty(n.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(u){this._buffer=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(u){this._byteOffset=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this._dataView},set:function(u){this._byteOffset=u.byteOffset,this._buffer=u.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+u.byteLength}}),n.prototype.seek=function(u){var h=Math.max(0,Math.min(this.byteLength,u));this.position=isNaN(h)||!isFinite(h)?0:h},n.prototype.isEof=function(){return this.position>=this._byteLength},n.prototype.mapUint8Array=function(u){this._realloc(u*1);var h=new Uint8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,h},n.prototype.readInt32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var m=new Int32Array(u);return n.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,u*m.BYTES_PER_ELEMENT),n.arrayToNative(m,h==null?this.endianness:h),this.position+=m.byteLength,m},n.prototype.readInt16Array=function(u,h){u=u==null?this.byteLength-this.position/2:u;var m=new Int16Array(u);return n.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,u*m.BYTES_PER_ELEMENT),n.arrayToNative(m,h==null?this.endianness:h),this.position+=m.byteLength,m},n.prototype.readInt8Array=function(u){u=u==null?this.byteLength-this.position:u;var h=new Int8Array(u);return n.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,u*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},n.prototype.readUint32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var m=new Uint32Array(u);return n.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,u*m.BYTES_PER_ELEMENT),n.arrayToNative(m,h==null?this.endianness:h),this.position+=m.byteLength,m},n.prototype.readUint16Array=function(u,h){u=u==null?this.byteLength-this.position/2:u;var m=new Uint16Array(u);return n.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,u*m.BYTES_PER_ELEMENT),n.arrayToNative(m,h==null?this.endianness:h),this.position+=m.byteLength,m},n.prototype.readUint8Array=function(u){u=u==null?this.byteLength-this.position:u;var h=new Uint8Array(u);return n.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,u*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},n.prototype.readFloat64Array=function(u,h){u=u==null?this.byteLength-this.position/8:u;var m=new Float64Array(u);return n.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,u*m.BYTES_PER_ELEMENT),n.arrayToNative(m,h==null?this.endianness:h),this.position+=m.byteLength,m},n.prototype.readFloat32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var m=new Float32Array(u);return n.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,u*m.BYTES_PER_ELEMENT),n.arrayToNative(m,h==null?this.endianness:h),this.position+=m.byteLength,m},n.prototype.readInt32=function(u){var h=this._dataView.getInt32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readInt16=function(u){var h=this._dataView.getInt16(this.position,u==null?this.endianness:u);return this.position+=2,h},n.prototype.readInt8=function(){var u=this._dataView.getInt8(this.position);return this.position+=1,u},n.prototype.readUint32=function(u){var h=this._dataView.getUint32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readUint16=function(u){var h=this._dataView.getUint16(this.position,u==null?this.endianness:u);return this.position+=2,h},n.prototype.readUint8=function(){var u=this._dataView.getUint8(this.position);return this.position+=1,u},n.prototype.readFloat32=function(u){var h=this._dataView.getFloat32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readFloat64=function(u){var h=this._dataView.getFloat64(this.position,u==null?this.endianness:u);return this.position+=8,h},n.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,n.memcpy=function(u,h,m,v,w){var x=new Uint8Array(u,h,w),S=new Uint8Array(m,v,w);x.set(S)},n.arrayToNative=function(u,h){return h==this.endianness?u:this.flipArrayEndianness(u)},n.nativeToEndian=function(u,h){return this.endianness==h?u:this.flipArrayEndianness(u)},n.flipArrayEndianness=function(u){for(var h=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),m=0;m<u.byteLength;m+=u.BYTES_PER_ELEMENT)for(var v=m+u.BYTES_PER_ELEMENT-1,w=m;v>w;v--,w++){var x=h[w];h[w]=h[v],h[v]=x}return u},n.prototype.failurePosition=0,String.fromCharCodeUint8=function(u){for(var h=[],m=0;m<u.length;m++)h[m]=u[m];return String.fromCharCode.apply(null,h)},n.prototype.readString=function(u,h){return h==null||h=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(u==null?this.byteLength-this.position:u)]):new TextDecoder(h).decode(this.mapUint8Array(u))},n.prototype.readCString=function(u){var h=this.byteLength-this.position,m=new Uint8Array(this._buffer,this._byteOffset+this.position),v=h;u!=null&&(v=Math.min(u,h));for(var w=0;w<v&&m[w]!==0;w++);var x=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(w)]);return u!=null?this.position+=v-w:w!=h&&(this.position+=1),x};var s=Math.pow(2,32);n.prototype.readInt64=function(){return this.readInt32()*s+this.readUint32()},n.prototype.readUint64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readInt64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=n,n.prototype.save=function(u){var h=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var m=window.URL.createObjectURL(h),v=document.createElement("a");document.body.appendChild(v),v.setAttribute("href",m),v.setAttribute("download",u),v.setAttribute("target","_self"),v.click(),window.URL.revokeObjectURL(m)}else throw"DataStream.save: Can't create object URL."},n.prototype._dynamicSize=!0,Object.defineProperty(n.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(u){u||this._trimAlloc(),this._dynamicSize=u}}),n.prototype.shift=function(u){var h=new ArrayBuffer(this._byteLength-u),m=new Uint8Array(h),v=new Uint8Array(this._buffer,u,m.length);m.set(v),this.buffer=h,this.position-=u},n.prototype.writeInt32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Int32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt32Array(u.length,h);else for(var m=0;m<u.length;m++)this.writeInt32(u[m],h)},n.prototype.writeInt16Array=function(u,h){if(this._realloc(u.length*2),u instanceof Int16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt16Array(u.length,h);else for(var m=0;m<u.length;m++)this.writeInt16(u[m],h)},n.prototype.writeInt8Array=function(u){if(this._realloc(u.length*1),u instanceof Int8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt8Array(u.length);else for(var h=0;h<u.length;h++)this.writeInt8(u[h])},n.prototype.writeUint32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Uint32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint32Array(u.length,h);else for(var m=0;m<u.length;m++)this.writeUint32(u[m],h)},n.prototype.writeUint16Array=function(u,h){if(this._realloc(u.length*2),u instanceof Uint16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint16Array(u.length,h);else for(var m=0;m<u.length;m++)this.writeUint16(u[m],h)},n.prototype.writeUint8Array=function(u){if(this._realloc(u.length*1),u instanceof Uint8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint8Array(u.length);else for(var h=0;h<u.length;h++)this.writeUint8(u[h])},n.prototype.writeFloat64Array=function(u,h){if(this._realloc(u.length*8),u instanceof Float64Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat64Array(u.length,h);else for(var m=0;m<u.length;m++)this.writeFloat64(u[m],h)},n.prototype.writeFloat32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Float32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat32Array(u.length,h);else for(var m=0;m<u.length;m++)this.writeFloat32(u[m],h)},n.prototype.writeInt32=function(u,h){this._realloc(4),this._dataView.setInt32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeInt16=function(u,h){this._realloc(2),this._dataView.setInt16(this.position,u,h==null?this.endianness:h),this.position+=2},n.prototype.writeInt8=function(u){this._realloc(1),this._dataView.setInt8(this.position,u),this.position+=1},n.prototype.writeUint32=function(u,h){this._realloc(4),this._dataView.setUint32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeUint16=function(u,h){this._realloc(2),this._dataView.setUint16(this.position,u,h==null?this.endianness:h),this.position+=2},n.prototype.writeUint8=function(u){this._realloc(1),this._dataView.setUint8(this.position,u),this.position+=1},n.prototype.writeFloat32=function(u,h){this._realloc(4),this._dataView.setFloat32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeFloat64=function(u,h){this._realloc(8),this._dataView.setFloat64(this.position,u,h==null?this.endianness:h),this.position+=8},n.prototype.writeUCS2String=function(u,h,m){m==null&&(m=u.length);for(var v=0;v<u.length&&v<m;v++)this.writeUint16(u.charCodeAt(v),h);for(;v<m;v++)this.writeUint16(0)},n.prototype.writeString=function(u,h,m){var v=0;if(h==null||h=="ASCII")if(m!=null){var w=Math.min(u.length,m);for(v=0;v<w;v++)this.writeUint8(u.charCodeAt(v));for(;v<m;v++)this.writeUint8(0)}else for(v=0;v<u.length;v++)this.writeUint8(u.charCodeAt(v));else this.writeUint8Array(new TextEncoder(h).encode(u.substring(0,m)))},n.prototype.writeCString=function(u,h){var m=0;if(h!=null){var v=Math.min(u.length,h);for(m=0;m<v;m++)this.writeUint8(u.charCodeAt(m));for(;m<h;m++)this.writeUint8(0)}else{for(m=0;m<u.length;m++)this.writeUint8(u.charCodeAt(m));this.writeUint8(0)}},n.prototype.writeStruct=function(u,h){for(var m=0;m<u.length;m+=2){var v=u[m+1];this.writeType(v,h[u[m]],h)}},n.prototype.writeType=function(u,h,m){var v;if(typeof u=="function")return u(this,h);if(typeof u=="object"&&!(u instanceof Array))return u.set(this,h,m);var w=null,x="ASCII",S=this.position;switch(typeof u=="string"&&/:/.test(u)&&(v=u.split(":"),u=v[0],w=parseInt(v[1])),typeof u=="string"&&/,/.test(u)&&(v=u.split(","),u=v[0],x=parseInt(v[1])),u){case"uint8":this.writeUint8(h);break;case"int8":this.writeInt8(h);break;case"uint16":this.writeUint16(h,this.endianness);break;case"int16":this.writeInt16(h,this.endianness);break;case"uint32":this.writeUint32(h,this.endianness);break;case"int32":this.writeInt32(h,this.endianness);break;case"float32":this.writeFloat32(h,this.endianness);break;case"float64":this.writeFloat64(h,this.endianness);break;case"uint16be":this.writeUint16(h,n.BIG_ENDIAN);break;case"int16be":this.writeInt16(h,n.BIG_ENDIAN);break;case"uint32be":this.writeUint32(h,n.BIG_ENDIAN);break;case"int32be":this.writeInt32(h,n.BIG_ENDIAN);break;case"float32be":this.writeFloat32(h,n.BIG_ENDIAN);break;case"float64be":this.writeFloat64(h,n.BIG_ENDIAN);break;case"uint16le":this.writeUint16(h,n.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(h,n.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(h,n.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(h,n.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(h,n.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(h,n.LITTLE_ENDIAN);break;case"cstring":this.writeCString(h,w);break;case"string":this.writeString(h,x,w);break;case"u16string":this.writeUCS2String(h,this.endianness,w);break;case"u16stringle":this.writeUCS2String(h,n.LITTLE_ENDIAN,w);break;case"u16stringbe":this.writeUCS2String(h,n.BIG_ENDIAN,w);break;default:if(u.length==3){for(var E=u[1],P=0;P<h.length;P++)this.writeType(E,h[P]);break}else{this.writeStruct(u,h);break}}w!=null&&(this.position=S,this._realloc(w),this.position=S+w)},n.prototype.writeUint64=function(u){var h=Math.floor(u/s);this.writeUint32(h),this.writeUint32(u&4294967295)},n.prototype.writeUint24=function(u){this.writeUint8((u&16711680)>>16),this.writeUint8((u&65280)>>8),this.writeUint8(u&255)},n.prototype.adjustUint32=function(u,h){var m=this.position;this.seek(u),this.writeUint32(h),this.seek(m)},n.prototype.mapInt32Array=function(u,h){this._realloc(u*4);var m=new Int32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(m,h==null?this.endianness:h),this.position+=u*4,m},n.prototype.mapInt16Array=function(u,h){this._realloc(u*2);var m=new Int16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(m,h==null?this.endianness:h),this.position+=u*2,m},n.prototype.mapInt8Array=function(u){this._realloc(u*1);var h=new Int8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,h},n.prototype.mapUint32Array=function(u,h){this._realloc(u*4);var m=new Uint32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(m,h==null?this.endianness:h),this.position+=u*4,m},n.prototype.mapUint16Array=function(u,h){this._realloc(u*2);var m=new Uint16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(m,h==null?this.endianness:h),this.position+=u*2,m},n.prototype.mapFloat64Array=function(u,h){this._realloc(u*8);var m=new Float64Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(m,h==null?this.endianness:h),this.position+=u*8,m},n.prototype.mapFloat32Array=function(u,h){this._realloc(u*4);var m=new Float32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(m,h==null?this.endianness:h),this.position+=u*4,m};var a=function(u){this.buffers=[],this.bufferIndex=-1,u&&(this.insertBuffer(u),this.bufferIndex=0)};a.prototype=new n(new ArrayBuffer,0,n.BIG_ENDIAN),a.prototype.initialized=function(){var u;return this.bufferIndex>-1?!0:this.buffers.length>0?(u=this.buffers[0],u.fileStart===0?(this.buffer=u,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(u,h){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(u.byteLength+h.byteLength));var m=new Uint8Array(u.byteLength+h.byteLength);return m.set(new Uint8Array(u),0),m.set(new Uint8Array(h),u.byteLength),m.buffer},a.prototype.reduceBuffer=function(u,h,m){var v;return v=new Uint8Array(m),v.set(new Uint8Array(u,h,m)),v.buffer.fileStart=u.fileStart+h,v.buffer.usedBytes=0,v.buffer},a.prototype.insertBuffer=function(u){for(var h=!0,m=0;m<this.buffers.length;m++){var v=this.buffers[m];if(u.fileStart<=v.fileStart){if(u.fileStart===v.fileStart)if(u.byteLength>v.byteLength){this.buffers.splice(m,1),m--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+") already appended, ignoring");else u.fileStart+u.byteLength<=v.fileStart||(u=this.reduceBuffer(u,0,v.fileStart-u.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.splice(m,0,u),m===0&&(this.buffer=u);h=!1;break}else if(u.fileStart<v.fileStart+v.byteLength){var w=v.fileStart+v.byteLength-u.fileStart,x=u.byteLength-w;if(x>0)u=this.reduceBuffer(u,w,x);else{h=!1;break}}}h&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.push(u),m===0&&(this.buffer=u))},a.prototype.logBufferLevel=function(u){var h,m,v,w,x=[],S,E="";for(v=0,w=0,h=0;h<this.buffers.length;h++)m=this.buffers[h],h===0?(S={},x.push(S),S.start=m.fileStart,S.end=m.fileStart+m.byteLength,E+="["+S.start+"-"):S.end===m.fileStart?S.end=m.fileStart+m.byteLength:(S={},S.start=m.fileStart,E+=x[x.length-1].end-1+"], ["+S.start+"-",S.end=m.fileStart+m.byteLength,x.push(S)),v+=m.usedBytes,w+=m.byteLength;x.length>0&&(E+=S.end-1+"]");var P=u?e.info:e.debug;this.buffers.length===0?P("MultiBufferStream","No more buffer in memory"):P("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+v+"/"+w+" bytes), continuous ranges: "+E)},a.prototype.cleanBuffers=function(){var u,h;for(u=0;u<this.buffers.length;u++)h=this.buffers[u],h.usedBytes===h.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+u),this.buffers.splice(u,1),u--)},a.prototype.mergeNextBuffer=function(){var u;if(this.bufferIndex+1<this.buffers.length)if(u=this.buffers[this.bufferIndex+1],u.fileStart===this.buffer.fileStart+this.buffer.byteLength){var h=this.buffer.byteLength,m=this.buffer.usedBytes,v=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,u),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=m,this.buffer.fileStart=v,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+h+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},a.prototype.findPosition=function(u,h,m){var v,w=null,x=-1;for(u===!0?v=0:v=this.bufferIndex;v<this.buffers.length&&(w=this.buffers[v],w.fileStart<=h);){x=v,m&&(w.fileStart+w.byteLength<=h?w.usedBytes=w.byteLength:w.usedBytes=h-w.fileStart,this.logBufferLevel());v++}return x!==-1?(w=this.buffers[x],w.fileStart+w.byteLength>=h?(e.debug("MultiBufferStream","Found position in existing buffer #"+x),x):-1):-1},a.prototype.findEndContiguousBuf=function(u){var h,m,v,w=u!==void 0?u:this.bufferIndex;if(m=this.buffers[w],this.buffers.length>w+1)for(h=w+1;h<this.buffers.length&&(v=this.buffers[h],v.fileStart===m.fileStart+m.byteLength);h++)m=v;return m.fileStart+m.byteLength},a.prototype.getEndFilePositionAfter=function(u){var h=this.findPosition(!0,u,!1);return h!==-1?this.findEndContiguousBuf(h):u},a.prototype.addUsedBytes=function(u){this.buffer.usedBytes+=u,this.logBufferLevel()},a.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},a.prototype.seek=function(u,h,m){var v;return v=this.findPosition(h,u,m),v!==-1?(this.buffer=this.buffers[v],this.bufferIndex=v,this.position=u-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+u+" not found in buffered data"),!1)},a.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},a.prototype.getLength=function(){return this.byteLength},a.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=a;var o=function(){var u=3,h=4,m=5,v=6,w=[];w[u]="ES_Descriptor",w[h]="DecoderConfigDescriptor",w[m]="DecoderSpecificInfo",w[v]="SLConfigDescriptor",this.getDescriptorName=function(E){return w[E]};var x=this,S={};return this.parseOneDescriptor=function(E){var P=0,T,A,R;for(T=E.readUint8(),R=E.readUint8();R&128;)P=(P<<7)+(R&127),R=E.readUint8();return P=(P<<7)+(R&127),e.debug("MPEG4DescriptorParser","Found "+(w[T]||"Descriptor "+T)+", size "+P+" at position "+E.getPosition()),w[T]?A=new S[w[T]](P):A=new S.Descriptor(P),A.parse(E),A},S.Descriptor=function(E,P){this.tag=E,this.size=P,this.descs=[]},S.Descriptor.prototype.parse=function(E){this.data=E.readUint8Array(this.size)},S.Descriptor.prototype.findDescriptor=function(E){for(var P=0;P<this.descs.length;P++)if(this.descs[P].tag==E)return this.descs[P];return null},S.Descriptor.prototype.parseRemainingDescriptors=function(E){for(var P=E.position;E.position<P+this.size;){var T=x.parseOneDescriptor(E);this.descs.push(T)}},S.ES_Descriptor=function(E){S.Descriptor.call(this,u,E)},S.ES_Descriptor.prototype=new S.Descriptor,S.ES_Descriptor.prototype.parse=function(E){if(this.ES_ID=E.readUint16(),this.flags=E.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=E.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var P=E.readUint8();this.URL=E.readString(P),this.size-=P+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=E.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(E)},S.ES_Descriptor.prototype.getOTI=function(E){var P=this.findDescriptor(h);return P?P.oti:0},S.ES_Descriptor.prototype.getAudioConfig=function(E){var P=this.findDescriptor(h);if(!P)return null;var T=P.findDescriptor(m);if(T&&T.data){var A=(T.data[0]&248)>>3;return A===31&&T.data.length>=2&&(A=32+((T.data[0]&7)<<3)+((T.data[1]&224)>>5)),A}else return null},S.DecoderConfigDescriptor=function(E){S.Descriptor.call(this,h,E)},S.DecoderConfigDescriptor.prototype=new S.Descriptor,S.DecoderConfigDescriptor.prototype.parse=function(E){this.oti=E.readUint8(),this.streamType=E.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=E.readUint24(),this.maxBitrate=E.readUint32(),this.avgBitrate=E.readUint32(),this.size-=13,this.parseRemainingDescriptors(E)},S.DecoderSpecificInfo=function(E){S.Descriptor.call(this,m,E)},S.DecoderSpecificInfo.prototype=new S.Descriptor,S.SLConfigDescriptor=function(E){S.Descriptor.call(this,v,E)},S.SLConfigDescriptor.prototype=new S.Descriptor,this};t.MPEG4DescriptorParser=o;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[{type:"mdat",name:"MediaDataBox"},{type:"idat",name:"ItemDataBox"},{type:"free",name:"FreeSpaceBox"},{type:"skip",name:"FreeSpaceBox"},{type:"meco",name:"AdditionalMetadataContainerBox"},{type:"strk",name:"SubTrackBox"}],FULL_BOXES:[{type:"hmhd",name:"HintMediaHeaderBox"},{type:"nmhd",name:"NullMediaHeaderBox"},{type:"iods",name:"ObjectDescriptorBox"},{type:"xml ",name:"XMLBox"},{type:"bxml",name:"BinaryXMLBox"},{type:"ipro",name:"ItemProtectionBox"},{type:"mere",name:"MetaboxRelationBox"}],CONTAINER_BOXES:[[{type:"moov",name:"CompressedMovieBox"},["trak","pssh"]],[{type:"trak",name:"TrackBox"}],[{type:"edts",name:"EditBox"}],[{type:"mdia",name:"MediaBox"}],[{type:"minf",name:"MediaInformationBox"}],[{type:"dinf",name:"DataInformationBox"}],[{type:"stbl",name:"SampleTableBox"},["sgpd","sbgp"]],[{type:"mvex",name:"MovieExtendsBox"},["trex"]],[{type:"moof",name:"CompressedMovieFragmentBox"},["traf"]],[{type:"traf",name:"TrackFragmentBox"},["trun","sgpd","sbgp"]],[{type:"vttc",name:"VTTCueBox"}],[{type:"tref",name:"TrackReferenceBox"}],[{type:"iref",name:"ItemReferenceBox"}],[{type:"mfra",name:"MovieFragmentRandomAccessBox"},["tfra"]],[{type:"meco",name:"AdditionalMetadataContainerBox"}],[{type:"hnti",name:"trackhintinformation"}],[{type:"hinf",name:"hintstatisticsbox"}],[{type:"strk",name:"SubTrackBox"}],[{type:"strd",name:"SubTrackDefinitionBox"}],[{type:"sinf",name:"ProtectionSchemeInfoBox"}],[{type:"rinf",name:"RestrictedSchemeInfoBox"}],[{type:"schi",name:"SchemeInformationBox"}],[{type:"trgr",name:"TrackGroupBox"}],[{type:"udta",name:"UserDataBox"},["kind"]],[{type:"iprp",name:"ItemPropertiesBox"},["ipma"]],[{type:"ipco",name:"ItemPropertyContainerBox"}],[{type:"grpl",name:"GroupsListBox"}],[{type:"j2kH",name:"J2KHeaderInfoBox"}],[{type:"etyp",name:"ExtendedTypeBox"},["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach(function(u){l.createBoxCtor(u.type,u.name)}),l.FULL_BOXES.forEach(function(u){l.createFullBoxCtor(u.type,u.name)}),l.CONTAINER_BOXES.forEach(function(u){l.createContainerBoxCtor(u[0].type,u[0].name,null,u[1])})},Box:function(u,h,m,v){this.type=u,this.box_name=m,this.size=h,this.uuid=v},FullBox:function(u,h,m,v){l.Box.call(this,u,h,m,v),this.flags=0,this.version=0},ContainerBox:function(u,h,m,v){l.Box.call(this,u,h,m,v),this.boxes=[]},SampleEntry:function(u,h,m,v){l.ContainerBox.call(this,u,h),this.hdr_size=m,this.start=v},SampleGroupEntry:function(u){this.grouping_type=u},TrackGroupTypeBox:function(u,h){l.FullBox.call(this,u,h)},createBoxCtor:function(u,h,m){l.boxCodes.push(u),l[u+"Box"]=function(v){l.Box.call(this,u,v,h)},l[u+"Box"].prototype=new l.Box,m&&(l[u+"Box"].prototype.parse=m)},createFullBoxCtor:function(u,h,m){l[u+"Box"]=function(v){l.FullBox.call(this,u,v,h)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(v){this.parseFullHeader(v),m&&m.call(this,v)}},addSubBoxArrays:function(u){if(u){this.subBoxNames=u;for(var h=u.length,m=0;m<h;m++)this[u[m]+"s"]=[]}},createContainerBoxCtor:function(u,h,m,v){l[u+"Box"]=function(w){l.ContainerBox.call(this,u,w,h),l.addSubBoxArrays.call(this,v)},l[u+"Box"].prototype=new l.ContainerBox,m&&(l[u+"Box"].prototype.parse=m)},createMediaSampleEntryCtor:function(u,h,m){l.sampleEntryCodes[u]=[],l[u+"SampleEntry"]=function(v,w){l.SampleEntry.call(this,v,w),l.addSubBoxArrays.call(this,m)},l[u+"SampleEntry"].prototype=new l.SampleEntry,h&&(l[u+"SampleEntry"].prototype.parse=h)},createSampleEntryCtor:function(u,h,m,v){l.sampleEntryCodes[u].push(h),l[h+"SampleEntry"]=function(w){l[u+"SampleEntry"].call(this,h,w),l.addSubBoxArrays.call(this,v)},l[h+"SampleEntry"].prototype=new l[u+"SampleEntry"],m&&(l[h+"SampleEntry"].prototype.parse=m)},createEncryptedSampleEntryCtor:function(u,h,m){l.createSampleEntryCtor.call(this,u,h,m,["sinf"])},createSampleGroupCtor:function(u,h){l[u+"SampleGroupEntry"]=function(m){l.SampleGroupEntry.call(this,u,m)},l[u+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,h&&(l[u+"SampleGroupEntry"].prototype.parse=h)},createTrackGroupCtor:function(u,h){l[u+"TrackGroupTypeBox"]=function(m){l.TrackGroupTypeBox.call(this,u,m)},l[u+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,h&&(l[u+"TrackGroupTypeBox"].prototype.parse=h)},createUUIDBox:function(u,h,m,v,w){l.UUIDs.push(u),l.UUIDBoxes[u]=function(x){m?l.FullBox.call(this,"uuid",x,h,u):v?l.ContainerBox.call(this,"uuid",x,h,u):l.Box.call(this,"uuid",x,h,u)},l.UUIDBoxes[u].prototype=m?new l.FullBox:v?new l.ContainerBox:new l.Box,w&&(m?l.UUIDBoxes[u].prototype.parse=function(x){this.parseFullHeader(x),w&&w.call(this,x)}:l.UUIDBoxes[u].prototype.parse=w)}};l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(u){return this.addBox(new l[u+"Box"])},l.Box.prototype.addBox=function(u){return this.boxes.push(u),this[u.type+"s"]?this[u.type+"s"].push(u):this[u.type]=u,u},l.Box.prototype.set=function(u,h){return this[u]=h,this},l.Box.prototype.addEntry=function(u,h){var m=h||"entries";return this[m]||(this[m]=[]),this[m].push(u),this},t.BoxParser=l,l.parseUUID=function(u){return l.parseHex16(u)},l.parseHex16=function(u){for(var h="",m=0;m<16;m++){var v=u.readUint8().toString(16);h+=v.length===1?"0"+v:v}return h},l.parseOneBox=function(u,h,m){var v,w=u.getPosition(),x=0,S,E;if(u.getEndPosition()-w<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(m&&m<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var P=u.readUint32(),T=u.readString(4),A=T;if(e.debug("BoxParser","Found box of type '"+T+"' and size "+P+" at position "+w),x=8,T=="uuid"){if(u.getEndPosition()-u.getPosition()<16||m-x<16)return u.seek(w),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};E=l.parseUUID(u),x+=16,A=E}if(P==1){if(u.getEndPosition()-u.getPosition()<8||m&&m-x<8)return u.seek(w),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+T+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};P=u.readUint64(),x+=8}else if(P===0){if(m)P=m;else if(T!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+T+"'"),v=new l.Box(T,P),{code:l.OK,box:v,size:v.size}}return P!==0&&P<x?(e.error("BoxParser","Box of type "+T+" has an invalid size "+P+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:T,size:P,hdr_size:x,start:w}):P!==0&&m&&P>m?(e.error("BoxParser","Box of type '"+T+"' has a size "+P+" greater than its container size "+m),{code:l.ERR_NOT_ENOUGH_DATA,type:T,size:P,hdr_size:x,start:w}):P!==0&&w+P>u.getEndPosition()?(u.seek(w),e.info("BoxParser","Not enough data in stream to parse the entire '"+T+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:T,size:P,hdr_size:x,start:w}):h?{code:l.OK,type:T,size:P,hdr_size:x,start:w}:(l[T+"Box"]?v=new l[T+"Box"](P):T!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+T+"'"),v=new l.Box(T,P),v.has_unparsed_data=!0):l.UUIDBoxes[E]?v=new l.UUIDBoxes[E](P):(e.warn("BoxParser","Unknown uuid type: '"+E+"'"),v=new l.Box(T,P),v.uuid=E,v.has_unparsed_data=!0),v.hdr_size=x,v.start=w,v.write===l.Box.prototype.write&&v.type!=="mdat"&&(e.info("BoxParser","'"+A+"' box writing not yet implemented, keeping unparsed data in memory for later write"),v.parseDataAndRewind(u)),v.parse(u),S=u.getPosition()-(v.start+v.size),S<0?(e.warn("BoxParser","Parsing of box '"+A+"' did not read the entire indicated box data size (missing "+-S+" bytes), seeking forward"),u.seek(v.start+v.size)):S>0&&(e.error("BoxParser","Parsing of box '"+A+"' read "+S+" more bytes than the indicated box data size, seeking backwards"),v.size!==0&&u.seek(v.start+v.size)),{code:l.OK,box:v,size:v.size})},l.Box.prototype.parse=function(u){this.type!="mdat"?this.data=u.readUint8Array(this.size-this.hdr_size):this.size===0?u.seek(u.getEndPosition()):u.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(u){this.data=u.readUint8Array(this.size-this.hdr_size),u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(u){this.version=u.readUint8(),this.flags=u.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(u){for(var h,m;u.getPosition()<this.start+this.size;)if(h=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===l.OK)if(m=h.box,this.boxes.push(m),this.subBoxNames&&this.subBoxNames.indexOf(m.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(m.type)]+"s"].push(m);else{var v=m.type!=="uuid"?m.type:m.uuid;this[v]?e.warn("Box of type "+v+" already stored in field of this type"):this[v]=m}else return},l.Box.prototype.parseLanguage=function(u){this.language=u.readUint16();var h=[];h[0]=this.language>>10&31,h[1]=this.language>>5&31,h[2]=this.language&31,this.languageString=String.fromCharCode(h[0]+96,h[1]+96,h[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(u){u.readUint8Array(6),this.data_reference_index=u.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,u.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(u){l.ContainerBox.prototype.parse.call(this,u)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,function(u){var h;this.parseHeader(u),u.readUint16(),u.readUint16(),u.readUint32Array(3),this.width=u.readUint16(),this.height=u.readUint16(),this.horizresolution=u.readUint32(),this.vertresolution=u.readUint32(),u.readUint32(),this.frame_count=u.readUint16(),h=Math.min(31,u.readUint8()),this.compressorname=u.readString(h),h<31&&u.readString(31-h),this.depth=u.readUint16(),u.readUint16(),this.parseFooter(u)}),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,function(u){this.parseHeader(u),u.readUint32Array(2),this.channel_count=u.readUint16(),this.samplesize=u.readUint16(),u.readUint16(),u.readUint16(),this.samplerate=u.readUint32()/65536,this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx","AV1LayeredImageIndexingProperty",function(u){var h=u.readUint8()&1,m=((h&1)+1)*16;this.layer_size=[];for(var v=0;v<3;v++)m==16?this.layer_size[v]=u.readUint16():this.layer_size[v]=u.readUint32()}),l.createBoxCtor("a1op","OperatingPointSelectorProperty",function(u){this.op_index=u.readUint8()}),l.createFullBoxCtor("auxC","AuxiliaryTypeProperty",function(u){this.aux_type=u.readCString();var h=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=u.readUint8Array(h)}),l.createBoxCtor("av1C","AV1CodecConfigurationBox",function(u){var h=u.readUint8();if((h>>7&1)!==1){e.error("av1C marker problem");return}if(this.version=h&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(h=u.readUint8(),this.seq_profile=h>>5&7,this.seq_level_idx_0=h&31,h=u.readUint8(),this.seq_tier_0=h>>7&1,this.high_bitdepth=h>>6&1,this.twelve_bit=h>>5&1,this.monochrome=h>>4&1,this.chroma_subsampling_x=h>>3&1,this.chroma_subsampling_y=h>>2&1,this.chroma_sample_position=h&3,h=u.readUint8(),this.reserved_1=h>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=h>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=h&15;else if(this.reserved_2=h&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var m=this.size-this.hdr_size-4;this.configOBUs=u.readUint8Array(m)});function c(u){var h="<table class='inner-table'>";h+="<thead><tr><th>length</th><th>nalu_data</th></tr></thead>",h+="<tbody>";for(var m=0;m<u.length;m++){var v=u[m];h+="<tr>",h+="<td>"+v.length+"</td>",h+="<td>",h+=v.nalu.reduce(function(w,x){return w+x.toString(16).padStart(2,"0")},"0x"),h+="</td></tr>"}return h+="</tbody></table>",h}l.createBoxCtor("avcC","AVCConfigurationBox",function(u){var h,m;for(this.configurationVersion=u.readUint8(),this.AVCProfileIndication=u.readUint8(),this.profile_compatibility=u.readUint8(),this.AVCLevelIndication=u.readUint8(),this.lengthSizeMinusOne=u.readUint8()&3,this.nb_SPS_nalus=u.readUint8()&31,m=this.size-this.hdr_size-6,this.SPS=[],this.SPS.toString=function(){return c(this)},h=0;h<this.nb_SPS_nalus;h++)this.SPS[h]={},this.SPS[h].length=u.readUint16(),this.SPS[h].nalu=u.readUint8Array(this.SPS[h].length),m-=2+this.SPS[h].length;for(this.nb_PPS_nalus=u.readUint8(),m--,this.PPS=[],this.PPS.toString=function(){return c(this)},h=0;h<this.nb_PPS_nalus;h++)this.PPS[h]={},this.PPS[h].length=u.readUint16(),this.PPS[h].nalu=u.readUint8Array(this.PPS[h].length),m-=2+this.PPS[h].length;m>0&&(this.ext=u.readUint8Array(m))}),l.createBoxCtor("btrt","BitRateBox",function(u){this.bufferSizeDB=u.readUint32(),this.maxBitrate=u.readUint32(),this.avgBitrate=u.readUint32()}),l.createFullBoxCtor("ccst","CodingConstraintsBox",function(u){var h=u.readUint8();this.all_ref_pics_intra=(h&128)==128,this.intra_pred_used=(h&64)==64,this.max_ref_per_pic=(h&63)>>2,u.readUint24()}),l.createBoxCtor("cdef","ComponentDefinitionBox",function(u){var h;for(this.channel_count=u.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],h=0;h<this.channel_count;h++)this.channel_indexes.push(u.readUint16()),this.channel_types.push(u.readUint16()),this.channel_associations.push(u.readUint16())}),l.createBoxCtor("clap","CleanApertureBox",function(u){this.cleanApertureWidthN=u.readUint32(),this.cleanApertureWidthD=u.readUint32(),this.cleanApertureHeightN=u.readUint32(),this.cleanApertureHeightD=u.readUint32(),this.horizOffN=u.readUint32(),this.horizOffD=u.readUint32(),this.vertOffN=u.readUint32(),this.vertOffD=u.readUint32()}),l.createBoxCtor("clli","ContentLightLevelBox",function(u){this.max_content_light_level=u.readUint16(),this.max_pic_average_light_level=u.readUint16()}),l.createFullBoxCtor("cmex","CameraExtrinsicMatrixProperty",function(u){this.flags&1&&(this.pos_x=u.readInt32()),this.flags&2&&(this.pos_y=u.readInt32()),this.flags&4&&(this.pos_z=u.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=u.readInt32(),this.quat_y=u.readInt32(),this.quat_z=u.readInt32()):(this.quat_x=u.readInt16(),this.quat_y=u.readInt16(),this.quat_z=u.readInt16()):this.version==1),this.flags&32&&(this.id=u.readUint32())}),l.createFullBoxCtor("cmin","CameraIntrinsicMatrixProperty",function(u){this.focal_length_x=u.readInt32(),this.principal_point_x=u.readInt32(),this.principal_point_y=u.readInt32(),this.flags&1&&(this.focal_length_y=u.readInt32(),this.skew_factor=u.readInt32())}),l.createBoxCtor("cmpd","ComponentDefinitionBox",function(u){for(this.component_count=u.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var h=u.readUint16();this.component_types.push(h),h>=32768&&this.component_type_urls.push(u.readCString())}}),l.createFullBoxCtor("co64","ChunkLargeOffsetBox",function(u){var h,m;if(h=u.readUint32(),this.chunk_offsets=[],this.version===0)for(m=0;m<h;m++)this.chunk_offsets.push(u.readUint64())}),l.createFullBoxCtor("CoLL","ContentLightLevelBox",function(u){this.maxCLL=u.readUint16(),this.maxFALL=u.readUint16()}),l.createBoxCtor("colr","ColourInformationBox",function(u){if(this.colour_type=u.readString(4),this.colour_type==="nclx"){this.colour_primaries=u.readUint16(),this.transfer_characteristics=u.readUint16(),this.matrix_coefficients=u.readUint16();var h=u.readUint8();this.full_range_flag=h>>7}else this.colour_type==="rICC"?this.ICC_profile=u.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=u.readUint8Array(this.size-4))}),l.createFullBoxCtor("cprt","CopyrightBox",function(u){this.parseLanguage(u),this.notice=u.readCString()}),l.createFullBoxCtor("cslg","CompositionToDecodeBox",function(u){this.version===0&&(this.compositionToDTSShift=u.readInt32(),this.leastDecodeToDisplayDelta=u.readInt32(),this.greatestDecodeToDisplayDelta=u.readInt32(),this.compositionStartTime=u.readInt32(),this.compositionEndTime=u.readInt32())}),l.createFullBoxCtor("ctts","CompositionOffsetBox",function(u){var h,m;if(h=u.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(m=0;m<h;m++){this.sample_counts.push(u.readUint32());var v=u.readInt32();v<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(v)}else if(this.version==1)for(m=0;m<h;m++)this.sample_counts.push(u.readUint32()),this.sample_offsets.push(u.readInt32())}),l.createBoxCtor("dac3","AC3SpecificBox",function(u){var h=u.readUint8(),m=u.readUint8(),v=u.readUint8();this.fscod=h>>6,this.bsid=h>>1&31,this.bsmod=(h&1)<<2|m>>6&3,this.acmod=m>>3&7,this.lfeon=m>>2&1,this.bit_rate_code=m&3|v>>5&7}),l.createBoxCtor("dec3","EC3SpecificBox",function(u){var h=u.readUint16();this.data_rate=h>>3,this.num_ind_sub=h&7,this.ind_subs=[];for(var m=0;m<this.num_ind_sub+1;m++){var v={};this.ind_subs.push(v);var w=u.readUint8(),x=u.readUint8(),S=u.readUint8();v.fscod=w>>6,v.bsid=w>>1&31,v.bsmod=(w&1)<<4|x>>4&15,v.acmod=x>>1&7,v.lfeon=x&1,v.num_dep_sub=S>>1&15,v.num_dep_sub>0&&(v.chan_loc=(S&1)<<8|u.readUint8())}}),l.createFullBoxCtor("dfLa","FLACSpecificBox",function(u){var h=127,m=128,v=[],w=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var x=u.readUint8(),S=Math.min(x&h,w.length-1);if(S?u.readUint8Array(u.readUint24()):(u.readUint8Array(13),this.samplerate=u.readUint32()>>12,u.readUint8Array(20)),v.push(w[S]),x&m)break}while(!0);this.numMetadataBlocks=v.length+" ("+v.join(", ")+")"}),l.createBoxCtor("dimm","hintimmediateBytesSent",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dmax","hintlongestpacket",function(u){this.time=u.readUint32()}),l.createBoxCtor("dmed","hintmediaBytesSent",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dOps","OpusSpecificBox",function(u){if(this.Version=u.readUint8(),this.OutputChannelCount=u.readUint8(),this.PreSkip=u.readUint16(),this.InputSampleRate=u.readUint32(),this.OutputGain=u.readInt16(),this.ChannelMappingFamily=u.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=u.readUint8(),this.CoupledCount=u.readUint8(),this.ChannelMapping=[];for(var h=0;h<this.OutputChannelCount;h++)this.ChannelMapping[h]=u.readUint8()}}),l.createFullBoxCtor("dref","DataReferenceBox",function(u){var h,m;this.entries=[];for(var v=u.readUint32(),w=0;w<v;w++)if(h=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===l.OK)m=h.box,this.entries.push(m);else return}),l.createBoxCtor("drep","hintrepeatedBytesSent",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("elng","ExtendedLanguageBox",function(u){this.extended_language=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("elst","EditListBox",function(u){this.entries=[];for(var h=u.readUint32(),m=0;m<h;m++){var v={};this.entries.push(v),this.version===1?(v.segment_duration=u.readUint64(),v.media_time=u.readInt64()):(v.segment_duration=u.readUint32(),v.media_time=u.readInt32()),v.media_rate_integer=u.readInt16(),v.media_rate_fraction=u.readInt16()}}),l.createFullBoxCtor("emsg","EventMessageBox",function(u){this.version==1?(this.timescale=u.readUint32(),this.presentation_time=u.readUint64(),this.event_duration=u.readUint32(),this.id=u.readUint32(),this.scheme_id_uri=u.readCString(),this.value=u.readCString()):(this.scheme_id_uri=u.readCString(),this.value=u.readCString(),this.timescale=u.readUint32(),this.presentation_time_delta=u.readUint32(),this.event_duration=u.readUint32(),this.id=u.readUint32());var h=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(h-=4),this.message_data=u.readUint8Array(h)}),l.createEntityToGroupCtor=function(u,h){l[u+"Box"]=function(m){l.FullBox.call(this,u,m)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(m){if(this.parseFullHeader(m),h)h.call(this,m);else for(this.group_id=m.readUint32(),this.num_entities_in_group=m.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var v=m.readUint32();this.entity_ids.push(v)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createEntityToGroupCtor("pymd",function(u){this.group_id=u.readUint32(),this.num_entities_in_group=u.readUint32(),this.entity_ids=[];for(var h=0;h<this.num_entities_in_group;h++){var m=u.readUint32();this.entity_ids.push(m)}for(this.tile_size_x=u.readUint16(),this.tile_size_y=u.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],h=0;h<this.num_entities_in_group;h++)this.layer_binning[h]=u.readUint16(),this.tiles_in_layer_row_minus1[h]=u.readUint16(),this.tiles_in_layer_column_minus1[h]=u.readUint16()}),l.createFullBoxCtor("esds","ElementaryStreamDescriptorBox",function(u){var h=u.readUint8Array(this.size-this.hdr_size);if(typeof o<"u"){var m=new o;this.esd=m.parseOneDescriptor(new n(h.buffer,0,n.BIG_ENDIAN))}}),l.createBoxCtor("fiel","FieldHandlingBox",function(u){this.fieldCount=u.readUint8(),this.fieldOrdering=u.readUint8()}),l.createBoxCtor("frma","OriginalFormatBox",function(u){this.data_format=u.readString(4)}),l.createBoxCtor("ftyp","FileTypeBox",function(u){var h=this.size-this.hdr_size;this.major_brand=u.readString(4),this.minor_version=u.readUint32(),h-=8,this.compatible_brands=[];for(var m=0;h>=4;)this.compatible_brands[m]=u.readString(4),h-=4,m++}),l.createFullBoxCtor("hdlr","HandlerBox",function(u){this.version===0&&(u.readUint32(),this.handler=u.readString(4),u.readUint32Array(3),this.name=u.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),l.createBoxCtor("hvcC","HEVCConfigurationBox",function(u){var h,m,v,w;this.configurationVersion=u.readUint8(),w=u.readUint8(),this.general_profile_space=w>>6,this.general_tier_flag=(w&32)>>5,this.general_profile_idc=w&31,this.general_profile_compatibility=u.readUint32(),this.general_constraint_indicator=u.readUint8Array(6),this.general_level_idc=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,this.chroma_format_idc=u.readUint8()&3,this.bit_depth_luma_minus8=u.readUint8()&7,this.bit_depth_chroma_minus8=u.readUint8()&7,this.avgFrameRate=u.readUint16(),w=u.readUint8(),this.constantFrameRate=w>>6,this.numTemporalLayers=(w&13)>>3,this.temporalIdNested=(w&4)>>2,this.lengthSizeMinusOne=w&3,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var T="<table class='inner-table'>";T+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>",T+="<tbody>";for(var A=0;A<this.length;A++){var R=this[A];T+="<tr>",T+="<td rowspan='"+R.length+"'>"+R.completeness+"</td>",T+="<td rowspan='"+R.length+"'>"+R.nalu_type+"</td>";for(var D=0;D<R.length;D++){var O=R[D];D!==0&&(T+="<tr>"),T+="<td>",T+=O.data.reduce(function(I,M){return I+M.toString(16).padStart(2,"0")},"0x"),T+="</td></tr>"}}return T+="</tbody></table>",T};var x=u.readUint8();for(h=0;h<x;h++){var S=[];this.nalu_arrays.push(S),w=u.readUint8(),S.completeness=(w&128)>>7,S.nalu_type=w&63;var E=u.readUint16();for(m=0;m<E;m++){var P={};S.push(P),v=u.readUint16(),P.data=u.readUint8Array(v)}}}),l.createFullBoxCtor("iinf","ItemInfoBox",function(u){var h;this.version===0?this.entry_count=u.readUint16():this.entry_count=u.readUint32(),this.item_infos=[];for(var m=0;m<this.entry_count;m++)if(h=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===l.OK)h.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+h.box.type),this.item_infos[m]=h.box;else return}),l.createFullBoxCtor("iloc","ItemLocationBox",function(u){var h;h=u.readUint8(),this.offset_size=h>>4&15,this.length_size=h&15,h=u.readUint8(),this.base_offset_size=h>>4&15,this.version===1||this.version===2?this.index_size=h&15:this.index_size=0,this.items=[];var m=0;if(this.version<2)m=u.readUint16();else if(this.version===2)m=u.readUint32();else throw"version of iloc box not supported";for(var v=0;v<m;v++){var w={};if(this.items.push(w),this.version<2)w.item_ID=u.readUint16();else if(this.version===2)w.item_ID=u.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?w.construction_method=u.readUint16()&15:w.construction_method=0,w.data_reference_index=u.readUint16(),this.base_offset_size){case 0:w.base_offset=0;break;case 4:w.base_offset=u.readUint32();break;case 8:w.base_offset=u.readUint64();break;default:throw"Error reading base offset size"}var x=u.readUint16();w.extents=[];for(var S=0;S<x;S++){var E={};if(w.extents.push(E),this.version===1||this.version===2)switch(this.index_size){case 0:E.extent_index=0;break;case 4:E.extent_index=u.readUint32();break;case 8:E.extent_index=u.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:E.extent_offset=0;break;case 4:E.extent_offset=u.readUint32();break;case 8:E.extent_offset=u.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:E.extent_length=0;break;case 4:E.extent_length=u.readUint32();break;case 8:E.extent_length=u.readUint64();break;default:throw"Error reading extent index"}}}}),l.createBoxCtor("imir","ImageMirror",function(u){var h=u.readUint8();this.reserved=h>>7,this.axis=h&1}),l.createFullBoxCtor("infe","ItemInfoEntry",function(u){if((this.version===0||this.version===1)&&(this.item_ID=u.readUint16(),this.item_protection_index=u.readUint16(),this.item_name=u.readCString(),this.content_type=u.readCString(),this.content_encoding=u.readCString()),this.version===1){this.extension_type=u.readString(4),e.warn("BoxParser","Cannot parse extension type"),u.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=u.readUint16():this.version===3&&(this.item_ID=u.readUint32()),this.item_protection_index=u.readUint16(),this.item_type=u.readString(4),this.item_name=u.readCString(),this.item_type==="mime"?(this.content_type=u.readCString(),this.content_encoding=u.readCString()):this.item_type==="uri "&&(this.item_uri_type=u.readCString()))}),l.createFullBoxCtor("ipma","ItemPropertyAssociationBox",function(u){var h,m;for(entry_count=u.readUint32(),this.associations=[],h=0;h<entry_count;h++){var v={};this.associations.push(v),this.version<1?v.id=u.readUint16():v.id=u.readUint32();var w=u.readUint8();for(v.props=[],m=0;m<w;m++){var x=u.readUint8(),S={};v.props.push(S),S.essential=(x&128)>>7===1,this.flags&1?S.property_index=(x&127)<<8|u.readUint8():S.property_index=x&127}}}),l.createFullBoxCtor("iref","ItemReferenceBox",function(u){var h,m;for(this.references=[];u.getPosition()<this.start+this.size;)if(h=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),h.code===l.OK)this.version===0?m=new l.SingleItemTypeReferenceBox(h.type,h.size,h.hdr_size,h.start):m=new l.SingleItemTypeReferenceBoxLarge(h.type,h.size,h.hdr_size,h.start),m.write===l.Box.prototype.write&&m.type!=="mdat"&&(e.warn("BoxParser",m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(u)),m.parse(u),this.references.push(m);else return}),l.createBoxCtor("irot","ImageRotation",function(u){this.angle=u.readUint8()&3}),l.createFullBoxCtor("ispe","ImageSpatialExtentsProperty",function(u){this.image_width=u.readUint32(),this.image_height=u.readUint32()}),l.createFullBoxCtor("kind","KindBox",function(u){this.schemeURI=u.readCString(),this.value=u.readCString()}),l.createFullBoxCtor("leva","LevelAssignmentBox",function(u){var h=u.readUint8();this.levels=[];for(var m=0;m<h;m++){var v={};this.levels[m]=v,v.track_ID=u.readUint32();var w=u.readUint8();switch(v.padding_flag=w>>7,v.assignment_type=w&127,v.assignment_type){case 0:v.grouping_type=u.readString(4);break;case 1:v.grouping_type=u.readString(4),v.grouping_type_parameter=u.readUint32();break;case 2:break;case 3:break;case 4:v.sub_track_id=u.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),l.createBoxCtor("lhvC","LHEVCConfigurationBox",function(u){var h,m,v;this.configurationVersion=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,v=u.readUint8(),this.numTemporalLayers=(v&13)>>3,this.temporalIdNested=(v&4)>>2,this.lengthSizeMinusOne=v&3,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var T="<table class='inner-table'>";T+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>",T+="<tbody>";for(var A=0;A<this.length;A++){var R=this[A];T+="<tr>",T+="<td rowspan='"+R.length+"'>"+R.completeness+"</td>",T+="<td rowspan='"+R.length+"'>"+R.nalu_type+"</td>";for(var D=0;D<R.length;D++){var O=R[D];D!==0&&(T+="<tr>"),T+="<td>",T+=O.data.reduce(function(I,M){return I+M.toString(16).padStart(2,"0")},"0x"),T+="</td></tr>"}}return T+="</tbody></table>",T};var w=u.readUint8();for(h=0;h<w;h++){var x=[];this.nalu_arrays.push(x),v=u.readUint8(),x.completeness=(v&128)>>7,x.nalu_type=v&63;var S=u.readUint16();for(m=0;m<S;m++){var E={};x.push(E);var P=u.readUint16();E.data=u.readUint8Array(P)}}}),l.createBoxCtor("lsel","LayerSelectorProperty",function(u){this.layer_id=u.readUint16()}),l.createBoxCtor("maxr","hintmaxrate",function(u){this.period=u.readUint32(),this.bytes=u.readUint32()});function d(u,h){this.x=u,this.y=h}d.prototype.toString=function(){return"("+this.x+","+this.y+")"},l.createBoxCtor("mdcv","MasteringDisplayColourVolumeBox",function(u){this.display_primaries=[],this.display_primaries[0]=new d(u.readUint16(),u.readUint16()),this.display_primaries[1]=new d(u.readUint16(),u.readUint16()),this.display_primaries[2]=new d(u.readUint16(),u.readUint16()),this.white_point=new d(u.readUint16(),u.readUint16()),this.max_display_mastering_luminance=u.readUint32(),this.min_display_mastering_luminance=u.readUint32()}),l.createFullBoxCtor("mdhd","MediaHeaderBox",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.parseLanguage(u),u.readUint16()}),l.createFullBoxCtor("mehd","MovieExtendsHeaderBox",function(u){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=u.readUint64():this.fragment_duration=u.readUint32()}),l.createFullBoxCtor("meta","MetaBox",function(u){this.boxes=[],l.ContainerBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("mfhd","MovieFragmentHeaderBox",function(u){this.sequence_number=u.readUint32()}),l.createFullBoxCtor("mfro","MovieFragmentRandomAccessOffsetBox",function(u){this._size=u.readUint32()}),l.createFullBoxCtor("mskC","MaskConfigurationProperty",function(u){this.bits_per_pixel=u.readUint8()}),l.createFullBoxCtor("mvhd","MovieHeaderBox",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.rate=u.readUint32(),this.volume=u.readUint16()>>8,u.readUint16(),u.readUint32Array(2),this.matrix=u.readUint32Array(9),u.readUint32Array(6),this.next_track_id=u.readUint32()}),l.createBoxCtor("npck","hintPacketsSent",function(u){this.packetssent=u.readUint32()}),l.createBoxCtor("nump","hintPacketsSent",function(u){this.packetssent=u.readUint64()}),l.createFullBoxCtor("padb","PaddingBitsBox",function(u){var h=u.readUint32();this.padbits=[];for(var m=0;m<Math.floor((h+1)/2);m++)this.padbits=u.readUint8()}),l.createBoxCtor("pasp","PixelAspectRatioBox",function(u){this.hSpacing=u.readUint32(),this.vSpacing=u.readUint32()}),l.createBoxCtor("payl","CuePayloadBox",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createBoxCtor("payt","hintpayloadID",function(u){this.payloadID=u.readUint32();var h=u.readUint8();this.rtpmap_string=u.readString(h)}),l.createFullBoxCtor("pdin","ProgressiveDownloadInfoBox",function(u){var h=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var m=0;m<h;m++)this.rate[m]=u.readUint32(),this.initial_delay[m]=u.readUint32()}),l.createFullBoxCtor("pitm","PrimaryItemBox",function(u){this.version===0?this.item_id=u.readUint16():this.item_id=u.readUint32()}),l.createFullBoxCtor("pixi","PixelInformationProperty",function(u){var h;for(this.num_channels=u.readUint8(),this.bits_per_channels=[],h=0;h<this.num_channels;h++)this.bits_per_channels[h]=u.readUint8()}),l.createBoxCtor("pmax","hintlargestpacket",function(u){this.bytes=u.readUint32()}),l.createFullBoxCtor("prdi","ProgressiveDerivedImageItemInformationProperty",function(u){if(this.step_count=u.readUint16(),this.item_count=[],this.flags&2)for(var h=0;h<this.step_count;h++)this.item_count[h]=u.readUint16()}),l.createFullBoxCtor("prft","ProducerReferenceTimeBox",function(u){this.ref_track_id=u.readUint32(),this.ntp_timestamp=u.readUint64(),this.version===0?this.media_time=u.readUint32():this.media_time=u.readUint64()}),l.createFullBoxCtor("pssh","ProtectionSystemSpecificHeaderBox",function(u){if(this.system_id=l.parseHex16(u),this.version>0){var h=u.readUint32();this.kid=[];for(var m=0;m<h;m++)this.kid[m]=l.parseHex16(u)}var v=u.readUint32();v>0&&(this.data=u.readUint8Array(v))}),l.createFullBoxCtor("clef","TrackCleanApertureDimensionsBox",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("enof","TrackEncodedPixelsDimensionsBox",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("prof","TrackProductionApertureDimensionsBox",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createContainerBoxCtor("tapt","TrackApertureModeDimensionsBox",null,["clef","prof","enof"]),l.createBoxCtor("rtp ","rtpmoviehintinformation",function(u){this.descriptionformat=u.readString(4),this.sdptext=u.readString(this.size-this.hdr_size-4)}),l.createFullBoxCtor("saio","SampleAuxiliaryInformationOffsetsBox",function(u){this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32());var h=u.readUint32();this.offset=[];for(var m=0;m<h;m++)this.version===0?this.offset[m]=u.readUint32():this.offset[m]=u.readUint64()}),l.createFullBoxCtor("saiz","SampleAuxiliaryInformationSizesBox",function(u){if(this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32()),this.default_sample_info_size=u.readUint8(),this.sample_count=u.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var h=0;h<this.sample_count;h++)this.sample_info_size[h]=u.readUint8()}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(u){this.parseHeader(u),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.auxiliary_mime_types=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(u){this.parseHeader(u),this.displayFlags=u.readUint32(),this.horizontal_justification=u.readInt8(),this.vertical_justification=u.readInt8(),this.bg_color_rgba=u.readUint8Array(4),this.box_record=u.readInt16Array(4),this.style_record=u.readUint8Array(12),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(u){this.parseHeader(u),this.parseFooter(u)}),l.createSampleGroupCtor("alst",function(u){var h,m=u.readUint16();for(this.first_output_sample=u.readUint16(),this.sample_offset=[],h=0;h<m;h++)this.sample_offset[h]=u.readUint32();var v=this.description_length-4-4*m;for(this.num_output_samples=[],this.num_total_samples=[],h=0;h<v/4;h++)this.num_output_samples[h]=u.readUint16(),this.num_total_samples[h]=u.readUint16()}),l.createSampleGroupCtor("avll",function(u){this.layerNumber=u.readUint8(),this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()}),l.createSampleGroupCtor("avss",function(u){this.subSequenceIdentifier=u.readUint16(),this.layerNumber=u.readUint8();var h=u.readUint8();this.durationFlag=h>>7,this.avgRateFlag=h>>6&1,this.durationFlag&&(this.duration=u.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()),this.dependency=[];for(var m=u.readUint8(),v=0;v<m;v++){var w={};this.dependency.push(w),w.subSeqDirectionFlag=u.readUint8(),w.layerNumber=u.readUint8(),w.subSequenceIdentifier=u.readUint16()}}),l.createSampleGroupCtor("dtrt",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("mvif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("prol",function(u){this.roll_distance=u.readInt16()}),l.createSampleGroupCtor("rap ",function(u){var h=u.readUint8();this.num_leading_samples_known=h>>7,this.num_leading_samples=h&127}),l.createSampleGroupCtor("rash",function(u){if(this.operation_point_count=u.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=u.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=u.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var h=0;h<this.operation_point_count;h++)this.available_bitrate[h]=u.readUint32(),this.target_rate_share[h]=u.readUint16()}this.maximum_bitrate=u.readUint32(),this.minimum_bitrate=u.readUint32(),this.discard_priority=u.readUint8()}}),l.createSampleGroupCtor("roll",function(u){this.roll_distance=u.readInt16()}),l.SampleGroupEntry.prototype.parse=function(u){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=u.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("scnm",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("seig",function(u){this.reserved=u.readUint8();var h=u.readUint8();this.crypt_byte_block=h>>4,this.skip_byte_block=h&15,this.isProtected=u.readUint8(),this.Per_Sample_IV_Size=u.readUint8(),this.KID=l.parseHex16(u),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=u.readUint8(),this.constant_IV=u.readUint8Array(this.constant_IV_size))}),l.createSampleGroupCtor("stsa",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("sync",function(u){var h=u.readUint8();this.NAL_unit_type=h&63}),l.createSampleGroupCtor("tele",function(u){var h=u.readUint8();this.level_independently_decodable=h>>7}),l.createSampleGroupCtor("tsas",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("tscl",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("vipr",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createFullBoxCtor("sbgp","SampleToGroupBox",function(u){this.grouping_type=u.readString(4),this.version===1?this.grouping_type_parameter=u.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var h=u.readUint32(),m=0;m<h;m++){var v={};this.entries.push(v),v.sample_count=u.readInt32(),v.group_description_index=u.readInt32()}});function f(u,h){this.bad_pixel_row=u,this.bad_pixel_column=h}f.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},l.createFullBoxCtor("sbpm","SensorBadPixelsMapBox",function(u){var h;for(this.component_count=u.readUint16(),this.component_index=[],h=0;h<this.component_count;h++)this.component_index.push(u.readUint16());var m=u.readUint8();for(this.correction_applied=(m&128)==128,this.num_bad_rows=u.readUint32(),this.num_bad_cols=u.readUint32(),this.num_bad_pixels=u.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],h=0;h<this.num_bad_rows;h++)this.bad_rows.push(u.readUint32());for(h=0;h<this.num_bad_cols;h++)this.bad_columns.push(u.readUint32());for(h=0;h<this.num_bad_pixels;h++){var v=u.readUint32(),w=u.readUint32();this.bad_pixels.push(new f(v,w))}}),l.createFullBoxCtor("schm","SchemeTypeBox",function(u){this.scheme_type=u.readString(4),this.scheme_version=u.readUint32(),this.flags&1&&(this.scheme_uri=u.readString(this.size-this.hdr_size-8))}),l.createBoxCtor("sdp ","rtptracksdphintinformation",function(u){this.sdptext=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("sdtp","SampleDependencyTypeBox",function(u){var h,m=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var v=0;v<m;v++)h=u.readUint8(),this.is_leading[v]=h>>6,this.sample_depends_on[v]=h>>4&3,this.sample_is_depended_on[v]=h>>2&3,this.sample_has_redundancy[v]=h&3}),l.createFullBoxCtor("senc","SampleEncryptionBox"),l.createFullBoxCtor("sgpd","SampleGroupDescriptionBox",function(u){this.grouping_type=u.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=u.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=u.readUint32()),this.entries=[];for(var h=u.readUint32(),m=0;m<h;m++){var v;l[this.grouping_type+"SampleGroupEntry"]?v=new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):v=new l.SampleGroupEntry(this.grouping_type),this.entries.push(v),this.version===1?this.default_length===0?v.description_length=u.readUint32():v.description_length=this.default_length:v.description_length=this.default_length,v.write===l.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),v.data=u.readUint8Array(v.description_length),u.position-=v.description_length),v.parse(u)}}),l.createFullBoxCtor("sidx","CompressedSegmentIndexBox",function(u){this.reference_ID=u.readUint32(),this.timescale=u.readUint32(),this.version===0?(this.earliest_presentation_time=u.readUint32(),this.first_offset=u.readUint32()):(this.earliest_presentation_time=u.readUint64(),this.first_offset=u.readUint64()),u.readUint16(),this.references=[];for(var h=u.readUint16(),m=0;m<h;m++){var v={};this.references.push(v);var w=u.readUint32();v.reference_type=w>>31&1,v.referenced_size=w&2147483647,v.subsegment_duration=u.readUint32(),w=u.readUint32(),v.starts_with_SAP=w>>31&1,v.SAP_type=w>>28&7,v.SAP_delta_time=w&268435455}}),l.SingleItemTypeReferenceBox=function(u,h,m,v){l.Box.call(this,u,h),this.hdr_size=m,this.start=v},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(u){this.from_item_ID=u.readUint16();var h=u.readUint16();this.references=[];for(var m=0;m<h;m++)this.references[m]={},this.references[m].to_item_ID=u.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(u,h,m,v){l.Box.call(this,u,h),this.hdr_size=m,this.start=v},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(u){this.from_item_ID=u.readUint32();var h=u.readUint16();this.references=[];for(var m=0;m<h;m++)this.references[m]={},this.references[m].to_item_ID=u.readUint32()},l.createFullBoxCtor("SmDm","SMPTE2086MasteringDisplayMetadataBox",function(u){this.primaryRChromaticity_x=u.readUint16(),this.primaryRChromaticity_y=u.readUint16(),this.primaryGChromaticity_x=u.readUint16(),this.primaryGChromaticity_y=u.readUint16(),this.primaryBChromaticity_x=u.readUint16(),this.primaryBChromaticity_y=u.readUint16(),this.whitePointChromaticity_x=u.readUint16(),this.whitePointChromaticity_y=u.readUint16(),this.luminanceMax=u.readUint32(),this.luminanceMin=u.readUint32()}),l.createFullBoxCtor("smhd","SoundMediaHeaderBox",function(u){this.balance=u.readUint16(),u.readUint16()}),l.createFullBoxCtor("ssix","CompressedSubsegmentIndexBox",function(u){this.subsegments=[];for(var h=u.readUint32(),m=0;m<h;m++){var v={};this.subsegments.push(v),v.ranges=[];for(var w=u.readUint32(),x=0;x<w;x++){var S={};v.ranges.push(S),S.level=u.readUint8(),S.range_size=u.readUint24()}}}),l.createFullBoxCtor("stco","ChunkOffsetBox",function(u){var h;if(h=u.readUint32(),this.chunk_offsets=[],this.version===0)for(var m=0;m<h;m++)this.chunk_offsets.push(u.readUint32())}),l.createFullBoxCtor("stdp","DegradationPriorityBox",function(u){var h=(this.size-this.hdr_size)/2;this.priority=[];for(var m=0;m<h;m++)this.priority[m]=u.readUint16()}),l.createFullBoxCtor("sthd","SubtitleMediaHeaderBox"),l.createFullBoxCtor("stri","SubTrackInformationBox",function(u){this.switch_group=u.readUint16(),this.alternate_group=u.readUint16(),this.sub_track_id=u.readUint32();var h=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var m=0;m<h;m++)this.attribute_list[m]=u.readUint32()}),l.createFullBoxCtor("stsc","SampleToChunkBox",function(u){var h,m;if(h=u.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(m=0;m<h;m++)this.first_chunk.push(u.readUint32()),this.samples_per_chunk.push(u.readUint32()),this.sample_description_index.push(u.readUint32())}),l.createFullBoxCtor("stsd","SampleDescriptionBox",function(u){var h,m,v,w;for(this.entries=[],v=u.readUint32(),h=1;h<=v;h++)if(m=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),m.code===l.OK)l[m.type+"SampleEntry"]?(w=new l[m.type+"SampleEntry"](m.size),w.hdr_size=m.hdr_size,w.start=m.start):(e.warn("BoxParser","Unknown sample entry type: "+m.type),w=new l.SampleEntry(m.type,m.size,m.hdr_size,m.start)),w.write===l.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+w.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),w.parseDataAndRewind(u)),w.parse(u),this.entries.push(w);else return}),l.createFullBoxCtor("stsg","SubTrackSampleGroupBox",function(u){this.grouping_type=u.readUint32();var h=u.readUint16();this.group_description_index=[];for(var m=0;m<h;m++)this.group_description_index[m]=u.readUint32()}),l.createFullBoxCtor("stsh","ShadowSyncSampleBox",function(u){var h,m;if(h=u.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(m=0;m<h;m++)this.shadowed_sample_numbers.push(u.readUint32()),this.sync_sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stss","SyncSampleBox",function(u){var h,m;if(m=u.readUint32(),this.version===0)for(this.sample_numbers=[],h=0;h<m;h++)this.sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stsz","SampleSizeBox",function(u){var h;if(this.sample_sizes=[],this.version===0)for(this.sample_size=u.readUint32(),this.sample_count=u.readUint32(),h=0;h<this.sample_count;h++)this.sample_size===0?this.sample_sizes.push(u.readUint32()):this.sample_sizes[h]=this.sample_size}),l.createFullBoxCtor("stts","TimeToSampleBox",function(u){var h,m,v;if(h=u.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(m=0;m<h;m++)this.sample_counts.push(u.readUint32()),v=u.readInt32(),v<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),v=1),this.sample_deltas.push(v)}),l.createFullBoxCtor("stvi","StereoVideoBox",function(u){var h=u.readUint32();this.single_view_allowed=h&3,this.stereo_scheme=u.readUint32();var m=u.readUint32();this.stereo_indication_type=u.readString(m);var v,w;for(this.boxes=[];u.getPosition()<this.start+this.size;)if(v=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),v.code===l.OK)w=v.box,this.boxes.push(w),this[w.type]=w;else return}),l.createBoxCtor("styp","SegmentTypeBox",function(u){l.ftypBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("stz2","CompactSampleSizeBox",function(u){var h,m;if(this.sample_sizes=[],this.version===0)if(this.reserved=u.readUint24(),this.field_size=u.readUint8(),m=u.readUint32(),this.field_size===4)for(h=0;h<m;h+=2){var v=u.readUint8();this.sample_sizes[h]=v>>4&15,this.sample_sizes[h+1]=v&15}else if(this.field_size===8)for(h=0;h<m;h++)this.sample_sizes[h]=u.readUint8();else if(this.field_size===16)for(h=0;h<m;h++)this.sample_sizes[h]=u.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),l.createFullBoxCtor("subs","SubSampleInformationBox",function(u){var h,m,v,w;for(v=u.readUint32(),this.entries=[],h=0;h<v;h++){var x={};if(this.entries[h]=x,x.sample_delta=u.readUint32(),x.subsamples=[],w=u.readUint16(),w>0)for(m=0;m<w;m++){var S={};x.subsamples.push(S),this.version==1?S.size=u.readUint32():S.size=u.readUint16(),S.priority=u.readUint8(),S.discardable=u.readUint8(),S.codec_specific_parameters=u.readUint32()}}}),l.createFullBoxCtor("tenc","TrackEncryptionBox",function(u){if(u.readUint8(),this.version===0)u.readUint8();else{var h=u.readUint8();this.default_crypt_byte_block=h>>4&15,this.default_skip_byte_block=h&15}this.default_isProtected=u.readUint8(),this.default_Per_Sample_IV_Size=u.readUint8(),this.default_KID=l.parseHex16(u),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=u.readUint8(),this.default_constant_IV=u.readUint8Array(this.default_constant_IV_size))}),l.createFullBoxCtor("tfdt","TrackFragmentBaseMediaDecodeTimeBox",function(u){this.version==1?this.baseMediaDecodeTime=u.readUint64():this.baseMediaDecodeTime=u.readUint32()}),l.createFullBoxCtor("tfhd","TrackFragmentHeaderBox",function(u){var h=0;this.track_id=u.readUint32(),this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=u.readUint64(),h+=8):this.base_data_offset=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=u.readUint32(),h+=4):this.default_sample_description_index=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=u.readUint32(),h+=4):this.default_sample_duration=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=u.readUint32(),h+=4):this.default_sample_size=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=u.readUint32(),h+=4):this.default_sample_flags=0}),l.createFullBoxCtor("tfra","TrackFragmentRandomAccessBox",function(u){this.track_ID=u.readUint32(),u.readUint24();var h=u.readUint8();this.length_size_of_traf_num=h>>4&3,this.length_size_of_trun_num=h>>2&3,this.length_size_of_sample_num=h&3,this.entries=[];for(var m=u.readUint32(),v=0;v<m;v++)this.version===1?(this.time=u.readUint64(),this.moof_offset=u.readUint64()):(this.time=u.readUint32(),this.moof_offset=u.readUint32()),this.traf_number=u["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=u["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=u["readUint"+8*(this.length_size_of_sample_num+1)]()}),l.createFullBoxCtor("tkhd","TrackHeaderBox",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint32()),u.readUint32Array(2),this.layer=u.readInt16(),this.alternate_group=u.readInt16(),this.volume=u.readInt16()>>8,u.readUint16(),this.matrix=u.readInt32Array(9),this.width=u.readUint32(),this.height=u.readUint32()}),l.createBoxCtor("tmax","hintmaxrelativetime",function(u){this.time=u.readUint32()}),l.createBoxCtor("tmin","hintminrelativetime",function(u){this.time=u.readUint32()}),l.createBoxCtor("totl","hintBytesSent",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpay","hintBytesSent",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpyl","hintBytesSent",function(u){this.bytessent=u.readUint64()}),l.TrackGroupTypeBox.prototype.parse=function(u){this.parseFullHeader(u),this.track_group_id=u.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(u,h,m,v){l.Box.call(this,u,h),this.hdr_size=m,this.start=v},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(u){this.track_ids=u.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(u){for(var h,m;u.getPosition()<this.start+this.size;)if(h=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),h.code===l.OK)m=new l.TrackReferenceTypeBox(h.type,h.size,h.hdr_size,h.start),m.write===l.Box.prototype.write&&m.type!=="mdat"&&(e.info("BoxParser","TrackReference "+m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(u)),m.parse(u),this.boxes.push(m);else return},l.createFullBoxCtor("trep","TrackExtensionPropertiesBox",function(u){for(this.track_ID=u.readUint32(),this.boxes=[];u.getPosition()<this.start+this.size;)if(ret=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),ret.code===l.OK)box=ret.box,this.boxes.push(box);else return}),l.createFullBoxCtor("trex","TrackExtendsBox",function(u){this.track_id=u.readUint32(),this.default_sample_description_index=u.readUint32(),this.default_sample_duration=u.readUint32(),this.default_sample_size=u.readUint32(),this.default_sample_flags=u.readUint32()}),l.createBoxCtor("trpy","hintBytesSent",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("trun","TrackRunBox",function(u){var h=0;if(this.sample_count=u.readUint32(),h+=4,this.size-this.hdr_size>h&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=u.readInt32(),h+=4):this.data_offset=0,this.size-this.hdr_size>h&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=u.readUint32(),h+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>h)for(var m=0;m<this.sample_count;m++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[m]=u.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[m]=u.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[m]=u.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[m]=u.readUint32():this.sample_composition_time_offset[m]=u.readInt32())}),l.createFullBoxCtor("tsel","TrackSelectionBox",function(u){this.switch_group=u.readUint32();var h=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var m=0;m<h;m++)this.attribute_list[m]=u.readUint32()}),l.createFullBoxCtor("txtC","TextConfigBox",function(u){this.config=u.readCString()}),l.createBoxCtor("tyco","TypeCombinationBox",function(u){var h=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var m=0;m<h;m++)this.compatible_brands[m]=u.readString(4)}),l.createFullBoxCtor("udes","UserDescriptionProperty",function(u){this.lang=u.readCString(),this.name=u.readCString(),this.description=u.readCString(),this.tags=u.readCString()}),l.createFullBoxCtor("uncC","UncompressedFrameConfigBox",function(u){var h;if(this.profile=u.readString(4),this.version!=1){if(this.version==0){for(this.component_count=u.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],h=0;h<this.component_count;h++)this.component_index.push(u.readUint16()),this.component_bit_depth_minus_one.push(u.readUint8()),this.component_format.push(u.readUint8()),this.component_align_size.push(u.readUint8());this.sampling_type=u.readUint8(),this.interleave_type=u.readUint8(),this.block_size=u.readUint8();var m=u.readUint8();this.component_little_endian=m>>7&1,this.block_pad_lsb=m>>6&1,this.block_little_endian=m>>5&1,this.block_reversed=m>>4&1,this.pad_unknown=m>>3&1,this.pixel_size=u.readUint32(),this.row_align_size=u.readUint32(),this.tile_align_size=u.readUint32(),this.num_tile_cols_minus_one=u.readUint32(),this.num_tile_rows_minus_one=u.readUint32()}}}),l.createFullBoxCtor("url ","DataEntryUrlBox",function(u){this.flags!==1&&(this.location=u.readCString())}),l.createFullBoxCtor("urn ","DataEntryUrnBox",function(u){this.name=u.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=u.readCString())}),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66","LiveServerManifestBox",!0,!1,function(u){this.LiveServerManifest=u.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3","PiffProtectionSystemSpecificHeaderBox",!0,!1,function(u){this.system_id=l.parseHex16(u);var h=u.readUint32();h>0&&(this.data=u.readUint8Array(h))}),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4","PiffSampleEncryptionBox",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554","PiffTrackEncryptionBox",!0,!1,function(u){this.default_AlgorithmID=u.readUint24(),this.default_IV_size=u.readUint8(),this.default_KID=l.parseHex16(u)}),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f","TfrfBox",!0,!1,function(u){this.fragment_count=u.readUint8(),this.entries=[];for(var h=0;h<this.fragment_count;h++){var m={},v=0,w=0;this.version===1?(v=u.readUint64(),w=u.readUint64()):(v=u.readUint32(),w=u.readUint32()),m.absolute_time=v,m.absolute_duration=w,this.entries.push(m)}}),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2","TfxdBox",!0,!1,function(u){this.version===1?(this.absolute_time=u.readUint64(),this.duration=u.readUint64()):(this.absolute_time=u.readUint32(),this.duration=u.readUint32())}),l.createFullBoxCtor("vmhd","VideoMediaHeaderBox",function(u){this.graphicsmode=u.readUint16(),this.opcolor=u.readUint16Array(3)}),l.createFullBoxCtor("vpcC","VPCodecConfigurationRecord",function(u){var h;this.version===1?(this.profile=u.readUint8(),this.level=u.readUint8(),h=u.readUint8(),this.bitDepth=h>>4,this.chromaSubsampling=h>>1&7,this.videoFullRangeFlag=h&1,this.colourPrimaries=u.readUint8(),this.transferCharacteristics=u.readUint8(),this.matrixCoefficients=u.readUint8(),this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize)):(this.profile=u.readUint8(),this.level=u.readUint8(),h=u.readUint8(),this.bitDepth=h>>4&15,this.colorSpace=h&15,h=u.readUint8(),this.chromaSubsampling=h>>4&15,this.transferFunction=h>>1&7,this.videoFullRangeFlag=h&1,this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize))}),l.createBoxCtor("vttC","WebVTTConfigurationBox",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("vvcC","VvcConfigurationBox",function(u){var h,m,v={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(O){this.held_bits=O.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(O){this.held_bits=O.readUint16(),this.num_held_bits=16},extract_bits:function(O){var I=this.held_bits>>this.num_held_bits-O&(1<<O)-1;return this.num_held_bits-=O,I}};if(v.stream_read_1_bytes(u),v.extract_bits(5),this.lengthSizeMinusOne=v.extract_bits(2),this.ptl_present_flag=v.extract_bits(1),this.ptl_present_flag){v.stream_read_2_bytes(u),this.ols_idx=v.extract_bits(9),this.num_sublayers=v.extract_bits(3),this.constant_frame_rate=v.extract_bits(2),this.chroma_format_idc=v.extract_bits(2),v.stream_read_1_bytes(u),this.bit_depth_minus8=v.extract_bits(3),v.extract_bits(5);{if(v.stream_read_2_bytes(u),v.extract_bits(2),this.num_bytes_constraint_info=v.extract_bits(6),this.general_profile_idc=v.extract_bits(7),this.general_tier_flag=v.extract_bits(1),this.general_level_idc=u.readUint8(),v.stream_read_1_bytes(u),this.ptl_frame_only_constraint_flag=v.extract_bits(1),this.ptl_multilayer_enabled_flag=v.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(h=0;h<this.num_bytes_constraint_info-1;h++){var w=v.extract_bits(6);v.stream_read_1_bytes(u);var x=v.extract_bits(2);this.general_constraint_info[h]=w<<2|x}this.general_constraint_info[this.num_bytes_constraint_info-1]=v.extract_bits(6)}else v.extract_bits(6);if(this.num_sublayers>1){for(v.stream_read_1_bytes(u),this.ptl_sublayer_present_mask=0,m=this.num_sublayers-2;m>=0;--m){var S=v.extract_bits(1);this.ptl_sublayer_present_mask|=S<<m}for(m=this.num_sublayers;m<=8&&this.num_sublayers>1;++m)v.extract_bits(1);for(this.sublayer_level_idc=[],m=this.num_sublayers-2;m>=0;--m)this.ptl_sublayer_present_mask&1<<m&&(this.sublayer_level_idc[m]=u.readUint8())}if(this.ptl_num_sub_profiles=u.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(h=0;h<this.ptl_num_sub_profiles;h++)this.general_sub_profile_idc.push(u.readUint32())}this.max_picture_width=u.readUint16(),this.max_picture_height=u.readUint16(),this.avg_frame_rate=u.readUint16()}var E=12,P=13;this.nalu_arrays=[];var T=u.readUint8();for(h=0;h<T;h++){var A=[];this.nalu_arrays.push(A),v.stream_read_1_bytes(u),A.completeness=v.extract_bits(1),v.extract_bits(2),A.nalu_type=v.extract_bits(5);var R=1;for(A.nalu_type!=P&&A.nalu_type!=E&&(R=u.readUint16()),m=0;m<R;m++){var D=u.readUint16();A.push({data:u.readUint8Array(D),length:D})}}}),l.createFullBoxCtor("vvnC","VvcNALUConfigBox",function(u){var h=strm.readUint8();this.lengthSizeMinusOne=h&3}),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(u,h){var m=Number(u).toString(16);for(h=typeof h>"u"||h===null?h=2:h;m.length<h;)m="0"+m;return m},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?u+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):u},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var u,h=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(h+=".",this.hvcC.general_profile_space){case 0:h+="";break;case 1:h+="A";break;case 2:h+="B";break;case 3:h+="C";break}h+=this.hvcC.general_profile_idc,h+=".";var m=this.hvcC.general_profile_compatibility,v=0;for(u=0;u<32&&(v|=m&1,u!=31);u++)v<<=1,m>>=1;h+=l.decimalToHex(v,0),h+=".",this.hvcC.general_tier_flag===0?h+="L":h+="H",h+=this.hvcC.general_level_idc;var w=!1,x="";for(u=5;u>=0;u--)(this.hvcC.general_constraint_indicator[u]||w)&&(x="."+l.decimalToHex(this.hvcC.general_constraint_indicator[u],0)+x,w=!0);h+=x}return h},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var u,h=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){h+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?h+=".H":h+=".L",h+=this.vvcC.general_level_idc;var m="";if(this.vvcC.general_constraint_info){var v=[],w=0;w|=this.vvcC.ptl_frame_only_constraint<<7,w|=this.vvcC.ptl_multilayer_enabled<<6;var x;for(u=0;u<this.vvcC.general_constraint_info.length;++u)w|=this.vvcC.general_constraint_info[u]>>2&63,v.push(w),w&&(x=u),w=this.vvcC.general_constraint_info[u]>>2&3;if(x===void 0)m=".CA";else{m=".C";var S="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",E=0,P=0;for(u=0;u<=x;++u)for(E=E<<8|v[u],P+=8;P>=5;){var T=E>>P-5&31;m+=S[T],P-=5,E&=(1<<P)-1}P&&(E<<=5-P,m+=S[E&31])}}h+=m}return h},l.mp4aSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var h=this.esds.esd.getOTI(),m=this.esds.esd.getAudioConfig();return u+"."+l.decimalToHex(h)+(m?"."+m:"")}else return u},l.stxtSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?u+"."+this.mime_format:u},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),h=this.vpcC.level;h==0&&(h="00");var m=this.vpcC.bitDepth;return m==8&&(m="08"),u+".0"+this.vpcC.profile+"."+h+"."+m},l.av01SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),h=this.av1C.seq_level_idx_0;h<10&&(h="0"+h);var m;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?m=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(m=this.av1C.high_bitdepth===1?"10":"08"),u+"."+this.av1C.seq_profile+"."+h+(this.av1C.seq_tier_0?"H":"M")+"."+m},l.Box.prototype.writeHeader=function(u,h){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+u.getPosition()+(h||"")),this.size>s?u.writeUint32(1):(this.sizePosition=u.getPosition(),u.writeUint32(this.size)),u.writeString(this.type,null,4),this.type==="uuid"&&u.writeUint8Array(this.uuid),this.size>s&&u.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(u){this.size+=4,l.Box.prototype.writeHeader.call(this,u," v="+this.version+" f="+this.flags),u.writeUint8(this.version),u.writeUint24(this.flags)},l.Box.prototype.write=function(u){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(u),u.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(u),this.data&&u.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(u){this.size=0,this.writeHeader(u);for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&(this.boxes[h].write(u),this.size+=this.boxes[h].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(u){this.size=this.track_ids.length*4,this.writeHeader(u),u.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(u){var h;for(this.size=7,h=0;h<this.SPS.length;h++)this.size+=2+this.SPS[h].length;for(h=0;h<this.PPS.length;h++)this.size+=2+this.PPS[h].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8(this.AVCProfileIndication),u.writeUint8(this.profile_compatibility),u.writeUint8(this.AVCLevelIndication),u.writeUint8(this.lengthSizeMinusOne+252),u.writeUint8(this.SPS.length+224),h=0;h<this.SPS.length;h++)u.writeUint16(this.SPS[h].length),u.writeUint8Array(this.SPS[h].nalu);for(u.writeUint8(this.PPS.length),h=0;h<this.PPS.length;h++)u.writeUint16(this.PPS[h].length),u.writeUint8Array(this.PPS[h].nalu);this.ext&&u.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),h=0;h<this.chunk_offsets.length;h++)u.writeUint64(this.chunk_offsets[h])},l.cslgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeInt32(this.compositionToDTSShift),u.writeInt32(this.leastDecodeToDisplayDelta),u.writeInt32(this.greatestDecodeToDisplayDelta),u.writeInt32(this.compositionStartTime),u.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)u.writeUint32(this.sample_counts[h]),this.version===1?u.writeInt32(this.sample_offsets[h]):u.writeUint32(this.sample_offsets[h])},l.drefBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++)this.entries[h].write(u),this.size+=this.entries[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(u),u.writeString(this.extended_language)},l.elstBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(u),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var m=this.entries[h];u.writeUint32(m.segment_duration),u.writeInt32(m.media_time),u.writeInt16(m.media_rate_integer),u.writeInt16(m.media_rate_fraction)}},l.emsgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(u),u.writeCString(this.scheme_id_uri),u.writeCString(this.value),u.writeUint32(this.timescale),u.writeUint32(this.presentation_time_delta),u.writeUint32(this.event_duration),u.writeUint32(this.id),u.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(u){this.size=8+4*this.compatible_brands.length,this.writeHeader(u),u.writeString(this.major_brand,null,4),u.writeUint32(this.minor_version);for(var h=0;h<this.compatible_brands.length;h++)u.writeString(this.compatible_brands[h],null,4)},l.hdlrBox.prototype.write=function(u){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(u),u.writeUint32(0),u.writeString(this.handler,null,4),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeCString(this.name)},l.hvcCBox.prototype.write=function(u){var h,m;for(this.size=23,h=0;h<this.nalu_arrays.length;h++)for(this.size+=3,m=0;m<this.nalu_arrays[h].length;m++)this.size+=2+this.nalu_arrays[h][m].data.length;for(this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),u.writeUint32(this.general_profile_compatibility),u.writeUint8Array(this.general_constraint_indicator),u.writeUint8(this.general_level_idc),u.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),u.writeUint8(this.parallelismType+252),u.writeUint8(this.chroma_format_idc+252),u.writeUint8(this.bit_depth_luma_minus8+248),u.writeUint8(this.bit_depth_chroma_minus8+248),u.writeUint16(this.avgFrameRate),u.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),u.writeUint8(this.nalu_arrays.length),h=0;h<this.nalu_arrays.length;h++)for(u.writeUint8((this.nalu_arrays[h].completeness<<7)+this.nalu_arrays[h].nalu_type),u.writeUint16(this.nalu_arrays[h].length),m=0;m<this.nalu_arrays[h].length;m++)u.writeUint16(this.nalu_arrays[h][m].data.length),u.writeUint8Array(this.nalu_arrays[h][m].data)},l.kindBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(u),u.writeCString(this.schemeURI),u.writeCString(this.value)},l.mdhdBox.prototype.write=function(u){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint16(this.language),u.writeUint16(0)},l.mehdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint32(this.rate),u.writeUint16(this.volume<<8),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32Array(this.matrix),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(u){this.size=8,l.Box.prototype.writeHeader.call(this,u),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(u){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(u),this.size+=this.boxes[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(u){this.writeHeader(u),u.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*7+6*4+32,u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.width),u.writeUint16(this.height),u.writeUint32(this.horizresolution),u.writeUint32(this.vertresolution),u.writeUint32(0),u.writeUint16(this.frame_count),u.writeUint8(Math.min(31,this.compressorname.length)),u.writeString(this.compressorname,null,31),u.writeUint16(this.depth),u.writeInt16(-1),this.writeFooter(u)},l.AudioSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*4+3*4,u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.channel_count),u.writeUint16(this.samplesize),u.writeUint16(0),u.writeUint16(0),u.writeUint32(this.samplerate<<16),this.writeFooter(u)},l.stppSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,u.writeCString(this.namespace),u.writeCString(this.schema_location),u.writeCString(this.auxiliary_mime_types),this.writeFooter(u)},l.SampleGroupEntry.prototype.write=function(u){u.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(u){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(u),u.writeString(this.grouping_type,null,4),u.writeUint32(this.grouping_type_parameter),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var m=this.entries[h];u.writeInt32(m.sample_count),u.writeInt32(m.group_description_index)}},l.sgpdBox.prototype.write=function(u){var h,m;for(this.flags=0,this.size=12,h=0;h<this.entries.length;h++)m=this.entries[h],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=m.data.length);for(this.writeHeader(u),u.writeString(this.grouping_type,null,4),this.version===1&&u.writeUint32(this.default_length),this.version>=2&&u.writeUint32(this.default_sample_description_index),u.writeUint32(this.entries.length),h=0;h<this.entries.length;h++)m=this.entries[h],this.version===1&&this.default_length===0&&u.writeUint32(m.description_length),m.write(u)},l.sidxBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(u),u.writeUint32(this.reference_ID),u.writeUint32(this.timescale),u.writeUint32(this.earliest_presentation_time),u.writeUint32(this.first_offset),u.writeUint16(0),u.writeUint16(this.references.length);for(var h=0;h<this.references.length;h++){var m=this.references[h];u.writeUint32(m.reference_type<<31|m.referenced_size),u.writeUint32(m.subsegment_duration),u.writeUint32(m.starts_with_SAP<<31|m.SAP_type<<28|m.SAP_delta_time)}},l.smhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=4,this.writeHeader(u),u.writeUint16(this.balance),u.writeUint16(0)},l.stcoBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),u.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(u),u.writeUint32(this.first_chunk.length),h=0;h<this.first_chunk.length;h++)u.writeUint32(this.first_chunk[h]),u.writeUint32(this.samples_per_chunk[h]),u.writeUint32(this.sample_description_index[h])},l.stsdBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(u),u.writeUint32(this.entries.length),this.size+=4,h=0;h<this.entries.length;h++)this.entries[h].write(u),this.size+=this.entries[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(u),u.writeUint32(this.shadowed_sample_numbers.length),h=0;h<this.shadowed_sample_numbers.length;h++)u.writeUint32(this.shadowed_sample_numbers[h]),u.writeUint32(this.sync_sample_numbers[h])},l.stssBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(u),u.writeUint32(this.sample_numbers.length),u.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(u){var h,m=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(h=0;h+1<this.sample_sizes.length;)if(this.sample_sizes[h+1]!==this.sample_sizes[0]){m=!1;break}else h++;else m=!1;this.size=8,m||(this.size+=4*this.sample_sizes.length),this.writeHeader(u),m?u.writeUint32(this.sample_sizes[0]):u.writeUint32(0),u.writeUint32(this.sample_sizes.length),m||u.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)u.writeUint32(this.sample_counts[h]),u.writeUint32(this.sample_deltas[h])},l.tfdtBox.prototype.write=function(u){var h=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>h?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(u),this.version===1?u.writeUint64(this.baseMediaDecodeTime):u.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(u),u.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&u.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&u.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&u.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&u.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&u.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(u){this.version=0,this.size=4*18+2*4,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.track_id),u.writeUint32(0),u.writeUint32(this.duration),u.writeUint32(0),u.writeUint32(0),u.writeInt16(this.layer),u.writeInt16(this.alternate_group),u.writeInt16(this.volume<<8),u.writeUint16(0),u.writeInt32Array(this.matrix),u.writeUint32(this.width),u.writeUint32(this.height)},l.trexBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeUint32(this.track_id),u.writeUint32(this.default_sample_description_index),u.writeUint32(this.default_sample_duration),u.writeUint32(this.default_sample_size),u.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(u),u.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=u.getPosition(),u.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&u.writeUint32(this.first_sample_flags);for(var h=0;h<this.sample_count;h++)this.flags&l.TRUN_FLAGS_DURATION&&u.writeUint32(this.sample_duration[h]),this.flags&l.TRUN_FLAGS_SIZE&&u.writeUint32(this.sample_size[h]),this.flags&l.TRUN_FLAGS_FLAGS&&u.writeUint32(this.sample_flags[h]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?u.writeUint32(this.sample_composition_time_offset[h]):u.writeInt32(this.sample_composition_time_offset[h]))},l["url Box"].prototype.write=function(u){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(u),this.location&&u.writeCString(this.location)},l["urn Box"].prototype.write=function(u){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(u),u.writeCString(this.name),this.location&&u.writeCString(this.location)},l.vmhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=8,this.writeHeader(u),u.writeUint16(this.graphicsmode),u.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(u){var h,m,v;for(v=0,h=0;h<this.sample_counts.length;h++)for(m=0;m<this.sample_counts[h];m++)u[v].pts=u[v].dts+this.sample_offsets[h],v++},l.sttsBox.prototype.unpack=function(u){var h,m,v;for(v=0,h=0;h<this.sample_counts.length;h++)for(m=0;m<this.sample_counts[h];m++)v===0?u[v].dts=0:u[v].dts=u[v-1].dts+this.sample_deltas[h],v++},l.stcoBox.prototype.unpack=function(u){var h;for(h=0;h<this.chunk_offsets.length;h++)u[h].offset=this.chunk_offsets[h]},l.stscBox.prototype.unpack=function(u){var h,m,v,w,x;for(w=0,x=0,h=0;h<this.first_chunk.length;h++)for(m=0;m<(h+1<this.first_chunk.length?this.first_chunk[h+1]:1/0);m++)for(x++,v=0;v<this.samples_per_chunk[h];v++){if(u[w])u[w].description_index=this.sample_description_index[h],u[w].chunk_index=x;else return;w++}},l.stszBox.prototype.unpack=function(u){var h;for(h=0;h<this.sample_sizes.length;h++)u[h].size=this.sample_sizes[h]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(u,h){if(u&&!h)return!1;var m;for(m in u)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(m)>-1)){if(u[m]instanceof l.Box||h[m]instanceof l.Box)continue;if(typeof u[m]>"u"||typeof h[m]>"u")continue;if(typeof u[m]=="function"||typeof h[m]=="function")continue;if(u.subBoxNames&&u.subBoxNames.indexOf(m.slice(0,4))>-1||h.subBoxNames&&h.subBoxNames.indexOf(m.slice(0,4))>-1)continue;if(m==="data"||m==="start"||m==="size"||m==="creation_time"||m==="modification_time")continue;if(l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(m)>-1)continue;if(u[m]!==h[m])return!1}return!0},l.boxEqual=function(u,h){if(!l.boxEqualFields(u,h))return!1;for(var m=0;m<l.DIFF_BOXES_PROP_NAMES.length;m++){var v=l.DIFF_BOXES_PROP_NAMES[m];if(u[v]&&h[v]&&!l.boxEqual(u[v],h[v]))return!1}return!0};var p=function(){};p.prototype.parseSample=function(u){var h,m,v=new r(u.buffer);for(h=[];!v.isEos();)m=l.parseOneBox(v,!1),m.code===l.OK&&m.box.type==="vttc"&&h.push(m.box);return h},p.prototype.getText=function(u,h,m){function v(T,A,R){return R=R||"0",T=T+"",T.length>=A?T:new Array(A-T.length+1).join(R)+T}function w(T){var A=Math.floor(T/3600),R=Math.floor((T-A*3600)/60),D=Math.floor(T-A*3600-R*60),O=Math.floor((T-A*3600-R*60-D)*1e3);return""+v(A,2)+":"+v(R,2)+":"+v(D,2)+"."+v(O,3)}for(var x=this.parseSample(m),S="",E=0;E<x.length;E++){var P=x[E];S+=w(u)+" --> "+w(h)+"\r\n",S+=P.payl.text}return S};var g=function(){};g.prototype.parseSample=function(u){var h={},m;h.resources=[];var v=new r(u.data.buffer);if(!u.subsamples||u.subsamples.length===0)h.documentString=v.readString(u.data.length);else if(h.documentString=v.readString(u.subsamples[0].size),u.subsamples.length>1)for(m=1;m<u.subsamples.length;m++)h.resources[m]=v.readUint8Array(u.subsamples[m].size);return typeof DOMParser<"u"&&(h.document=new DOMParser().parseFromString(h.documentString,"application/xml")),h};var y=function(){};y.prototype.parseSample=function(u){var h,m=new r(u.data.buffer);return h=m.readString(u.data.length),h},y.prototype.parseConfig=function(u){var h,m=new r(u.buffer);return m.readUint32(),h=m.readCString(),h},t.VTTin4Parser=p,t.XMLSubtitlein4Parser=g,t.Textin4Parser=y;var b=function(u){this.stream=u||new a,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};b.prototype.setSegmentOptions=function(u,h,m){var v=this.getTrackById(u);if(v){var w={};this.fragmentedTracks.push(w),w.id=u,w.user=h,w.trak=v,v.nextSample=0,w.segmentStream=null,w.nb_samples=1e3,w.rapAlignement=!0,m&&(m.nbSamples&&(w.nb_samples=m.nbSamples),m.rapAlignement&&(w.rapAlignement=m.rapAlignement))}},b.prototype.unsetSegmentOptions=function(u){for(var h=-1,m=0;m<this.fragmentedTracks.length;m++){var v=this.fragmentedTracks[m];v.id==u&&(h=m)}h>-1&&this.fragmentedTracks.splice(h,1)},b.prototype.setExtractionOptions=function(u,h,m){var v=this.getTrackById(u);if(v){var w={};this.extractedTracks.push(w),w.id=u,w.user=h,w.trak=v,v.nextSample=0,w.nb_samples=1e3,w.samples=[],m&&m.nbSamples&&(w.nb_samples=m.nbSamples)}},b.prototype.unsetExtractionOptions=function(u){for(var h=-1,m=0;m<this.extractedTracks.length;m++){var v=this.extractedTracks[m];v.id==u&&(h=m)}h>-1&&this.extractedTracks.splice(h,1)},b.prototype.parse=function(){var u,h,m=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),u=l.parseOneBox(this.stream,m),u.code===l.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(u))continue;return}else return;else{var v;switch(h=u.box,v=h.type!=="uuid"?h.type:h.uuid,this.boxes.push(h),v){case"mdat":this.mdats.push(h);break;case"moof":this.moofs.push(h);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[v]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+v+", overriding previous occurrence"),this[v]=h;break}this.updateUsedBytes&&this.updateUsedBytes(h,u)}},b.prototype.checkBuffer=function(u){if(u==null)throw"Buffer must be defined and non empty";if(u.fileStart===void 0)throw"Buffer must have a fileStart property";return u.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+u.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+u.fileStart+")"),u.usedBytes=0,this.stream.insertBuffer(u),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},b.prototype.appendBuffer=function(u,h){var m;if(this.checkBuffer(u))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(h),this.nextSeekPosition?(m=this.nextSeekPosition,this.nextSeekPosition=void 0):m=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(m=this.stream.getEndFilePositionAfter(m))):this.nextParsePosition?m=this.nextParsePosition:m=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+u.fileStart+") - next buffer to fetch should have a fileStart position of "+m),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),m},b.prototype.getInfo=function(){var u,h,m={},v,w,x,S,E=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(m.hasMoov=!0,m.duration=this.moov.mvhd.duration,m.timescale=this.moov.mvhd.timescale,m.isFragmented=this.moov.mvex!=null,m.isFragmented&&this.moov.mvex.mehd&&(m.fragment_duration=this.moov.mvex.mehd.fragment_duration),m.isProgressive=this.isProgressive,m.hasIOD=this.moov.iods!=null,m.brands=[],m.brands.push(this.ftyp.major_brand),m.brands=m.brands.concat(this.ftyp.compatible_brands),m.created=new Date(E+this.moov.mvhd.creation_time*1e3),m.modified=new Date(E+this.moov.mvhd.modification_time*1e3),m.tracks=[],m.audioTracks=[],m.videoTracks=[],m.subtitleTracks=[],m.metadataTracks=[],m.hintTracks=[],m.otherTracks=[],u=0;u<this.moov.traks.length;u++){if(v=this.moov.traks[u],S=v.mdia.minf.stbl.stsd.entries[0],w={},m.tracks.push(w),w.id=v.tkhd.track_id,w.name=v.mdia.hdlr.name,w.references=[],v.tref)for(h=0;h<v.tref.boxes.length;h++)x={},w.references.push(x),x.type=v.tref.boxes[h].type,x.track_ids=v.tref.boxes[h].track_ids;v.edts&&(w.edits=v.edts.elst.entries),w.created=new Date(E+v.tkhd.creation_time*1e3),w.modified=new Date(E+v.tkhd.modification_time*1e3),w.movie_duration=v.tkhd.duration,w.movie_timescale=m.timescale,w.layer=v.tkhd.layer,w.alternate_group=v.tkhd.alternate_group,w.volume=v.tkhd.volume,w.matrix=v.tkhd.matrix,w.track_width=v.tkhd.width/65536,w.track_height=v.tkhd.height/65536,w.timescale=v.mdia.mdhd.timescale,w.cts_shift=v.mdia.minf.stbl.cslg,w.duration=v.mdia.mdhd.duration,w.samples_duration=v.samples_duration,w.codec=S.getCodec(),w.kind=v.udta&&v.udta.kinds.length?v.udta.kinds[0]:{schemeURI:"",value:""},w.language=v.mdia.elng?v.mdia.elng.extended_language:v.mdia.mdhd.languageString,w.nb_samples=v.samples.length,w.size=v.samples_size,w.bitrate=w.size*8*w.timescale/w.samples_duration,S.isAudio()?(w.type="audio",m.audioTracks.push(w),w.audio={},w.audio.sample_rate=S.getSampleRate(),w.audio.channel_count=S.getChannelCount(),w.audio.sample_size=S.getSampleSize()):S.isVideo()?(w.type="video",m.videoTracks.push(w),w.video={},w.video.width=S.getWidth(),w.video.height=S.getHeight()):S.isSubtitle()?(w.type="subtitles",m.subtitleTracks.push(w)):S.isHint()?(w.type="metadata",m.hintTracks.push(w)):S.isMetadata()?(w.type="metadata",m.metadataTracks.push(w)):(w.type="metadata",m.otherTracks.push(w))}else m.hasMoov=!1;if(m.mime="",m.hasMoov&&m.tracks){for(m.videoTracks&&m.videoTracks.length>0?m.mime+='video/mp4; codecs="':m.audioTracks&&m.audioTracks.length>0?m.mime+='audio/mp4; codecs="':m.mime+='application/mp4; codecs="',u=0;u<m.tracks.length;u++)u!==0&&(m.mime+=","),m.mime+=m.tracks[u].codec;m.mime+='"; profiles="',m.mime+=this.ftyp.compatible_brands.join(),m.mime+='"'}return m},b.prototype.setNextSeekPositionFromSample=function(u){u&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(u.offset+u.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=u.offset+u.alreadyRead)},b.prototype.processSamples=function(u){var h,m;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(h=0;h<this.fragmentedTracks.length;h++){var v=this.fragmentedTracks[h];for(m=v.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+v.id+" for sample "+m.nextSample);var w=this.createFragment(v.id,m.nextSample,v.segmentStream);if(w)v.segmentStream=w,m.nextSample++;else break;if((m.nextSample%v.nb_samples===0||u||m.nextSample>=m.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+v.id+" for samples ["+Math.max(0,m.nextSample-v.nb_samples)+","+(m.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(v.id,v.user,v.segmentStream.buffer,m.nextSample,u||m.nextSample>=m.samples.length),v.segmentStream=null,v!==this.fragmentedTracks[h]))break}}if(this.onSamples!==null)for(h=0;h<this.extractedTracks.length;h++){var x=this.extractedTracks[h];for(m=x.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+x.id+" sample #"+m.nextSample);var S=this.getSample(m,m.nextSample);if(S)m.nextSample++,x.samples.push(S);else{this.setNextSeekPositionFromSample(m.samples[m.nextSample]);break}if((m.nextSample%x.nb_samples===0||m.nextSample>=m.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+x.id+" for sample "+m.nextSample),this.onSamples&&this.onSamples(x.id,x.user,x.samples),x.samples=[],x!==this.extractedTracks[h]))break}}}},b.prototype.getBox=function(u){var h=this.getBoxes(u,!0);return h.length?h[0]:null},b.prototype.getBoxes=function(u,h){var m=[];return b._sweep.call(this,u,m,h),m},b._sweep=function(u,h,m){this.type&&this.type==u&&h.push(this);for(var v in this.boxes){if(h.length&&m)return;b._sweep.call(this.boxes[v],u,h,m)}},b.prototype.getTrackSamplesInfo=function(u){var h=this.getTrackById(u);if(h)return h.samples},b.prototype.getTrackSample=function(u,h){var m=this.getTrackById(u),v=this.getSample(m,h);return v},b.prototype.releaseUsedSamples=function(u,h){var m=0,v=this.getTrackById(u);v.lastValidSample||(v.lastValidSample=0);for(var w=v.lastValidSample;w<h;w++)m+=this.releaseSample(v,w);e.info("ISOFile","Track #"+u+" released samples up to "+h+" (released size: "+m+", remaining: "+this.samplesDataSize+")"),v.lastValidSample=h},b.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},b.prototype.stop=function(){this.sampleProcessingStarted=!1},b.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},b.prototype.seekTrack=function(u,h,m){var v,w,x=1/0,S=0,E=0,P;if(m.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(v=0;v<m.samples.length;v++){if(w=m.samples[v],v===0)E=0,P=w.timescale;else if(w.cts>u*w.timescale){E=v-1;break}h&&w.is_sync&&(S=v)}for(h&&(E=S),u=m.samples[E].cts,m.nextSample=E;m.samples[E].alreadyRead===m.samples[E].size&&m.samples[E+1];)E++;return x=m.samples[E].offset+m.samples[E].alreadyRead,e.info("ISOFile","Seeking to "+(h?"RAP":"")+" sample #"+m.nextSample+" on track "+m.tkhd.track_id+", time "+e.getDurationString(u,P)+" and offset: "+x),{offset:x,time:u/P}},b.prototype.getTrackDuration=function(u){var h;return u.samples?(h=u.samples[u.samples.length-1],(h.cts+h.duration)/h.timescale):1/0},b.prototype.seek=function(u,h){var m=this.moov,v,w,x,S={offset:1/0,time:1/0};if(this.moov){for(x=0;x<m.traks.length;x++)v=m.traks[x],!(u>this.getTrackDuration(v))&&(w=this.seekTrack(u,h,v),w.offset<S.offset&&(S.offset=w.offset),w.time<S.time&&(S.time=w.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(S.time,1)+" needs a buffer with a fileStart position of "+S.offset),S.offset===1/0?S={offset:this.nextParsePosition,time:0}:S.offset=this.stream.getEndFilePositionAfter(S.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+S.offset),S}else throw"Cannot seek: moov not received!"},b.prototype.equal=function(u){for(var h=0;h<this.boxes.length&&h<u.boxes.length;){var m=this.boxes[h],v=u.boxes[h];if(!l.boxEqual(m,v))return!1;h++}return!0},t.ISOFile=b,b.prototype.lastBoxStartPosition=0,b.prototype.parsingMdat=null,b.prototype.nextParsePosition=0,b.prototype.discardMdatData=!1,b.prototype.processIncompleteBox=function(u){var h,m,v;return u.type==="mdat"?(h=new l[u.type+"Box"](u.size),this.parsingMdat=h,this.boxes.push(h),this.mdats.push(h),h.start=u.start,h.hdr_size=u.hdr_size,this.stream.addUsedBytes(h.hdr_size),this.lastBoxStartPosition=h.start+h.size,v=this.stream.seek(h.start+h.size,!1,this.discardMdatData),v?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=h.start+h.size,!1)):(u.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),m=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,m?(this.nextParsePosition=this.stream.getEndPosition(),!0):(u.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+u.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},b.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},b.prototype.processIncompleteMdat=function(){var u,h;return u=this.parsingMdat,h=this.stream.seek(u.start+u.size,!1,this.discardMdatData),h?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},b.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},b.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},b.prototype.updateUsedBytes=function(u,h){this.stream.addUsedBytes&&(u.type==="mdat"?(this.stream.addUsedBytes(u.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(u.size-u.hdr_size)):this.stream.addUsedBytes(u.size))},b.prototype.add=l.Box.prototype.add,b.prototype.addBox=l.Box.prototype.addBox,b.prototype.init=function(u){var h=u||{};this.add("ftyp").set("major_brand",h.brands&&h.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",h.brands||["iso4"]);var m=this.add("moov");return m.add("mvhd").set("timescale",h.timescale||600).set("rate",h.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",h.duration||0).set("volume",h.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),m.add("mvex"),this},b.prototype.addTrack=function(u){this.moov||this.init(u);var h=u||{};h.width=h.width||320,h.height=h.height||320,h.id=h.id||this.moov.mvhd.next_track_id,h.type=h.type||"avc1";var m=this.moov.add("trak");this.moov.mvhd.next_track_id=h.id+1,m.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",h.id).set("duration",h.duration||0).set("layer",h.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",h.width<<16).set("height",h.height<<16);var v=m.add("mdia");v.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",h.timescale||1).set("duration",h.media_duration||0).set("language",h.language||"und"),v.add("hdlr").set("handler",h.hdlr||"vide").set("name",h.name||"Track created with MP4Box.js"),v.add("elng").set("extended_language",h.language||"fr-FR");var w=v.add("minf");if(l[h.type+"SampleEntry"]!==void 0){var x=new l[h.type+"SampleEntry"];x.data_reference_index=1;var S="";for(var E in l.sampleEntryCodes)for(var P=l.sampleEntryCodes[E],T=0;T<P.length;T++)if(P.indexOf(h.type)>-1){S=E;break}switch(S){case"Visual":if(w.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),x.set("width",h.width).set("height",h.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",h.type+" Compressor").set("depth",24),h.avcDecoderConfigRecord){var A=new l.avcCBox;A.parse(new r(h.avcDecoderConfigRecord)),x.addBox(A)}else if(h.hevcDecoderConfigRecord){var R=new l.hvcCBox;R.parse(new r(h.hevcDecoderConfigRecord)),x.addBox(R)}break;case"Audio":w.add("smhd").set("balance",h.balance||0),x.set("channel_count",h.channel_count||2).set("samplesize",h.samplesize||16).set("samplerate",h.samplerate||65536);break;case"Hint":w.add("hmhd");break;case"Subtitle":switch(w.add("sthd"),h.type){case"stpp":x.set("namespace",h.namespace||"nonamespace").set("schema_location",h.schema_location||"").set("auxiliary_mime_types",h.auxiliary_mime_types||"");break}break;case"Metadata":w.add("nmhd");break;case"System":w.add("nmhd");break;default:w.add("nmhd");break}h.description&&x.addBox(h.description),h.description_boxes&&h.description_boxes.forEach(function(O){x.addBox(O)}),w.add("dinf").add("dref").addEntry(new l["url Box"]().set("flags",1));var D=w.add("stbl");return D.add("stsd").addEntry(x),D.add("stts").set("sample_counts",[]).set("sample_deltas",[]),D.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),D.add("stco").set("chunk_offsets",[]),D.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",h.id).set("default_sample_description_index",h.default_sample_description_index||1).set("default_sample_duration",h.default_sample_duration||0).set("default_sample_size",h.default_sample_size||0).set("default_sample_flags",h.default_sample_flags||0),this.buildTrakSampleLists(m),h.id}},l.Box.prototype.computeSize=function(u){var h=u||new n;h.endianness=n.BIG_ENDIAN,this.write(h)},b.prototype.addSample=function(u,h,m){var v=m||{},w={},x=this.getTrackById(u);if(x!==null){w.number=x.samples.length,w.track_id=x.tkhd.track_id,w.timescale=x.mdia.mdhd.timescale,w.description_index=v.sample_description_index?v.sample_description_index-1:0,w.description=x.mdia.minf.stbl.stsd.entries[w.description_index],w.data=h,w.size=h.byteLength,w.alreadyRead=w.size,w.duration=v.duration||1,w.cts=v.cts||0,w.dts=v.dts||0,w.is_sync=v.is_sync||!1,w.is_leading=v.is_leading||0,w.depends_on=v.depends_on||0,w.is_depended_on=v.is_depended_on||0,w.has_redundancy=v.has_redundancy||0,w.degradation_priority=v.degradation_priority||0,w.offset=0,w.subsamples=v.subsamples,x.samples.push(w),x.samples_size+=w.size,x.samples_duration+=w.duration,x.first_dts===void 0&&(x.first_dts=v.dts),this.processSamples();var S=this.createSingleSampleMoof(w);return this.addBox(S),S.computeSize(),S.trafs[0].truns[0].data_offset=S.size+8,this.add("mdat").data=new Uint8Array(h),w}},b.prototype.createSingleSampleMoof=function(u){var h=0;u.is_sync?h=1<<25:h=65536;var m=new l.moofBox;m.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var v=m.add("traf"),w=this.getTrackById(u.track_id);return v.add("tfhd").set("track_id",u.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),v.add("tfdt").set("baseMediaDecodeTime",u.dts-(w.first_dts||0)),v.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[u.duration]).set("sample_size",[u.size]).set("sample_flags",[h]).set("sample_composition_time_offset",[u.cts-u.dts]),m},b.prototype.lastMoofIndex=0,b.prototype.samplesDataSize=0,b.prototype.resetTables=function(){var u,h,m,v,w,x,S,E;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,u=0;u<this.moov.traks.length;u++){h=this.moov.traks[u],h.tkhd.duration=0,h.mdia.mdhd.duration=0,m=h.mdia.minf.stbl.stco||h.mdia.minf.stbl.co64,m.chunk_offsets=[],v=h.mdia.minf.stbl.stsc,v.first_chunk=[],v.samples_per_chunk=[],v.sample_description_index=[],w=h.mdia.minf.stbl.stsz||h.mdia.minf.stbl.stz2,w.sample_sizes=[],x=h.mdia.minf.stbl.stts,x.sample_counts=[],x.sample_deltas=[],S=h.mdia.minf.stbl.ctts,S&&(S.sample_counts=[],S.sample_offsets=[]),E=h.mdia.minf.stbl.stss;var P=h.mdia.minf.stbl.boxes.indexOf(E);P!=-1&&(h.mdia.minf.stbl.boxes[P]=null)}},b.initSampleGroups=function(u,h,m,v,w){var x,S,E,P;function T(A,R,D){this.grouping_type=A,this.grouping_type_parameter=R,this.sbgp=D,this.last_sample_in_run=-1,this.entry_index=-1}for(h&&(h.sample_groups_info=[]),u.sample_groups_info||(u.sample_groups_info=[]),S=0;S<m.length;S++){for(P=m[S].grouping_type+"/"+m[S].grouping_type_parameter,E=new T(m[S].grouping_type,m[S].grouping_type_parameter,m[S]),h&&(h.sample_groups_info[P]=E),u.sample_groups_info[P]||(u.sample_groups_info[P]=E),x=0;x<v.length;x++)v[x].grouping_type===m[S].grouping_type&&(E.description=v[x],E.description.used=!0);if(w)for(x=0;x<w.length;x++)w[x].grouping_type===m[S].grouping_type&&(E.fragment_description=w[x],E.fragment_description.used=!0,E.is_fragment=!0)}if(h){if(w)for(S=0;S<w.length;S++)!w[S].used&&w[S].version>=2&&(P=w[S].grouping_type+"/0",E=new T(w[S].grouping_type,0),E.is_fragment=!0,h.sample_groups_info[P]||(h.sample_groups_info[P]=E))}else for(S=0;S<v.length;S++)!v[S].used&&v[S].version>=2&&(P=v[S].grouping_type+"/0",E=new T(v[S].grouping_type,0),u.sample_groups_info[P]||(u.sample_groups_info[P]=E))},b.setSampleGroupProperties=function(u,h,m,v){var w,x;h.sample_groups=[];for(w in v)if(h.sample_groups[w]={},h.sample_groups[w].grouping_type=v[w].grouping_type,h.sample_groups[w].grouping_type_parameter=v[w].grouping_type_parameter,m>=v[w].last_sample_in_run&&(v[w].last_sample_in_run<0&&(v[w].last_sample_in_run=0),v[w].entry_index++,v[w].entry_index<=v[w].sbgp.entries.length-1&&(v[w].last_sample_in_run+=v[w].sbgp.entries[v[w].entry_index].sample_count)),v[w].entry_index<=v[w].sbgp.entries.length-1?h.sample_groups[w].group_description_index=v[w].sbgp.entries[v[w].entry_index].group_description_index:h.sample_groups[w].group_description_index=-1,h.sample_groups[w].group_description_index!==0){var S;v[w].fragment_description?S=v[w].fragment_description:S=v[w].description,h.sample_groups[w].group_description_index>0?(h.sample_groups[w].group_description_index>65535?x=(h.sample_groups[w].group_description_index>>16)-1:x=h.sample_groups[w].group_description_index-1,S&&x>=0&&(h.sample_groups[w].description=S.entries[x])):S&&S.version>=2&&S.default_group_description_index>0&&(h.sample_groups[w].description=S.entries[S.default_group_description_index-1])}},b.process_sdtp=function(u,h,m){h&&(u?(h.is_leading=u.is_leading[m],h.depends_on=u.sample_depends_on[m],h.is_depended_on=u.sample_is_depended_on[m],h.has_redundancy=u.sample_has_redundancy[m]):(h.is_leading=0,h.depends_on=0,h.is_depended_on=0,h.has_redundancy=0))},b.prototype.buildSampleLists=function(){var u,h;for(u=0;u<this.moov.traks.length;u++)h=this.moov.traks[u],this.buildTrakSampleLists(h)},b.prototype.buildTrakSampleLists=function(u){var h,m,v,w,x,S,E,P,T,A,R,D,O,I,M,G,j,$,H,K,re,fe,ye,he;if(u.samples=[],u.samples_duration=0,u.samples_size=0,m=u.mdia.minf.stbl.stco||u.mdia.minf.stbl.co64,v=u.mdia.minf.stbl.stsc,w=u.mdia.minf.stbl.stsz||u.mdia.minf.stbl.stz2,x=u.mdia.minf.stbl.stts,S=u.mdia.minf.stbl.ctts,E=u.mdia.minf.stbl.stss,P=u.mdia.minf.stbl.stsd,T=u.mdia.minf.stbl.subs,D=u.mdia.minf.stbl.stdp,A=u.mdia.minf.stbl.sbgps,R=u.mdia.minf.stbl.sgpds,$=-1,H=-1,K=-1,re=-1,fe=0,ye=0,he=0,b.initSampleGroups(u,null,A,R),!(typeof w>"u")){for(h=0;h<w.sample_sizes.length;h++){var ue={};ue.number=h,ue.track_id=u.tkhd.track_id,ue.timescale=u.mdia.mdhd.timescale,ue.alreadyRead=0,u.samples[h]=ue,ue.size=w.sample_sizes[h],u.samples_size+=ue.size,h===0?(I=1,O=0,ue.chunk_index=I,ue.chunk_run_index=O,j=v.samples_per_chunk[O],G=0,O+1<v.first_chunk.length?M=v.first_chunk[O+1]-1:M=1/0):h<j?(ue.chunk_index=I,ue.chunk_run_index=O):(I++,ue.chunk_index=I,G=0,I<=M||(O++,O+1<v.first_chunk.length?M=v.first_chunk[O+1]-1:M=1/0),ue.chunk_run_index=O,j+=v.samples_per_chunk[O]),ue.description_index=v.sample_description_index[ue.chunk_run_index]-1,ue.description=P.entries[ue.description_index],ue.offset=m.chunk_offsets[ue.chunk_index-1]+G,G+=ue.size,h>$&&(H++,$<0&&($=0),$+=x.sample_counts[H]),h>0?(u.samples[h-1].duration=x.sample_deltas[H],u.samples_duration+=u.samples[h-1].duration,ue.dts=u.samples[h-1].dts+u.samples[h-1].duration):ue.dts=0,S?(h>=K&&(re++,K<0&&(K=0),K+=S.sample_counts[re]),ue.cts=u.samples[h].dts+S.sample_offsets[re]):ue.cts=ue.dts,E?(h==E.sample_numbers[fe]-1?(ue.is_sync=!0,fe++):(ue.is_sync=!1,ue.degradation_priority=0),T&&T.entries[ye].sample_delta+he==h+1&&(ue.subsamples=T.entries[ye].subsamples,he+=T.entries[ye].sample_delta,ye++)):ue.is_sync=!0,b.process_sdtp(u.mdia.minf.stbl.sdtp,ue,ue.number),D?ue.degradation_priority=D.priority[h]:ue.degradation_priority=0,T&&T.entries[ye].sample_delta+he==h&&(ue.subsamples=T.entries[ye].subsamples,he+=T.entries[ye].sample_delta),(A.length>0||R.length>0)&&b.setSampleGroupProperties(u,ue,h,u.sample_groups_info)}h>0&&(u.samples[h-1].duration=Math.max(u.mdia.mdhd.duration-u.samples[h-1].dts,0),u.samples_duration+=u.samples[h-1].duration)}},b.prototype.updateSampleLists=function(){var u,h,m,v,w,x,S,E,P,T,A,R,D,O,I;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(P=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,P.type=="moof")for(T=P,u=0;u<T.trafs.length;u++){for(A=T.trafs[u],R=this.getTrackById(A.tfhd.track_id),D=this.getTrexById(A.tfhd.track_id),A.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?v=A.tfhd.default_sample_description_index:v=D?D.default_sample_description_index:1,A.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?w=A.tfhd.default_sample_duration:w=D?D.default_sample_duration:0,A.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?x=A.tfhd.default_sample_size:x=D?D.default_sample_size:0,A.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?S=A.tfhd.default_sample_flags:S=D?D.default_sample_flags:0,A.sample_number=0,A.sbgps.length>0&&b.initSampleGroups(R,A,A.sbgps,R.mdia.minf.stbl.sgpds,A.sgpds),h=0;h<A.truns.length;h++){var M=A.truns[h];for(m=0;m<M.sample_count;m++){O={},O.moof_number=this.lastMoofIndex,O.number_in_traf=A.sample_number,A.sample_number++,O.number=R.samples.length,A.first_sample_index=R.samples.length,R.samples.push(O),O.track_id=R.tkhd.track_id,O.timescale=R.mdia.mdhd.timescale,O.description_index=v-1,O.description=R.mdia.minf.stbl.stsd.entries[O.description_index],O.size=x,M.flags&l.TRUN_FLAGS_SIZE&&(O.size=M.sample_size[m]),R.samples_size+=O.size,O.duration=w,M.flags&l.TRUN_FLAGS_DURATION&&(O.duration=M.sample_duration[m]),R.samples_duration+=O.duration,R.first_traf_merged||m>0?O.dts=R.samples[R.samples.length-2].dts+R.samples[R.samples.length-2].duration:(A.tfdt?O.dts=A.tfdt.baseMediaDecodeTime:O.dts=0,R.first_traf_merged=!0),O.cts=O.dts,M.flags&l.TRUN_FLAGS_CTS_OFFSET&&(O.cts=O.dts+M.sample_composition_time_offset[m]),I=S,M.flags&l.TRUN_FLAGS_FLAGS?I=M.sample_flags[m]:m===0&&M.flags&l.TRUN_FLAGS_FIRST_FLAG&&(I=M.first_sample_flags),O.is_sync=!(I>>16&1),O.is_leading=I>>26&3,O.depends_on=I>>24&3,O.is_depended_on=I>>22&3,O.has_redundancy=I>>20&3,O.degradation_priority=I&65535;var G=!!(A.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),j=!!(A.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),$=!!(M.flags&l.TRUN_FLAGS_DATA_OFFSET),H=0;G?H=A.tfhd.base_data_offset:j||h===0?H=T.start:H=E,h===0&&m===0?$?O.offset=H+M.data_offset:O.offset=H:O.offset=E,E=O.offset+O.size,(A.sbgps.length>0||A.sgpds.length>0||R.mdia.minf.stbl.sbgps.length>0||R.mdia.minf.stbl.sgpds.length>0)&&b.setSampleGroupProperties(R,O,O.number_in_traf,A.sample_groups_info)}}if(A.subs){R.has_fragment_subsamples=!0;var K=A.first_sample_index;for(h=0;h<A.subs.entries.length;h++)K+=A.subs.entries[h].sample_delta,O=R.samples[K-1],O.subsamples=A.subs.entries[h].subsamples}}}},b.prototype.getSample=function(u,h){var m,v=u.samples[h];if(!this.moov)return null;if(!v.data)v.data=new Uint8Array(v.size),v.alreadyRead=0,this.samplesDataSize+=v.size,e.debug("ISOFile","Allocating sample #"+h+" on track #"+u.tkhd.track_id+" of size "+v.size+" (total: "+this.samplesDataSize+")");else if(v.alreadyRead==v.size)return v;for(;;){var w=this.stream.findPosition(!0,v.offset+v.alreadyRead,!1);if(w>-1){m=this.stream.buffers[w];var x=m.byteLength-(v.offset+v.alreadyRead-m.fileStart);if(v.size-v.alreadyRead<=x)return e.debug("ISOFile","Getting sample #"+h+" data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-m.fileStart)+" read size: "+(v.size-v.alreadyRead)+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,m,v.offset+v.alreadyRead-m.fileStart,v.size-v.alreadyRead),m.usedBytes+=v.size-v.alreadyRead,this.stream.logBufferLevel(),v.alreadyRead=v.size,v;if(x===0)return null;e.debug("ISOFile","Getting sample #"+h+" partial data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-m.fileStart)+" read size: "+x+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,m,v.offset+v.alreadyRead-m.fileStart,x),v.alreadyRead+=x,m.usedBytes+=x,this.stream.logBufferLevel()}else return null}},b.prototype.releaseSample=function(u,h){var m=u.samples[h];return m.data?(this.samplesDataSize-=m.size,m.data=null,m.alreadyRead=0,m.size):0},b.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},b.prototype.getCodecs=function(){var u,h="";for(u=0;u<this.moov.traks.length;u++){var m=this.moov.traks[u];u>0&&(h+=","),h+=m.mdia.minf.stbl.stsd.entries[0].getCodec()}return h},b.prototype.getTrexById=function(u){var h;if(!this.moov||!this.moov.mvex)return null;for(h=0;h<this.moov.mvex.trexs.length;h++){var m=this.moov.mvex.trexs[h];if(m.track_id==u)return m}return null},b.prototype.getTrackById=function(u){if(this.moov===void 0)return null;for(var h=0;h<this.moov.traks.length;h++){var m=this.moov.traks[h];if(m.tkhd.track_id==u)return m}return null},b.prototype.itemsDataSize=0,b.prototype.flattenItemInfo=function(){var u=this.items,h=this.entity_groups,m,v,w,x=this.meta;if(x!=null&&x.hdlr!==void 0&&x.iinf!==void 0){for(m=0;m<x.iinf.item_infos.length;m++)w={},w.id=x.iinf.item_infos[m].item_ID,u[w.id]=w,w.ref_to=[],w.name=x.iinf.item_infos[m].item_name,x.iinf.item_infos[m].protection_index>0&&(w.protection=x.ipro.protections[x.iinf.item_infos[m].protection_index-1]),x.iinf.item_infos[m].item_type?w.type=x.iinf.item_infos[m].item_type:w.type="mime",w.content_type=x.iinf.item_infos[m].content_type,w.content_encoding=x.iinf.item_infos[m].content_encoding,w.item_uri_type=x.iinf.item_infos[m].item_uri_type;if(x.grpl)for(m=0;m<x.grpl.boxes.length;m++)entity_group={},entity_group.id=x.grpl.boxes[m].group_id,entity_group.entity_ids=x.grpl.boxes[m].entity_ids,entity_group.type=x.grpl.boxes[m].type,h[entity_group.id]=entity_group;if(x.iloc)for(m=0;m<x.iloc.items.length;m++){var S=x.iloc.items[m];switch(w=u[S.item_ID],S.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),w.source=x.dinf.boxes[S.data_reference_index-1]),S.construction_method){case 0:break;case 1:break;case 2:e.warn("Item storage with construction_method : not supported");break}for(w.extents=[],w.size=0,v=0;v<S.extents.length;v++)w.extents[v]={},w.extents[v].offset=S.extents[v].extent_offset+S.base_offset,S.construction_method==1&&(w.extents[v].offset+=x.idat.start+x.idat.hdr_size),w.extents[v].length=S.extents[v].extent_length,w.extents[v].alreadyRead=0,w.size+=w.extents[v].length}if(x.pitm&&(u[x.pitm.item_id].primary=!0),x.iref)for(m=0;m<x.iref.references.length;m++){var E=x.iref.references[m];for(v=0;v<E.references.length;v++)u[E.from_item_ID].ref_to.push({type:E.type,id:E.references[v]})}if(x.iprp)for(var P=0;P<x.iprp.ipmas.length;P++){var T=x.iprp.ipmas[P];for(m=0;m<T.associations.length;m++){var A=T.associations[m];if(w=u[A.id],w||(w=h[A.id]),w)for(w.properties===void 0&&(w.properties={},w.properties.boxes=[]),v=0;v<A.props.length;v++){var R=A.props[v];if(R.property_index>0&&R.property_index-1<x.iprp.ipco.boxes.length){var D=x.iprp.ipco.boxes[R.property_index-1];w.properties[D.type]=D,w.properties.boxes.push(D)}}}}}},b.prototype.getItem=function(u){var h,m;if(!this.meta)return null;if(m=this.items[u],!m.data&&m.size)m.data=new Uint8Array(m.size),m.alreadyRead=0,this.itemsDataSize+=m.size,e.debug("ISOFile","Allocating item #"+u+" of size "+m.size+" (total: "+this.itemsDataSize+")");else if(m.alreadyRead===m.size)return m;for(var v=0;v<m.extents.length;v++){var w=m.extents[v];if(w.alreadyRead!==w.length){var x=this.stream.findPosition(!0,w.offset+w.alreadyRead,!1);if(x>-1){h=this.stream.buffers[x];var S=h.byteLength-(w.offset+w.alreadyRead-h.fileStart);if(w.length-w.alreadyRead<=S)e.debug("ISOFile","Getting item #"+u+" extent #"+v+" data (alreadyRead: "+w.alreadyRead+" offset: "+(w.offset+w.alreadyRead-h.fileStart)+" read size: "+(w.length-w.alreadyRead)+" full extent size: "+w.length+" full item size: "+m.size+")"),n.memcpy(m.data.buffer,m.alreadyRead,h,w.offset+w.alreadyRead-h.fileStart,w.length-w.alreadyRead),h.usedBytes+=w.length-w.alreadyRead,this.stream.logBufferLevel(),m.alreadyRead+=w.length-w.alreadyRead,w.alreadyRead=w.length;else return e.debug("ISOFile","Getting item #"+u+" extent #"+v+" partial data (alreadyRead: "+w.alreadyRead+" offset: "+(w.offset+w.alreadyRead-h.fileStart)+" read size: "+S+" full extent size: "+w.length+" full item size: "+m.size+")"),n.memcpy(m.data.buffer,m.alreadyRead,h,w.offset+w.alreadyRead-h.fileStart,S),w.alreadyRead+=S,m.alreadyRead+=S,h.usedBytes+=S,this.stream.logBufferLevel(),null}else return null}}return m.alreadyRead===m.size?m:null},b.prototype.releaseItem=function(u){var h=this.items[u];if(h.data){this.itemsDataSize-=h.size,h.data=null,h.alreadyRead=0;for(var m=0;m<h.extents.length;m++){var v=h.extents[m];v.alreadyRead=0}return h.size}else return 0},b.prototype.processItems=function(u){for(var h in this.items){var m=this.items[h];this.getItem(m.id),u&&!m.sent&&(u(m),m.sent=!0,m.data=null)}},b.prototype.hasItem=function(u){for(var h in this.items){var m=this.items[h];if(m.name===u)return m.id}return-1},b.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},b.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},b.prototype.itemToFragmentedTrackFile=function(u){var h=u||{},m=null;if(h.itemId?m=this.getItem(h.itemId):m=this.getPrimaryItem(),m==null)return null;var v=new b;v.discardMdatData=!1;var w={type:m.type,description_boxes:m.properties.boxes};m.properties.ispe&&(w.width=m.properties.ispe.image_width,w.height=m.properties.ispe.image_height);var x=v.addTrack(w);return x?(v.addSample(x,m.data),v):null},b.prototype.write=function(u){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(u)},b.prototype.createFragment=function(u,h,m){var v=this.getTrackById(u),w=this.getSample(v,h);if(w==null)return this.setNextSeekPositionFromSample(v.samples[h]),null;var x=m||new n;x.endianness=n.BIG_ENDIAN;var S=this.createSingleSampleMoof(w);S.write(x),S.trafs[0].truns[0].data_offset=S.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+S.trafs[0].truns[0].data_offset),x.adjustUint32(S.trafs[0].truns[0].data_offset_position,S.trafs[0].truns[0].data_offset);var E=new l.mdatBox;return E.data=w.data,E.write(x),x},b.writeInitializationSegment=function(u,h,m,v){var w;e.debug("ISOFile","Generating initialization segment");var x=new n;x.endianness=n.BIG_ENDIAN,u.write(x);var S=h.add("mvex");for(m&&S.add("mehd").set("fragment_duration",m),w=0;w<h.traks.length;w++)S.add("trex").set("track_id",h.traks[w].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",v).set("default_sample_size",0).set("default_sample_flags",65536);return h.write(x),x.buffer},b.prototype.save=function(u){var h=new n;h.endianness=n.BIG_ENDIAN,this.write(h),h.save(u)},b.prototype.getBuffer=function(){var u=new n;return u.endianness=n.BIG_ENDIAN,this.write(u),u.buffer},b.prototype.initializeSegmentation=function(){var u,h,m,v;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),h=[],u=0;u<this.fragmentedTracks.length;u++){var w=new l.moovBox;w.mvhd=this.moov.mvhd,w.boxes.push(w.mvhd),m=this.getTrackById(this.fragmentedTracks[u].id),w.boxes.push(m),w.traks.push(m),v={},v.id=m.tkhd.track_id,v.user=this.fragmentedTracks[u].user,v.buffer=b.writeInitializationSegment(this.ftyp,w,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[u].samples.length>0?this.moov.traks[u].samples[0].duration:0),h.push(v)}return h},l.Box.prototype.printHeader=function(u){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),u.log(u.indent+"size:"+this.size),u.log(u.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(u){this.size+=4,l.Box.prototype.printHeader.call(this,u),u.log(u.indent+"version:"+this.version),u.log(u.indent+"flags:"+this.flags)},l.Box.prototype.print=function(u){this.printHeader(u)},l.ContainerBox.prototype.print=function(u){this.printHeader(u);for(var h=0;h<this.boxes.length;h++)if(this.boxes[h]){var m=u.indent;u.indent+=" ",this.boxes[h].print(u),u.indent=m}},b.prototype.print=function(u){u.indent="";for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&this.boxes[h].print(u)},l.mvhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"timescale: "+this.timescale),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"rate: "+this.rate),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"track_id: "+this.track_id),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"layer: "+this.layer),u.log(u.indent+"alternate_group: "+this.alternate_group),u.log(u.indent+"width: "+this.width),u.log(u.indent+"height: "+this.height)};var _={};_.createFile=function(u,h){var m=u!==void 0?u:!0,v=new b(h);return v.discardMdatData=!m,v},t.createFile=_.createFile})(OG);const BYe=ui(OG);var mge=typeof global=="object"&&global&&global.Object===Object&&global;const IG=mge;var gge=typeof self=="object"&&self&&self.Object===Object&&self,vge=IG||gge||Function("return this")();const No=vge;var yge=No.Symbol;const cp=yge;var BG=Object.prototype,_ge=BG.hasOwnProperty,bge=BG.toString,Im=cp?cp.toStringTag:void 0;function wge(t){var e=_ge.call(t,Im),r=t[Im];try{t[Im]=void 0;var n=!0}catch(a){}var s=bge.call(t);return n&&(e?t[Im]=r:delete t[Im]),s}var xge=Object.prototype,Ege=xge.toString;function Sge(t){return Ege.call(t)}var Cge="[object Null]",Age="[object Undefined]",XL=cp?cp.toStringTag:void 0;function $p(t){return t==null?t===void 0?Age:Cge:XL&&XL in Object(t)?wge(t):Sge(t)}function of(t){return t!=null&&typeof t=="object"}var Tge=Array.isArray;const Mv=Tge;function bc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function FG(t){return t}var Pge="[object AsyncFunction]",Dge="[object Function]",Rge="[object GeneratorFunction]",Oge="[object Proxy]";function ZI(t){if(!bc(t))return!1;var e=$p(t);return e==Dge||e==Rge||e==Pge||e==Oge}var Ige=No["__core-js_shared__"];const EA=Ige;var YL=function(){var t=/[^.]+$/.exec(EA&&EA.keys&&EA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Bge(t){return!!YL&&YL in t}var Fge=Function.prototype,Mge=Fge.toString;function lf(t){if(t!=null){try{return Mge.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var kge=/[\\^$.*+?()[\]{}|]/g,Nge=/^\[object .+?Constructor\]$/,Lge=Function.prototype,Uge=Object.prototype,$ge=Lge.toString,jge=Uge.hasOwnProperty,zge=RegExp("^"+$ge.call(jge).replace(kge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vge(t){if(!bc(t)||Bge(t))return!1;var e=ZI(t)?zge:Nge;return e.test(lf(t))}function Gge(t,e){return t==null?void 0:t[e]}function uf(t,e){var r=Gge(t,e);return Vge(r)?r:void 0}var Hge=uf(No,"WeakMap");const ND=Hge;var qL=Object.create,Wge=function(){function t(){}return function(e){if(!bc(e))return{};if(qL)return qL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Kge=Wge;function Xge(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function MG(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Yge=800,qge=16,Zge=Date.now;function Jge(t){var e=0,r=0;return function(){var n=Zge(),s=qge-(n-r);if(r=n,s>0){if(++e>=Yge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Qge(t){return function(){return t}}var eve=function(){try{var t=uf(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const cw=eve;var tve=cw?function(t,e){return cw(t,"toString",{configurable:!0,enumerable:!1,value:Qge(e),writable:!0})}:FG;const rve=tve;var nve=Jge(rve);const ive=nve;function sve(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var ave=9007199254740991,ove=/^(?:0|[1-9]\d*)$/;function kG(t,e){var r=typeof t;return e=e==null?ave:e,!!e&&(r=="number"||r!="symbol"&&ove.test(t))&&t>-1&&t%1==0&&t<e}function JI(t,e,r){e=="__proto__"&&cw?cw(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function bE(t,e){return t===e||t!==t&&e!==e}var lve=Object.prototype,uve=lve.hasOwnProperty;function NG(t,e,r){var n=t[e];(!(uve.call(t,e)&&bE(n,r))||r===void 0&&!(e in t))&&JI(t,e,r)}function Wy(t,e,r,n){var s=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?JI(r,l,c):NG(r,l,c)}return r}var ZL=Math.max;function cve(t,e,r){return e=ZL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=ZL(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),Xge(t,this,l)}}function dve(t,e){return ive(cve(t,e,FG),t+"")}var fve=9007199254740991;function LG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fve}function wE(t){return t!=null&&LG(t.length)&&!ZI(t)}function hve(t,e,r){if(!bc(r))return!1;var n=typeof e;return(n=="number"?wE(r)&&kG(e,r.length):n=="string"&&e in r)?bE(r[e],t):!1}function pve(t){return dve(function(e,r){var n=-1,s=r.length,a=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,o&&hve(r[0],r[1],o)&&(a=s<3?void 0:a,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,a)}return e})}var mve=Object.prototype;function QI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||mve;return t===r}function gve(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var vve="[object Arguments]";function JL(t){return of(t)&&$p(t)==vve}var UG=Object.prototype,yve=UG.hasOwnProperty,_ve=UG.propertyIsEnumerable,bve=JL(function(){return arguments}())?JL:function(t){return of(t)&&yve.call(t,"callee")&&!_ve.call(t,"callee")};const LD=bve;function wve(){return!1}var $G=typeof exports=="object"&&exports&&!exports.nodeType&&exports,QL=$G&&typeof module=="object"&&module&&!module.nodeType&&module,xve=QL&&QL.exports===$G,eU=xve?No.Buffer:void 0,Eve=eU?eU.isBuffer:void 0,Sve=Eve||wve;const eB=Sve;var Cve="[object Arguments]",Ave="[object Array]",Tve="[object Boolean]",Pve="[object Date]",Dve="[object Error]",Rve="[object Function]",Ove="[object Map]",Ive="[object Number]",Bve="[object Object]",Fve="[object RegExp]",Mve="[object Set]",kve="[object String]",Nve="[object WeakMap]",Lve="[object ArrayBuffer]",Uve="[object DataView]",$ve="[object Float32Array]",jve="[object Float64Array]",zve="[object Int8Array]",Vve="[object Int16Array]",Gve="[object Int32Array]",Hve="[object Uint8Array]",Wve="[object Uint8ClampedArray]",Kve="[object Uint16Array]",Xve="[object Uint32Array]",Rr={};Rr[$ve]=Rr[jve]=Rr[zve]=Rr[Vve]=Rr[Gve]=Rr[Hve]=Rr[Wve]=Rr[Kve]=Rr[Xve]=!0;Rr[Cve]=Rr[Ave]=Rr[Lve]=Rr[Tve]=Rr[Uve]=Rr[Pve]=Rr[Dve]=Rr[Rve]=Rr[Ove]=Rr[Ive]=Rr[Bve]=Rr[Fve]=Rr[Mve]=Rr[kve]=Rr[Nve]=!1;function Yve(t){return of(t)&&LG(t.length)&&!!Rr[$p(t)]}function tB(t){return function(e){return t(e)}}var jG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bg=jG&&typeof module=="object"&&module&&!module.nodeType&&module,qve=Bg&&Bg.exports===jG,SA=qve&&IG.process,Zve=function(){try{var t=Bg&&Bg.require&&Bg.require("util").types;return t||SA&&SA.binding&&SA.binding("util")}catch(e){}}();const dp=Zve;var tU=dp&&dp.isTypedArray,Jve=tU?tB(tU):Yve;const zG=Jve;var Qve=Object.prototype,eye=Qve.hasOwnProperty;function VG(t,e){var r=Mv(t),n=!r&&LD(t),s=!r&&!n&&eB(t),a=!r&&!n&&!s&&zG(t),o=r||n||s||a,l=o?gve(t.length,String):[],c=l.length;for(var d in t)(e||eye.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||kG(d,c)))&&l.push(d);return l}function GG(t,e){return function(r){return t(e(r))}}var tye=GG(Object.keys,Object);const rye=tye;var nye=Object.prototype,iye=nye.hasOwnProperty;function sye(t){if(!QI(t))return rye(t);var e=[];for(var r in Object(t))iye.call(t,r)&&r!="constructor"&&e.push(r);return e}function rB(t){return wE(t)?VG(t):sye(t)}function aye(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var oye=Object.prototype,lye=oye.hasOwnProperty;function uye(t){if(!bc(t))return aye(t);var e=QI(t),r=[];for(var n in t)n=="constructor"&&(e||!lye.call(t,n))||r.push(n);return r}function Ky(t){return wE(t)?VG(t,!0):uye(t)}var cye=uf(Object,"create");const kv=cye;function dye(){this.__data__=kv?kv(null):{},this.size=0}function fye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hye="__lodash_hash_undefined__",pye=Object.prototype,mye=pye.hasOwnProperty;function gye(t){var e=this.__data__;if(kv){var r=e[t];return r===hye?void 0:r}return mye.call(e,t)?e[t]:void 0}var vye=Object.prototype,yye=vye.hasOwnProperty;function _ye(t){var e=this.__data__;return kv?e[t]!==void 0:yye.call(e,t)}var bye="__lodash_hash_undefined__";function wye(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kv&&e===void 0?bye:e,this}function $d(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$d.prototype.clear=dye;$d.prototype.delete=fye;$d.prototype.get=gye;$d.prototype.has=_ye;$d.prototype.set=wye;function xye(){this.__data__=[],this.size=0}function xE(t,e){for(var r=t.length;r--;)if(bE(t[r][0],e))return r;return-1}var Eye=Array.prototype,Sye=Eye.splice;function Cye(t){var e=this.__data__,r=xE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Sye.call(e,r,1),--this.size,!0}function Aye(t){var e=this.__data__,r=xE(e,t);return r<0?void 0:e[r][1]}function Tye(t){return xE(this.__data__,t)>-1}function Pye(t,e){var r=this.__data__,n=xE(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function jl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jl.prototype.clear=xye;jl.prototype.delete=Cye;jl.prototype.get=Aye;jl.prototype.has=Tye;jl.prototype.set=Pye;var Dye=uf(No,"Map");const Nv=Dye;function Rye(){this.size=0,this.__data__={hash:new $d,map:new(Nv||jl),string:new $d}}function Oye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function EE(t,e){var r=t.__data__;return Oye(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Iye(t){var e=EE(this,t).delete(t);return this.size-=e?1:0,e}function Bye(t){return EE(this,t).get(t)}function Fye(t){return EE(this,t).has(t)}function Mye(t,e){var r=EE(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function jp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jp.prototype.clear=Rye;jp.prototype.delete=Iye;jp.prototype.get=Bye;jp.prototype.has=Fye;jp.prototype.set=Mye;function HG(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var kye=GG(Object.getPrototypeOf,Object);const nB=kye;var Nye="[object Object]",Lye=Function.prototype,Uye=Object.prototype,WG=Lye.toString,$ye=Uye.hasOwnProperty,jye=WG.call(Object);function zye(t){if(!of(t)||$p(t)!=Nye)return!1;var e=nB(t);if(e===null)return!0;var r=$ye.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&WG.call(r)==jye}function Vye(){this.__data__=new jl,this.size=0}function Gye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Hye(t){return this.__data__.get(t)}function Wye(t){return this.__data__.has(t)}var Kye=200;function Xye(t,e){var r=this.__data__;if(r instanceof jl){var n=r.__data__;if(!Nv||n.length<Kye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new jp(n)}return r.set(t,e),this.size=r.size,this}function cf(t){var e=this.__data__=new jl(t);this.size=e.size}cf.prototype.clear=Vye;cf.prototype.delete=Gye;cf.prototype.get=Hye;cf.prototype.has=Wye;cf.prototype.set=Xye;function Yye(t,e){return t&&Wy(e,rB(e),t)}function qye(t,e){return t&&Wy(e,Ky(e),t)}var KG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rU=KG&&typeof module=="object"&&module&&!module.nodeType&&module,Zye=rU&&rU.exports===KG,nU=Zye?No.Buffer:void 0,iU=nU?nU.allocUnsafe:void 0;function XG(t,e){if(e)return t.slice();var r=t.length,n=iU?iU(r):new t.constructor(r);return t.copy(n),n}function Jye(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}function YG(){return[]}var Qye=Object.prototype,e_e=Qye.propertyIsEnumerable,sU=Object.getOwnPropertySymbols,t_e=sU?function(t){return t==null?[]:(t=Object(t),Jye(sU(t),function(e){return e_e.call(t,e)}))}:YG;const iB=t_e;function r_e(t,e){return Wy(t,iB(t),e)}var n_e=Object.getOwnPropertySymbols,i_e=n_e?function(t){for(var e=[];t;)HG(e,iB(t)),t=nB(t);return e}:YG;const qG=i_e;function s_e(t,e){return Wy(t,qG(t),e)}function ZG(t,e,r){var n=e(t);return Mv(t)?n:HG(n,r(t))}function a_e(t){return ZG(t,rB,iB)}function o_e(t){return ZG(t,Ky,qG)}var l_e=uf(No,"DataView");const UD=l_e;var u_e=uf(No,"Promise");const $D=u_e;var c_e=uf(No,"Set");const jD=c_e;var aU="[object Map]",d_e="[object Object]",oU="[object Promise]",lU="[object Set]",uU="[object WeakMap]",cU="[object DataView]",f_e=lf(UD),h_e=lf(Nv),p_e=lf($D),m_e=lf(jD),g_e=lf(ND),Yc=$p;(UD&&Yc(new UD(new ArrayBuffer(1)))!=cU||Nv&&Yc(new Nv)!=aU||$D&&Yc($D.resolve())!=oU||jD&&Yc(new jD)!=lU||ND&&Yc(new ND)!=uU)&&(Yc=function(t){var e=$p(t),r=e==d_e?t.constructor:void 0,n=r?lf(r):"";if(n)switch(n){case f_e:return cU;case h_e:return aU;case p_e:return oU;case m_e:return lU;case g_e:return uU}return e});const sB=Yc;var v_e=Object.prototype,y_e=v_e.hasOwnProperty;function __e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&y_e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var b_e=No.Uint8Array;const dU=b_e;function aB(t){var e=new t.constructor(t.byteLength);return new dU(e).set(new dU(t)),e}function w_e(t,e){var r=e?aB(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var x_e=/\w*$/;function E_e(t){var e=new t.constructor(t.source,x_e.exec(t));return e.lastIndex=t.lastIndex,e}var fU=cp?cp.prototype:void 0,hU=fU?fU.valueOf:void 0;function S_e(t){return hU?Object(hU.call(t)):{}}function JG(t,e){var r=e?aB(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var C_e="[object Boolean]",A_e="[object Date]",T_e="[object Map]",P_e="[object Number]",D_e="[object RegExp]",R_e="[object Set]",O_e="[object String]",I_e="[object Symbol]",B_e="[object ArrayBuffer]",F_e="[object DataView]",M_e="[object Float32Array]",k_e="[object Float64Array]",N_e="[object Int8Array]",L_e="[object Int16Array]",U_e="[object Int32Array]",$_e="[object Uint8Array]",j_e="[object Uint8ClampedArray]",z_e="[object Uint16Array]",V_e="[object Uint32Array]";function G_e(t,e,r){var n=t.constructor;switch(e){case B_e:return aB(t);case C_e:case A_e:return new n(+t);case F_e:return w_e(t,r);case M_e:case k_e:case N_e:case L_e:case U_e:case $_e:case j_e:case z_e:case V_e:return JG(t,r);case T_e:return new n;case P_e:case O_e:return new n(t);case D_e:return E_e(t);case R_e:return new n;case I_e:return S_e(t)}}function QG(t){return typeof t.constructor=="function"&&!QI(t)?Kge(nB(t)):{}}var H_e="[object Map]";function W_e(t){return of(t)&&sB(t)==H_e}var pU=dp&&dp.isMap,K_e=pU?tB(pU):W_e;const X_e=K_e;var Y_e="[object Set]";function q_e(t){return of(t)&&sB(t)==Y_e}var mU=dp&&dp.isSet,Z_e=mU?tB(mU):q_e;const J_e=Z_e;var Q_e=1,e0e=2,t0e=4,eH="[object Arguments]",r0e="[object Array]",n0e="[object Boolean]",i0e="[object Date]",s0e="[object Error]",tH="[object Function]",a0e="[object GeneratorFunction]",o0e="[object Map]",l0e="[object Number]",rH="[object Object]",u0e="[object RegExp]",c0e="[object Set]",d0e="[object String]",f0e="[object Symbol]",h0e="[object WeakMap]",p0e="[object ArrayBuffer]",m0e="[object DataView]",g0e="[object Float32Array]",v0e="[object Float64Array]",y0e="[object Int8Array]",_0e="[object Int16Array]",b0e="[object Int32Array]",w0e="[object Uint8Array]",x0e="[object Uint8ClampedArray]",E0e="[object Uint16Array]",S0e="[object Uint32Array]",xr={};xr[eH]=xr[r0e]=xr[p0e]=xr[m0e]=xr[n0e]=xr[i0e]=xr[g0e]=xr[v0e]=xr[y0e]=xr[_0e]=xr[b0e]=xr[o0e]=xr[l0e]=xr[rH]=xr[u0e]=xr[c0e]=xr[d0e]=xr[f0e]=xr[w0e]=xr[x0e]=xr[E0e]=xr[S0e]=!0;xr[s0e]=xr[tH]=xr[h0e]=!1;function U1(t,e,r,n,s,a){var o,l=e&Q_e,c=e&e0e,d=e&t0e;if(r&&(o=s?r(t,n,s,a):r(t)),o!==void 0)return o;if(!bc(t))return t;var f=Mv(t);if(f){if(o=__e(t),!l)return MG(t,o)}else{var p=sB(t),g=p==tH||p==a0e;if(eB(t))return XG(t,l);if(p==rH||p==eH||g&&!s){if(o=c||g?{}:QG(t),!l)return c?s_e(t,qye(o,t)):r_e(t,Yye(o,t))}else{if(!xr[p])return s?t:{};o=G_e(t,p,l)}}a||(a=new cf);var y=a.get(t);if(y)return y;a.set(t,o),J_e(t)?t.forEach(function(u){o.add(U1(u,e,r,u,t,a))}):X_e(t)&&t.forEach(function(u,h){o.set(h,U1(u,e,r,h,t,a))});var b=d?c?o_e:a_e:c?Ky:rB,_=f?void 0:b(t);return sve(_||t,function(u,h){_&&(h=u,u=t[h]),NG(o,h,U1(u,e,r,h,t,a))}),o}var C0e=1,A0e=4;function FYe(t){return U1(t,C0e|A0e)}function T0e(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var P0e=T0e();const D0e=P0e;function zD(t,e,r){(r!==void 0&&!bE(t[e],r)||r===void 0&&!(e in t))&&JI(t,e,r)}function R0e(t){return of(t)&&wE(t)}function VD(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function O0e(t){return Wy(t,Ky(t))}function I0e(t,e,r,n,s,a,o){var l=VD(t,r),c=VD(e,r),d=o.get(c);if(d){zD(t,r,d);return}var f=a?a(l,c,r+"",t,e,o):void 0,p=f===void 0;if(p){var g=Mv(c),y=!g&&eB(c),b=!g&&!y&&zG(c);f=c,g||y||b?Mv(l)?f=l:R0e(l)?f=MG(l):y?(p=!1,f=XG(c,!0)):b?(p=!1,f=JG(c,!0)):f=[]:zye(c)||LD(c)?(f=l,LD(l)?f=O0e(l):(!bc(l)||ZI(l))&&(f=QG(c))):p=!1}p&&(o.set(c,f),s(f,c,n,a,o),o.delete(c)),zD(t,r,f)}function nH(t,e,r,n,s){t!==e&&D0e(e,function(a,o){if(s||(s=new cf),bc(a))I0e(t,e,o,r,nH,n,s);else{var l=n?n(VD(t,o),a,o+"",t,e,s):void 0;l===void 0&&(l=a),zD(t,o,l)}},Ky)}var B0e=pve(function(t,e,r){nH(t,e,r)});const MYe=B0e;function rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.1
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ps={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},fp={duration:.5,overwrite:!1,delay:0},oB,si,Gr,ia=1e8,_r=1/ia,GD=Math.PI*2,F0e=GD/4,M0e=0,sH=Math.sqrt,k0e=Math.cos,N0e=Math.sin,qn=function(e){return typeof e=="string"},un=function(e){return typeof e=="function"},Pl=function(e){return typeof e=="number"},lB=function(e){return typeof e>"u"},Fo=function(e){return typeof e=="object"},ts=function(e){return e!==!1},uB=function(){return typeof window<"u"},x0=function(e){return un(e)||qn(e)},aH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_i=Array.isArray,L0e=/random\([^)]+\)/g,U0e=/,\s*/g,gU=/(?:-?\.?\d|\.)+/gi,oH=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,CA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,lH=/[+-]=-?[.\d]+/,$0e=/[^,'"\[\]\s]+/gi,j0e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Zr,fo,HD,cB,Os={},dw={},uH,cH=function(e){return(dw=hp(e,Os))&&as},dB=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Lv=function(e,r){return!r&&console.warn(e)},dH=function(e,r){return e&&(Os[e]=r)&&dw&&(dw[e]=r)||Os},Uv=function(){return 0},z0e={suppressEvents:!0,isStart:!0,kill:!1},$1={suppressEvents:!0,kill:!1},V0e={suppressEvents:!0},fB={},Gu=[],WD={},fH,vs={},AA={},vU=30,j1=[],hB="",pB=function(e){var r=e[0],n,s;if(Fo(r)||un(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=j1.length;s--&&!j1[s].targetTest(r););n=j1[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new kH(e[s],n)))||e.splice(s,1);return e},Ed=function(e){return e._gsap||pB(sa(e))[0]._gsap},hH=function(e,r,n){return(n=e[r])&&un(n)?e[r]():lB(n)&&e.getAttribute&&e.getAttribute(r)||n},rs=function(e,r){return(e=e.split(",")).forEach(r)||e},hn=function(e){return Math.round(e*1e5)/1e5||0},Yr=function(e){return Math.round(e*1e7)/1e7||0},Mh=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},G0e=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},fw=function(){var e=Gu.length,r=Gu.slice(0),n,s;for(WD={},Gu.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},mB=function(e){return!!(e._initted||e._startAt||e.add)},pH=function(e,r,n,s){Gu.length&&!si&&fw(),e.render(r,n,s||!!(si&&r<0&&mB(e))),Gu.length&&!si&&fw()},mH=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match($0e).length<2?r:qn(e)?e.trim():e},gH=function(e){return e},Is=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},H0e=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},hp=function(e,r){for(var n in r)e[n]=r[n];return e},yU=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Fo(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},hw=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},Fg=function(e){var r=e.parent||Zr,n=e.keyframes?H0e(_i(e.keyframes)):Is;if(ts(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},W0e=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},vH=function(e,r,n,s,a){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=e[s],l;if(a)for(l=r[a];o&&o[a]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=o,r.parent=r._dp=e,r},SE=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var a=r._prev,o=r._next;a?a._next=o:e[n]===r&&(e[n]=o),o?o._prev=a:e[s]===r&&(e[s]=a),r._next=r._prev=r.parent=null},tc=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Sd=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},K0e=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},KD=function(e,r,n,s){return e._startAt&&(si?e._startAt.revert($1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},X0e=function t(e){return!e||e._ts&&t(e.parent)},_U=function(e){return e._repeat?pp(e._tTime,e=e.duration()+e._rDelay)*e:0},pp=function(e,r){var n=Math.floor(e=Yr(e/r));return e&&n===e?n-1:n},pw=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},CE=function(e){return e._end=Yr(e._start+(e._tDur/Math.abs(e._ts||e._rts||_r)||0))},AE=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Yr(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),CE(e),n._dirty||Sd(n,e)),e},yH=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=pw(e.rawTime(),r),(!r._dur||Xy(0,r.totalDuration(),n)-r._tTime>_r)&&r.render(n,!0)),Sd(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-_r}},yo=function(e,r,n,s){return r.parent&&tc(r),r._start=Yr((Pl(n)?n:n||e!==Zr?Gs(e,n,r):e._time)+r._delay),r._end=Yr(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),vH(e,r,"_first","_last",e._sort?"_start":0),XD(r)||(e._recent=r),s||yH(e,r),e._ts<0&&AE(e,e._tTime),e},_H=function(e,r){return(Os.ScrollTrigger||dB("scrollTrigger",r))&&Os.ScrollTrigger.create(r,e)},bH=function(e,r,n,s,a){if(vB(e,r,a),!e._initted)return 1;if(!n&&e._pt&&!si&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&fH!==bs.frame)return Gu.push(e),e._lazy=[a,s],1},Y0e=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},XD=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},q0e=function(e,r,n,s){var a=e.ratio,o=r<0||!r&&(!e._start&&Y0e(e)&&!(!e._initted&&XD(e))||(e._ts<0||e._dp._ts<0)&&!XD(e))?0:1,l=e._rDelay,c=0,d,f,p;if(l&&e._repeat&&(c=Xy(0,e._tDur,r),f=pp(c,l),e._yoyo&&f&1&&(o=1-o),f!==pp(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||si||s||e._zTime===_r||!r&&e._zTime){if(!e._initted&&bH(e,r,s,n,c))return;for(p=e._zTime,e._zTime=r||(n?_r:0),n||(n=r&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,d=e._pt;d;)d.r(o,d.d),d=d._next;r<0&&KD(e,r,n,!0),e._onUpdate&&!n&&Ss(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Ss(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&tc(e,1),!n&&!si&&(Ss(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},Z0e=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},mp=function(e,r,n,s){var a=e._repeat,o=Yr(r)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Yr(o*(a+1)+e._rDelay*a):o,l>0&&!s&&AE(e,e._tTime=e._tDur*l),e.parent&&CE(e),n||Sd(e.parent,e),e},bU=function(e){return e instanceof Di?Sd(e):mp(e,e._dur)},J0e={_start:0,endTime:Uv,totalDuration:Uv},Gs=function t(e,r,n){var s=e.labels,a=e._recent||J0e,o=e.duration()>=ia?a.endTime(!1):e._dur,l,c,d;return qn(r)&&(isNaN(r)||r in s)?(c=r.charAt(0),d=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(l<0?a:n).totalDuration()/100:1)):l<0?(r in s||(s[r]=o),s[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),d&&n&&(c=c/100*(_i(n)?n[0]:n).totalDuration()),l>1?t(e,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},Mg=function(e,r,n){var s=Pl(r[1]),a=(s?2:1)+(e<2?0:1),o=r[a],l,c;if(s&&(o.duration=r[1]),o.parent=n,e){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=ts(c.vars.inherit)&&c.parent;o.immediateRender=ts(l.immediateRender),e<2?o.runBackwards=1:o.startAt=r[a-1]}return new _n(r[0],o,r[a+1])},wc=function(e,r){return e||e===0?r(e):r},Xy=function(e,r,n){return n<e?e:n>r?r:n},mi=function(e,r){return!qn(e)||!(r=j0e.exec(e))?"":r[1]},Q0e=function(e,r,n){return wc(n,function(s){return Xy(e,r,s)})},YD=[].slice,wH=function(e,r){return e&&Fo(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Fo(e[0]))&&!e.nodeType&&e!==fo},e1e=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var a;return qn(s)&&!r||wH(s,1)?(a=n).push.apply(a,sa(s)):n.push(s)})||n},sa=function(e,r,n){return Gr&&!r&&Gr.selector?Gr.selector(e):qn(e)&&!n&&(HD||!gp())?YD.call((r||cB).querySelectorAll(e),0):_i(e)?e1e(e,n):wH(e)?YD.call(e,0):e?[e]:[]},qD=function(e){return e=sa(e)[0]||Lv("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return sa(r,n.querySelectorAll?n:n===e?Lv("Invalid scope")||cB.createElement("div"):e)}},xH=function(e){return e.sort(function(){return .5-Math.random()})},EH=function(e){if(un(e))return e;var r=Fo(e)?e:{each:e},n=Cd(r.ease),s=r.from||0,a=parseFloat(r.base)||0,o={},l=s>0&&s<1,c=isNaN(s)||l,d=r.axis,f=s,p=s;return qn(s)?f=p={center:.5,edges:.5,end:1}[s]||0:!l&&c&&(f=s[0],p=s[1]),function(g,y,b){var _=(b||r).length,u=o[_],h,m,v,w,x,S,E,P,T;if(!u){if(T=r.grid==="auto"?0:(r.grid||[1,ia])[1],!T){for(E=-ia;E<(E=b[T++].getBoundingClientRect().left)&&T<_;);T<_&&T--}for(u=o[_]=[],h=c?Math.min(T,_)*f-.5:s%T,m=T===ia?0:c?_*p/T-.5:s/T|0,E=0,P=ia,S=0;S<_;S++)v=S%T-h,w=m-(S/T|0),u[S]=x=d?Math.abs(d==="y"?w:v):sH(v*v+w*w),x>E&&(E=x),x<P&&(P=x);s==="random"&&xH(u),u.max=E-P,u.min=P,u.v=_=(parseFloat(r.amount)||parseFloat(r.each)*(T>_?_-1:d?d==="y"?_/T:T:Math.max(T,_/T))||0)*(s==="edges"?-1:1),u.b=_<0?a-_:a,u.u=mi(r.amount||r.each)||0,n=n&&_<0?BH(n):n}return _=(u[g]-u.min)/u.max||0,Yr(u.b+(n?n(_):_)*u.v)+u.u}},ZD=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=Yr(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(Pl(n)?0:mi(n))}},SH=function(e,r){var n=_i(e),s,a;return!n&&Fo(e)&&(s=n=e.radius||ia,e.values?(e=sa(e.values),(a=!Pl(e[0]))&&(s*=s)):e=ZD(e.increment)),wc(r,n?un(e)?function(o){return a=e(o),Math.abs(a-o)<=s?a:o}:function(o){for(var l=parseFloat(a?o.x:o),c=parseFloat(a?o.y:0),d=ia,f=0,p=e.length,g,y;p--;)a?(g=e[p].x-l,y=e[p].y-c,g=g*g+y*y):g=Math.abs(e[p]-l),g<d&&(d=g,f=p);return f=!s||d<=s?e[f]:o,a||f===o||Pl(o)?f:f+mi(o)}:ZD(e))},CH=function(e,r,n,s){return wc(_i(e)?!r:n===!0?!!(n=0):!s,function(){return _i(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},t1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(a,o){return o(a)},s)}},r1e=function(e,r){return function(n){return e(parseFloat(n))+(r||mi(n))}},n1e=function(e,r,n){return TH(e,r,0,1,n)},AH=function(e,r,n){return wc(n,function(s){return e[~~r(s)]})},i1e=function t(e,r,n){var s=r-e;return _i(e)?AH(e,t(0,e.length),r):wc(n,function(a){return(s+(a-e)%s)%s+e})},s1e=function t(e,r,n){var s=r-e,a=s*2;return _i(e)?AH(e,t(0,e.length-1),r):wc(n,function(o){return o=(a+(o-e)%a)%a||0,e+(o>s?a-o:o)})},$v=function(e){return e.replace(L0e,function(r){var n=r.indexOf("[")+1,s=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(U0e);return CH(n?s:+s[0],n?0:+s[1],+s[2]||1e-5)})},TH=function(e,r,n,s,a){var o=r-e,l=s-n;return wc(a,function(c){return n+((c-e)/o*l||0)})},a1e=function t(e,r,n,s){var a=isNaN(e+r)?0:function(y){return(1-y)*e+y*r};if(!a){var o=qn(e),l={},c,d,f,p,g;if(n===!0&&(s=1)&&(n=null),o)e={p:e},r={p:r};else if(_i(e)&&!_i(r)){for(f=[],p=e.length,g=p-2,d=1;d<p;d++)f.push(t(e[d-1],e[d]));p--,a=function(b){b*=p;var _=Math.min(g,~~b);return f[_](b-_)},n=r}else s||(e=hp(_i(e)?[]:{},e));if(!f){for(c in r)gB.call(l,e,c,"get",r[c]);a=function(b){return bB(b,l)||(o?e.p:e)}}}return wc(n,a)},wU=function(e,r,n){var s=e.labels,a=ia,o,l,c;for(o in s)l=s[o]-r,l<0==!!n&&l&&a>(l=Math.abs(l))&&(c=o,a=l);return c},Ss=function(e,r,n){var s=e.vars,a=s[r],o=Gr,l=e._ctx,c,d,f;if(a)return c=s[r+"Params"],d=s.callbackScope||e,n&&Gu.length&&fw(),l&&(Gr=l),f=c?a.apply(d,c):a.call(d),Gr=o,f},ng=function(e){return tc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!si),e.progress()<1&&Ss(e,"onInterrupt"),e},yh,PH=[],DH=function(e){if(e)if(e=!e.name&&e.default||e,uB()||e.headless){var r=e.name,n=un(e),s=r&&!n&&e.init?function(){this._props=[]}:e,a={init:Uv,render:bB,add:gB,kill:x1e,modifier:w1e,rawVars:0},o={targetTest:0,get:0,getSetter:_B,aliases:{},register:0};if(gp(),e!==s){if(vs[r])return;Is(s,Is(hw(e,a),o)),hp(s.prototype,hp(a,hw(e,o))),vs[s.prop=r]=s,e.targetTest&&(j1.push(s),fB[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}dH(r,s),e.register&&e.register(as,s,ns)}else PH.push(e)},yr=255,ig={aqua:[0,yr,yr],lime:[0,yr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,yr],navy:[0,0,128],white:[yr,yr,yr],olive:[128,128,0],yellow:[yr,yr,0],orange:[yr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[yr,0,0],pink:[yr,192,203],cyan:[0,yr,yr],transparent:[yr,yr,yr,0]},TA=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*yr+.5|0},RH=function(e,r,n){var s=e?Pl(e)?[e>>16,e>>8&yr,e&yr]:0:ig.black,a,o,l,c,d,f,p,g,y,b;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ig[e])s=ig[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&yr,s&yr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&yr,e&yr]}else if(e.substr(0,3)==="hsl"){if(s=b=e.match(gU),!r)c=+s[0]%360/360,d=+s[1]/100,f=+s[2]/100,o=f<=.5?f*(d+1):f+d-f*d,a=f*2-o,s.length>3&&(s[3]*=1),s[0]=TA(c+1/3,a,o),s[1]=TA(c,a,o),s[2]=TA(c-1/3,a,o);else if(~e.indexOf("="))return s=e.match(oH),n&&s.length<4&&(s[3]=1),s}else s=e.match(gU)||ig.transparent;s=s.map(Number)}return r&&!b&&(a=s[0]/yr,o=s[1]/yr,l=s[2]/yr,p=Math.max(a,o,l),g=Math.min(a,o,l),f=(p+g)/2,p===g?c=d=0:(y=p-g,d=f>.5?y/(2-p-g):y/(p+g),c=p===a?(o-l)/y+(o<l?6:0):p===o?(l-a)/y+2:(a-o)/y+4,c*=60),s[0]=~~(c+.5),s[1]=~~(d*100+.5),s[2]=~~(f*100+.5)),n&&s.length<4&&(s[3]=1),s},OH=function(e){var r=[],n=[],s=-1;return e.split(Hu).forEach(function(a){var o=a.match(vh)||[];r.push.apply(r,o),n.push(s+=o.length+1)}),r.c=n,r},xU=function(e,r,n){var s="",a=(e+s).match(Hu),o=r?"hsla(":"rgba(",l=0,c,d,f,p;if(!a)return e;if(a=a.map(function(g){return(g=RH(g,r,1))&&o+(r?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(f=OH(e),c=n.c,c.join(s)!==f.c.join(s)))for(d=e.replace(Hu,"1").split(vh),p=d.length-1;l<p;l++)s+=d[l]+(~c.indexOf(l)?a.shift()||o+"0,0,0,0)":(f.length?f:a.length?a:n).shift());if(!d)for(d=e.split(Hu),p=d.length-1;l<p;l++)s+=d[l]+a[l];return s+d[p]},Hu=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ig)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),o1e=/hsl[a]?\(/,IH=function(e){var r=e.join(" "),n;if(Hu.lastIndex=0,Hu.test(r))return n=o1e.test(r),e[1]=xU(e[1],n),e[0]=xU(e[0],n,OH(e[1])),!0},jv,bs=function(){var t=Date.now,e=500,r=33,n=t(),s=n,a=1e3/240,o=a,l=[],c,d,f,p,g,y,b=function _(u){var h=t()-s,m=u===!0,v,w,x,S;if((h>e||h<0)&&(n+=h-r),s+=h,x=s-n,v=x-o,(v>0||m)&&(S=++p.frame,g=x-p.time*1e3,p.time=x=x/1e3,o+=v+(v>=a?4:a-v),w=1),m||(c=d(_)),w)for(y=0;y<l.length;y++)l[y](x,g,S,u)};return p={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(u){return g/(1e3/(u||60))},wake:function(){uH&&(!HD&&uB()&&(fo=HD=window,cB=fo.document||{},Os.gsap=as,(fo.gsapVersions||(fo.gsapVersions=[])).push(as.version),cH(dw||fo.GreenSockGlobals||!fo.gsap&&fo||{}),PH.forEach(DH)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),d=f||function(u){return setTimeout(u,o-p.time*1e3+1|0)},jv=1,b(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),jv=0,d=Uv},lagSmoothing:function(u,h){e=u||1/0,r=Math.min(h||33,e)},fps:function(u){a=1e3/(u||240),o=p.time*1e3+a},add:function(u,h,m){var v=h?function(w,x,S,E){u(w,x,S,E),p.remove(v)}:u;return p.remove(u),l[m?"unshift":"push"](v),gp(),v},remove:function(u,h){~(h=l.indexOf(u))&&l.splice(h,1)&&y>=h&&y--},_listeners:l},p}(),gp=function(){return!jv&&bs.wake()},Qt={},l1e=/^[\d.\-M][\d.\-,\s]/,u1e=/["']/g,c1e=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],a=1,o=n.length,l,c,d;a<o;a++)c=n[a],l=a!==o-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),r[s]=isNaN(d)?d.replace(u1e,"").trim():+d,s=c.substr(l+1).trim();return r},d1e=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},f1e=function(e){var r=(e+"").split("("),n=Qt[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[c1e(r[1])]:d1e(e).split(",").map(mH)):Qt._CE&&l1e.test(e)?Qt._CE("",e):n},BH=function(e){return function(r){return 1-e(1-r)}},FH=function t(e,r){for(var n=e._first,s;n;)n instanceof Di?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},Cd=function(e,r){return e&&(un(e)?e:Qt[e]||f1e(e))||r},df=function(e,r,n,s){n===void 0&&(n=function(c){return 1-r(1-c)}),s===void 0&&(s=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var a={easeIn:r,easeOut:n,easeInOut:s},o;return rs(e,function(l){Qt[l]=Os[l]=a,Qt[o=l.toLowerCase()]=n;for(var c in a)Qt[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Qt[l+"."+c]=a[c]}),a},MH=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},PA=function t(e,r,n){var s=r>=1?r:1,a=(n||(e?.3:.45))/(r<1?r:1),o=a/GD*(Math.asin(1/s)||0),l=function(f){return f===1?1:s*Math.pow(2,-10*f)*N0e((f-o)*a)+1},c=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:MH(l);return a=GD/a,c.config=function(d,f){return t(e,d,f)},c},DA=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},s=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:MH(n);return s.config=function(a){return t(e,a)},s};rs("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;df(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Qt.Linear.easeNone=Qt.none=Qt.Linear.easeIn;df("Elastic",PA("in"),PA("out"),PA());(function(t,e){var r=1/e,n=2*r,s=2.5*r,a=function(l){return l<r?t*l*l:l<n?t*Math.pow(l-1.5/e,2)+.75:l<s?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};df("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);df("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});df("Circ",function(t){return-(sH(1-t*t)-1)});df("Sine",function(t){return t===1?1:-k0e(t*F0e)+1});df("Back",DA("in"),DA("out"),DA());Qt.SteppedEase=Qt.steps=Os.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),a=r?1:0,o=1-_r;return function(l){return((s*Xy(0,o,l)|0)+a)*n}}};fp.ease=Qt["quad.out"];rs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return hB+=t+","+t+"Params,"});var kH=function(e,r){this.id=M0e++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:hH,this.set=r?r.getSetter:_B},zv=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,mp(this,+r.duration,1,1),this.data=r.data,Gr&&(this._ctx=Gr,Gr.data.push(this)),jv||bs.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,mp(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(gp(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(AE(this,n),!a._dp||a.parent||yH(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&yo(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===_r||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),pH(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+_U(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+_U(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,s):this._repeat?pp(this._tTime,a)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-_r?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?pw(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-_r?0:this._rts,this.totalTime(Xy(-Math.abs(this._delay),this.totalDuration(),a),s!==!1),CE(this),K0e(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(gp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_r&&(this._tTime-=_r)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=Yr(n);var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&yo(s,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ts(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pw(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=V0e);var s=si;return si=n,mB(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),si=s,this},e.globalTime=function(n){for(var s=this,a=arguments.length?n:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,bU(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,bU(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(Gs(this,n),ts(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,ts(s)),this._dur||(this._zTime=-_r),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-_r:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-_r,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=s&&a<this.endTime(!0)-_r)},e.eventCallback=function(n,s,a){var o=this.vars;return arguments.length>1?(s?(o[n]=s,a&&(o[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=s)):delete o[n],this):o[n]},e.then=function(n){var s=this,a=s._prom;return new Promise(function(o){var l=un(n)?n:gH,c=function(){var f=s.then;s.then=null,a&&a(),un(l)&&(l=l(s))&&(l.then||l===s)&&(s.then=f),o(l),s.then=f};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?c():s._prom=c})},e.kill=function(){ng(this)},t}();Is(zv.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_r,_prom:0,_ps:!1,_rts:1});var Di=function(t){iH(e,t);function e(n,s){var a;return n===void 0&&(n={}),a=t.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=ts(n.sortChildren),Zr&&yo(n.parent||Zr,rl(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&_H(rl(a),n.scrollTrigger),a}var r=e.prototype;return r.to=function(s,a,o){return Mg(0,arguments,this),this},r.from=function(s,a,o){return Mg(1,arguments,this),this},r.fromTo=function(s,a,o,l){return Mg(2,arguments,this),this},r.set=function(s,a,o){return a.duration=0,a.parent=this,Fg(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new _n(s,a,Gs(this,o),1),this},r.call=function(s,a,o){return yo(this,_n.delayedCall(0,s,a),o)},r.staggerTo=function(s,a,o,l,c,d,f){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new _n(s,o,Gs(this,c)),this},r.staggerFrom=function(s,a,o,l,c,d,f){return o.runBackwards=1,Fg(o).immediateRender=ts(o.immediateRender),this.staggerTo(s,a,o,l,c,d,f)},r.staggerFromTo=function(s,a,o,l,c,d,f,p){return l.startAt=o,Fg(l).immediateRender=ts(l.immediateRender),this.staggerTo(s,a,l,c,d,f,p)},r.render=function(s,a,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=s<=0?0:Yr(s),p=this._zTime<0!=s<0&&(this._initted||!d),g,y,b,_,u,h,m,v,w,x,S,E;if(this!==Zr&&f>c&&s>=0&&(f=c),f!==this._tTime||o||p){if(l!==this._time&&d&&(f+=this._time-l,s+=this._time-l),g=f,w=this._start,v=this._ts,h=!v,p&&(d||(l=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(S=this._yoyo,u=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(u*100+s,a,o);if(g=Yr(f%u),f===c?(_=this._repeat,g=d):(x=Yr(f/u),_=~~x,_&&_===x&&(g=d,_--),g>d&&(g=d)),x=pp(this._tTime,u),!l&&this._tTime&&x!==_&&this._tTime-x*u-this._dur<=0&&(x=_),S&&_&1&&(g=d-g,E=1),_!==x&&!this._lock){var P=S&&x&1,T=P===(S&&_&1);if(_<x&&(P=!P),l=P?0:f%d?d:f,this._lock=1,this.render(l||(E?0:Yr(_*u)),a,!d)._lock=0,this._tTime=f,!a&&this.parent&&Ss(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1,x=_),l&&l!==this._time||h!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,T&&(this._lock=2,l=P?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;FH(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(m=Z0e(this,Yr(l),Yr(g)),m&&(f-=g-(g=m._start))),this._tTime=f,this._time=g,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&f&&d&&!a&&!x&&(Ss(this,"onStart"),this._tTime!==f))return this;if(g>=l&&s>=0)for(y=this._first;y;){if(b=y._next,(y._act||g>=y._start)&&y._ts&&m!==y){if(y.parent!==this)return this.render(s,a,o);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,a,o),g!==this._time||!this._ts&&!h){m=0,b&&(f+=this._zTime=-_r);break}}y=b}else{y=this._last;for(var A=s<0?s:g;y;){if(b=y._prev,(y._act||A<=y._end)&&y._ts&&m!==y){if(y.parent!==this)return this.render(s,a,o);if(y.render(y._ts>0?(A-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(A-y._start)*y._ts,a,o||si&&mB(y)),g!==this._time||!this._ts&&!h){m=0,b&&(f+=this._zTime=A?-_r:_r);break}}y=b}}if(m&&!a&&(this.pause(),m.render(g>=l?0:-_r)._zTime=g>=l?1:-1,this._ts))return this._start=w,CE(this),this.render(s,a,o);this._onUpdate&&!a&&Ss(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&l)&&(w===this._start||Math.abs(v)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(f===c&&this._ts>0||!f&&this._ts<0)&&tc(this,1),!a&&!(s<0&&!l)&&(f||l||!c)&&(Ss(this,f===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,a){var o=this;if(Pl(a)||(a=Gs(this,a,s)),!(s instanceof zv)){if(_i(s))return s.forEach(function(l){return o.add(l,a)}),this;if(qn(s))return this.addLabel(s,a);if(un(s))s=_n.delayedCall(0,s);else return this}return this!==s?yo(this,s,a):this},r.getChildren=function(s,a,o,l){s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-ia);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof _n?a&&c.push(d):(o&&c.push(d),s&&c.push.apply(c,d.getChildren(!0,a,o)))),d=d._next;return c},r.getById=function(s){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===s)return a[o]},r.remove=function(s){return qn(s)?this.removeLabel(s):un(s)?this.killTweensOf(s):(s.parent===this&&SE(this,s),s===this._recent&&(this._recent=this._last),Sd(this))},r.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Yr(bs.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},r.addLabel=function(s,a){return this.labels[s]=Gs(this,a),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,a,o){var l=_n.delayedCall(0,a||Uv,o);return l.data="isPause",this._hasPause=1,yo(this,l,Gs(this,s))},r.removePause=function(s){var a=this._first;for(s=Gs(this,s);a;)a._start===s&&a.data==="isPause"&&tc(a),a=a._next},r.killTweensOf=function(s,a,o){for(var l=this.getTweensOf(s,o),c=l.length;c--;)Au!==l[c]&&l[c].kill(s,a);return this},r.getTweensOf=function(s,a){for(var o=[],l=sa(s),c=this._first,d=Pl(a),f;c;)c instanceof _n?G0e(c._targets,l)&&(d?(!Au||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&o.push(c):(f=c.getTweensOf(l,a)).length&&o.push.apply(o,f),c=c._next;return o},r.tweenTo=function(s,a){a=a||{};var o=this,l=Gs(o,s),c=a,d=c.startAt,f=c.onStart,p=c.onStartParams,g=c.immediateRender,y,b=_n.to(o,Is({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||_r,onStart:function(){if(o.pause(),!y){var u=a.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());b._dur!==u&&mp(b,u,0,1).render(b._time,!0,!0),y=1}f&&f.apply(b,p||[])}},a));return g?b.render(0):b},r.tweenFromTo=function(s,a,o){return this.tweenTo(a,Is({startAt:{time:Gs(this,s)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),wU(this,Gs(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),wU(this,Gs(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+_r)},r.shiftChildren=function(s,a,o){o===void 0&&(o=0);var l=this._first,c=this.labels,d;for(s=Yr(s);l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(a)for(d in c)c[d]>=o&&(c[d]+=s);return Sd(this)},r.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Sd(this)},r.totalDuration=function(s){var a=0,o=this,l=o._last,c=ia,d,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(p=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,yo(o,l,f-l._delay,1)._lock=0):c=f,f<0&&l._ts&&(a-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=Yr(f/o._ts),o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),c=0),l._end>a&&l._ts&&(a=l._end),l=d;mp(o,o===Zr&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Zr._ts&&(pH(Zr,pw(s,Zr)),fH=bs.frame),bs.frame>=vU){vU+=Ps.autoSleep||120;var a=Zr._first;if((!a||!a._ts)&&Ps.autoSleep&&bs._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||bs.sleep()}}},e}(zv);Is(Di.prototype,{_lock:0,_hasPause:0,_forcing:0});var h1e=function(e,r,n,s,a,o,l){var c=new ns(this._pt,e,r,0,1,zH,null,a),d=0,f=0,p,g,y,b,_,u,h,m;for(c.b=n,c.e=s,n+="",s+="",(h=~s.indexOf("random("))&&(s=$v(s)),o&&(m=[n,s],o(m,e,r),n=m[0],s=m[1]),g=n.match(CA)||[];p=CA.exec(s);)b=p[0],_=s.substring(d,p.index),y?y=(y+1)%5:_.substr(-5)==="rgba("&&(y=1),b!==g[f++]&&(u=parseFloat(g[f-1])||0,c._pt={_next:c._pt,p:_||f===1?_:",",s:u,c:b.charAt(1)==="="?Mh(u,b)-u:parseFloat(b)-u,m:y&&y<4?Math.round:0},d=CA.lastIndex);return c.c=d<s.length?s.substring(d,s.length):"",c.fp=l,(lH.test(s)||h)&&(c.e=0),this._pt=c,c},gB=function(e,r,n,s,a,o,l,c,d,f){un(s)&&(s=s(a||0,e,o));var p=e[r],g=n!=="get"?n:un(p)?d?e[r.indexOf("set")||!un(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():p,y=un(p)?d?y1e:$H:yB,b;if(qn(s)&&(~s.indexOf("random(")&&(s=$v(s)),s.charAt(1)==="="&&(b=Mh(g,s)+(mi(g)||0),(b||b===0)&&(s=b))),!f||g!==s||JD)return!isNaN(g*s)&&s!==""?(b=new ns(this._pt,e,r,+g||0,s-(g||0),typeof p=="boolean"?b1e:jH,0,y),d&&(b.fp=d),l&&b.modifier(l,this,e),this._pt=b):(!p&&!(r in e)&&dB(r,s),h1e.call(this,e,r,g,s,y,c||Ps.stringFilter,d))},p1e=function(e,r,n,s,a){if(un(e)&&(e=kg(e,a,r,n,s)),!Fo(e)||e.style&&e.nodeType||_i(e)||aH(e))return qn(e)?kg(e,a,r,n,s):e;var o={},l;for(l in e)o[l]=kg(e[l],a,r,n,s);return o},NH=function(e,r,n,s,a,o){var l,c,d,f;if(vs[e]&&(l=new vs[e]).init(a,l.rawVars?r[e]:p1e(r[e],s,a,o,n),n,s,o)!==!1&&(n._pt=c=new ns(n._pt,a,e,0,1,l.render,l,0,l.priority),n!==yh))for(d=n._ptLookup[n._targets.indexOf(a)],f=l._props.length;f--;)d[l._props[f]]=c;return l},Au,JD,vB=function t(e,r,n){var s=e.vars,a=s.ease,o=s.startAt,l=s.immediateRender,c=s.lazy,d=s.onUpdate,f=s.runBackwards,p=s.yoyoEase,g=s.keyframes,y=s.autoRevert,b=e._dur,_=e._startAt,u=e._targets,h=e.parent,m=h&&h.data==="nested"?h.vars.targets:u,v=e._overwrite==="auto"&&!oB,w=e.timeline,x,S,E,P,T,A,R,D,O,I,M,G,j;if(w&&(!g||!a)&&(a="none"),e._ease=Cd(a,fp.ease),e._yEase=p?BH(Cd(p===!0?a:p,fp.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!w&&!!s.runBackwards,!w||g&&!s.stagger){if(D=u[0]?Ed(u[0]).harness:0,G=D&&s[D.prop],x=hw(s,fB),_&&(_._zTime<0&&_.progress(1),r<0&&f&&l&&!y?_.render(-1,!0):_.revert(f&&b?$1:z0e),_._lazy=0),o){if(tc(e._startAt=_n.set(u,Is({data:"isStart",overwrite:!1,parent:h,immediateRender:!0,lazy:!_&&ts(c),startAt:null,delay:0,onUpdate:d&&function(){return Ss(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(si||!l&&!y)&&e._startAt.revert($1),l&&b&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&b&&!_){if(r&&(l=!1),E=Is({overwrite:!1,data:"isFromStart",lazy:l&&!_&&ts(c),immediateRender:l,stagger:0,parent:h},x),G&&(E[D.prop]=G),tc(e._startAt=_n.set(u,E)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(si?e._startAt.revert($1):e._startAt.render(-1,!0)),e._zTime=r,!l)t(e._startAt,_r,_r);else if(!r)return}for(e._pt=e._ptCache=0,c=b&&ts(c)||c&&!b,S=0;S<u.length;S++){if(T=u[S],R=T._gsap||pB(u)[S]._gsap,e._ptLookup[S]=I={},WD[R.id]&&Gu.length&&fw(),M=m===u?S:m.indexOf(T),D&&(O=new D).init(T,G||x,e,M,m)!==!1&&(e._pt=P=new ns(e._pt,T,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function($){I[$]=P}),O.priority&&(A=1)),!D||G)for(E in x)vs[E]&&(O=NH(E,x,e,M,T,m))?O.priority&&(A=1):I[E]=P=gB.call(e,T,E,"get",x[E],M,m,0,s.stringFilter);e._op&&e._op[S]&&e.kill(T,e._op[S]),v&&e._pt&&(Au=e,Zr.killTweensOf(T,I,e.globalTime(r)),j=!e.parent,Au=0),e._pt&&c&&(WD[R.id]=1)}A&&VH(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!j,g&&r<=0&&w.render(ia,!0,!0)},m1e=function(e,r,n,s,a,o,l,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[r],f,p,g,y;if(!d)for(d=e._ptCache[r]=[],g=e._ptLookup,y=e._targets.length;y--;){if(f=g[y][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return JD=1,e.vars[r]="+=0",vB(e,l),JD=0,c?Lv(r+" not eligible for reset"):1;d.push(f)}for(y=d.length;y--;)p=d[y],f=p._pt||p,f.s=(s||s===0)&&!a?s:f.s+(s||0)+o*f.c,f.c=n-f.s,p.e&&(p.e=hn(n)+mi(p.e)),p.b&&(p.b=f.s+mi(p.b))},g1e=function(e,r){var n=e[0]?Ed(e[0]).harness:0,s=n&&n.aliases,a,o,l,c;if(!s)return r;a=hp({},r);for(o in s)if(o in a)for(c=s[o].split(","),l=c.length;l--;)a[c[l]]=a[o];return a},v1e=function(e,r,n,s){var a=r.ease||s||"power1.inOut",o,l;if(_i(r))l=n[e]||(n[e]=[]),r.forEach(function(c,d){return l.push({t:d/(r.length-1)*100,v:c,e:a})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:r[o],e:a})},kg=function(e,r,n,s,a){return un(e)?e.call(r,n,s,a):qn(e)&&~e.indexOf("random(")?$v(e):e},LH=hB+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",UH={};rs(LH+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return UH[t]=1});var _n=function(t){iH(e,t);function e(n,s,a,o){var l;typeof s=="number"&&(a.duration=s,s=a,a=null),l=t.call(this,o?s:Fg(s))||this;var c=l.vars,d=c.duration,f=c.delay,p=c.immediateRender,g=c.stagger,y=c.overwrite,b=c.keyframes,_=c.defaults,u=c.scrollTrigger,h=c.yoyoEase,m=s.parent||Zr,v=(_i(n)||aH(n)?Pl(n[0]):"length"in s)?[n]:sa(n),w,x,S,E,P,T,A,R;if(l._targets=v.length?pB(v):Lv("GSAP target "+n+" not found. https://gsap.com",!Ps.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,b||g||x0(d)||x0(f)){if(s=l.vars,w=l.timeline=new Di({data:"nested",defaults:_||{},targets:m&&m.data==="nested"?m.vars.targets:v}),w.kill(),w.parent=w._dp=rl(l),w._start=0,g||x0(d)||x0(f)){if(E=v.length,A=g&&EH(g),Fo(g))for(P in g)~LH.indexOf(P)&&(R||(R={}),R[P]=g[P]);for(x=0;x<E;x++)S=hw(s,UH),S.stagger=0,h&&(S.yoyoEase=h),R&&hp(S,R),T=v[x],S.duration=+kg(d,rl(l),x,T,v),S.delay=(+kg(f,rl(l),x,T,v)||0)-l._delay,!g&&E===1&&S.delay&&(l._delay=f=S.delay,l._start+=f,S.delay=0),w.to(T,S,A?A(x,T,v):0),w._ease=Qt.none;w.duration()?d=f=0:l.timeline=0}else if(b){Fg(Is(w.vars.defaults,{ease:"none"})),w._ease=Cd(b.ease||s.ease||"none");var D=0,O,I,M;if(_i(b))b.forEach(function(G){return w.to(v,G,">")}),w.duration();else{S={};for(P in b)P==="ease"||P==="easeEach"||v1e(P,b[P],S,b.easeEach);for(P in S)for(O=S[P].sort(function(G,j){return G.t-j.t}),D=0,x=0;x<O.length;x++)I=O[x],M={ease:I.e,duration:(I.t-(x?O[x-1].t:0))/100*d},M[P]=I.v,w.to(v,M,D),D+=M.duration;w.duration()<d&&w.to({},{duration:d-w.duration()})}}d||l.duration(d=w.duration())}else l.timeline=0;return y===!0&&!oB&&(Au=rl(l),Zr.killTweensOf(v),Au=0),yo(m,rl(l),a),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(p||!d&&!b&&l._start===Yr(m._time)&&ts(p)&&X0e(rl(l))&&m.data!=="nested")&&(l._tTime=-_r,l.render(Math.max(0,-f)||0)),u&&_H(rl(l),u),l}var r=e.prototype;return r.render=function(s,a,o){var l=this._time,c=this._tDur,d=this._dur,f=s<0,p=s>c-_r&&!f?c:s<_r?0:s,g,y,b,_,u,h,m,v,w;if(!d)q0e(this,s,a,o);else if(p!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,v=this.timeline,this._repeat){if(_=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(_*100+s,a,o);if(g=Yr(p%_),p===c?(b=this._repeat,g=d):(u=Yr(p/_),b=~~u,b&&b===u?(g=d,b--):g>d&&(g=d)),h=this._yoyo&&b&1,h&&(w=this._yEase,g=d-g),u=pp(this._tTime,_),g===l&&!o&&this._initted&&b===u)return this._tTime=p,this;b!==u&&(v&&this._yEase&&FH(v,h),this.vars.repeatRefresh&&!h&&!this._lock&&g!==_&&this._initted&&(this._lock=o=1,this.render(Yr(_*b),!0).invalidate()._lock=0))}if(!this._initted){if(bH(this,f?s:g,o,a,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&b!==u))return this;if(d!==this._dur)return this.render(s,a,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=m=(w||this._ease)(g/d),this._from&&(this.ratio=m=1-m),!l&&p&&!a&&!u&&(Ss(this,"onStart"),this._tTime!==p))return this;for(y=this._pt;y;)y.r(m,y.d),y=y._next;v&&v.render(s<0?s:v._dur*v._ease(g/this._dur),a,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(f&&KD(this,s,a,o),Ss(this,"onUpdate")),this._repeat&&b!==u&&this.vars.onRepeat&&!a&&this.parent&&Ss(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&KD(this,s,!0,!0),(s||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&tc(this,1),!a&&!(f&&!l)&&(p||l||h)&&(Ss(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,a,o,l,c){jv||bs.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||vB(this,d),f=this._ease(d/this._dur),m1e(this,s,a,o,l,f,d,c)?this.resetTo(s,a,o,l,1):(AE(this,0),this.parent||vH(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?ng(this):this.scrollTrigger&&this.scrollTrigger.kill(!!si),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,Au&&Au.vars.overwrite!==!0)._first||ng(this),this.parent&&o!==this.timeline.totalDuration()&&mp(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=s?sa(s):l,d=this._ptLookup,f=this._pt,p,g,y,b,_,u,h;if((!a||a==="all")&&W0e(l,c))return a==="all"&&(this._pt=0),ng(this);for(p=this._op=this._op||[],a!=="all"&&(qn(a)&&(_={},rs(a,function(m){return _[m]=1}),a=_),a=g1e(l,a)),h=l.length;h--;)if(~c.indexOf(l[h])){g=d[h],a==="all"?(p[h]=a,b=g,y={}):(y=p[h]=p[h]||{},b=a);for(_ in b)u=g&&g[_],u&&((!("kill"in u.d)||u.d.kill(_)===!0)&&SE(this,u,"_pt"),delete g[_]),y!=="all"&&(y[_]=1)}return this._initted&&!this._pt&&f&&ng(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return Mg(1,arguments)},e.delayedCall=function(s,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,a,o){return Mg(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,o){return Zr.killTweensOf(s,a,o)},e}(zv);Is(_n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});rs("staggerTo,staggerFrom,staggerFromTo",function(t){_n[t]=function(){var e=new Di,r=YD.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var yB=function(e,r,n){return e[r]=n},$H=function(e,r,n){return e[r](n)},y1e=function(e,r,n,s){return e[r](s.fp,n)},_1e=function(e,r,n){return e.setAttribute(r,n)},_B=function(e,r){return un(e[r])?$H:lB(e[r])&&e.setAttribute?_1e:yB},jH=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},b1e=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},zH=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},bB=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},w1e=function(e,r,n,s){for(var a=this._pt,o;a;)o=a._next,a.p===s&&a.modifier(e,r,n),a=o},x1e=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?SE(this,r,"_pt"):r.dep||(n=1),r=s;return!n},E1e=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},VH=function(e){for(var r=e._pt,n,s,a,o;r;){for(n=r._next,s=a;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:o)?r._prev._next=r:a=r,(r._next=s)?s._prev=r:o=r,r=n}e._pt=a},ns=function(){function t(r,n,s,a,o,l,c,d,f){this.t=n,this.s=a,this.c=o,this.p=s,this.r=l||jH,this.d=c||this,this.set=d||yB,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,a){this.mSet=this.mSet||this.set,this.set=E1e,this.m=n,this.mt=a,this.tween=s},t}();rs(hB+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return fB[t]=1});Os.TweenMax=Os.TweenLite=_n;Os.TimelineLite=Os.TimelineMax=Di;Zr=new Di({sortChildren:!1,defaults:fp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ps.stringFilter=IH;var Ad=[],z1={},S1e=[],EU=0,C1e=0,RA=function(e){return(z1[e]||S1e).map(function(r){return r()})},QD=function(){var e=Date.now(),r=[];e-EU>2&&(RA("matchMediaInit"),Ad.forEach(function(n){var s=n.queries,a=n.conditions,o,l,c,d;for(l in s)o=fo.matchMedia(s[l]).matches,o&&(c=1),o!==a[l]&&(a[l]=o,d=1);d&&(n.revert(),c&&r.push(n))}),RA("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),EU=e,RA("matchMedia"))},GH=function(){function t(r,n){this.selector=n&&qD(n),this.data=[],this._r=[],this.isReverted=!1,this.id=C1e++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,a){un(n)&&(a=s,s=n,n=un);var o=this,l=function(){var d=Gr,f=o.selector,p;return d&&d!==o&&d.data.push(o),a&&(o.selector=qD(a)),Gr=o,p=s.apply(o,arguments),un(p)&&o._r.push(p),Gr=d,o.selector=f,o.isReverted=!1,p};return o.last=l,n===un?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},e.ignore=function(n){var s=Gr;Gr=null,n(this),Gr=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof _n&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var a=this;if(n?function(){for(var l=a.getTweens(),c=a.data.length,d;c--;)d=a.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),c=a.data.length;c--;)d=a.data[c],d instanceof Di?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof _n)&&d.revert&&d.revert(n);a._r.forEach(function(f){return f(n,a)}),a.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=Ad.length;o--;)Ad[o].id===this.id&&Ad.splice(o,1)},e.revert=function(n){this.kill(n||{})},t}(),A1e=function(){function t(r){this.contexts=[],this.scope=r,Gr&&Gr.data.push(this)}var e=t.prototype;return e.add=function(n,s,a){Fo(n)||(n={matches:n});var o=new GH(0,a||this.scope),l=o.conditions={},c,d,f;Gr&&!o.selector&&(o.selector=Gr.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=n;for(d in n)d==="all"?f=1:(c=fo.matchMedia(n[d]),c&&(Ad.indexOf(o)<0&&Ad.push(o),(l[d]=c.matches)&&(f=1),c.addListener?c.addListener(QD):c.addEventListener("change",QD)));return f&&s(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),mw={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return DH(s)})},timeline:function(e){return new Di(e)},getTweensOf:function(e,r){return Zr.getTweensOf(e,r)},getProperty:function(e,r,n,s){qn(e)&&(e=sa(e)[0]);var a=Ed(e||{}).get,o=n?gH:mH;return n==="native"&&(n=""),e&&(r?o((vs[r]&&vs[r].get||a)(e,r,n,s)):function(l,c,d){return o((vs[l]&&vs[l].get||a)(e,l,c,d))})},quickSetter:function(e,r,n){if(e=sa(e),e.length>1){var s=e.map(function(f){return as.quickSetter(f,r,n)}),a=s.length;return function(f){for(var p=a;p--;)s[p](f)}}e=e[0]||{};var o=vs[r],l=Ed(e),c=l.harness&&(l.harness.aliases||{})[r]||r,d=o?function(f){var p=new o;yh._pt=0,p.init(e,n?f+n:f,yh,0,[e]),p.render(1,p),yh._pt&&bB(1,yh)}:l.set(e,c);return o?d:function(f){return d(e,c,n?f+n:f,l,1)}},quickTo:function(e,r,n){var s,a=as.to(e,Is((s={},s[r]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),o=function(c,d,f){return a.resetTo(r,c,d,f)};return o.tween=a,o},isTweening:function(e){return Zr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Cd(e.ease,fp.ease)),yU(fp,e||{})},config:function(e){return yU(Ps,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,a=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!vs[l]&&!Os[l]&&Lv(r+" effect requires "+l+" plugin.")}),AA[r]=function(l,c,d){return n(sa(l),Is(c||{},a),d)},o&&(Di.prototype[r]=function(l,c,d){return this.add(AA[r](l,Fo(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){Qt[e]=Cd(r)},parseEase:function(e,r){return arguments.length?Cd(e,r):Qt},getById:function(e){return Zr.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Di(e),s,a;for(n.smoothChildTiming=ts(e.smoothChildTiming),Zr.remove(n),n._dp=0,n._time=n._tTime=Zr._time,s=Zr._first;s;)a=s._next,(r||!(!s._dur&&s instanceof _n&&s.vars.onComplete===s._targets[0]))&&yo(n,s,s._start-s._delay),s=a;return yo(Zr,n,0),n},context:function(e,r){return e?new GH(e,r):Gr},matchMedia:function(e){return new A1e(e)},matchMediaRefresh:function(){return Ad.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||QD()},addEventListener:function(e,r){var n=z1[e]||(z1[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=z1[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:i1e,wrapYoyo:s1e,distribute:EH,random:CH,snap:SH,normalize:n1e,getUnit:mi,clamp:Q0e,splitColor:RH,toArray:sa,selector:qD,mapRange:TH,pipe:t1e,unitize:r1e,interpolate:a1e,shuffle:xH},install:cH,effects:AA,ticker:bs,updateRoot:Di.updateRoot,plugins:vs,globalTimeline:Zr,core:{PropTween:ns,globals:dH,Tween:_n,Timeline:Di,Animation:zv,getCache:Ed,_removeLinkedListItem:SE,reverting:function(){return si},context:function(e){return e&&Gr&&(Gr.data.push(e),e._ctx=Gr),Gr},suppressOverwrites:function(e){return oB=e}}};rs("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return mw[t]=_n[t]});bs.add(Di.updateRoot);yh=mw.to({},{duration:0});var T1e=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},P1e=function(e,r){var n=e._targets,s,a,o;for(s in r)for(a=n.length;a--;)o=e._ptLookup[a][s],o&&(o=o.d)&&(o._pt&&(o=T1e(o,s)),o&&o.modifier&&o.modifier(r[s],e,n[a],s))},OA=function(e,r){return{name:e,headless:1,rawVars:1,init:function(s,a,o){o._onInit=function(l){var c,d;if(qn(a)&&(c={},rs(a,function(f){return c[f]=1}),a=c),r){c={};for(d in a)c[d]=r(a[d]);a=c}P1e(l,a)}}}},as=mw.registerPlugin({name:"attr",init:function(e,r,n,s,a){var o,l,c;this.tween=n;for(o in r)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",r[o],s,a,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)si?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},OA("roundProps",ZD),OA("modifiers"),OA("snap",SH))||mw;_n.version=Di.version=as.version="3.14.1";uH=1;uB()&&gp();Qt.Power0;Qt.Power1;Qt.Power2;Qt.Power3;Qt.Power4;Qt.Linear;Qt.Quad;Qt.Cubic;Qt.Quart;Qt.Quint;Qt.Strong;Qt.Elastic;Qt.Back;Qt.SteppedEase;Qt.Bounce;Qt.Sine;Qt.Expo;Qt.Circ;/*!
 * CSSPlugin 3.14.1
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var SU,Tu,kh,wB,ld,CU,xB,D1e=function(){return typeof window<"u"},Dl={},qc=180/Math.PI,Nh=Math.PI/180,Pf=Math.atan2,AU=1e8,EB=/([A-Z])/g,R1e=/(left|right|width|margin|padding|x)/i,O1e=/[\s,\(]\S/,xo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},e2=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},I1e=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},B1e=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},F1e=function(e,r){return r.set(r.t,r.p,e===1?r.e:e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},M1e=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},HH=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},WH=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},k1e=function(e,r,n){return e.style[r]=n},N1e=function(e,r,n){return e.style.setProperty(r,n)},L1e=function(e,r,n){return e._gsap[r]=n},U1e=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},$1e=function(e,r,n,s,a){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(a,o)},j1e=function(e,r,n,s,a){var o=e._gsap;o[r]=n,o.renderTransform(a,o)},Qr="transform",is=Qr+"Origin",z1e=function t(e,r){var n=this,s=this.target,a=s.style,o=s._gsap;if(e in Dl&&a){if(this.tfm=this.tfm||{},e!=="transform")e=xo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=sl(s,l)}):this.tfm[e]=o.x?o[e]:sl(s,e),e===is&&(this.tfm.zOrigin=o.zOrigin);else return xo.transform.split(",").forEach(function(l){return t.call(n,l,r)});if(this.props.indexOf(Qr)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(is,r,"")),e=Qr}(a||r)&&this.props.push(e,r,a[e])},KH=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},V1e=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?r[e[a]](e[a+2]):r[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(EB,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),a=xB(),(!a||!a.isStart)&&!n[Qr]&&(KH(n),s.zOrigin&&n[is]&&(n[is]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},XH=function(e,r){var n={target:e,props:[],revert:V1e,save:z1e};return e._gsap||as.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(s){return n.save(s)}),n},YH,t2=function(e,r){var n=Tu.createElementNS?Tu.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Tu.createElement(e);return n&&n.style?n:Tu.createElement(e)},Cs=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(EB,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,vp(r)||r,1)||""},TU="O,Moz,ms,Ms,Webkit".split(","),vp=function(e,r,n){var s=r||ld,a=s.style,o=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(TU[o]+e in a););return o<0?null:(o===3?"ms":o>=0?TU[o]:"")+e},r2=function(){D1e()&&window.document&&(SU=window,Tu=SU.document,kh=Tu.documentElement,ld=t2("div")||{style:{}},t2("div"),Qr=vp(Qr),is=Qr+"Origin",ld.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",YH=!!vp("perspective"),xB=as.core.reverting,wB=1)},PU=function(e){var r=e.ownerSVGElement,n=t2("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",n.appendChild(s),kh.appendChild(n);try{a=s.getBBox()}catch(o){}return n.removeChild(s),kh.removeChild(n),a},DU=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},qH=function(e){var r,n;try{r=e.getBBox()}catch(s){r=PU(e),n=1}return r&&(r.width||r.height)||n||(r=PU(e)),r&&!r.width&&!r.x&&!r.y?{x:+DU(e,["x","cx","x1"])||0,y:+DU(e,["y","cy","y1"])||0,width:0,height:0}:r},ZH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&qH(e))},rc=function(e,r){if(r){var n=e.style,s;r in Dl&&r!==is&&(r=Qr),n.removeProperty?(s=r.substr(0,2),(s==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(s==="--"?r:r.replace(EB,"-$1").toLowerCase())):n.removeAttribute(r)}},Pu=function(e,r,n,s,a,o){var l=new ns(e._pt,r,n,0,1,o?WH:HH);return e._pt=l,l.b=s,l.e=a,e._props.push(n),l},RU={deg:1,rad:1,turn:1},G1e={grid:1,flex:1},nc=function t(e,r,n,s){var a=parseFloat(n)||0,o=(n+"").trim().substr((a+"").length)||"px",l=ld.style,c=R1e.test(r),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(c?"Width":"Height"),p=100,g=s==="px",y=s==="%",b,_,u,h;if(s===o||!a||RU[s]||RU[o])return a;if(o!=="px"&&!g&&(a=t(e,r,n,"px")),h=e.getCTM&&ZH(e),(y||o==="%")&&(Dl[r]||~r.indexOf("adius")))return b=h?e.getBBox()[c?"width":"height"]:e[f],hn(y?a/b*p:a/100*b);if(l[c?"width":"height"]=p+(g?o:s),_=s!=="rem"&&~r.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,h&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Tu||!_.appendChild)&&(_=Tu.body),u=_._gsap,u&&y&&u.width&&c&&u.time===bs.time&&!u.uncache)return hn(a/u.width*p);if(y&&(r==="height"||r==="width")){var m=e.style[r];e.style[r]=p+s,b=e[f],m?e.style[r]=m:rc(e,r)}else(y||o==="%")&&!G1e[Cs(_,"display")]&&(l.position=Cs(e,"position")),_===e&&(l.position="static"),_.appendChild(ld),b=ld[f],_.removeChild(ld),l.position="absolute";return c&&y&&(u=Ed(_),u.time=bs.time,u.width=_[f]),hn(g?b*a/p:b&&a?p/b*a:0)},sl=function(e,r,n,s){var a;return wB||r2(),r in xo&&r!=="transform"&&(r=xo[r],~r.indexOf(",")&&(r=r.split(",")[0])),Dl[r]&&r!=="transform"?(a=Gv(e,s),a=r!=="transformOrigin"?a[r]:a.svg?a.origin:vw(Cs(e,is))+" "+a.zOrigin+"px"):(a=e.style[r],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=gw[r]&&gw[r](e,r,n)||Cs(e,r)||hH(e,r)||(r==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?nc(e,r,a,n)+n:a},H1e=function(e,r,n,s){if(!n||n==="none"){var a=vp(r,e,1),o=a&&Cs(e,a,1);o&&o!==n?(r=a,n=o):r==="borderColor"&&(n=Cs(e,"borderTopColor"))}var l=new ns(this._pt,e.style,r,0,1,zH),c=0,d=0,f,p,g,y,b,_,u,h,m,v,w,x;if(l.b=n,l.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=Cs(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(_=e.style[r],e.style[r]=s,s=Cs(e,r)||s,_?e.style[r]=_:rc(e,r)),f=[n,s],IH(f),n=f[0],s=f[1],g=n.match(vh)||[],x=s.match(vh)||[],x.length){for(;p=vh.exec(s);)u=p[0],m=s.substring(c,p.index),b?b=(b+1)%5:(m.substr(-5)==="rgba("||m.substr(-5)==="hsla(")&&(b=1),u!==(_=g[d++]||"")&&(y=parseFloat(_)||0,w=_.substr((y+"").length),u.charAt(1)==="="&&(u=Mh(y,u)+w),h=parseFloat(u),v=u.substr((h+"").length),c=vh.lastIndex-v.length,v||(v=v||Ps.units[r]||w,c===s.length&&(s+=v,l.e+=v)),w!==v&&(y=nc(e,r,_,v)||0),l._pt={_next:l._pt,p:m||d===1?m:",",s:y,c:h-y,m:b&&b<4||r==="zIndex"?Math.round:0});l.c=c<s.length?s.substring(c,s.length):""}else l.r=r==="display"&&s==="none"?WH:HH;return lH.test(s)&&(l.e=0),this._pt=l,l},OU={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},W1e=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=OU[n]||n,r[1]=OU[s]||s,r.join(" ")},K1e=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,a=r.u,o=n._gsap,l,c,d;if(a==="all"||a===!0)s.cssText="",c=1;else for(a=a.split(","),d=a.length;--d>-1;)l=a[d],Dl[l]&&(c=1,l=l==="transformOrigin"?is:Qr),rc(n,l);c&&(rc(n,Qr),o&&(o.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Gv(n,1),o.uncache=1,KH(s)))}},gw={clearProps:function(e,r,n,s,a){if(a.data!=="isFromStart"){var o=e._pt=new ns(e._pt,r,n,0,0,K1e);return o.u=s,o.pr=-10,o.tween=a,e._props.push(n),1}}},Vv=[1,0,0,1,0,0],JH={},QH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},IU=function(e){var r=Cs(e,Qr);return QH(r)?Vv:r.substr(7).match(oH).map(hn)},SB=function(e,r){var n=e._gsap||Ed(e),s=e.style,a=IU(e),o,l,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?Vv:a):(a===Vv&&!e.offsetParent&&e!==kh&&!n.svg&&(c=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,kh.appendChild(e)),a=IU(e),c?s.display=c:rc(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):kh.removeChild(e))),r&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},n2=function(e,r,n,s,a,o){var l=e._gsap,c=a||SB(e,!0),d=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,y=c[0],b=c[1],_=c[2],u=c[3],h=c[4],m=c[5],v=r.split(" "),w=parseFloat(v[0])||0,x=parseFloat(v[1])||0,S,E,P,T;n?c!==Vv&&(E=y*u-b*_)&&(P=w*(u/E)+x*(-_/E)+(_*m-u*h)/E,T=w*(-b/E)+x*(y/E)-(y*m-b*h)/E,w=P,x=T):(S=qH(e),w=S.x+(~v[0].indexOf("%")?w/100*S.width:w),x=S.y+(~(v[1]||v[0]).indexOf("%")?x/100*S.height:x)),s||s!==!1&&l.smooth?(h=w-d,m=x-f,l.xOffset=p+(h*y+m*_)-h,l.yOffset=g+(h*b+m*u)-m):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=x,l.smooth=!!s,l.origin=r,l.originIsAbsolute=!!n,e.style[is]="0px 0px",o&&(Pu(o,l,"xOrigin",d,w),Pu(o,l,"yOrigin",f,x),Pu(o,l,"xOffset",p,l.xOffset),Pu(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+x)},Gv=function(e,r){var n=e._gsap||new kH(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,a=n.scaleX<0,o="px",l="deg",c=getComputedStyle(e),d=Cs(e,is)||"0",f,p,g,y,b,_,u,h,m,v,w,x,S,E,P,T,A,R,D,O,I,M,G,j,$,H,K,re,fe,ye,he,ue;return f=p=g=_=u=h=m=v=w=0,y=b=1,n.svg=!!(e.getCTM&&ZH(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[Qr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Qr]!=="none"?c[Qr]:"")),s.scale=s.rotate=s.translate="none"),E=SB(e,n.svg),n.svg&&(n.uncache?($=e.getBBox(),d=n.xOrigin-$.x+"px "+(n.yOrigin-$.y)+"px",j=""):j=!r&&e.getAttribute("data-svg-origin"),n2(e,j||d,!!j||n.originIsAbsolute,n.smooth!==!1,E)),x=n.xOrigin||0,S=n.yOrigin||0,E!==Vv&&(R=E[0],D=E[1],O=E[2],I=E[3],f=M=E[4],p=G=E[5],E.length===6?(y=Math.sqrt(R*R+D*D),b=Math.sqrt(I*I+O*O),_=R||D?Pf(D,R)*qc:0,m=O||I?Pf(O,I)*qc+_:0,m&&(b*=Math.abs(Math.cos(m*Nh))),n.svg&&(f-=x-(x*R+S*O),p-=S-(x*D+S*I))):(ue=E[6],ye=E[7],K=E[8],re=E[9],fe=E[10],he=E[11],f=E[12],p=E[13],g=E[14],P=Pf(ue,fe),u=P*qc,P&&(T=Math.cos(-P),A=Math.sin(-P),j=M*T+K*A,$=G*T+re*A,H=ue*T+fe*A,K=M*-A+K*T,re=G*-A+re*T,fe=ue*-A+fe*T,he=ye*-A+he*T,M=j,G=$,ue=H),P=Pf(-O,fe),h=P*qc,P&&(T=Math.cos(-P),A=Math.sin(-P),j=R*T-K*A,$=D*T-re*A,H=O*T-fe*A,he=I*A+he*T,R=j,D=$,O=H),P=Pf(D,R),_=P*qc,P&&(T=Math.cos(P),A=Math.sin(P),j=R*T+D*A,$=M*T+G*A,D=D*T-R*A,G=G*T-M*A,R=j,M=$),u&&Math.abs(u)+Math.abs(_)>359.9&&(u=_=0,h=180-h),y=hn(Math.sqrt(R*R+D*D+O*O)),b=hn(Math.sqrt(G*G+ue*ue)),P=Pf(M,G),m=Math.abs(P)>2e-4?P*qc:0,w=he?1/(he<0?-he:he):0),n.svg&&(j=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!QH(Cs(e,Qr)),j&&e.setAttribute("transform",j))),Math.abs(m)>90&&Math.abs(m)<270&&(a?(y*=-1,m+=_<=0?180:-180,_+=_<=0?180:-180):(b*=-1,m+=m<=0?180:-180)),r=r||n.uncache,n.x=f-((n.xPercent=f&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=hn(y),n.scaleY=hn(b),n.rotation=hn(_)+l,n.rotationX=hn(u)+l,n.rotationY=hn(h)+l,n.skewX=m+l,n.skewY=v+l,n.transformPerspective=w+o,(n.zOrigin=parseFloat(d.split(" ")[2])||!r&&n.zOrigin||0)&&(s[is]=vw(d)),n.xOffset=n.yOffset=0,n.force3D=Ps.force3D,n.renderTransform=n.svg?Y1e:YH?eW:X1e,n.uncache=0,n},vw=function(e){return(e=e.split(" "))[0]+" "+e[1]},IA=function(e,r,n){var s=mi(r);return hn(parseFloat(r)+parseFloat(nc(e,"x",n+"px",s)))+s},X1e=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,eW(e,r)},Uc="0deg",Bm="0px",$c=") ",eW=function(e,r){var n=r||this,s=n.xPercent,a=n.yPercent,o=n.x,l=n.y,c=n.z,d=n.rotation,f=n.rotationY,p=n.rotationX,g=n.skewX,y=n.skewY,b=n.scaleX,_=n.scaleY,u=n.transformPerspective,h=n.force3D,m=n.target,v=n.zOrigin,w="",x=h==="auto"&&e&&e!==1||h===!0;if(v&&(p!==Uc||f!==Uc)){var S=parseFloat(f)*Nh,E=Math.sin(S),P=Math.cos(S),T;S=parseFloat(p)*Nh,T=Math.cos(S),o=IA(m,o,E*T*-v),l=IA(m,l,-Math.sin(S)*-v),c=IA(m,c,P*T*-v+v)}u!==Bm&&(w+="perspective("+u+$c),(s||a)&&(w+="translate("+s+"%, "+a+"%) "),(x||o!==Bm||l!==Bm||c!==Bm)&&(w+=c!==Bm||x?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+$c),d!==Uc&&(w+="rotate("+d+$c),f!==Uc&&(w+="rotateY("+f+$c),p!==Uc&&(w+="rotateX("+p+$c),(g!==Uc||y!==Uc)&&(w+="skew("+g+", "+y+$c),(b!==1||_!==1)&&(w+="scale("+b+", "+_+$c),m.style[Qr]=w||"translate(0, 0)"},Y1e=function(e,r){var n=r||this,s=n.xPercent,a=n.yPercent,o=n.x,l=n.y,c=n.rotation,d=n.skewX,f=n.skewY,p=n.scaleX,g=n.scaleY,y=n.target,b=n.xOrigin,_=n.yOrigin,u=n.xOffset,h=n.yOffset,m=n.forceCSS,v=parseFloat(o),w=parseFloat(l),x,S,E,P,T;c=parseFloat(c),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,c+=f),c||d?(c*=Nh,d*=Nh,x=Math.cos(c)*p,S=Math.sin(c)*p,E=Math.sin(c-d)*-g,P=Math.cos(c-d)*g,d&&(f*=Nh,T=Math.tan(d-f),T=Math.sqrt(1+T*T),E*=T,P*=T,f&&(T=Math.tan(f),T=Math.sqrt(1+T*T),x*=T,S*=T)),x=hn(x),S=hn(S),E=hn(E),P=hn(P)):(x=p,P=g,S=E=0),(v&&!~(o+"").indexOf("px")||w&&!~(l+"").indexOf("px"))&&(v=nc(y,"x",o,"px"),w=nc(y,"y",l,"px")),(b||_||u||h)&&(v=hn(v+b-(b*x+_*E)+u),w=hn(w+_-(b*S+_*P)+h)),(s||a)&&(T=y.getBBox(),v=hn(v+s/100*T.width),w=hn(w+a/100*T.height)),T="matrix("+x+","+S+","+E+","+P+","+v+","+w+")",y.setAttribute("transform",T),m&&(y.style[Qr]=T)},q1e=function(e,r,n,s,a){var o=360,l=qn(a),c=parseFloat(a)*(l&&~a.indexOf("rad")?qc:1),d=c-s,f=s+d+"deg",p,g;return l&&(p=a.split("_")[1],p==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),p==="cw"&&d<0?d=(d+o*AU)%o-~~(d/o)*o:p==="ccw"&&d>0&&(d=(d-o*AU)%o-~~(d/o)*o)),e._pt=g=new ns(e._pt,r,n,s,d,I1e),g.e=f,g.u="deg",e._props.push(n),g},BU=function(e,r){for(var n in r)e[n]=r[n];return e},Z1e=function(e,r,n){var s=BU({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,d,f,p,g,y,b;s.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),o[Qr]=r,l=Gv(n,1),rc(n,Qr),n.setAttribute("transform",d)):(d=getComputedStyle(n)[Qr],o[Qr]=r,l=Gv(n,1),o[Qr]=d);for(c in Dl)d=s[c],f=l[c],d!==f&&a.indexOf(c)<0&&(y=mi(d),b=mi(f),p=y!==b?nc(n,c,d,b):parseFloat(d),g=parseFloat(f),e._pt=new ns(e._pt,l,c,p,g-p,e2),e._pt.u=b||0,e._props.push(c));BU(l,s)};rs("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",a="Left",o=(e<3?[r,n,s,a]:[r+a,r+n,s+n,s+a]).map(function(l){return e<2?t+l:"border"+l+t});gw[e>1?"border"+t:t]=function(l,c,d,f,p){var g,y;if(arguments.length<4)return g=o.map(function(b){return sl(l,b,d)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(f+"").split(" "),y={},o.forEach(function(b,_){return y[b]=g[_]=g[_]||g[(_-1)/2|0]}),l.init(c,y,p)}});var tW={name:"css",register:r2,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,a){var o=this._props,l=e.style,c=n.vars.startAt,d,f,p,g,y,b,_,u,h,m,v,w,x,S,E,P,T;wB||r2(),this.styles=this.styles||XH(e),P=this.styles.props,this.tween=n;for(_ in r)if(_!=="autoRound"&&(f=r[_],!(vs[_]&&NH(_,r,n,s,e,a)))){if(y=typeof f,b=gw[_],y==="function"&&(f=f.call(n,s,e,a),y=typeof f),y==="string"&&~f.indexOf("random(")&&(f=$v(f)),b)b(this,e,_,f,n)&&(E=1);else if(_.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(_)+"").trim(),f+="",Hu.lastIndex=0,Hu.test(d)||(u=mi(d),h=mi(f),h?u!==h&&(d=nc(e,_,d,h)+h):u&&(f+=u)),this.add(l,"setProperty",d,f,s,a,0,0,_),o.push(_),P.push(_,0,l[_]);else if(y!=="undefined"){if(c&&_ in c?(d=typeof c[_]=="function"?c[_].call(n,s,e,a):c[_],qn(d)&&~d.indexOf("random(")&&(d=$v(d)),mi(d+"")||d==="auto"||(d+=Ps.units[_]||mi(sl(e,_))||""),(d+"").charAt(1)==="="&&(d=sl(e,_))):d=sl(e,_),g=parseFloat(d),m=y==="string"&&f.charAt(1)==="="&&f.substr(0,2),m&&(f=f.substr(2)),p=parseFloat(f),_ in xo&&(_==="autoAlpha"&&(g===1&&sl(e,"visibility")==="hidden"&&p&&(g=0),P.push("visibility",0,l.visibility),Pu(this,l,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),_!=="scale"&&_!=="transform"&&(_=xo[_],~_.indexOf(",")&&(_=_.split(",")[0]))),v=_ in Dl,v){if(this.styles.save(_),T=f,y==="string"&&f.substring(0,6)==="var(--"){if(f=Cs(e,f.substring(4,f.indexOf(")"))),f.substring(0,5)==="calc("){var A=e.style.perspective;e.style.perspective=f,f=Cs(e,"perspective"),A?e.style.perspective=A:rc(e,"perspective")}p=parseFloat(f)}if(w||(x=e._gsap,x.renderTransform&&!r.parseTransform||Gv(e,r.parseTransform),S=r.smoothOrigin!==!1&&x.smooth,w=this._pt=new ns(this._pt,l,Qr,0,1,x.renderTransform,x,0,-1),w.dep=1),_==="scale")this._pt=new ns(this._pt,x,"scaleY",x.scaleY,(m?Mh(x.scaleY,m+p):p)-x.scaleY||0,e2),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){P.push(is,0,l[is]),f=W1e(f),x.svg?n2(e,f,0,S,0,this):(h=parseFloat(f.split(" ")[2])||0,h!==x.zOrigin&&Pu(this,x,"zOrigin",x.zOrigin,h),Pu(this,l,_,vw(d),vw(f)));continue}else if(_==="svgOrigin"){n2(e,f,1,S,0,this);continue}else if(_ in JH){q1e(this,x,_,g,m?Mh(g,m+f):f);continue}else if(_==="smoothOrigin"){Pu(this,x,"smooth",x.smooth,f);continue}else if(_==="force3D"){x[_]=f;continue}else if(_==="transform"){Z1e(this,f,e);continue}}else _ in l||(_=vp(_)||_);if(v||(p||p===0)&&(g||g===0)&&!O1e.test(f)&&_ in l)u=(d+"").substr((g+"").length),p||(p=0),h=mi(f)||(_ in Ps.units?Ps.units[_]:u),u!==h&&(g=nc(e,_,d,h)),this._pt=new ns(this._pt,v?x:l,_,g,(m?Mh(g,m+p):p)-g,!v&&(h==="px"||_==="zIndex")&&r.autoRound!==!1?M1e:e2),this._pt.u=h||0,v&&T!==f?(this._pt.b=d,this._pt.e=T,this._pt.r=F1e):u!==h&&h!=="%"&&(this._pt.b=d,this._pt.r=B1e);else if(_ in l)H1e.call(this,e,_,d,m?m+f:f);else if(_ in e)this.add(e,_,d||e[_],m?m+f:f,s,a);else if(_!=="parseTransform"){dB(_,f);continue}v||(_ in l?P.push(_,0,l[_]):typeof e[_]=="function"?P.push(_,2,e[_]()):P.push(_,1,d||e[_])),o.push(_)}}E&&VH(this)},render:function(e,r){if(r.tween._time||!xB())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:sl,aliases:xo,getSetter:function(e,r,n){var s=xo[r];return s&&s.indexOf(",")<0&&(r=s),r in Dl&&r!==is&&(e._gsap.x||sl(e,"x"))?n&&CU===n?r==="scale"?U1e:L1e:(CU=n||{})&&(r==="scale"?$1e:j1e):e.style&&!lB(e.style[r])?k1e:~r.indexOf("-")?N1e:_B(e,r)},core:{_removeProperty:rc,_getMatrix:SB}};as.utils.checkPrefix=vp;as.core.getStyleSaver=XH;(function(t,e,r,n){var s=rs(t+","+e+","+r,function(a){Dl[a]=1});rs(e,function(a){Ps.units[a]="deg",JH[a]=1}),xo[s[13]]=t+","+e,rs(n,function(a){var o=a.split(":");xo[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");rs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Ps.units[t]="px"});as.registerPlugin(tW);var J1e=as.registerPlugin(tW)||as;J1e.core.Tween;/*!
 * PixiPlugin 3.14.1
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Du,yw,FU,Js,Ng,rW,i2,TE,nW=function(){return typeof window<"u"},iW=function(){return Du||nW()&&(Du=window.gsap)&&Du.registerPlugin&&Du},s2=function(e){return typeof e=="function"},sW=function(e){return console.warn(e)},Q1e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Hs=.212671,Ws=.71516,Ks=.072169,aW=function(e){return s2(Js[e])?Js[e]:Js.filters[e]},PE=function(e,r){var n=[],s=0,a=0,o,l;for(o=0;o<4;o++){for(l=0;l<5;l++)a=l===4?e[s+4]:0,n[s+l]=e[s]*r[l]+e[s+1]*r[l+5]+e[s+2]*r[l+10]+e[s+3]*r[l+15]+a;s+=5}return n},MU=function(e,r){var n=1-r,s=n*Hs,a=n*Ws,o=n*Ks;return PE([s+r,a,o,0,0,s,a+r,o,0,0,s,a,o+r,0,0,0,0,0,1,0],e)},kU=function(e,r,n){var s=yw(r),a=s[0]/255,o=s[1]/255,l=s[2]/255,c=1-n;return PE([c+n*a*Hs,n*a*Ws,n*a*Ks,0,0,n*o*Hs,c+n*o*Ws,n*o*Ks,0,0,n*l*Hs,n*l*Ws,c+n*l*Ks,0,0,0,0,0,1,0],e)},NU=function(e,r){r*=Math.PI/180;var n=Math.cos(r),s=Math.sin(r);return PE([Hs+n*(1-Hs)+s*-Hs,Ws+n*-Ws+s*-Ws,Ks+n*-Ks+s*(1-Ks),0,0,Hs+n*-Hs+s*.143,Ws+n*(1-Ws)+s*.14,Ks+n*-Ks+s*-.283,0,0,Hs+n*-Hs+s*-(1-Hs),Ws+n*-Ws+s*Ws,Ks+n*(1-Ks)+s*Ks,0,0,0,0,0,1,0,0,0,0,0,1],e)},LU=function(e,r){return PE([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},oW=function(e,r){var n=aW(r),s=e.filters||[],a=s.length,o;for(n||sW(r+" not found. PixiPlugin.registerPIXI(PIXI)");--a>-1;)if(s[a]instanceof n)return s[a];return o=new n,r==="BlurFilter"&&(TE?o.strength=0:o.blur=0),e.filters=[].concat(s,[o]),o},Nn=function(e,r,n,s){r.add(n,e,n[e],s[e]),r._props.push(e)},UU=function(e,r){var n=aW("ColorMatrixFilter"),s=new n;return s.matrix=r,s.brightness(e,!0),s.matrix},ebe=function(e){var r={},n;for(n in e)r[n]=e[n];return r},os={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},tbe=function(e,r,n){var s=oW(e,"ColorMatrixFilter"),a=e._gsColorMatrixFilter=e._gsColorMatrixFilter||ebe(os),o=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),l,c,d;for(d=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===d.length?(c=r.matrix,a.contrast!==1&&Nn("contrast",n,a,os),a.hue&&Nn("hue",n,a,os),a.brightness!==1&&Nn("brightness",n,a,os),a.colorizeAmount&&(Nn("colorize",n,a,os),Nn("colorizeAmount",n,a,os)),a.saturation!==1&&Nn("saturation",n,a,os)):(c=Q1e.slice(),r.contrast!=null?(c=LU(c,+r.contrast),Nn("contrast",n,a,r)):a.contrast!==1&&(o?c=LU(c,a.contrast):Nn("contrast",n,a,os)),r.hue!=null?(c=NU(c,+r.hue),Nn("hue",n,a,r)):a.hue&&(o?c=NU(c,a.hue):Nn("hue",n,a,os)),r.brightness!=null?(c=UU(+r.brightness,c),Nn("brightness",n,a,r)):a.brightness!==1&&(o?c=UU(a.brightness,c):Nn("brightness",n,a,os)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,c=kU(c,r.colorize,r.colorizeAmount),Nn("colorize",n,a,r),Nn("colorizeAmount",n,a,r)):a.colorizeAmount&&(o?c=kU(c,a.colorize,a.colorizeAmount):(Nn("colorize",n,a,os),Nn("colorizeAmount",n,a,os))),r.saturation!=null?(c=MU(c,+r.saturation),Nn("saturation",n,a,r)):a.saturation!==1&&(o?c=MU(c,a.saturation):Nn("saturation",n,a,os))),l=c.length;--l>-1;)c[l]!==d[l]&&n.add(d,l,d[l],c[l],"colorMatrixFilter");n._props.push("colorMatrixFilter")},rbe=function(e,r){var n=r.t,s=r.p,a=r.color,o=r.set;o(n,s,a[0]<<16|a[1]<<8|a[2])},nbe=function(e,r){var n=r.g;TE?(n.fill(),n.stroke()):n&&(n.dirty++,n.clearDirty++)},ibe=function(e,r){r.t.visible=!!r.t.alpha},$U=function(e,r,n,s){var a=e[r],o=yw(s2(a)?e[r.indexOf("set")||!s2(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():a),l=yw(n);s._pt=new Ng(s._pt,e,r,0,0,rbe,{t:e,p:r,color:o,set:rW(e,r)}),s.add(o,0,o[0],l[0]),s.add(o,1,o[1],l[1]),s.add(o,2,o[2],l[2])},sbe={tint:1,lineColor:1,fillColor:1,strokeColor:1},jU="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),a2={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},abe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},_w=Math.PI/180,lW=function(e){return typeof e=="string"},obe=function(e){return lW(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*_w:e*_w},lbe=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},ube=function(e,r,n,s,a,o){var l=360*(o?_w:1),c=lW(a),d=c&&a.charAt(1)==="="?+(a.charAt(0)+"1"):0,f=parseFloat(d?a.substr(2):a)*(o?_w:1),p=d?f*d:f-s,g=s+p,y,b;return c&&(y=a.split("_")[1],y==="short"&&(p%=l,p!==p%(l/2)&&(p+=p<0?l:-l)),y==="cw"&&p<0?p=(p+l*1e10)%l-~~(p/l)*l:y==="ccw"&&p>0&&(p=(p-l*1e10)%l-~~(p/l)*l)),e._pt=b=new Ng(e._pt,r,n,s,p,lbe),b.e=g,b},zU=function(){if(!FU){Du=iW(),Js=FU=Js||nW()&&window.PIXI;var e=Js&&Js.VERSION&&parseFloat(Js.VERSION.split(".")[0])||0;i2=e===4,TE=e>=8,yw=function(n){return Du.utils.splitColor((n+"").substr(0,2)==="0x"?"#"+n.substr(2):n)}}},E0,Fm;for(E0=0;E0<jU.length;E0++)Fm=jU[E0],a2[Fm+"X"]=Fm,a2[Fm+"Y"]=Fm;var cbe={version:"3.14.1",name:"pixi",register:function(e,r,n){Du=e,Ng=n,rW=r.getSetter,zU()},headless:!0,registerPIXI:function(e){Js=e},init:function(e,r,n,s,a){if(Js||zU(),!Js)return sW("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,l,c,d,f,p,g,y,b,_;for(p in r){if(o=a2[p],c=r[p],o)l=~p.charAt(p.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],l,e[o][l],o==="skew"?obe(c):c,0,0,0,0,0,1);else if(p==="scale"||p==="anchor"||p==="pivot"||p==="tileScale")this.add(e[p],"x",e[p].x,c),this.add(e[p],"y",e[p].y,c);else if(p==="rotation"||p==="angle")ube(this,e,p,e[p],c,p==="rotation");else if(abe[p])d||(tbe(e,r.colorMatrixFilter||r,this),d=!0);else if(p==="blur"||p==="blurX"||p==="blurY"||p==="blurPadding"){if(f=oW(e,"BlurFilter"),this.add(f,p,f[p],c),r.blurPadding!==0)for(g=r.blurPadding||Math.max(f[p],c)*2,y=e.filters.length;--y>-1;)e.filters[y].padding=Math.max(e.filters[y].padding,g)}else if(sbe[p])if((p==="lineColor"||p==="fillColor"||p==="strokeColor")&&e instanceof Js.Graphics)for(b=("fillStyle"in e)?[e]:(e.geometry||e).graphicsData,_=p.substr(0,p.length-5),TE&&_==="line"&&(_="stroke"),this._pt=new Ng(this._pt,e,p,0,0,nbe,{g:e.geometry||e}),y=b.length;--y>-1;)$U(i2?b[y]:b[y][_+"Style"],i2?p:"color",c,this);else $U(e,p,c,this);else p==="autoAlpha"?(this._pt=new Ng(this._pt,e,"visible",0,0,ibe),this.add(e,"alpha",e.alpha,c),this._props.push("alpha","visible")):p!=="resolution"&&this.add(e,p,"get",c);this._props.push(p)}}};iW()&&Du.registerPlugin(cbe);class bw{constructor(e=0,r=0,n=0,s=0){this._x=Number(e),this._y=Number(r),this._width=Number(n),this._height=Number(s),this._hull=[new ze,new ze,new ze,new ze],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,r,n,s]=this._hull;e.set(this._x,this._y),r.set(this._x+this._width,this._y),n.set(this._x+this._width,this._y+this._height),s.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new bw(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}equals(e){return e?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:!1}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=a-s,this}}const VU=new ze;class V1{constructor(e=0,r=0,n=0,s=0,a=0){e instanceof bw&&(a=r||0,r=e.y,n=e.width,s=e.height,e=e.x),this.innerBounds=new bw(e,r,n,s),this._rotation=a,this._center=new ka(this.updateCenter,this),this._hull=[new ze,new ze,new ze,new ze],this._matrix=new er,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return e?this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation:!1}contains(e,r){typeof e=="number"&&(e=VU.set(e,r));const n=this._matrix.applyInverse(e,VU);return this.innerBounds.contains(n.x,n.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,r=this._rotation,n=this._center,[s,a,o,l]=this._hull,c=this._matrix;n._x=e.x+e.width/2,n._y=e.y+e.height/2,c.identity().translate(-n.x,-n.y).rotate(r).translate(n.x,n.y),c.apply(e.topLeft,s),c.apply(e.topRight,a),c.apply(e.bottomRight,o),c.apply(e.bottomLeft,l),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,r=this.innerBounds;r.x=e.x-r.width/2,r.y=e.y-r.height/2}}class GU{constructor(e,r){this._history=new Array(e),this._decayRatio=r,this._currentIndex=0;for(let n=0;n<e;n++)this._history[n]=0}next(e){const{_history:r,_decayRatio:n}=this,s=r.length;this._currentIndex=this._currentIndex<s-1?this._currentIndex+1:0,r[this._currentIndex]=e;let a=0,o=0;for(let l=this._currentIndex+1;l<s;l++)a=(a+r[l])*n,o=(o+1)*n;for(let l=0;l<=this._currentIndex;l++)a=(a+r[l])*n,o=(o+1)*n;return this._average=a/o,this._average}absDev(){let e=0;for(let r=0,n=this._history.length;r<n;r++)e+=Math.abs(this._history[r]-this._average);return e/this._history.length}}class ww{constructor(e={}){ww.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new GU(128,this._decayRatio),this._marginAverageProvider=new GU(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let r,n;Array.isArray(e)?(r=e,n=e.length):(n=e,r=new Array(n)),this._borrowRate+=n,this._flowRate+=n;let s=0;if(this._freeCount>0){const a=this._freeList,o=Math.min(this._freeCount,n);let l=this._freeCount;for(let c=0;c<o;c++)r[s]=a[l-1],++s,--l;this._freeCount=l}for(;s<n;)r[s]=this.create(),++s;return r}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let r=0,n=e.length;r<n;r++)this._freeList[this._freeCount]=e[r],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const r=this._freeCount-e;for(let n=0;n<r;n++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const n=Math.min(this._freeCount,this.capacity);for(let s=e;s<n;s++)this._freeList[s]=null}}startGC(e=En.shared){e.add(this._gcTick,null,Bo.UTILITY)}stopGC(e=En.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const r=this._freeCount,n=this._freeList.length;if(r<128&&this._borrowRateAverage<128&&n<128)return;const s=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>s+e){const a=s+e;this.capacity=Math.min(this._freeList.length,Math.ceil(a)),this._freeCount=this._freeList.length}}}}var BA;const HU=new Map;class uW{static build(e){let r=HU.get(e);return r||(r=new class extends ww{create(){return new e}},HU.set(e,r),r)}static buildFunctional(e){return new(BA=class extends ww{constructor(...n){super(...n),BA.prototype.__init.call(this)}__init(){this.create=e}},BA)}}const WU={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},dbe=hl;class fbe extends dbe{constructor(e,r,n={},s,a,o){super(),this.transformer=e;const l=Object.assign({},WU,n);this._handle=r,this._style=l,this.onHandleDelta=s,this.onHandleCommit=a,this._dirty=!0,this.interactive=!0,this.cursor=o||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new ze,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},WU,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,r=this._style,n=r.radius;if(this.clear().lineStyle(r.outlineThickness,r.outlineColor).beginFill(r.color),r.shape==="square")this.drawRect(-n/2,-n/2,n,n);else if(r.shape==="tooth")switch(e){case"middleLeft":this.drawPolygon([-n/2,-n/2,-n/2,n/2,n/2,n/2,n*1.1,0,n/2,-n/2]);break;case"topCenter":this.drawPolygon([-n/2,-n/2,n/2,-n/2,n/2,n/2,0,n*1.1,-n/2,n/2]);break;case"middleRight":this.drawPolygon([-n/2,n/2,-n*1.1,0,-n/2,-n/2,n/2,-n/2,n/2,n/2]);break;case"bottomCenter":this.drawPolygon([0,-n*1.1,n/2,-n/2,n/2,n/2,-n/2,n/2,-n/2,-n/2]);break;case"rotator":this.drawCircle(0,0,n/Math.sqrt(2));break;default:this.drawRect(-n/2,-n/2,n,n);break}else this.drawCircle(0,0,n);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const r=e.data.global;this.onHandleDelta&&this.onHandleDelta(r),this._pointerPosition.copyFrom(r)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function S0(t,e,r,n){const{x:s,y:a}=r,{x:o,y:l}=n;if(Math.abs(o-s)<.01)return Math.abs(t-s);if(Math.abs(l-a)<.01)return Math.abs(e-a);const c=(l-a)/(o-s);return Math.abs((c*t-e+(l-c*o))/Math.sqrt(c*c+1))}const KU=uW.build(ze),hbe=[new ze,new ze,new ze,new ze],pbe=new er,Df=new ze,mbe=[0,0,0,1,-1,1,-1,-1,1,-1,1,0],gbe=[0,0,-1,0,-1,-1,1,-1,1,1,0,1],vbe=[0,0,1,0,1,1,-1,1,-1,-1,0,-1],ybe=[0,0,0,-1,1,-1,1,1,-1,1,-1,0],FA=new Array(12),_be=[mbe,gbe,vbe,ybe],bbe=hl;class wbe extends bbe{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new hl),this.addChild(new hl),this.addChild(new hl),this.addChild(new hl)],this.boxScalingHandles.forEach(r=>{r.interactive=!0}),this.boxScalingHandles[0].cursor=sg.topCenter,this.boxScalingHandles[1].cursor=sg.middleRight,this.boxScalingHandles[2].cursor=sg.bottomCenter,this.boxScalingHandles[3].cursor=sg.middleLeft}hitHandleType(e,r,n){const{boxRotationEnabled:s,boxRotationTolerance:a,boxScalingEnabled:o,boxScalingTolerance:l}=this.transformer,[c,d,f,p]=e.hull,{x:g,y}=r.applyInverse(n,Df);if(o){const b=S0(g,y,c,d)*r.d,_=S0(g,y,c,p)*r.a,u=S0(g,y,d,f)*r.a,h=S0(g,y,p,f)*r.d,m=Math.min(b,_,u,h);if(m<l)switch(m){case b:return"topCenter";case _:return"middleLeft";case u:return"middleRight";case h:return"bottomCenter"}}if(s&&!e.contains(g,y)){const b=Math.sqrt((c.x-g)**2+(c.y-y)**2),_=Math.sqrt((d.x-g)**2+(d.y-y)**2),u=Math.sqrt((p.x-g)**2+(p.y-y)**2),h=Math.sqrt((f.x-g)**2+(f.y-y)**2),m=Math.min(b,_,u,h);if(m<a*1.45)switch(m){case b:return"boxRotateTopLeft";case _:return"boxRotateTopRight";case u:return"boxRotateBottomLeft";case h:return"boxRotateBottomRight"}}return null}drawBounds(e){const r=hbe;for(let n=0;n<4;n++)this.transformer.projectToLocal(e.hull[n],r[n]);this.drawPolygon(r)}drawBoxScalingTolerance(e,r=this.transformer.boxScalingTolerance){e.innerBounds.pad(-r);const n=KU.allocateArray(4);n.forEach((a,o)=>{this.projectToLocal(e.hull[o],a)}),e.innerBounds.pad(2.5*r);const s=KU.allocateArray(4);s.forEach((a,o)=>{this.projectToLocal(e.hull[o],a)}),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let a=0;a<4;a++){const o=n[a],l=n[(a+1)%4],c=s[a],d=s[(a+1)%4];this.boxScalingHandles[a].clear().beginFill(16777215,1e-4).drawPolygon(o,c,d,l).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:r,boxRotateBottomLeft:n,boxRotateBottomRight:s}=this.transformer.handleAnchors,a=this.transformer.boxRotationTolerance*2,o=pbe.identity().scale(a,a).rotate(this.transformer.getGroupBounds().rotation);for(let l=0;l<4;l++){const c=_be[l];let d;switch(l){case 0:d=e;break;case 1:d=r;break;case 2:d=n;break;case 3:d=s;break}for(let f=0;f<c.length;f+=2){const p=c[f],g=c[f+1];Df.set(p,g),o.apply(Df,Df),FA[f]=Df.x+d.x,FA[f+1]=Df.y+d.y}this.drawPolygon(FA.slice())}}projectToLocal(e,r){return this.transformer.projectToLocal(e,r)}}const cW=new er;function XU(t){const e=cW.identity();return e.c=Math.tan(t),e}function YU(t){const e=cW.identity();return e.b=Math.tan(t),e}function dW(t,e,r,n=t.pivot){const s=e.a,a=e.b,o=e.c,l=e.d,c=-Math.atan2(-o,l),d=Math.atan2(a,s);return r=r!=null?r:d,t.pivot.set(n.x,n.y),t.rotation=r,t.skew.x=r+c,t.skew.y=-r+d,t.scale.x=Math.sqrt(s*s+a*a),t.scale.y=Math.sqrt(o*o+l*l),t.position.x=e.tx+(n.x*e.a+n.y*e.c),t.position.y=e.ty+(n.x*e.b+n.y*e.d),t}const C0=new er,xbe=new er;function Ebe(t,e,r){if(!r){const a=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(a)}const n=t.worldTransform,s=t.parent?xbe.copyFrom(t.parent.worldTransform):er.IDENTITY;C0.copyFrom(n),C0.prepend(e),C0.prepend(s.invert()),dW(t.transform,C0)}const A0=new Np,Sbe=[new ze,new ze,new ze,new ze],Rf=new er,Of=new ze,MA=new V1,Cbe=new Bt,qU=[new ze,new ze,new ze,new ze],ZU=new ze,JU=new er,T0=uW.build(ze),sg={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},G1=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],QU={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},Abe=[...G1,"rotator","skewHorizontal","skewVertical"],Tbe=4,Pbe=16,Dbe=[Math.PI/4,Math.PI/2,Math.PI*3/4,Math.PI,0,-Math.PI/4,-Math.PI/2,-Math.PI*3/4,-Math.PI],Rbe=Math.PI/90,Obe=[Math.PI/4,-Math.PI/4],Ibe=Math.PI/90,e$={color:0,thickness:2},Bbe=ss;class zs extends Bbe{constructor(e={}){super(),zs.prototype.__init.call(this),zs.prototype.__init2.call(this),zs.prototype.__init3.call(this),zs.prototype.__init4.call(this),zs.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||Pbe,this.boxScalingTolerance=e.boxScalingTolerance||Tbe,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new er,this.lockAspectRatio=e.lockAspectRatio===!0,this.rotationSnaps=e.rotationSnaps||Dbe,this.rotationSnapTolerance=e.rotationSnapTolerance!==void 0?e.rotationSnapTolerance:Rbe,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||Obe,this.skewSnapTolerance=e.skewSnapTolerance!==void 0?e.skewSnapTolerance:Ibe,this.boxRotationEnabled=e.boxRotationEnabled===!0,this.boxScalingEnabled=e.boxScalingEnabled===!0,this._rotateEnabled=e.rotateEnabled!==!1,this._scaleEnabled=e.scaleEnabled!==!1,this._skewEnabled=e.skewEnabled===!0,this.translateEnabled=e.translateEnabled!==!1,this.transientGroupTilt=e.transientGroupTilt!==void 0?e.transientGroupTilt:!0,this.wireframe=this.addChild(new wbe(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},e$,e.wireframeStyle||{});const r=e.handleConstructor||fbe,n=e.handleStyle||{};this._handleStyle=n;const s={rotator:this.addChild(new r(this,"rotator",n,l=>{this.rotateGroup("rotator",l)},this.commitGroup))},a=G1.reduce((l,c)=>{const d=new r(this,c,n,null,this.commitGroup,sg[c]);return d.onHandleDelta=f=>{this.scaleGroup(d.handle,f)},d.visible=this._scaleEnabled,l[c]=d,this.addChild(l[c]),l},{}),o={skewHorizontal:this.addChild(new r(this,"skewHorizontal",n,l=>{this.skewGroup("skewHorizontal",l)},this.commitGroup,"pointer")),skewVertical:this.addChild(new r(this,"skewVertical",n,l=>{this.skewGroup("skewVertical",l)},this.commitGroup,"pointer"))};this.handles=Object.assign({},a,s,o),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new ze,boxRotateTopLeft:new ze,boxRotateTopRight:new ze,boxRotateBottomLeft:new ze,boxRotateBottomRight:new ze,topLeft:new ze,topCenter:new ze,topRight:new ze,middleLeft:new ze,middleCenter:new ze,middleRight:new ze,bottomLeft:new ze,bottomCenter:new ze,bottomRight:new ze,skewHorizontal:new ze,skewVertical:new ze},this.groupBounds=new V1,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new ze,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){!this._enabledHandles&&!e||(this._enabledHandles=e,Abe.forEach(r=>{this.handles[r].visible=!1}),e?e.forEach(r=>{this.handles[r].visible=!0}):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,G1.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=this._scaleEnabled)})))}get handleStyle(){return this._handleStyle}set handleStyle(e){const r=this.handles;for(const n in r)r[n].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;G1.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=e)})}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},e$,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const r=Rf.identity().translate(e.x,e.y);this.prependTransform(r)}}__init2(){this.rotateGroup=(e,r)=>{this._transformHandle=e,this._transformType="rotate";const n=this.groupBounds,s=this.worldTransform.apply(this.handleAnchors[e],Of);this.projectionTransform.applyInverse(s,s),r=this.projectionTransform.applyInverse(r,ZU);const a=n.center,o=Math.atan2(s.y-a.y,s.x-a.x);let c=Math.atan2(r.y-a.y,r.x-a.x)-o,d=this.groupBounds.rotation+c;d=this.snapAngle(d,this.rotationSnapTolerance,this.rotationSnaps),c=d-this.groupBounds.rotation;const f=Rf.identity().translate(-a.x,-a.y).rotate(c).translate(a.x,a.y);this.prependTransform(f,!0),this.updateGroupBounds(d),this._skewX+=c,this._skewY+=c}}__init3(){this.scaleGroup=(e,r)=>{this._transformHandle=e,this._transformType="scale";const n=QU[e].x,s=QU[e].y,a=this.handles,o=this.groupBounds,l=o.rotation,c=o.innerBounds,d=this.worldTransform.apply(this.handleAnchors[e],Of);this.projectionTransform.applyInverse(d,d),r=this.projectionTransform.applyInverse(r,ZU);const f=r.x-d.x,p=r.y-d.y,g=(o.topRight.x-o.topLeft.x)/c.width,y=(o.topRight.y-o.topLeft.y)/c.width,b=(o.bottomLeft.x-o.topLeft.x)/c.height,_=(o.bottomLeft.y-o.topLeft.y)/c.height,u=f*g+p*y,h=f*b+p*_;let m=1+u*n/c.width,v=1+h*s/c.height;this.lockAspectRatio&&(e==="topLeft"||e==="topRight"||e==="bottomLeft"||e==="bottomRight")&&(m>v?v=m:m=v);const x=Rf.identity();if(n!==0&&m!==0){const S=this.centeredScaling?o.center:n===1?o.topLeft:o.topRight;x.translate(-S.x,-S.y).rotate(-l).scale(m,1).rotate(l).translate(S.x,S.y)}if(s!==0&&v!==0){const S=this.centeredScaling?o.center:s===1?o.topLeft:o.bottomLeft;x.translate(-S.x,-S.y).rotate(-l).scale(1,v).rotate(l).translate(S.x,S.y)}if((v<0||m<0)&&!(v<0&&m<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(a.topLeft,a.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(a.topCenter,a.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(a.topRight,a.bottomRight);break}this.prependTransform(x)}}__init4(){this.skewGroup=(e,r)=>{this._transformHandle=e,this._transformType="skew";const n=this.groupBounds,s=Of.copyFrom(r);this.projectionTransform.applyInverse(s,s);const a=n.center,o=Rf.identity().translate(-a.x,-a.y);let l=this.groupBounds.rotation;if(e==="skewHorizontal"){const c=this._skewX;this._skewX=Math.atan2(s.y-a.y,s.x-a.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),o.prepend(YU(-c)),o.prepend(YU(this._skewX))}else{const c=this._skewY,d=Math.atan2(s.y-a.y,s.x-a.x)-Math.PI/2;this._skewY=d,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),o.prepend(XU(c)),o.prepend(XU(-this._skewY)),l-=this._skewY-c}o.translate(a.x,a.y),this.prependTransform(o,!0),this.updateGroupBounds(l)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",this.transientGroupTilt!==!1&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:r,thickness:n}=this._wireframeStyle;this.wireframe.clear(),this.boundingBoxes!=="none"&&this.wireframe.lineStyle(n,r),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let a=0,o=e.length;a<o&&this.boundingBoxes==="all";a++)this.wireframe.drawBounds(zs.calculateOrientedBounds(e[a],MA));const s=e.length!==1?zs.calculateGroupOrientedBounds(e,this.groupBounds.rotation,MA,!0):zs.calculateOrientedBounds(e[0],MA);this.wireframe.drawBounds(s),this.drawHandles(s),this.groupBounds.copyFrom(s),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(s)),this.lazyDirty=!1}drawHandles(e){const r=this.handles,n=this.handleAnchors,{topLeft:s,topRight:a,bottomLeft:o,bottomRight:l,center:c}=e,[d,f,p,g]=qU,y=Of;if(this.projectToLocal(s,d),this.projectToLocal(a,f),this.projectToLocal(o,p),this.projectToLocal(l,g),this.projectToLocal(c,y),n.topLeft.copyFrom(d),n.topCenter.set((d.x+f.x)/2,(d.y+f.y)/2),n.topRight.copyFrom(f),n.middleLeft.set((d.x+p.x)/2,(d.y+p.y)/2),n.middleCenter.set((d.x+g.x)/2,(d.y+g.y)/2),n.middleRight.set((f.x+g.x)/2,(f.y+g.y)/2),n.bottomLeft.copyFrom(p),n.bottomCenter.set((p.x+g.x)/2,(p.y+g.y)/2),n.bottomRight.copyFrom(g),this.boxRotationEnabled&&(n.boxRotateTopLeft.copyFrom(n.topLeft),n.boxRotateTopRight.copyFrom(n.topRight),n.boxRotateBottomLeft.copyFrom(n.bottomLeft),n.boxRotateBottomRight.copyFrom(n.bottomRight)),this._rotateEnabled){const b=(d.x+f.x)/2,_=(d.y+f.y)/2;let u=-(d.y-f.y),h=d.x-f.x;const m=Math.sqrt(u*u+h*h);u*=32/m,h*=32/m,r.rotator.position.x=b+u,r.rotator.position.y=_+h,this.wireframe.moveTo(b,_).lineTo(r.rotator.position.x,r.rotator.position.y),this.handleAnchors.rotator.copyFrom(r.rotator.position)}if(this._skewEnabled){const b=y.x,_=y.y;this.worldTransform.apply(y,y),n.skewHorizontal.set(y.x+Math.cos(this._skewX)*this.skewRadius,y.y+Math.sin(this._skewX)*this.skewRadius),n.skewVertical.set(y.x+-Math.sin(this._skewY)*this.skewRadius,y.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(n.skewHorizontal,n.skewHorizontal),this.worldTransform.applyInverse(n.skewVertical,n.skewVertical),y.set(b,_),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(y.x,y.y,this.wireframeStyle.thickness*2).endFill(),this.wireframe.moveTo(y.x,y.y).lineTo(r.skewHorizontal.x,r.skewHorizontal.y).moveTo(y.x,y.y).lineTo(r.skewVertical.x,r.skewVertical.y)}for(const b in r){let _=this.groupBounds.rotation;b==="skewHorizontal"?_=this._skewX:b==="skewVertical"&&(_=this._skewY);const u=r[b];u.rotation=_,u.position.copyFrom(n[b]),u.getBounds(!1,Cbe)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const r=this._pointerPosition,n=T0.allocate().copyFrom(e.data.global),s=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n);if(!this._pointerDown)this.setCursorFromHoveredHandle(s);else{const a=n.x,o=n.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,n);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,n);break;default:if(this.translateEnabled){const[l,c,d]=qU;l.set(0,0),c.set(n.x-r.x,n.y-r.y),this.projectionTransform.applyInverse(l,l),this.projectionTransform.applyInverse(c,c),d.set(c.x-l.x,c.y-l.y),this.translateGroup(d)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n),this.setCursorFromHoveredHandle(s);this._pointerPosition.x=a,this._pointerPosition.y=o,this._pointerDragging=!0,e.stopPropagation()}T0.release(n)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,r=!1){const n=this.group;for(let s=0,a=n.length;s<a;s++)Ebe(n[s],e,!1);JU.copyFrom(e),r||this.updateGroupBounds(),this.emit("transformchange",JU)}updateGroupBounds(e=this.groupBounds.rotation){zs.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,r,n){if(e=e%(Math.PI*2),!n||n.length===1||!r)return e;for(let s=0,a=n.length;s<a;s++)if(Math.abs(e-n[s])<=r)return n[s];return e}swapHandles(e,r){const n=e.handle,s=r.handle,a=e.cursor,o=r.cursor,l=e.x,c=r.x,d=e.y,f=r.y;e.handle=s,r.handle=n,e.position.set(c,f),r.position.set(l,d),e.cursor=o,r.cursor=a,this.handles[n]=r,this.handles[s]=e,this._transformHandle===n?this._transformHandle=s:this._transformHandle===s&&(this._transformHandle=n)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default;break}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,r){return r||(r=new ze),this.projectionTransform.apply(e,r),this.worldTransform.applyInverse(r,r),r}static calculateTransformedCorners(e,r=e.worldTransform,n,s=0){const a=e.getLocalBounds();return e.getBounds(),n=n||[new ze,new ze,new ze,new ze],n[s].set(a.x,a.y),n[s+1].set(a.x+a.width,a.y),n[s+2].set(a.x+a.width,a.y+a.height),n[s+3].set(a.x,a.y+a.height),r.apply(n[s],n[s]),r.apply(n[s+1],n[s+1]),r.apply(n[s+2],n[s+2]),r.apply(n[s+3],n[s+3]),n}static calculateOrientedBounds(e,r){const n=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(n),dW(A0,e.worldTransform),A0.updateLocalTransform();const s=A0.rotation,a=zs.calculateTransformedCorners(e,e.worldTransform,Sbe),o=(a[0].x+a[1].x+a[2].x+a[3].x)/4,l=(a[0].y+a[1].y+a[2].y+a[3].y)/4,c=Rf.identity().translate(-o,-l).rotate(-A0.rotation).translate(o,l);return c.apply(a[0],a[0]),c.apply(a[1],a[1]),c.apply(a[2],a[2]),c.apply(a[3],a[3]),r=r||new V1,r.rotation=s,r.innerBounds.x=Math.min(a[0].x,a[1].x,a[2].x,a[3].x),r.innerBounds.y=Math.min(a[0].y,a[1].y,a[2].y,a[3].y),r.innerBounds.width=Math.max(a[0].x,a[1].x,a[2].x,a[3].x)-r.innerBounds.x,r.innerBounds.height=Math.max(a[0].y,a[1].y,a[2].y,a[3].y)-r.innerBounds.y,r}static calculateGroupOrientedBounds(e,r,n,s=!1){const a=e.length,o=T0.allocateArray(a*4);for(let g=0;g<a;g++){const y=e[g];if(!s){const b=y.parent?y.parent:y.enableTempParent();y.updateTransform(),y.disableTempParent(b)}zs.calculateTransformedCorners(y,y.worldTransform,o,g*4)}const l=Rf.identity().rotate(-r);let c=Number.MAX_VALUE,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let g=0,y=o.length;g<y;g++){const b=o[g];l.apply(b,b);const _=b.x,u=b.y;c=_<c?_:c,d=u<d?u:d,f=_>f?_:f,p=u>p?u:p}return T0.releaseArray(o),n=n||new V1,n.innerBounds.x=c,n.innerBounds.y=d,n.innerBounds.width=f-c,n.innerBounds.height=p-d,n.rotation=r,l.applyInverse(n.center,Of),n.center.copyFrom(Of),n}}var fW=Symbol.for("immer-nothing"),t$=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Qs(t,...e){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var Hv=Object.getPrototypeOf;function jd(t){return!!t&&!!t[fr]}function Rl(t){var e;return t?hW(t)||Array.isArray(t)||!!t[t$]||!!((e=t.constructor)!=null&&e[t$])||Yy(t)||RE(t):!1}var Fbe=Object.prototype.constructor.toString(),r$=new WeakMap;function hW(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=r$.get(r);return n===void 0&&(n=Function.toString.call(r),r$.set(r,n)),n===Fbe}function Wv(t,e,r=!0){DE(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((n,s)=>e(s,n,t))}function DE(t){const e=t[fr];return e?e.type_:Array.isArray(t)?1:Yy(t)?2:RE(t)?3:0}function o2(t,e){return DE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function pW(t,e,r){const n=DE(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Mbe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yy(t){return t instanceof Map}function RE(t){return t instanceof Set}function zn(t){return t.copy_||t.base_}function l2(t,e){if(Yy(t))return new Map(t);if(RE(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=hW(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[fr];let s=Reflect.ownKeys(n);for(let a=0;a<s.length;a++){const o=s[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Hv(t),n)}else{const n=Hv(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function CB(t,e=!1){return OE(t)||jd(t)||!Rl(t)||(DE(t)>1&&Object.defineProperties(t,{set:P0,add:P0,clear:P0,delete:P0}),Object.freeze(t),e&&Object.values(t).forEach(r=>CB(r,!0))),t}function kbe(){Qs(2)}var P0={value:kbe};function OE(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var u2={};function zd(t){const e=u2[t];return e||Qs(0,t),e}function Nbe(t,e){u2[t]||(u2[t]=e)}var Kv;function xw(){return Kv}function Lbe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function n$(t,e){e&&(zd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function c2(t){d2(t),t.drafts_.forEach(Ube),t.drafts_=null}function d2(t){t===Kv&&(Kv=t.parent_)}function i$(t){return Kv=Lbe(Kv,t)}function Ube(t){const e=t[fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function s$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[fr].modified_&&(c2(e),Qs(4)),Rl(t)&&(t=Ew(e,t),e.parent_||Sw(e,t)),e.patches_&&zd("Patches").generateReplacementPatches_(r[fr].base_,t,e.patches_,e.inversePatches_)):t=Ew(e,r,[]),c2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fW?t:void 0}function Ew(t,e,r){if(OE(e))return e;const n=t.immer_.shouldUseStrictIteration(),s=e[fr];if(!s)return Wv(e,(a,o)=>a$(t,s,e,a,o,r),n),e;if(s.scope_!==t)return e;if(!s.modified_)return Sw(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let o=a,l=!1;s.type_===3&&(o=new Set(a),a.clear(),l=!0),Wv(o,(c,d)=>a$(t,s,a,c,d,r,l),n),Sw(t,a,!1),r&&t.patches_&&zd("Patches").generatePatches_(s,r,t.patches_,t.inversePatches_)}return s.copy_}function a$(t,e,r,n,s,a,o){if(s==null||typeof s!="object"&&!o)return;const l=OE(s);if(!(l&&!o)){if(jd(s)){const c=a&&e&&e.type_!==3&&!o2(e.assigned_,n)?a.concat(n):void 0,d=Ew(t,s,c);if(pW(r,n,d),jd(d))t.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Rl(s)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===s&&l)return;Ew(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Yy(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Sw(t,s)}}}function Sw(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CB(e,r)}function $be(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:xw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,a=AB;r&&(s=[n],a=Xv);const{revoke:o,proxy:l}=Proxy.revocable(s,a);return n.draft_=l,n.revoke_=o,l}var AB={get(t,e){if(e===fr)return t;const r=zn(t);if(!o2(r,e))return jbe(t,r,e);const n=r[e];return t.finalized_||!Rl(n)?n:n===kA(t.base_,e)?(NA(t),t.copy_[e]=Yv(n,t)):n},has(t,e){return e in zn(t)},ownKeys(t){return Reflect.ownKeys(zn(t))},set(t,e,r){const n=mW(zn(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=kA(zn(t),e),a=s==null?void 0:s[fr];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Mbe(r,s)&&(r!==void 0||o2(t.base_,e)))return!0;NA(t),al(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,NA(t),al(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=zn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Qs(11)},getPrototypeOf(t){return Hv(t.base_)},setPrototypeOf(){Qs(12)}},Xv={};Wv(AB,(t,e)=>{Xv[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xv.deleteProperty=function(t,e){return Xv.set.call(this,t,e,void 0)};Xv.set=function(t,e,r){return AB.set.call(this,t[0],e,r,t[0])};function kA(t,e){const r=t[fr];return(r?zn(r):t)[e]}function jbe(t,e,r){var s;const n=mW(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function mW(t,e){if(!(e in t))return;let r=Hv(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Hv(r)}}function al(t){t.modified_||(t.modified_=!0,t.parent_&&al(t.parent_))}function NA(t){t.copy_||(t.copy_=l2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zbe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(c=a,...d){return o.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&Qs(6),n!==void 0&&typeof n!="function"&&Qs(7);let s;if(Rl(e)){const a=i$(this),o=Yv(e,void 0);let l=!0;try{s=r(o),l=!1}finally{l?c2(a):d2(a)}return n$(a,n),s$(s,a)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===fW&&(s=void 0),this.autoFreeze_&&CB(s,!0),n){const a=[],o=[];zd("Patches").generateReplacementPatches_(e,s,a,o),n(a,o)}return s}else Qs(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let n,s;return[this.produce(e,r,(o,l)=>{n=o,s=l}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Rl(t)||Qs(8),jd(t)&&(t=Vbe(t));const e=i$(this),r=Yv(t,void 0);return r[fr].isManual_=!0,d2(e),r}finishDraft(t,e){const r=t&&t[fr];(!r||!r.isManual_)&&Qs(9);const{scope_:n}=r;return n$(n,e),s$(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=zd("Patches").applyPatches_;return jd(t)?n(t,e):this.produce(t,s=>n(s,e))}};function Yv(t,e){const r=Yy(t)?zd("MapSet").proxyMap_(t,e):RE(t)?zd("MapSet").proxySet_(t,e):$be(t,e);return(e?e.scope_:xw()).drafts_.push(r),r}function Vbe(t){return jd(t)||Qs(10,t),gW(t)}function gW(t){if(!Rl(t)||OE(t))return t;const e=t[fr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=l2(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=l2(t,!0);return Wv(r,(s,a)=>{pW(r,s,gW(a))},n),e&&(e.finalized_=!1),r}function Gbe(){class t extends Map{constructor(c,d){super(),this[fr]={type_:2,parent_:d,scope_:d?d.scope_:xw(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return zn(this[fr]).size}has(c){return zn(this[fr]).has(c)}set(c,d){const f=this[fr];return o(f),(!zn(f).has(c)||zn(f).get(c)!==d)&&(r(f),al(f),f.assigned_.set(c,!0),f.copy_.set(c,d),f.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const d=this[fr];return o(d),r(d),al(d),d.base_.has(c)?d.assigned_.set(c,!1):d.assigned_.delete(c),d.copy_.delete(c),!0}clear(){const c=this[fr];o(c),zn(c).size&&(r(c),al(c),c.assigned_=new Map,Wv(c.base_,d=>{c.assigned_.set(d,!1)}),c.copy_.clear())}forEach(c,d){const f=this[fr];zn(f).forEach((p,g,y)=>{c.call(d,this.get(g),g,this)})}get(c){const d=this[fr];o(d);const f=zn(d).get(c);if(d.finalized_||!Rl(f)||f!==d.base_.get(c))return f;const p=Yv(f,d);return r(d),d.copy_.set(c,p),p}keys(){return zn(this[fr]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=c.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=c.next();if(d.done)return d;const f=this.get(d.value);return{done:!1,value:[d.value,f]}}}}[Symbol.iterator](){return this.entries()}}function e(l,c){return new t(l,c)}function r(l){l.copy_||(l.assigned_=new Map,l.copy_=new Map(l.base_))}class n extends Set{constructor(c,d){super(),this[fr]={type_:3,parent_:d,scope_:d?d.scope_:xw(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return zn(this[fr]).size}has(c){const d=this[fr];return o(d),d.copy_?!!(d.copy_.has(c)||d.drafts_.has(c)&&d.copy_.has(d.drafts_.get(c))):d.base_.has(c)}add(c){const d=this[fr];return o(d),this.has(c)||(a(d),al(d),d.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const d=this[fr];return o(d),a(d),al(d),d.copy_.delete(c)||(d.drafts_.has(c)?d.copy_.delete(d.drafts_.get(c)):!1)}clear(){const c=this[fr];o(c),zn(c).size&&(a(c),al(c),c.copy_.clear())}values(){const c=this[fr];return o(c),a(c),c.copy_.values()}entries(){const c=this[fr];return o(c),a(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,d){const f=this.values();let p=f.next();for(;!p.done;)c.call(d,p.value,p.value,this),p=f.next()}}function s(l,c){return new n(l,c)}function a(l){l.copy_||(l.copy_=new Set,l.base_.forEach(c=>{if(Rl(c)){const d=Yv(c,l);l.drafts_.set(c,d),l.copy_.add(d)}else l.copy_.add(c)}))}function o(l){l.revoked_&&Qs(3,JSON.stringify(zn(l)))}Nbe("MapSet",{proxyMap_:e,proxySet_:s})}var Vd=new zbe,qy=Vd.produce,Hbe=Vd.setAutoFreeze.bind(Vd),o$=Vd.createDraft.bind(Vd),l$=Vd.finishDraft.bind(Vd);const Wbe=t=>(e,r,n)=>(n.setState=(s,a,...o)=>{const l=typeof s=="function"?qy(s):s;return e(l,a,...o)},t(n.setState,r,n)),LYe=Wbe;function u$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zy(...t){return e=>{let r=!1;const n=t.map(s=>{const a=u$(s,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():u$(t[s],null)}}}}function Et(...t){return C.useCallback(Zy(...t),t)}function Gd(t){const e=Kbe(t),r=C.forwardRef((n,s)=>{const{children:a,...o}=n,l=C.Children.toArray(a),c=l.find(Xbe);if(c){const d=c.props.children,f=l.map(p=>p===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:p);return k.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return k.jsx(e,{...o,ref:s,children:a})});return r.displayName="".concat(t,".Slot"),r}function Kbe(t){const e=C.forwardRef((r,n)=>{const{children:s,...a}=r;if(C.isValidElement(s)){const o=qbe(s),l=Ybe(a,s.props);return s.type!==C.Fragment&&(l.ref=n?Zy(n,o):o),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName="".concat(t,".SlotClone"),e}var vW=Symbol("radix.slottable");function yW(t){const e=({children:r})=>k.jsx(k.Fragment,{children:r});return e.displayName="".concat(t,".Slottable"),e.__radixId=vW,e}function Xbe(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vW}function Ybe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function qbe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Zbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=Zbe.reduce((t,e)=>{const r=Gd("Primitive.".concat(e)),n=C.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(c,{...l,ref:a})});return n.displayName="Primitive.".concat(e),{...t,[e]:n}},{});function TB(t,e){t&&Ul.flushSync(()=>t.dispatchEvent(e))}var Zn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function Jbe(t,e){return C.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var Jn=t=>{const{present:e,children:r}=t,n=Qbe(e),s=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),a=Et(n.ref,ewe(s));return typeof r=="function"||n.isPresent?C.cloneElement(s,{ref:a}):null};Jn.displayName="Presence";function Qbe(t){const[e,r]=C.useState(),n=C.useRef(null),s=C.useRef(t),a=C.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Jbe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=D0(n.current);a.current=l==="mounted"?d:"none"},[l]),Zn(()=>{const d=n.current,f=s.current;if(f!==t){const g=a.current,y=D0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Zn(()=>{var d;if(e){let f;const p=(d=e.ownerDocument.defaultView)!=null?d:window,g=b=>{const u=D0(n.current).includes(CSS.escape(b.animationName));if(b.target===e&&u&&(c("ANIMATION_END"),!s.current)){const h=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=h)})}},y=b=>{b.target===e&&(a.current=D0(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function D0(t){return(t==null?void 0:t.animationName)||"none"}function ewe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function twe(t,e){const r=C.createContext(e),n=a=>{const{children:o,...l}=a,c=C.useMemo(()=>l,Object.values(l));return k.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=C.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error("`".concat(a,"` must be used within `").concat(t,"`"))}return[n,s]}function Qn(t,e=[]){let r=[];function n(a,o){const l=C.createContext(o),c=r.length;r=[...r,o];const d=p=>{var h;const{scope:g,children:y,...b}=p,_=((h=g==null?void 0:g[t])==null?void 0:h[c])||l,u=C.useMemo(()=>b,Object.values(b));return k.jsx(_.Provider,{value:u,children:y})};d.displayName=a+"Provider";function f(p,g){var _;const y=((_=g==null?void 0:g[t])==null?void 0:_[c])||l,b=C.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error("`".concat(p,"` must be used within `").concat(a,"`"))}return[d,f]}const s=()=>{const a=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return C.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,rwe(s,...e)]}function rwe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const p=c(a)["__scope".concat(d)];return{...l,...p}},{});return C.useMemo(()=>({["__scope".concat(e.scopeName)]:o}),[o])}};return r.scopeName=e.scopeName,r}function ln(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var nwe=C.createContext(void 0);function zl(t){const e=C.useContext(nwe);return t||e||"ltr"}function qv(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ce(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function iwe(t,e){return C.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var PB="ScrollArea",[_W,UYe]=Qn(PB),[swe,ga]=_W(PB),bW=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=C.useState(null),[d,f]=C.useState(null),[p,g]=C.useState(null),[y,b]=C.useState(null),[_,u]=C.useState(null),[h,m]=C.useState(0),[v,w]=C.useState(0),[x,S]=C.useState(!1),[E,P]=C.useState(!1),T=Et(e,R=>c(R)),A=zl(s);return k.jsx(swe,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:f,content:p,onContentChange:g,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:x,onScrollbarXEnabledChange:S,scrollbarY:_,onScrollbarYChange:u,scrollbarYEnabled:E,onScrollbarYEnabledChange:P,onCornerWidthChange:m,onCornerHeightChange:w,children:k.jsx(rt.div,{dir:A,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":h+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});bW.displayName=PB;var wW="ScrollAreaViewport",xW=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=t,o=ga(wW,r),l=C.useRef(null),c=Et(e,l,o.onViewportChange);return k.jsxs(k.Fragment,{children:[k.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),k.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:k.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});xW.displayName=wW;var Lo="ScrollAreaScrollbar",awe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ga(Lo,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return C.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?k.jsx(owe,{...n,ref:e,forceMount:r}):s.type==="scroll"?k.jsx(lwe,{...n,ref:e,forceMount:r}):s.type==="auto"?k.jsx(EW,{...n,ref:e,forceMount:r}):s.type==="always"?k.jsx(DB,{...n,ref:e}):null});awe.displayName=Lo;var owe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ga(Lo,t.__scopeScrollArea),[a,o]=C.useState(!1);return C.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),k.jsx(Jn,{present:r||a,children:k.jsx(EW,{"data-state":a?"visible":"hidden",...n,ref:e})})}),lwe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ga(Lo,t.__scopeScrollArea),a=t.orientation==="horizontal",o=BE(()=>c("SCROLL_END"),100),[l,c]=iwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),C.useEffect(()=>{const d=s.viewport,f=a?"scrollLeft":"scrollTop";if(d){let p=d[f];const g=()=>{const y=d[f];p!==y&&(c("SCROLL"),o()),p=y};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[s.viewport,a,c,o]),k.jsx(Jn,{present:r||l!=="hidden",children:k.jsx(DB,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),EW=C.forwardRef((t,e)=>{const r=ga(Lo,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=C.useState(!1),l=t.orientation==="horizontal",c=BE(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:f)}},10);return yp(r.viewport,c),yp(r.content,c),k.jsx(Jn,{present:n||a,children:k.jsx(DB,{"data-state":a?"visible":"hidden",...s,ref:e})})}),DB=C.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=ga(Lo,t.__scopeScrollArea),a=C.useRef(null),o=C.useRef(0),[l,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=TW(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,y){return mwe(g,o.current,l,y)}return r==="horizontal"?k.jsx(uwe,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const g=s.viewport.scrollLeft,y=c$(g,l,s.dir);a.current.style.transform="translate3d(".concat(y,"px, 0, 0)")}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=p(g,s.dir))}}):r==="vertical"?k.jsx(cwe,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const g=s.viewport.scrollTop,y=c$(g,l);a.current.style.transform="translate3d(0, ".concat(y,"px, 0)")}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=p(g))}}):null}),uwe=C.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=ga(Lo,t.__scopeScrollArea),[o,l]=C.useState(),c=C.useRef(null),d=Et(e,c,a.onScrollbarXChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),k.jsx(CW,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":IE(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),DW(g,p)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Aw(o.paddingLeft),paddingEnd:Aw(o.paddingRight)}})}})}),cwe=C.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=ga(Lo,t.__scopeScrollArea),[o,l]=C.useState(),c=C.useRef(null),d=Et(e,c,a.onScrollbarYChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),k.jsx(CW,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":IE(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),DW(g,p)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Aw(o.paddingTop),paddingEnd:Aw(o.paddingBottom)}})}})}),[dwe,SW]=_W(Lo),CW=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:p,...g}=t,y=ga(Lo,r),[b,_]=C.useState(null),u=Et(e,T=>_(T)),h=C.useRef(null),m=C.useRef(""),v=y.viewport,w=n.content-n.viewport,x=ln(f),S=ln(c),E=BE(p,10);function P(T){if(h.current){const A=T.clientX-h.current.left,R=T.clientY-h.current.top;d({x:A,y:R})}}return C.useEffect(()=>{const T=A=>{const R=A.target;(b==null?void 0:b.contains(R))&&x(A,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[v,b,w,x]),C.useEffect(S,[n,S]),yp(b,E),yp(y.content,E),k.jsx(dwe,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:ln(a),onThumbPointerUp:ln(o),onThumbPositionChange:S,onThumbPointerDown:ln(l),children:k.jsx(rt.div,{...g,ref:u,style:{position:"absolute",...g.style},onPointerDown:Ce(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),h.current=b.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(T))}),onPointerMove:Ce(t.onPointerMove,P),onPointerUp:Ce(t.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=m.current,y.viewport&&(y.viewport.style.scrollBehavior=""),h.current=null})})})}),Cw="ScrollAreaThumb",fwe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=SW(Cw,t.__scopeScrollArea);return k.jsx(Jn,{present:r||s.hasThumb,children:k.jsx(hwe,{ref:e,...n})})}),hwe=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=ga(Cw,r),o=SW(Cw,r),{onThumbPositionChange:l}=o,c=Et(e,p=>o.onThumbChange(p)),d=C.useRef(void 0),f=BE(()=>{d.current&&(d.current(),d.current=void 0)},100);return C.useEffect(()=>{const p=a.viewport;if(p){const g=()=>{if(f(),!d.current){const y=gwe(p,l);d.current=y,l()}};return l(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[a.viewport,f,l]),k.jsx(rt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(t.onPointerDownCapture,p=>{const y=p.target.getBoundingClientRect(),b=p.clientX-y.left,_=p.clientY-y.top;o.onThumbPointerDown({x:b,y:_})}),onPointerUp:Ce(t.onPointerUp,o.onThumbPointerUp)})});fwe.displayName=Cw;var RB="ScrollAreaCorner",AW=C.forwardRef((t,e)=>{const r=ga(RB,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?k.jsx(pwe,{...t,ref:e}):null});AW.displayName=RB;var pwe=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=ga(RB,r),[a,o]=C.useState(0),[l,c]=C.useState(0),d=!!(a&&l);return yp(s.scrollbarX,()=>{var p;const f=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),yp(s.scrollbarY,()=>{var p;const f=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),d?k.jsx(rt.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Aw(t){return t?parseInt(t,10):0}function TW(t,e){const r=t/e;return isNaN(r)?0:r}function IE(t){const e=TW(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function mwe(t,e,r,n="ltr"){const s=IE(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,p=n==="ltr"?[0,f]:[f*-1,0];return PW([c,d],p)(t)}function c$(t,e,r="ltr"){const n=IE(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],d=qv(t,c);return PW([0,o],[0,l])(d)}function PW(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function DW(t,e){return t>0&&t<e}var gwe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function BE(t,e){const r=ln(t),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function yp(t,e){const r=ln(e);Zn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var $Ye=bW,jYe=xW,zYe=AW;const d$=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,f2=np,VYe=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return f2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],p=a==null?void 0:a[d];if(f===null)return null;const g=d$(f)||d$(p);return s[d][g]}),l=r&&Object.entries(r).reduce((d,f)=>{let[p,g]=f;return g===void 0||(d[p]=g),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:p,className:g,...y}=f;return Object.entries(y).every(b=>{let[_,u]=b;return Array.isArray(u)?u.includes({...a,...l}[_]):{...a,...l}[_]===u})?[...d,p,g]:d},[]);return f2(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vwe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RW=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ywe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _we=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...ywe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:RW("lucide",s),...l},[...o.map(([d,f])=>C.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=C.forwardRef(({className:n,...s},a)=>C.createElement(_we,{ref:a,iconNode:e,className:RW("lucide-".concat(vwe(t)),n),...s}));return r.displayName="".concat(t),r};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GYe=De("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HYe=De("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WYe=De("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KYe=De("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XYe=De("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YYe=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qYe=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZYe=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JYe=De("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QYe=De("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eqe=De("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tqe=De("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rqe=De("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nqe=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iqe=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sqe=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aqe=De("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oqe=De("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lqe=De("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uqe=De("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cqe=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dqe=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fqe=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hqe=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pqe=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mqe=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gqe=De("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vqe=De("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yqe=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _qe=De("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bqe=De("FlipHorizontal2",[["path",{d:"m3 7 5 5-5 5V7",key:"couhi7"}],["path",{d:"m21 7-5 5 5 5V7",key:"6ouia7"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wqe=De("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xqe=De("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eqe=De("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sqe=De("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cqe=De("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aqe=De("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tqe=De("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pqe=De("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dqe=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rqe=De("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oqe=De("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iqe=De("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bqe=De("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fqe=De("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mqe=De("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kqe=De("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nqe=De("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lqe=De("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uqe=De("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $qe=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jqe=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zqe=De("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vqe=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gqe=De("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hqe=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wqe=De("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kqe=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xqe=De("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yqe=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qqe=De("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zqe=De("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jqe=De("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qqe=De("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZe=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZe=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZe=De("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZe=De("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZe=De("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZe=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZe=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZe=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZe=De("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZe=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZe=De("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZe=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZe=De("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZe=De("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZe=De("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZe=De("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZe=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZe=De("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZe=De("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ze=De("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZe=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZe=De("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZe=De("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZe=De("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZe=De("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZe=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZe=De("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZe=De("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZe=De("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZe=De("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZe=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var bwe=Ty[" useInsertionEffect ".trim().toString()]||Zn;function wi({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,a,o]=wwe({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const p=f.current;if(p!==l){const g=p?"controlled":"uncontrolled",y=l?"controlled":"uncontrolled";console.warn("".concat(n," is changing from ").concat(g," to ").concat(y,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}f.current=l},[l,n])}const d=C.useCallback(f=>{var p;if(l){const g=xwe(f)?f(t):f;g!==t&&((p=o.current)==null||p.call(o,g))}else a(f)},[l,t,a,o]);return[c,d]}function wwe({defaultProp:t,onChange:e}){const[r,n]=C.useState(t),s=C.useRef(r),a=C.useRef(e);return bwe(()=>{a.current=e},[e]),C.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function xwe(t){return typeof t=="function"}function zp(t){const e=t+"CollectionProvider",[r,n]=Qn(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:u,children:h}=_,m=q.useRef(null),v=q.useRef(new Map).current;return k.jsx(s,{scope:u,itemMap:v,collectionRef:m,children:h})};o.displayName=e;const l=t+"CollectionSlot",c=Gd(l),d=q.forwardRef((_,u)=>{const{scope:h,children:m}=_,v=a(l,h),w=Et(u,v.collectionRef);return k.jsx(c,{ref:w,children:m})});d.displayName=l;const f=t+"CollectionItemSlot",p="data-radix-collection-item",g=Gd(f),y=q.forwardRef((_,u)=>{const{scope:h,children:m,...v}=_,w=q.useRef(null),x=Et(u,w),S=a(f,h);return q.useEffect(()=>(S.itemMap.set(w,{ref:w,...v}),()=>void S.itemMap.delete(w))),k.jsx(g,{[p]:"",ref:x,children:m})});y.displayName=f;function b(_){const u=a(t+"CollectionConsumer",_);return q.useCallback(()=>{const m=u.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll("[".concat(p,"]")));return Array.from(u.itemMap.values()).sort((S,E)=>v.indexOf(S.ref.current)-v.indexOf(E.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},b,n]}function Ewe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t);C.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Swe="DismissableLayer",h2="dismissableLayer.update",Cwe="dismissableLayer.pointerDownOutside",Awe="dismissableLayer.focusOutside",f$,OW=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ff=C.forwardRef((t,e)=>{var E;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=C.useContext(OW),[f,p]=C.useState(null),g=(E=f==null?void 0:f.ownerDocument)!=null?E:globalThis==null?void 0:globalThis.document,[,y]=C.useState({}),b=Et(e,P=>p(P)),_=Array.from(d.layers),[u]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=_.indexOf(u),m=f?_.indexOf(f):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,w=m>=h,x=Pwe(P=>{const T=P.target,A=[...d.branches].some(R=>R.contains(T));!w||A||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},g),S=Dwe(P=>{const T=P.target;[...d.branches].some(R=>R.contains(T))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},g);return Ewe(P=>{m===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},g),C.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(f$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),h$(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=f$)}},[f,g,r,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),h$())},[f,d]),C.useEffect(()=>{const P=()=>y({});return document.addEventListener(h2,P),()=>document.removeEventListener(h2,P)},[]),k.jsx(rt.div,{...c,ref:b,style:{pointerEvents:v?w?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,x.onPointerDownCapture)})});ff.displayName=Swe;var Twe="DismissableLayerBranch",IW=C.forwardRef((t,e)=>{const r=C.useContext(OW),n=C.useRef(null),s=Et(e,n);return C.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),k.jsx(rt.div,{...t,ref:s})});IW.displayName=Twe;function Pwe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t),n=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){BW(Cwe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Dwe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t),n=C.useRef(!1);return C.useEffect(()=>{const s=a=>{a.target&&!n.current&&BW(Awe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function h$(){const t=new CustomEvent(h2);document.dispatchEvent(t)}function BW(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?TB(s,a):s.dispatchEvent(a)}var Rwe=ff,Owe=IW,LA=0;function FE(){C.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:p$()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:p$()),LA++,()=>{LA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),LA--}},[])}function p$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var UA="focusScope.autoFocusOnMount",$A="focusScope.autoFocusOnUnmount",m$={bubbles:!1,cancelable:!0},Iwe="FocusScope",Jy=C.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=C.useState(null),d=ln(s),f=ln(a),p=C.useRef(null),g=Et(e,_=>c(_)),y=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let _=function(v){if(y.paused||!l)return;const w=v.target;l.contains(w)?p.current=w:ou(p.current,{select:!0})},u=function(v){if(y.paused||!l)return;const w=v.relatedTarget;w!==null&&(l.contains(w)||ou(p.current,{select:!0}))},h=function(v){if(document.activeElement===document.body)for(const x of v)x.removedNodes.length>0&&ou(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",u);const m=new MutationObserver(h);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",u),m.disconnect()}}},[n,l,y.paused]),C.useEffect(()=>{if(l){v$.add(y);const _=document.activeElement;if(!l.contains(_)){const h=new CustomEvent(UA,m$);l.addEventListener(UA,d),l.dispatchEvent(h),h.defaultPrevented||(Bwe(Lwe(FW(l)),{select:!0}),document.activeElement===_&&ou(l))}return()=>{l.removeEventListener(UA,d),setTimeout(()=>{const h=new CustomEvent($A,m$);l.addEventListener($A,f),l.dispatchEvent(h),h.defaultPrevented||ou(_!=null?_:document.body,{select:!0}),l.removeEventListener($A,f),v$.remove(y)},0)}}},[l,d,f,y]);const b=C.useCallback(_=>{if(!r&&!n||y.paused)return;const u=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,h=document.activeElement;if(u&&h){const m=_.currentTarget,[v,w]=Fwe(m);v&&w?!_.shiftKey&&h===w?(_.preventDefault(),r&&ou(v,{select:!0})):_.shiftKey&&h===v&&(_.preventDefault(),r&&ou(w,{select:!0})):h===m&&_.preventDefault()}},[r,n,y.paused]);return k.jsx(rt.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Jy.displayName=Iwe;function Bwe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ou(n,{select:e}),document.activeElement!==r)return}function Fwe(t){const e=FW(t),r=g$(e,t),n=g$(e.reverse(),t);return[r,n]}function FW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function g$(t,e){for(const r of t)if(!Mwe(r,{upTo:e}))return r}function Mwe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kwe(t){return t instanceof HTMLInputElement&&"select"in t}function ou(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&kwe(t)&&e&&t.select()}}var v$=Nwe();function Nwe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=y$(t,e),t.unshift(e)},remove(e){var r;t=y$(t,e),(r=t[0])==null||r.resume()}}}function y$(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Lwe(t){return t.filter(e=>e.tagName!=="A")}var Uwe=Ty[" useId ".trim().toString()]||(()=>{}),$we=0;function ai(t){const[e,r]=C.useState(Uwe());return Zn(()=>{t||r(n=>n!=null?n:String($we++))},[t]),t||(e?"radix-".concat(e):"")}const jwe=["top","right","bottom","left"],ic=Math.min,_s=Math.max,Tw=Math.round,R0=Math.floor,Po=t=>({x:t,y:t}),zwe={left:"right",right:"left",bottom:"top",top:"bottom"},Vwe={start:"end",end:"start"};function p2(t,e,r){return _s(t,ic(e,r))}function Ol(t,e){return typeof t=="function"?t(e):t}function Il(t){return t.split("-")[0]}function Vp(t){return t.split("-")[1]}function OB(t){return t==="x"?"y":"x"}function IB(t){return t==="y"?"height":"width"}const Gwe=new Set(["top","bottom"]);function Eo(t){return Gwe.has(Il(t))?"y":"x"}function BB(t){return OB(Eo(t))}function Hwe(t,e,r){r===void 0&&(r=!1);const n=Vp(t),s=BB(t),a=IB(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Pw(o)),[o,Pw(o)]}function Wwe(t){const e=Pw(t);return[m2(t),e,m2(e)]}function m2(t){return t.replace(/start|end/g,e=>Vwe[e])}const _$=["left","right"],b$=["right","left"],Kwe=["top","bottom"],Xwe=["bottom","top"];function Ywe(t,e,r){switch(t){case"top":case"bottom":return r?e?b$:_$:e?_$:b$;case"left":case"right":return e?Kwe:Xwe;default:return[]}}function qwe(t,e,r,n){const s=Vp(t);let a=Ywe(Il(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(m2)))),a}function Pw(t){return t.replace(/left|right|bottom|top/g,e=>zwe[e])}function Zwe(t){return{top:0,right:0,bottom:0,left:0,...t}}function MW(t){return typeof t!="number"?Zwe(t):{top:t,right:t,bottom:t,left:t}}function Dw(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function w$(t,e,r){let{reference:n,floating:s}=t;const a=Eo(e),o=BB(e),l=IB(o),c=Il(e),d=a==="y",f=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:f,y:n.y-s.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-s.width,y:p};break;default:y={x:n.x,y:n.y}}switch(Vp(e)){case"start":y[o]-=g*(r&&d?-1:1);break;case"end":y[o]+=g*(r&&d?-1:1);break}return y}const Jwe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:p}=w$(d,n,c),g=n,y={},b=0;for(let _=0;_<l.length;_++){const{name:u,fn:h}=l[_],{x:m,y:v,data:w,reset:x}=await h({x:f,y:p,initialPlacement:n,placement:g,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});f=m!=null?m:f,p=v!=null?v:p,y={...y,[u]:{...y[u],...w}},x&&b<=50&&(b++,typeof x=="object"&&(x.placement&&(g=x.placement),x.rects&&(d=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:f,y:p}=w$(d,g,c)),_=-1)}return{x:f,y:p,placement:g,strategy:s,middlewareData:y}};async function Zv(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=Ol(e,t),b=MW(y),u=l[g?p==="floating"?"reference":"floating":p],h=Dw(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(u)))==null||r?u:u.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),m=p==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},x=Dw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:v,strategy:c}):m);return{top:(h.top-x.top+b.top)/w.y,bottom:(x.bottom-h.bottom+b.bottom)/w.y,left:(h.left-x.left+b.left)/w.x,right:(x.right-h.right+b.right)/w.x}}const Qwe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=Ol(t,e)||{};if(d==null)return{};const p=MW(f),g={x:r,y:n},y=BB(s),b=IB(y),_=await o.getDimensions(d),u=y==="y",h=u?"top":"left",m=u?"bottom":"right",v=u?"clientHeight":"clientWidth",w=a.reference[b]+a.reference[y]-g[y]-a.floating[b],x=g[y]-a.reference[y],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=S?S[v]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[v]||a.floating[b]);const P=w/2-x/2,T=E/2-_[b]/2-1,A=ic(p[h],T),R=ic(p[m],T),D=A,O=E-_[b]-R,I=E/2-_[b]/2+P,M=p2(D,I,O),G=!c.arrow&&Vp(s)!=null&&I!==M&&a.reference[b]/2-(I<D?A:R)-_[b]/2<0,j=G?I<D?I-D:I-O:0;return{[y]:g[y]+j,data:{[y]:M,centerOffset:I-M-j,...G&&{alignmentOffset:j}},reset:G}}}),exe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...u}=Ol(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const h=Il(s),m=Eo(l),v=Il(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),x=g||(v||!_?[Pw(l)]:Wwe(l)),S=b!=="none";!g&&S&&x.push(...qwe(l,_,b,w));const E=[l,...x],P=await Zv(e,u),T=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&T.push(P[h]),p){const I=Hwe(s,o,w);T.push(P[I[0]],P[I[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(I=>I<=0)){var R,D;const I=(((R=a.flip)==null?void 0:R.index)||0)+1,M=E[I];if(M&&(!(p==="alignment"?m!==Eo(M):!1)||A.every($=>Eo($.placement)===m?$.overflows[0]>0:!0)))return{data:{index:I,overflows:A},reset:{placement:M}};let G=(D=A.filter(j=>j.overflows[0]<=0).sort((j,$)=>j.overflows[1]-$.overflows[1])[0])==null?void 0:D.placement;if(!G)switch(y){case"bestFit":{var O;const j=(O=A.filter($=>{if(S){const H=Eo($.placement);return H===m||H==="y"}return!0}).map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,K)=>H+K,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:O[0];j&&(G=j);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function x$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function E$(t){return jwe.some(e=>t[e]>=0)}const txe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Ol(t,e);switch(n){case"referenceHidden":{const a=await Zv(e,{...s,elementContext:"reference"}),o=x$(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:E$(o)}}}case"escaped":{const a=await Zv(e,{...s,altBoundary:!0}),o=x$(a,r.floating);return{data:{escapedOffsets:o,escaped:E$(o)}}}default:return{}}}}},kW=new Set(["left","top"]);async function rxe(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Il(r),l=Vp(r),c=Eo(r)==="y",d=kW.has(o)?-1:1,f=a&&c?-1:1,p=Ol(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*f,y:g*d}:{x:g*d,y:y*f}}const nxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await rxe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},ixe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:u=>{let{x:h,y:m}=u;return{x:h,y:m}}},...c}=Ol(t,e),d={x:r,y:n},f=await Zv(e,c),p=Eo(Il(s)),g=OB(p);let y=d[g],b=d[p];if(a){const u=g==="y"?"top":"left",h=g==="y"?"bottom":"right",m=y+f[u],v=y-f[h];y=p2(m,y,v)}if(o){const u=p==="y"?"top":"left",h=p==="y"?"bottom":"right",m=b+f[u],v=b-f[h];b=p2(m,b,v)}const _=l.fn({...e,[g]:y,[p]:b});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[g]:a,[p]:o}}}}}},sxe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ol(t,e),f={x:r,y:n},p=Eo(s),g=OB(p);let y=f[g],b=f[p];const _=Ol(l,e),u=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const v=g==="y"?"height":"width",w=a.reference[g]-a.floating[v]+u.mainAxis,x=a.reference[g]+a.reference[v]-u.mainAxis;y<w?y=w:y>x&&(y=x)}if(d){var h,m;const v=g==="y"?"width":"height",w=kW.has(Il(s)),x=a.reference[p]-a.floating[v]+(w&&((h=o.offset)==null?void 0:h[p])||0)+(w?0:u.crossAxis),S=a.reference[p]+a.reference[v]+(w?0:((m=o.offset)==null?void 0:m[p])||0)-(w?u.crossAxis:0);b<x?b=x:b>S&&(b=S)}return{[g]:y,[p]:b}}}},axe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Ol(t,e),f=await Zv(e,d),p=Il(s),g=Vp(s),y=Eo(s)==="y",{width:b,height:_}=a.floating;let u,h;p==="top"||p==="bottom"?(u=p,h=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(h=p,u=g==="end"?"top":"bottom");const m=_-f.top-f.bottom,v=b-f.left-f.right,w=ic(_-f[u],m),x=ic(b-f[h],v),S=!e.middlewareData.shift;let E=w,P=x;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(P=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=m),S&&!g){const A=_s(f.left,0),R=_s(f.right,0),D=_s(f.top,0),O=_s(f.bottom,0);y?P=b-2*(A!==0||R!==0?A+R:_s(f.left,f.right)):E=_-2*(D!==0||O!==0?D+O:_s(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:E});const T=await o.getDimensions(l.floating);return b!==T.width||_!==T.height?{reset:{rects:!0}}:{}}}};function ME(){return typeof window<"u"}function Gp(t){return NW(t)?(t.nodeName||"").toLowerCase():"#document"}function Ds(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(t){var e;return(e=(NW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NW(t){return ME()?t instanceof Node||t instanceof Ds(t).Node:!1}function vi(t){return ME()?t instanceof Element||t instanceof Ds(t).Element:!1}function Mo(t){return ME()?t instanceof HTMLElement||t instanceof Ds(t).HTMLElement:!1}function g2(t){return!ME()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ds(t).ShadowRoot}const oxe=new Set(["inline","contents"]);function Qy(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!oxe.has(s)}const lxe=new Set(["table","td","th"]);function uxe(t){return lxe.has(Gp(t))}const cxe=[":popover-open",":modal"];function kE(t){return cxe.some(e=>{try{return t.matches(e)}catch(r){return!1}})}const dxe=["transform","translate","scale","rotate","perspective"],fxe=["transform","translate","scale","rotate","perspective","filter"],hxe=["paint","layout","strict","content"];function FB(t){const e=MB(),r=vi(t)?Xa(t):t;return dxe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||fxe.some(n=>(r.willChange||"").includes(n))||hxe.some(n=>(r.contain||"").includes(n))}function pxe(t){let e=sc(t);for(;Mo(e)&&!_p(e);){if(FB(e))return e;if(kE(e))return null;e=sc(e)}return null}function MB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mxe=new Set(["html","body","#document"]);function _p(t){return mxe.has(Gp(t))}function Xa(t){return Ds(t).getComputedStyle(t)}function NE(t){return vi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sc(t){if(Gp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||g2(t)&&t.host||Uo(t);return g2(e)?e.host:e}function LW(t){const e=sc(t);return _p(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mo(e)&&Qy(e)?e:LW(e)}function Jv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=LW(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=Ds(s);if(a){const l=v2(o);return e.concat(o,o.visualViewport||[],Qy(s)?s:[],l&&r?Jv(l):[])}return e.concat(s,Jv(s,[],r))}function v2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function UW(t){const e=Xa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Mo(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Tw(r)!==a||Tw(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function kB(t){return vi(t)?t:t.contextElement}function Lh(t){const e=kB(t);if(!Mo(e))return Po(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=UW(e);let o=(a?Tw(r.width):r.width)/n,l=(a?Tw(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gxe=Po(0);function $W(t){const e=Ds(t);return!MB()||!e.visualViewport?gxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vxe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ds(t)?!1:e}function Hd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=kB(t);let o=Po(1);e&&(n?vi(n)&&(o=Lh(n)):o=Lh(t));const l=vxe(a,r,n)?$W(a):Po(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(a){const g=Ds(a),y=n&&vi(n)?Ds(n):n;let b=g,_=v2(b);for(;_&&n&&y!==b;){const u=Lh(_),h=_.getBoundingClientRect(),m=Xa(_),v=h.left+(_.clientLeft+parseFloat(m.paddingLeft))*u.x,w=h.top+(_.clientTop+parseFloat(m.paddingTop))*u.y;c*=u.x,d*=u.y,f*=u.x,p*=u.y,c+=v,d+=w,b=Ds(_),_=v2(b)}}return Dw({width:f,height:p,x:c,y:d})}function LE(t,e){const r=NE(t).scrollLeft;return e?e.left+r:Hd(Uo(t)).left+r}function jW(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-LE(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function yxe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=Uo(n),l=e?kE(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Po(1);const f=Po(0),p=Mo(n);if((p||!p&&!a)&&((Gp(n)!=="body"||Qy(o))&&(c=NE(n)),Mo(n))){const y=Hd(n);d=Lh(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const g=o&&!p&&!a?jW(o,c):Po(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:r.y*d.y-c.scrollTop*d.y+f.y+g.y}}function _xe(t){return Array.from(t.getClientRects())}function bxe(t){const e=Uo(t),r=NE(t),n=t.ownerDocument.body,s=_s(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=_s(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+LE(t);const l=-r.scrollTop;return Xa(n).direction==="rtl"&&(o+=_s(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const S$=25;function wxe(t,e){const r=Ds(t),n=Uo(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const f=MB();(!f||f&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=LE(n);if(d<=0){const f=n.ownerDocument,p=f.body,g=getComputedStyle(p),y=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(n.clientWidth-p.clientWidth-y);b<=S$&&(a-=b)}else d<=S$&&(a+=d);return{width:a,height:o,x:l,y:c}}const xxe=new Set(["absolute","fixed"]);function Exe(t,e){const r=Hd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=Mo(t)?Lh(t):Po(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function C$(t,e,r){let n;if(e==="viewport")n=wxe(t,r);else if(e==="document")n=bxe(Uo(t));else if(vi(e))n=Exe(e,r);else{const s=$W(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Dw(n)}function zW(t,e){const r=sc(t);return r===e||!vi(r)||_p(r)?!1:Xa(r).position==="fixed"||zW(r,e)}function Sxe(t,e){const r=e.get(t);if(r)return r;let n=Jv(t,[],!1).filter(l=>vi(l)&&Gp(l)!=="body"),s=null;const a=Xa(t).position==="fixed";let o=a?sc(t):t;for(;vi(o)&&!_p(o);){const l=Xa(o),c=FB(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&xxe.has(s.position)||Qy(o)&&!c&&zW(t,o))?n=n.filter(f=>f!==o):s=l,o=sc(o)}return e.set(t,n),n}function Cxe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?kE(e)?[]:Sxe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const p=C$(e,f,s);return d.top=_s(p.top,d.top),d.right=ic(p.right,d.right),d.bottom=ic(p.bottom,d.bottom),d.left=_s(p.left,d.left),d},C$(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Axe(t){const{width:e,height:r}=UW(t);return{width:e,height:r}}function Txe(t,e,r){const n=Mo(e),s=Uo(e),a=r==="fixed",o=Hd(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Po(0);function d(){c.x=LE(s)}if(n||!n&&!a)if((Gp(e)!=="body"||Qy(s))&&(l=NE(e)),n){const y=Hd(e,!0,a,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();a&&!n&&s&&d();const f=s&&!n&&!a?jW(s,l):Po(0),p=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function jA(t){return Xa(t).position==="static"}function A$(t,e){if(!Mo(t)||Xa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Uo(t)===r&&(r=r.ownerDocument.body),r}function VW(t,e){const r=Ds(t);if(kE(t))return r;if(!Mo(t)){let s=sc(t);for(;s&&!_p(s);){if(vi(s)&&!jA(s))return s;s=sc(s)}return r}let n=A$(t,e);for(;n&&uxe(n)&&jA(n);)n=A$(n,e);return n&&_p(n)&&jA(n)&&!FB(n)?r:n||pxe(t)||r}const Pxe=async function(t){const e=this.getOffsetParent||VW,r=this.getDimensions,n=await r(t.floating);return{reference:Txe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Dxe(t){return Xa(t).direction==="rtl"}const Rxe={convertOffsetParentRelativeRectToViewportRelativeRect:yxe,getDocumentElement:Uo,getClippingRect:Cxe,getOffsetParent:VW,getElementRects:Pxe,getClientRects:_xe,getDimensions:Axe,getScale:Lh,isElement:vi,isRTL:Dxe};function GW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Oxe(t,e){let r=null,n;const s=Uo(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:p,width:g,height:y}=d;if(l||e(),!g||!y)return;const b=R0(p),_=R0(s.clientWidth-(f+g)),u=R0(s.clientHeight-(p+y)),h=R0(f),v={rootMargin:-b+"px "+-_+"px "+-u+"px "+-h+"px",threshold:_s(0,ic(1,c))||1};let w=!0;function x(S){const E=S[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!GW(d,t.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(x,{...v,root:s.ownerDocument})}catch(S){r=new IntersectionObserver(x,v)}r.observe(t)}return o(!0),a}function HW(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=kB(t),f=s||a?[...d?Jv(d):[],...Jv(e)]:[];f.forEach(h=>{s&&h.addEventListener("scroll",r,{passive:!0}),a&&h.addEventListener("resize",r)});const p=d&&l?Oxe(d,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(h=>{let[m]=h;m&&m.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let b,_=c?Hd(t):null;c&&u();function u(){const h=Hd(t);_&&!GW(_,h)&&r(),_=h,b=requestAnimationFrame(u)}return r(),()=>{var h;f.forEach(m=>{s&&m.removeEventListener("scroll",r),a&&m.removeEventListener("resize",r)}),p==null||p(),(h=y)==null||h.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const Ixe=nxe,Bxe=ixe,Fxe=exe,Mxe=axe,kxe=txe,T$=Qwe,Nxe=sxe,Lxe=(t,e,r)=>{const n=new Map,s={platform:Rxe,...r},a={...s.platform,_c:n};return Jwe(t,e,{...s,platform:a})};var Uxe=typeof document<"u",$xe=function(){},H1=Uxe?C.useLayoutEffect:$xe;function Rw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Rw(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Rw(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function WW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P$(t,e){const r=WW(t);return Math.round(e*r)/r}function zA(t){const e=C.useRef(t);return H1(()=>{e.current=t}),e}function KW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,p]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=C.useState(n);Rw(g,n)||y(n);const[b,_]=C.useState(null),[u,h]=C.useState(null),m=C.useCallback($=>{$!==S.current&&(S.current=$,_($))},[]),v=C.useCallback($=>{$!==E.current&&(E.current=$,h($))},[]),w=a||b,x=o||u,S=C.useRef(null),E=C.useRef(null),P=C.useRef(f),T=c!=null,A=zA(c),R=zA(s),D=zA(d),O=C.useCallback(()=>{if(!S.current||!E.current)return;const $={placement:e,strategy:r,middleware:g};R.current&&($.platform=R.current),Lxe(S.current,E.current,$).then(H=>{const K={...H,isPositioned:D.current!==!1};I.current&&!Rw(P.current,K)&&(P.current=K,Ul.flushSync(()=>{p(K)}))})},[g,e,r,R,D]);H1(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p($=>({...$,isPositioned:!1})))},[d]);const I=C.useRef(!1);H1(()=>(I.current=!0,()=>{I.current=!1}),[]),H1(()=>{if(w&&(S.current=w),x&&(E.current=x),w&&x){if(A.current)return A.current(w,x,O);O()}},[w,x,O,A,T]);const M=C.useMemo(()=>({reference:S,floating:E,setReference:m,setFloating:v}),[m,v]),G=C.useMemo(()=>({reference:w,floating:x}),[w,x]),j=C.useMemo(()=>{const $={position:r,left:0,top:0};if(!G.floating)return $;const H=P$(G.floating,f.x),K=P$(G.floating,f.y);return l?{...$,transform:"translate("+H+"px, "+K+"px)",...WW(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:K}},[r,l,G.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:O,refs:M,elements:G,floatingStyles:j}),[f,O,M,G,j])}const jxe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?T$({element:n.current,padding:s}).fn(r):{}:n?T$({element:n,padding:s}).fn(r):{}}}},zxe=(t,e)=>({...Ixe(t),options:[t,e]}),Vxe=(t,e)=>({...Bxe(t),options:[t,e]}),Gxe=(t,e)=>({...Nxe(t),options:[t,e]}),Hxe=(t,e)=>({...Fxe(t),options:[t,e]}),Wxe=(t,e)=>({...Mxe(t),options:[t,e]}),Kxe=(t,e)=>({...kxe(t),options:[t,e]}),Xxe=(t,e)=>({...jxe(t),options:[t,e]});var Yxe="Arrow",XW=C.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return k.jsx(rt.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});XW.displayName=Yxe;var qxe=XW;function NB(t){const[e,r]=C.useState(void 0);return Zn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var LB="Popper",[YW,xc]=Qn(LB),[Zxe,qW]=YW(LB),ZW=t=>{const{__scopePopper:e,children:r}=t,[n,s]=C.useState(null);return k.jsx(Zxe,{scope:e,anchor:n,onAnchorChange:s,children:r})};ZW.displayName=LB;var JW="PopperAnchor",QW=C.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=qW(JW,r),o=C.useRef(null),l=Et(e,o),c=C.useRef(null);return C.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:k.jsx(rt.div,{...s,ref:l})});QW.displayName=JW;var UB="PopperContent",[Jxe,Qxe]=YW(UB),eK=C.forwardRef((t,e)=>{var z,V,Y,ne,ie,me,xe,we;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,..._}=t,u=qW(UB,r),[h,m]=C.useState(null),v=Et(e,Ee=>m(Ee)),[w,x]=C.useState(null),S=NB(w),E=(z=S==null?void 0:S.width)!=null?z:0,P=(V=S==null?void 0:S.height)!=null?V:0,T=n+(a!=="center"?"-"+a:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(d)?d:[d],D=R.length>0,O={padding:A,boundary:R.filter(tEe),altBoundary:D},{refs:I,floatingStyles:M,placement:G,isPositioned:j,middlewareData:$}=KW({strategy:"fixed",placement:T,whileElementsMounted:(...Ee)=>HW(...Ee,{animationFrame:y==="always"}),elements:{reference:u.anchor},middleware:[zxe({mainAxis:s+P,alignmentAxis:o}),c&&Vxe({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Gxe():void 0,...O}),c&&Hxe({...O}),Wxe({...O,apply:({elements:Ee,rects:tt,availableWidth:xt,availableHeight:_t})=>{const{width:Gt,height:X}=tt.reference,oe=Ee.floating.style;oe.setProperty("--radix-popper-available-width","".concat(xt,"px")),oe.setProperty("--radix-popper-available-height","".concat(_t,"px")),oe.setProperty("--radix-popper-anchor-width","".concat(Gt,"px")),oe.setProperty("--radix-popper-anchor-height","".concat(X,"px"))}}),w&&Xxe({element:w,padding:l}),rEe({arrowWidth:E,arrowHeight:P}),g&&Kxe({strategy:"referenceHidden",...O})]}),[H,K]=nK(G),re=ln(b);Zn(()=>{j&&(re==null||re())},[j,re]);const fe=(Y=$.arrow)==null?void 0:Y.x,ye=(ne=$.arrow)==null?void 0:ne.y,he=((ie=$.arrow)==null?void 0:ie.centerOffset)!==0,[ue,Z]=C.useState();return Zn(()=>{h&&Z(window.getComputedStyle(h).zIndex)},[h]),k.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:j?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(me=$.transformOrigin)==null?void 0:me.x,(xe=$.transformOrigin)==null?void 0:xe.y].join(" "),...((we=$.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:k.jsx(Jxe,{scope:r,placedSide:H,onArrowChange:x,arrowX:fe,arrowY:ye,shouldHideArrow:he,children:k.jsx(rt.div,{"data-side":H,"data-align":K,..._,ref:v,style:{..._.style,animation:j?void 0:"none"}})})})});eK.displayName=UB;var tK="PopperArrow",eEe={top:"bottom",right:"left",bottom:"top",left:"right"},rK=C.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=Qxe(tK,n),o=eEe[a.placedSide];return k.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:k.jsx(qxe,{...s,ref:r,style:{...s.style,display:"block"}})})});rK.displayName=tK;function tEe(t){return t!==null}var rEe=t=>({name:"transformOrigin",options:t,fn(e){var u,h,m,v,w;const{placement:r,rects:n,middlewareData:s}=e,o=((u=s.arrow)==null?void 0:u.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=nK(r),p={start:"0%",center:"50%",end:"100%"}[f],g=((m=(h=s.arrow)==null?void 0:h.x)!=null?m:0)+l/2,y=((w=(v=s.arrow)==null?void 0:v.y)!=null?w:0)+c/2;let b="",_="";return d==="bottom"?(b=o?p:"".concat(g,"px"),_="".concat(-c,"px")):d==="top"?(b=o?p:"".concat(g,"px"),_="".concat(n.floating.height+c,"px")):d==="right"?(b="".concat(-c,"px"),_=o?p:"".concat(y,"px")):d==="left"&&(b="".concat(n.floating.width+c,"px"),_=o?p:"".concat(y,"px")),{data:{x:b,y:_}}}});function nK(t){const[e,r="center"]=t.split("-");return[e,r]}var e_=ZW,t_=QW,UE=eK,$E=rK,nEe="Portal",hf=C.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=C.useState(!1);Zn(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eI.createPortal(k.jsx(rt.div,{...n,ref:e}),o):null});hf.displayName=nEe;var VA="rovingFocusGroup.onEntryFocus",iEe={bubbles:!1,cancelable:!0},r_="RovingFocusGroup",[y2,iK,sEe]=zp(r_),[aEe,$o]=Qn(r_,[sEe]),[oEe,lEe]=aEe(r_),sK=C.forwardRef((t,e)=>k.jsx(y2.Provider,{scope:t.__scopeRovingFocusGroup,children:k.jsx(y2.Slot,{scope:t.__scopeRovingFocusGroup,children:k.jsx(uEe,{...t,ref:e})})}));sK.displayName=r_;var uEe=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=t,g=C.useRef(null),y=Et(e,g),b=zl(a),[_,u]=wi({prop:o,defaultProp:l!=null?l:null,onChange:c,caller:r_}),[h,m]=C.useState(!1),v=ln(d),w=iK(r),x=C.useRef(!1),[S,E]=C.useState(0);return C.useEffect(()=>{const P=g.current;if(P)return P.addEventListener(VA,v),()=>P.removeEventListener(VA,v)},[v]),k.jsx(oEe,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:_,onItemFocus:C.useCallback(P=>u(P),[u]),onItemShiftTab:C.useCallback(()=>m(!0),[]),onFocusableItemAdd:C.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:C.useCallback(()=>E(P=>P-1),[]),children:k.jsx(rt.div,{tabIndex:h||S===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{x.current=!0}),onFocus:Ce(t.onFocus,P=>{const T=!x.current;if(P.target===P.currentTarget&&T&&!h){const A=new CustomEvent(VA,iEe);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=w().filter(G=>G.focusable),D=R.find(G=>G.active),O=R.find(G=>G.id===_),M=[D,O,...R].filter(Boolean).map(G=>G.ref.current);lK(M,f)}}x.current=!1}),onBlur:Ce(t.onBlur,()=>m(!1))})})}),aK="RovingFocusGroupItem",oK=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=t,c=ai(),d=a||c,f=lEe(aK,r),p=f.currentTabStopId===d,g=iK(r),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:_}=f;return C.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),k.jsx(y2.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:k.jsx(rt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,u=>{n?f.onItemFocus(d):u.preventDefault()}),onFocus:Ce(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ce(t.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){f.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const h=fEe(u,f.orientation,f.dir);if(h!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let v=g().filter(w=>w.focusable).map(w=>w.ref.current);if(h==="last")v.reverse();else if(h==="prev"||h==="next"){h==="prev"&&v.reverse();const w=v.indexOf(u.currentTarget);v=f.loop?hEe(v,w+1):v.slice(w+1)}setTimeout(()=>lK(v))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:_!=null}):o})})});oK.displayName=aK;var cEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dEe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fEe(t,e,r){const n=dEe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cEe[n]}function lK(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function hEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var n_=sK,Hp=oK,pEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},If=new WeakMap,O0=new WeakMap,I0={},GA=0,uK=function(t){return t&&(t.host||uK(t.parentNode))},mEe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=uK(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},gEe=function(t,e,r,n){var s=mEe(e,Array.isArray(t)?t:[t]);I0[r]||(I0[r]=new WeakMap);var a=I0[r],o=[],l=new Set,c=new Set(s),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};s.forEach(d);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var y=g.getAttribute(n),b=y!==null&&y!=="false",_=(If.get(g)||0)+1,u=(a.get(g)||0)+1;If.set(g,_),a.set(g,u),o.push(g),_===1&&b&&O0.set(g,!0),u===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(h){console.error("aria-hidden: cannot operate on ",g,h)}})};return f(e),l.clear(),GA++,function(){o.forEach(function(p){var g=If.get(p)-1,y=a.get(p)-1;If.set(p,g),a.set(p,y),g||(O0.has(p)||p.removeAttribute(n),O0.delete(p)),y||p.removeAttribute(r)}),GA--,GA||(If=new WeakMap,If=new WeakMap,O0=new WeakMap,I0={})}},jE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=e||pEe(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),gEe(n,s,r,"aria-hidden")):function(){return null}},_o=function(){return _o=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_o.apply(this,arguments)};function cK(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function vEe(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var W1="right-scroll-bar-position",K1="width-before-scroll-bar",yEe="with-scroll-bars-hidden",_Ee="--removed-body-scroll-bar-size";function HA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bEe(t,e){var r=C.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var wEe=typeof window<"u"?C.useLayoutEffect:C.useEffect,D$=new WeakMap;function xEe(t,e){var r=bEe(e||null,function(n){return t.forEach(function(s){return HA(s,n)})});return wEe(function(){var n=D$.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||HA(l,null)}),a.forEach(function(l){s.has(l)||HA(l,o)})}D$.set(r,t)},[t]),r}function EEe(t){return t}function SEe(t,e){e===void 0&&(e=EEe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return s}function CEe(t){t===void 0&&(t={});var e=SEe(null);return e.options=_o({async:!0,ssr:!1},t),e}var dK=function(t){var e=t.sideCar,r=cK(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,_o({},r))};dK.isSideCarExport=!0;function AEe(t,e){return t.useMedium(e),dK}var fK=CEe(),WA=function(){},zE=C.forwardRef(function(t,e){var r=C.useRef(null),n=C.useState({onScrollCapture:WA,onWheelCapture:WA,onTouchMoveCapture:WA}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,g=t.sideCar,y=t.noRelative,b=t.noIsolation,_=t.inert,u=t.allowPinchZoom,h=t.as,m=h===void 0?"div":h,v=t.gapMode,w=cK(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=g,S=xEe([r,e]),E=_o(_o({},w),s);return C.createElement(C.Fragment,null,f&&C.createElement(x,{sideCar:fK,removeScrollBar:d,shards:p,noRelative:y,noIsolation:b,inert:_,setCallbacks:a,allowPinchZoom:!!u,lockRef:r,gapMode:v}),o?C.cloneElement(C.Children.only(l),_o(_o({},E),{ref:S})):C.createElement(m,_o({},E,{className:c,ref:S}),l))});zE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zE.classNames={fullWidth:K1,zeroRight:W1};var R$,TEe=function(){if(R$)return R$;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PEe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TEe();return e&&t.setAttribute("nonce",e),t}function DEe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function REe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var OEe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=PEe())&&(DEe(e,r),REe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IEe=function(){var t=OEe();return function(e,r){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},hK=function(){var t=IEe(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},BEe={left:0,top:0,right:0,gap:0},KA=function(t){return parseInt(t||"",10)||0},FEe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[KA(r),KA(n),KA(s)]},MEe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BEe;var e=FEe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},kEe=hK(),Uh="data-scroll-locked",NEe=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),"\n  .".concat(yEe," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(Uh,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(n,";"),r==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(W1," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(K1," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(W1," .").concat(W1," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(K1," .").concat(K1," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Uh,"] {\n    ").concat(_Ee,": ").concat(l,"px;\n  }\n")},O$=function(){var t=parseInt(document.body.getAttribute(Uh)||"0",10);return isFinite(t)?t:0},LEe=function(){C.useEffect(function(){return document.body.setAttribute(Uh,(O$()+1).toString()),function(){var t=O$()-1;t<=0?document.body.removeAttribute(Uh):document.body.setAttribute(Uh,t.toString())}},[])},UEe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;LEe();var a=C.useMemo(function(){return MEe(s)},[s]);return C.createElement(kEe,{styles:NEe(a,!e,s,r?"":"!important")})},_2=!1;if(typeof window<"u")try{var B0=Object.defineProperty({},"passive",{get:function(){return _2=!0,!0}});window.addEventListener("test",B0,B0),window.removeEventListener("test",B0,B0)}catch(t){_2=!1}var Bf=_2?{passive:!1}:!1,$Ee=function(t){return t.tagName==="TEXTAREA"},pK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$Ee(t)&&r[e]==="visible")},jEe=function(t){return pK(t,"overflowY")},zEe=function(t){return pK(t,"overflowX")},I$=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=mK(t,n);if(s){var a=gK(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},VEe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},GEe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},mK=function(t,e){return t==="v"?jEe(e):zEe(e)},gK=function(t,e){return t==="v"?VEe(e):GEe(e)},HEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},WEe=function(t,e,r,n,s){var a=HEe(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),d=!1,f=o>0,p=0,g=0;do{if(!l)break;var y=gK(t,l),b=y[0],_=y[1],u=y[2],h=_-u-a*b;(b||h)&&mK(t,l)&&(p+=h,g+=b);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&(s&&Math.abs(p)<1||!s&&o>p)||!f&&(s&&Math.abs(g)<1||!s&&-o>g))&&(d=!0),d},F0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B$=function(t){return[t.deltaX,t.deltaY]},F$=function(t){return t&&"current"in t?t.current:t},KEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XEe=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},YEe=0,Ff=[];function qEe(t){var e=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),s=C.useState(YEe++)[0],a=C.useState(hK)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=vEe([t.lockRef.current],(t.shards||[]).map(F$),!0).filter(Boolean);return _.forEach(function(u){return u.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(_,u){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var h=F0(_),m=r.current,v="deltaX"in _?_.deltaX:m[0]-h[0],w="deltaY"in _?_.deltaY:m[1]-h[1],x,S=_.target,E=Math.abs(v)>Math.abs(w)?"h":"v";if("touches"in _&&E==="h"&&S.type==="range")return!1;var P=window.getSelection(),T=P&&P.anchorNode,A=T?T===S||T.contains(S):!1;if(A)return!1;var R=I$(E,S);if(!R)return!0;if(R?x=E:(x=E==="v"?"h":"v",R=I$(E,S)),!R)return!1;if(!n.current&&"changedTouches"in _&&(v||w)&&(n.current=x),!x)return!0;var D=n.current||x;return WEe(D,u,_,D==="h"?v:w,!0)},[]),c=C.useCallback(function(_){var u=_;if(!(!Ff.length||Ff[Ff.length-1]!==a)){var h="deltaY"in u?B$(u):F0(u),m=e.current.filter(function(x){return x.name===u.type&&(x.target===u.target||u.target===x.shadowParent)&&KEe(x.delta,h)})[0];if(m&&m.should){u.cancelable&&u.preventDefault();return}if(!m){var v=(o.current.shards||[]).map(F$).filter(Boolean).filter(function(x){return x.contains(u.target)}),w=v.length>0?l(u,v[0]):!o.current.noIsolation;w&&u.cancelable&&u.preventDefault()}}},[]),d=C.useCallback(function(_,u,h,m){var v={name:_,delta:u,target:h,should:m,shadowParent:ZEe(h)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(w){return w!==v})},1)},[]),f=C.useCallback(function(_){r.current=F0(_),n.current=void 0},[]),p=C.useCallback(function(_){d(_.type,B$(_),_.target,l(_,t.lockRef.current))},[]),g=C.useCallback(function(_){d(_.type,F0(_),_.target,l(_,t.lockRef.current))},[]);C.useEffect(function(){return Ff.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Bf),document.addEventListener("touchmove",c,Bf),document.addEventListener("touchstart",f,Bf),function(){Ff=Ff.filter(function(_){return _!==a}),document.removeEventListener("wheel",c,Bf),document.removeEventListener("touchmove",c,Bf),document.removeEventListener("touchstart",f,Bf)}},[]);var y=t.removeScrollBar,b=t.inert;return C.createElement(C.Fragment,null,b?C.createElement(a,{styles:XEe(s)}):null,y?C.createElement(UEe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ZEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const JEe=AEe(fK,qEe);var vK=C.forwardRef(function(t,e){return C.createElement(zE,_o({},t,{ref:e,sideCar:JEe}))});vK.classNames=zE.classNames;const VE=vK;var b2=["Enter"," "],QEe=["ArrowDown","PageUp","Home"],yK=["ArrowUp","PageDown","End"],eSe=[...QEe,...yK],tSe={ltr:[...b2,"ArrowRight"],rtl:[...b2,"ArrowLeft"]},rSe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},i_="Menu",[Qv,nSe,iSe]=zp(i_),[pf,$B]=Qn(i_,[iSe,xc,$o]),s_=xc(),_K=$o(),[bK,Ec]=pf(i_),[sSe,a_]=pf(i_),wK=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,l=s_(e),[c,d]=C.useState(null),f=C.useRef(!1),p=ln(a),g=zl(s);return C.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),k.jsx(e_,{...l,children:k.jsx(bK,{scope:e,open:r,onOpenChange:p,content:c,onContentChange:d,children:k.jsx(sSe,{scope:e,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};wK.displayName=i_;var aSe="MenuAnchor",jB=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=s_(r);return k.jsx(t_,{...s,...n,ref:e})});jB.displayName=aSe;var zB="MenuPortal",[oSe,xK]=pf(zB,{forceMount:void 0}),EK=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=Ec(zB,e);return k.jsx(oSe,{scope:e,forceMount:r,children:k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:n})})})};EK.displayName=zB;var da="MenuContent",[lSe,VB]=pf(da),SK=C.forwardRef((t,e)=>{const r=xK(da,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=Ec(da,t.__scopeMenu),o=a_(da,t.__scopeMenu);return k.jsx(Qv.Provider,{scope:t.__scopeMenu,children:k.jsx(Jn,{present:n||a.open,children:k.jsx(Qv.Slot,{scope:t.__scopeMenu,children:o.modal?k.jsx(uSe,{...s,ref:e}):k.jsx(cSe,{...s,ref:e})})})})}),uSe=C.forwardRef((t,e)=>{const r=Ec(da,t.__scopeMenu),n=C.useRef(null),s=Et(e,n);return C.useEffect(()=>{const a=n.current;if(a)return jE(a)},[]),k.jsx(GB,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cSe=C.forwardRef((t,e)=>{const r=Ec(da,t.__scopeMenu);return k.jsx(GB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dSe=Gd("MenuContent.ScrollLock"),GB=C.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:y,disableOutsideScroll:b,..._}=t,u=Ec(da,r),h=a_(da,r),m=s_(r),v=_K(r),w=nSe(r),[x,S]=C.useState(null),E=C.useRef(null),P=Et(e,E,u.onContentChange),T=C.useRef(0),A=C.useRef(""),R=C.useRef(0),D=C.useRef(null),O=C.useRef("right"),I=C.useRef(0),M=b?VE:C.Fragment,G=b?{as:dSe,allowPinchZoom:!0}:void 0,j=H=>{var z,V;const K=A.current+H,re=w().filter(Y=>!Y.disabled),fe=document.activeElement,ye=(z=re.find(Y=>Y.ref.current===fe))==null?void 0:z.textValue,he=re.map(Y=>Y.textValue),ue=ESe(he,K,ye),Z=(V=re.find(Y=>Y.textValue===ue))==null?void 0:V.ref.current;(function Y(ne){A.current=ne,window.clearTimeout(T.current),ne!==""&&(T.current=window.setTimeout(()=>Y(""),1e3))})(K),Z&&setTimeout(()=>Z.focus())};C.useEffect(()=>()=>window.clearTimeout(T.current),[]),FE();const $=C.useCallback(H=>{var re,fe;return O.current===((re=D.current)==null?void 0:re.side)&&CSe(H,(fe=D.current)==null?void 0:fe.area)},[]);return k.jsx(lSe,{scope:r,searchRef:A,onItemEnter:C.useCallback(H=>{$(H)&&H.preventDefault()},[$]),onItemLeave:C.useCallback(H=>{var K;$(H)||((K=E.current)==null||K.focus(),S(null))},[$]),onTriggerLeave:C.useCallback(H=>{$(H)&&H.preventDefault()},[$]),pointerGraceTimerRef:R,onPointerGraceIntentChange:C.useCallback(H=>{D.current=H},[]),children:k.jsx(M,{...G,children:k.jsx(Jy,{asChild:!0,trapped:s,onMountAutoFocus:Ce(a,H=>{var K;H.preventDefault(),(K=E.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:y,children:k.jsx(n_,{asChild:!0,...v,dir:h.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:Ce(c,H=>{h.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:k.jsx(UE,{role:"menu","aria-orientation":"vertical","data-state":jK(u.open),"data-radix-menu-content":"",dir:h.dir,...m,..._,ref:P,style:{outline:"none",..._.style},onKeyDown:Ce(_.onKeyDown,H=>{const re=H.target.closest("[data-radix-menu-content]")===H.currentTarget,fe=H.ctrlKey||H.altKey||H.metaKey,ye=H.key.length===1;re&&(H.key==="Tab"&&H.preventDefault(),!fe&&ye&&j(H.key));const he=E.current;if(H.target!==he||!eSe.includes(H.key))return;H.preventDefault();const Z=w().filter(z=>!z.disabled).map(z=>z.ref.current);yK.includes(H.key)&&Z.reverse(),wSe(Z)}),onBlur:Ce(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(T.current),A.current="")}),onPointerMove:Ce(t.onPointerMove,ey(H=>{const K=H.target,re=I.current!==H.clientX;if(H.currentTarget.contains(K)&&re){const fe=H.clientX>I.current?"right":"left";O.current=fe,I.current=H.clientX}}))})})})})})})});SK.displayName=da;var fSe="MenuGroup",HB=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return k.jsx(rt.div,{role:"group",...n,ref:e})});HB.displayName=fSe;var hSe="MenuLabel",CK=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return k.jsx(rt.div,{...n,ref:e})});CK.displayName=hSe;var Ow="MenuItem",M$="menu.itemSelect",GE=C.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=C.useRef(null),o=a_(Ow,t.__scopeMenu),l=VB(Ow,t.__scopeMenu),c=Et(e,a),d=C.useRef(!1),f=()=>{const p=a.current;if(!r&&p){const g=new CustomEvent(M$,{bubbles:!0,cancelable:!0});p.addEventListener(M$,y=>n==null?void 0:n(y),{once:!0}),TB(p,g),g.defaultPrevented?d.current=!1:o.onClose()}};return k.jsx(AK,{...s,ref:c,disabled:r,onClick:Ce(t.onClick,f),onPointerDown:p=>{var g;(g=t.onPointerDown)==null||g.call(t,p),d.current=!0},onPointerUp:Ce(t.onPointerUp,p=>{var g;d.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:Ce(t.onKeyDown,p=>{const g=l.searchRef.current!=="";r||g&&p.key===" "||b2.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});GE.displayName=Ow;var AK=C.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,o=VB(Ow,r),l=_K(r),c=C.useRef(null),d=Et(e,c),[f,p]=C.useState(!1),[g,y]=C.useState("");return C.useEffect(()=>{var _;const b=c.current;b&&y(((_=b.textContent)!=null?_:"").trim())},[a.children]),k.jsx(Qv.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:g,children:k.jsx(Hp,{asChild:!0,...l,focusable:!n,children:k.jsx(rt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Ce(t.onPointerMove,ey(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,ey(b=>o.onItemLeave(b))),onFocus:Ce(t.onFocus,()=>p(!0)),onBlur:Ce(t.onBlur,()=>p(!1))})})})}),pSe="MenuCheckboxItem",TK=C.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return k.jsx(IK,{scope:t.__scopeMenu,checked:r,children:k.jsx(GE,{role:"menuitemcheckbox","aria-checked":Iw(r)?"mixed":r,...s,ref:e,"data-state":XB(r),onSelect:Ce(s.onSelect,()=>n==null?void 0:n(Iw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});TK.displayName=pSe;var PK="MenuRadioGroup",[mSe,gSe]=pf(PK,{value:void 0,onValueChange:()=>{}}),DK=C.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=ln(n);return k.jsx(mSe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:k.jsx(HB,{...s,ref:e})})});DK.displayName=PK;var RK="MenuRadioItem",OK=C.forwardRef((t,e)=>{const{value:r,...n}=t,s=gSe(RK,t.__scopeMenu),a=r===s.value;return k.jsx(IK,{scope:t.__scopeMenu,checked:a,children:k.jsx(GE,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":XB(a),onSelect:Ce(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});OK.displayName=RK;var WB="MenuItemIndicator",[IK,vSe]=pf(WB,{checked:!1}),BK=C.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=vSe(WB,r);return k.jsx(Jn,{present:n||Iw(a.checked)||a.checked===!0,children:k.jsx(rt.span,{...s,ref:e,"data-state":XB(a.checked)})})});BK.displayName=WB;var ySe="MenuSeparator",FK=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return k.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});FK.displayName=ySe;var _Se="MenuArrow",MK=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=s_(r);return k.jsx($E,{...s,...n,ref:e})});MK.displayName=_Se;var KB="MenuSub",[bSe,kK]=pf(KB),NK=t=>{const{__scopeMenu:e,children:r,open:n=!1,onOpenChange:s}=t,a=Ec(KB,e),o=s_(e),[l,c]=C.useState(null),[d,f]=C.useState(null),p=ln(s);return C.useEffect(()=>(a.open===!1&&p(!1),()=>p(!1)),[a.open,p]),k.jsx(e_,{...o,children:k.jsx(bK,{scope:e,open:n,onOpenChange:p,content:d,onContentChange:f,children:k.jsx(bSe,{scope:e,contentId:ai(),triggerId:ai(),trigger:l,onTriggerChange:c,children:r})})})};NK.displayName=KB;var ag="MenuSubTrigger",LK=C.forwardRef((t,e)=>{const r=Ec(ag,t.__scopeMenu),n=a_(ag,t.__scopeMenu),s=kK(ag,t.__scopeMenu),a=VB(ag,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),k.jsx(jB,{asChild:!0,...d,children:k.jsx(AK,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":jK(r.open),...t,ref:Zy(e,s.onTriggerChange),onClick:p=>{var g;(g=t.onClick)==null||g.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,ey(p=>{a.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ce(t.onPointerLeave,ey(p=>{var y,b;f();const g=(y=r.content)==null?void 0:y.getBoundingClientRect();if(g){const _=(b=r.content)==null?void 0:b.dataset.side,u=_==="right",h=u?-5:5,m=g[u?"left":"right"],v=g[u?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+h,y:p.clientY},{x:m,y:g.top},{x:v,y:g.top},{x:v,y:g.bottom},{x:m,y:g.bottom}],side:_}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,p=>{var y;const g=a.searchRef.current!=="";t.disabled||g&&p.key===" "||tSe[n.dir].includes(p.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),p.preventDefault())})})})});LK.displayName=ag;var UK="MenuSubContent",$K=C.forwardRef((t,e)=>{const r=xK(da,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=Ec(da,t.__scopeMenu),o=a_(da,t.__scopeMenu),l=kK(UK,t.__scopeMenu),c=C.useRef(null),d=Et(e,c);return k.jsx(Qv.Provider,{scope:t.__scopeMenu,children:k.jsx(Jn,{present:n||a.open,children:k.jsx(Qv.Slot,{scope:t.__scopeMenu,children:k.jsx(GB,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{var y;const p=f.currentTarget.contains(f.target),g=rSe[o.dir].includes(f.key);p&&g&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),f.preventDefault())})})})})})});$K.displayName=UK;function jK(t){return t?"open":"closed"}function Iw(t){return t==="indeterminate"}function XB(t){return Iw(t)?"indeterminate":t?"checked":"unchecked"}function wSe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function xSe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ESe(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=xSe(t,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function SSe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-d)*(n-f)/(g-f)+d&&(s=!s)}return s}function CSe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return SSe(r,e)}function ey(t){return e=>e.pointerType==="mouse"?t(e):void 0}var zK=wK,VK=jB,GK=EK,HK=SK,WK=HB,KK=CK,XK=GE,YK=TK,qK=DK,ZK=OK,JK=BK,QK=FK,eX=MK,ASe=NK,tX=LK,rX=$K,HE="DropdownMenu",[TSe,OZe]=Qn(HE,[$B]),xi=$B(),[PSe,nX]=TSe(HE),iX=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=xi(e),d=C.useRef(null),[f,p]=wi({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:HE});return k.jsx(PSe,{scope:e,triggerId:ai(),triggerRef:d,contentId:ai(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(g=>!g),[p]),modal:l,children:k.jsx(zK,{...c,open:f,onOpenChange:p,dir:n,modal:l,children:r})})};iX.displayName=HE;var sX="DropdownMenuTrigger",aX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=nX(sX,r),o=xi(r);return k.jsx(VK,{asChild:!0,...o,children:k.jsx(rt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Zy(e,a.triggerRef),onPointerDown:Ce(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ce(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aX.displayName=sX;var DSe="DropdownMenuPortal",oX=t=>{const{__scopeDropdownMenu:e,...r}=t,n=xi(e);return k.jsx(GK,{...n,...r})};oX.displayName=DSe;var lX="DropdownMenuContent",uX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=nX(lX,r),a=xi(r),o=C.useRef(!1);return k.jsx(HK,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uX.displayName=lX;var RSe="DropdownMenuGroup",OSe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(WK,{...s,...n,ref:e})});OSe.displayName=RSe;var ISe="DropdownMenuLabel",cX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(KK,{...s,...n,ref:e})});cX.displayName=ISe;var BSe="DropdownMenuItem",dX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(XK,{...s,...n,ref:e})});dX.displayName=BSe;var FSe="DropdownMenuCheckboxItem",fX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(YK,{...s,...n,ref:e})});fX.displayName=FSe;var MSe="DropdownMenuRadioGroup",kSe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(qK,{...s,...n,ref:e})});kSe.displayName=MSe;var NSe="DropdownMenuRadioItem",hX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(ZK,{...s,...n,ref:e})});hX.displayName=NSe;var LSe="DropdownMenuItemIndicator",pX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(JK,{...s,...n,ref:e})});pX.displayName=LSe;var USe="DropdownMenuSeparator",mX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(QK,{...s,...n,ref:e})});mX.displayName=USe;var $Se="DropdownMenuArrow",jSe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(eX,{...s,...n,ref:e})});jSe.displayName=$Se;var zSe=t=>{const{__scopeDropdownMenu:e,children:r,open:n,onOpenChange:s,defaultOpen:a}=t,o=xi(e),[l,c]=wi({prop:n,defaultProp:a!=null?a:!1,onChange:s,caller:"DropdownMenuSub"});return k.jsx(ASe,{...o,open:l,onOpenChange:c,children:r})},VSe="DropdownMenuSubTrigger",gX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(tX,{...s,...n,ref:e})});gX.displayName=VSe;var GSe="DropdownMenuSubContent",vX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(rX,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vX.displayName=GSe;var IZe=iX,BZe=aX,FZe=oX,MZe=uX,kZe=cX,NZe=dX,LZe=fX,UZe=hX,$Ze=pX,jZe=mX,zZe=zSe,VZe=gX,GZe=vX;function mf(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var HSe=["color"],HZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,HSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),WSe=["color"],WZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,WSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),KSe=["color"],KZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,KSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),XSe=["color"],XZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,XSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),YSe=["color"],YZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,YSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),qSe=["color"],qZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,qSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ZSe=["color"],ZZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,ZSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sn=Object.keys,yi=Array.isArray;function Mi(t,e){return typeof e!="object"||Sn(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||Ir.Promise||(Ir.Promise=Promise);const ty=Object.getPrototypeOf,JSe={}.hasOwnProperty;function Bs(t,e){return JSe.call(t,e)}function bp(t,e){typeof e=="function"&&(e=e(ty(t))),(typeof Reflect>"u"?Sn:Reflect.ownKeys)(e).forEach(r=>{yl(t,r,e[r])})}const yX=Object.defineProperty;function yl(t,e,r,n){yX(t,e,Mi(r&&Bs(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function $h(t){return{from:function(e){return t.prototype=Object.create(e.prototype),yl(t.prototype,"constructor",t),{extend:bp.bind(null,t.prototype)}}}}const QSe=Object.getOwnPropertyDescriptor;function YB(t,e){let r;return QSe(t,e)||(r=ty(t))&&YB(r,e)}const eCe=[].slice;function Bw(t,e,r){return eCe.call(t,e,r)}function _X(t,e){return e(t)}function og(t){if(!t)throw new Error("Assertion Failed")}function bX(t){Ir.setImmediate?setImmediate(t):setTimeout(t,0)}function wX(t,e){return t.reduce((r,n,s)=>{var a=e(n,s);return a&&(r[a[0]]=a[1]),r},{})}function _l(t,e){if(typeof e=="string"&&Bs(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var a=_l(t,e[n]);r.push(a)}return r}var o=e.indexOf(".");if(o!==-1){var l=t[e.substr(0,o)];return l==null?void 0:_l(l,e.substr(o+1))}}function Ha(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){og(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)Ha(t,e[n],r[n])}else{var a=e.indexOf(".");if(a!==-1){var o=e.substr(0,a),l=e.substr(a+1);if(l==="")r===void 0?yi(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=r;else{var c=t[o];c&&Bs(t,o)||(c=t[o]={}),Ha(c,l,r)}}else r===void 0?yi(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function xX(t){var e={};for(var r in t)Bs(t,r)&&(e[r]=t[r]);return e}const tCe=[].concat;function EX(t){return tCe.apply([],t)}const SX="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(EX([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>Ir[t]),rCe=SX.map(t=>Ir[t]);wX(SX,t=>[t,!0]);let hu=null;function o_(t){hu=typeof WeakMap<"u"&&new WeakMap;const e=w2(t);return hu=null,e}function w2(t){if(!t||typeof t!="object")return t;let e=hu&&hu.get(t);if(e)return e;if(yi(t)){e=[],hu&&hu.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(w2(t[r]))}else if(rCe.indexOf(t.constructor)>=0)e=t;else{const a=ty(t);for(var s in e=a===Object.prototype?{}:Object.create(a),hu&&hu.set(t,e),t)Bs(t,s)&&(e[s]=w2(t[s]))}return e}const{toString:nCe}={};function x2(t){return nCe.call(t).slice(8,-1)}const E2=typeof Symbol<"u"?Symbol.iterator:"@@iterator",iCe=typeof E2=="symbol"?function(t){var e;return t!=null&&(e=t[E2])&&e.apply(t)}:function(){return null},Qf={};function ll(t){var e,r,n,s;if(arguments.length===1){if(yi(t))return t.slice();if(this===Qf&&typeof t=="string")return[t];if(s=iCe(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const qB=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var jo=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function CX(t,e){jo=t,AX=e}var AX=()=>!0;const sCe=!new Error("").stack;function gf(){if(sCe)try{throw gf.arguments,new Error}catch(t){return t}return new Error}function S2(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(AX).map(n=>"\n"+n).join("")):""}var TX=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ZB=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(TX),aCe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function jh(t,e){this._e=gf(),this.name=t,this.message=e}function PX(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join("\n")}function Fw(t,e,r,n){this._e=gf(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=PX(t,e)}function Lg(t,e){this._e=gf(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=PX(t,e)}$h(jh).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+S2(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$h(Fw).from(jh),$h(Lg).from(jh);var JB=ZB.reduce((t,e)=>(t[e]=e+"Error",t),{});const oCe=jh;var Tt=ZB.reduce((t,e)=>{var r=e+"Error";function n(s,a){this._e=gf(),this.name=r,s?typeof s=="string"?(this.message="".concat(s).concat(a?"\n "+a:""),this.inner=a||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=aCe[e]||r,this.inner=null)}return $h(n).from(oCe),t[e]=n,t},{});Tt.Syntax=SyntaxError,Tt.Type=TypeError,Tt.Range=RangeError;var k$=TX.reduce((t,e)=>(t[e+"Error"]=Tt[e],t),{}),X1=ZB.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Tt[e]),t),{});function br(){}function ry(t){return t}function lCe(t,e){return t==null||t===ry?e:function(r){return e(t(r))}}function Wd(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function uCe(t,e){return t===br?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Wd(n,this.onsuccess):n),s&&(this.onerror=this.onerror?Wd(s,this.onerror):s),a!==void 0?a:r}}function cCe(t,e){return t===br?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Wd(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Wd(n,this.onerror):n)}}function dCe(t,e){return t===br?e:function(r){var n=t.apply(this,arguments);Mi(r,n);var s=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Wd(s,this.onsuccess):s),a&&(this.onerror=this.onerror?Wd(a,this.onerror):a),n===void 0?o===void 0?void 0:o:Mi(n,o)}}function fCe(t,e){return t===br?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function QB(t,e){return t===br?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,a=new Array(s);s--;)a[s]=arguments[s];return r.then(function(){return e.apply(n,a)})}return e.apply(this,arguments)}}X1.ModifyError=Fw,X1.DexieError=jh,X1.BulkError=Lg;var ny={};const DX=100,[C2,Mw,A2]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,ty(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,ty(e),t]})(),RX=Mw&&Mw.then,Y1=C2&&C2.constructor,eF=!!A2;var T2=!1,hCe=A2?()=>{A2.then(M0)}:Ir.setImmediate?setImmediate.bind(null,M0):Ir.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{M0(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(M0,0)},Ug=function(t,e){lg.push([t,e]),kw&&(hCe(),kw=!1)},P2=!0,kw=!0,Td=[],q1=[],D2=null,R2=ry,zh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:U$,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{U$(t[0],t[1])}catch(e){}})}},yt=zh,lg=[],Pd=0,Z1=[];function nt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=br,this._lib=!1;var e=this._PSD=yt;if(jo&&(this._stackHolder=gf(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ny)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&I2(this,this._value))}this._state=null,this._value=null,++e.ref,IX(this,t)}const O2={get:function(){var t=yt,e=Nw;function r(n,s){var a=!t.global&&(t!==yt||e!==Nw);const o=a&&!Bl();var l=new nt((c,d)=>{tF(this,new OX(Lw(n,t,a,o),Lw(s,t,a,o),c,d,t))});return jo&&MX(l,this),l}return r.prototype=ny,r},set:function(t){yl(this,"then",t&&t.prototype===ny?O2:{get:function(){return t},set:O2.set})}};function OX(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function IX(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&l_();r&&typeof r.then=="function"?IX(t,(s,a)=>{r instanceof nt?r._then(s,a):r.then(s,a)}):(t._state=!0,t._value=r,BX(t)),n&&u_()}},I2.bind(null,t))}catch(r){I2(t,r)}}function I2(t,e){if(q1.push(e),t._state===null){var r=t._lib&&l_();e=R2(e),t._state=!1,t._value=e,jo&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,a){try{n.apply(null,a)}catch(o){s&&s(o)}}(()=>{var n=YB(e,"stack");e._promise=t,yl(e,"stack",{get:()=>T2?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){Td.some(s=>s._value===n._value)||Td.push(n)}(t),BX(t),r&&u_()}}function BX(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)tF(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),Pd===0&&(++Pd,Ug(()=>{--Pd==0&&rF()},[]))}function tF(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Pd,Ug(pCe,[r,t,e])}else t._listeners.push(e)}function pCe(t,e,r){try{D2=e;var n,s=e._value;e._state?n=t(s):(q1.length&&(q1=[]),n=t(s),q1.indexOf(s)===-1&&function(a){for(var o=Td.length;o;)if(Td[--o]._value===a._value)return void Td.splice(o,1)}(e)),r.resolve(n)}catch(a){r.reject(a)}finally{D2=null,--Pd==0&&rF(),--r.psd.ref||r.psd.finalize()}}function FX(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,a,o=t._value;o!=null?(s=o.name||"Error",a=o.message||o,n=S2(o,0)):(s=o,a=""),e.push(s+(a?": "+a:"")+n)}return jo&&((n=S2(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&FX(t._prev,e,r)),e}function MX(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function M0(){l_()&&u_()}function l_(){var t=P2;return P2=!1,kw=!1,t}function u_(){var t,e,r;do for(;lg.length>0;)for(t=lg,lg=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(lg.length>0);P2=!0,kw=!0}function rF(){var t=Td;Td=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=Z1.slice(0),r=e.length;r;)e[--r]()}function k0(t){return new nt(ny,!1,t)}function zr(t,e){var r=yt;return function(){var n=l_(),s=yt;try{return oc(r,!0),t.apply(this,arguments)}catch(a){e&&e(a)}finally{oc(s,!1),n&&u_()}}}bp(nt.prototype,{then:O2,_then:function(t,e){tF(this,new OX(null,null,t,e,yt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):k0(n)):this.then(null,n=>n&&n.name===e?r(n):k0(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),k0(e)))},stack:{get:function(){if(this._stack)return this._stack;try{T2=!0;var t=FX(this,[],20).join("\nFrom previous: ");return this._state!==null&&(this._stack=t),t}finally{T2=!1}}},timeout:function(t,e){return t<1/0?new nt((r,n)=>{var s=setTimeout(()=>n(new Tt.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&yl(nt.prototype,Symbol.toStringTag,"Dexie.Promise"),zh.env=kX(),bp(nt,{all:function(){var t=ll.apply(null,arguments).map(N0);return new nt(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,a)=>nt.resolve(s).then(o=>{t[a]=o,--n||e(t)},r))})},resolve:t=>{if(t instanceof nt)return t;if(t&&typeof t.then=="function")return new nt((r,n)=>{t.then(r,n)});var e=new nt(ny,!0,t);return MX(e,D2),e},reject:k0,race:function(){var t=ll.apply(null,arguments).map(N0);return new nt((e,r)=>{t.map(n=>nt.resolve(n).then(e,r))})},PSD:{get:()=>yt,set:t=>yt=t},totalEchoes:{get:()=>Nw},newPSD:ac,usePSD:Kp,scheduler:{get:()=>Ug,set:t=>{Ug=t}},rejectionMapper:{get:()=>R2,set:t=>{R2=t}},follow:(t,e)=>new nt((r,n)=>ac((s,a)=>{var o=yt;o.unhandleds=[],o.onunhandled=a,o.finalize=Wd(function(){(function(l){function c(){l(),Z1.splice(Z1.indexOf(c),1)}Z1.push(c),++Pd,Ug(()=>{--Pd==0&&rF()},[])})(()=>{this.unhandleds.length===0?s():a(this.unhandleds[0])})},o.finalize),t()},e,r,n))}),Y1&&(Y1.allSettled&&yl(nt,"allSettled",function(){const t=ll.apply(null,arguments).map(N0);return new nt(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,a)=>nt.resolve(s).then(o=>n[a]={status:"fulfilled",value:o},o=>n[a]={status:"rejected",reason:o}).then(()=>--r||e(n)))})}),Y1.any&&typeof AggregateError<"u"&&yl(nt,"any",function(){const t=ll.apply(null,arguments).map(N0);return new nt((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((a,o)=>nt.resolve(a).then(l=>e(l),l=>{s[o]=l,--n||r(new AggregateError(s))}))})}));const gi={awaits:0,echoes:0,id:0};var mCe=0,J1=[],XA=0,Nw=0,gCe=0;function ac(t,e,r,n){var s=yt,a=Object.create(s);a.parent=s,a.ref=0,a.global=!1,a.id=++gCe;var o=zh.env;a.env=eF?{Promise:nt,PromiseProp:{value:nt,configurable:!0,writable:!0},all:nt.all,race:nt.race,allSettled:nt.allSettled,any:nt.any,resolve:nt.resolve,reject:nt.reject,nthen:N$(o.nthen,a),gthen:N$(o.gthen,a)}:{},e&&Mi(a,e),++s.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Kp(a,t,r,n);return a.ref===0&&a.finalize(),l}function Wp(){return gi.id||(gi.id=++mCe),++gi.awaits,gi.echoes+=DX,gi.id}function Bl(){return!!gi.awaits&&(--gi.awaits==0&&(gi.id=0),gi.echoes=gi.awaits*DX,!0)}function N0(t){return gi.echoes&&t&&t.constructor===Y1?(Wp(),t.then(e=>(Bl(),e),e=>(Bl(),In(e)))):t}function vCe(t){++Nw,gi.echoes&&--gi.echoes!=0||(gi.echoes=gi.id=0),J1.push(yt),oc(t,!0)}function yCe(){var t=J1[J1.length-1];J1.pop(),oc(t,!1)}function oc(t,e){var r=yt;if((e?!gi.echoes||XA++&&t===yt:!XA||--XA&&t===yt)||NX(e?vCe.bind(null,t):yCe),t!==yt&&(yt=t,r===zh&&(zh.env=kX()),eF)){var n=zh.env.Promise,s=t.env;Mw.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(Ir,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function kX(){var t=Ir.Promise;return eF?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Ir,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Mw.then,gthen:t.prototype.then}:{}}function Kp(t,e,r,n,s){var a=yt;try{return oc(t,!0),e(r,n,s)}finally{oc(a,!1)}}function NX(t){RX.call(C2,t)}function Lw(t,e,r,n){return typeof t!="function"?t:function(){var s=yt;r&&Wp(),oc(e,!0);try{return t.apply(this,arguments)}finally{oc(s,!1),n&&NX(Bl)}}}function N$(t,e){return function(r,n){return t.call(this,Lw(r,e),Lw(n,e))}}(""+RX).indexOf("[native code]")===-1&&(Wp=Bl=br);const L$="unhandledrejection";function U$(t,e){var r;try{r=e.onuncatched(t)}catch(a){}if(r!==!1)try{var n,s={promise:e,reason:t};if(Ir.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(L$,!0,!0),Mi(n,s)):Ir.CustomEvent&&Mi(n=new CustomEvent(L$,{detail:s}),s),n&&Ir.dispatchEvent&&(dispatchEvent(n),!Ir.PromiseRejectionEvent&&Ir.onunhandledrejection))try{Ir.onunhandledrejection(n)}catch(a){}jo&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(a){}}var In=nt.reject;function B2(t,e,r,n){if(t.idbdb&&(t._state.openComplete||yt.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===JB.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>B2(t,e,r,n))):In(a)}return s._promise(e,(a,o)=>ac(()=>(yt.trans=s,n(a,o,s)))).then(a=>s._completion.then(()=>a))}if(t._state.openComplete)return In(new Tt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return In(new Tt.DatabaseClosed);t.open().catch(br)}return t._state.dbReadyPromise.then(()=>B2(t,e,r,n))}const $$="3.2.7",ud=String.fromCharCode(65535),F2=-1/0,Ko="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",LX="String expected.",$g=[],WE=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),_Ce=WE,bCe=WE,UX=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),KE="__dbnames",YA="readonly",qA="readwrite";function Kd(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const $X={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function L0(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=o_(e))[t],e)}class wCe{_trans(e,r,n){const s=this._tx||yt.trans,a=this.name;function o(c,d,f){if(!f.schema[a])throw new Tt.NotFound("Table "+a+" not part of transaction");return r(f.idbtrans,f)}const l=l_();try{return s&&s.db===this.db?s===yt.trans?s._promise(e,o,n):ac(()=>s._promise(e,o,n),{trans:s,transless:yt.transless||yt}):B2(this.db,e,[this.name],o)}finally{l&&u_()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(yi(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const r=Sn(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(d=>{if(d.compound&&r.every(f=>d.keyPath.indexOf(f)>=0)){for(let f=0;f<r.length;++f)if(r.indexOf(d.keyPath[f])===-1)return!1;return!0}return!1}).sort((d,f)=>d.keyPath.length-f.keyPath.length)[0];if(n&&this.db._maxKey!==ud){const d=n.keyPath.slice(0,r.length);return this.where(d).equals(d.map(f=>e[f]))}!n&&jo&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(r.join("+"),"]"));const{idxByName:s}=this.schema,a=this.db._deps.indexedDB;function o(d,f){try{return a.cmp(d,f)===0}catch(p){return!1}}const[l,c]=r.reduce(([d,f],p)=>{const g=s[p],y=e[p];return[d||g,d||!g?Kd(f,g&&g.multi?b=>{const _=_l(b,p);return yi(_)&&_.some(u=>o(y,u))}:b=>o(y,_l(b,p))):f]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,yi(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var a in n)if(Bs(n,a))try{s[a]=n[a]}catch(o){}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){Mi(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let a=e;return s&&n&&(a=L0(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:r!=null?[r]:null,values:[a]})).then(o=>o.numFailures?nt.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ha(e,s,o)}catch(l){}return o})}update(e,r){if(typeof e!="object"||yi(e))return this.where(":id").equals(e).modify(r);{const n=_l(e,this.schema.primKey.keyPath);if(n===void 0)return In(new Tt.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?Sn(r).forEach(s=>{Ha(e,s,r[s])}):r(e,{value:e,primKey:n})}catch(s){}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let a=e;return s&&n&&(a=L0(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[a],keys:r!=null?[r]:null})).then(o=>o.numFailures?nt.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ha(e,s,o)}catch(l){}return o})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?nt.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:$X})).then(e=>e.numFailures?nt.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,a=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Tt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Tt.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=c&&l?e.map(L0(c)):e;return this.core.mutate({trans:o,type:"add",keys:s,values:f,wantResults:a}).then(({numFailures:p,results:g,lastResult:y,failures:b})=>{if(p===0)return a?g:y;throw new Lg("".concat(this.name,".bulkAdd(): ").concat(p," of ").concat(d," operations failed"),b)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,a=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Tt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Tt.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=c&&l?e.map(L0(c)):e;return this.core.mutate({trans:o,type:"put",keys:s,values:f,wantResults:a}).then(({numFailures:p,results:g,lastResult:y,failures:b})=>{if(p===0)return a?g:y;throw new Lg("".concat(this.name,".bulkPut(): ").concat(p," of ").concat(d," operations failed"),b)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:a})=>{if(n===0)return s;throw new Lg("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),a)})}}function jg(t){var e={},r=function(o,l){if(l){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return e[o].subscribe.apply(null,d),t}if(typeof o=="string")return e[o]};r.addEventType=a;for(var n=1,s=arguments.length;n<s;++n)a(arguments[n]);return r;function a(o,l,c){if(typeof o!="object"){var d;l||(l=fCe),c||(c=br);var f={subscribers:[],fire:c,subscribe:function(p){f.subscribers.indexOf(p)===-1&&(f.subscribers.push(p),f.fire=l(f.fire,p))},unsubscribe:function(p){f.subscribers=f.subscribers.filter(function(g){return g!==p}),f.fire=f.subscribers.reduce(l,c)}};return e[o]=r[o]=f,f}Sn(d=o).forEach(function(p){var g=d[p];if(yi(g))a(p,d[p][0],d[p][1]);else{if(g!=="asap")throw new Tt.InvalidArgument("Invalid event config");var y=a(p,ry,function(){for(var b=arguments.length,_=new Array(b);b--;)_[b]=arguments[b];y.subscribers.forEach(function(u){bX(function(){u.apply(null,_)})})})}})}}function Mm(t,e){return $h(e).from({prototype:t}),e}function Mf(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ZA(t,e){t.filter=Kd(t.filter,e)}function JA(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Kd(n(),e()):e,t.justLimit=r&&!n}function Q1(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new Tt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function j$(t,e,r){const n=Q1(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function U0(t,e,r,n){const s=t.replayFilter?Kd(t.filter,t.replayFilter()):t.filter;if(t.or){const a={},o=(l,c,d)=>{if(!s||s(c,d,g=>c.stop(g),g=>c.fail(g))){var f=c.primaryKey,p=""+f;p==="[object ArrayBuffer]"&&(p=""+new Uint8Array(f)),Bs(a,p)||(a[p]=!0,e(l,c,d))}};return Promise.all([t.or._iterate(o,r),z$(j$(t,n,r),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return z$(j$(t,n,r),Kd(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function z$(t,e,r,n){var s=zr(n?(a,o,l)=>r(n(a),o,l):r);return t.then(a=>{if(a)return a.start(()=>{var o=()=>a.continue();e&&!e(a,l=>o=l,l=>{a.stop(l),o=br},l=>{a.fail(l),o=br})||s(a.value,a,l=>o=l),o()})})}function Ri(t,e){try{const r=V$(t),n=V$(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,a){const o=s.length,l=a.length,c=o<l?o:l;for(let d=0;d<c;++d)if(s[d]!==a[d])return s[d]<a[d]?-1:1;return o===l?0:o<l?-1:1}(G$(t),G$(e));case"Array":return function(s,a){const o=s.length,l=a.length,c=o<l?o:l;for(let d=0;d<c;++d){const f=Ri(s[d],a[d]);if(f!==0)return f}return o===l?0:o<l?-1:1}(t,e)}}catch(r){}return NaN}function V$(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=x2(t);return r==="ArrayBuffer"?"binary":r}function G$(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class xCe{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,In.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,In.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=Kd(r.algorithm,e)}_iterate(e,r){return U0(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Mi(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>U0(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Mf(n,!0))return s.count({trans:r,query:{index:Q1(n,s.schema),range:n.range}}).then(o=>Math.min(o,n.limit));var a=0;return U0(n,()=>(++a,!1),r,s).then(()=>a)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],a=n.length-1;function o(d,f){return f?o(d[n[f]],f-1):d[s]}var l=this._ctx.dir==="next"?1:-1;function c(d,f){var p=o(d,a),g=o(f,a);return p<g?-l:p>g?l:0}return this.toArray(function(d){return d.sort(c)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Mf(n,!0)&&n.limit>0){const{valueMapper:s}=n,a=Q1(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:a,range:n.range}}).then(({result:o})=>s?o.map(s):o)}{const s=[];return U0(n,a=>s.push(a),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Mf(r)?JA(r,()=>{var n=e;return(s,a)=>n===0||(n===1?(--n,!1):(a(()=>{s.advance(n),n=0}),!1))}):JA(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),JA(this._ctx,()=>{var r=e;return function(n,s,a){return--r<=0&&s(a),r>=0}},!0),this}until(e,r){return ZA(this._ctx,function(n,s,a){return!e(n.value)||(s(a),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return ZA(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=Kd(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,a){n.push(a.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Mf(r,!0)&&r.limit>0)return this._read(s=>{var a=Q1(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:a,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,a){n.push(a.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return ZA(this._ctx,function(s){var a=s.primaryKey.toString(),o=Bs(n,a);return n[a]=!0,!o}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var a=Sn(e),o=a.length;s=function(_){for(var u=!1,h=0;h<o;++h){var m=a[h],v=e[m];_l(_,m)!==v&&(Ha(_,m,v),u=!0)}return u}}const l=r.table.core,{outbound:c,extractKey:d}=l.schema.primaryKey,f=this.db._options.modifyChunkSize||200,p=[];let g=0;const y=[],b=(_,u)=>{const{failures:h,numFailures:m}=u;g+=_-m;for(let v of Sn(h))p.push(h[v])};return this.clone().primaryKeys().then(_=>{const u=h=>{const m=Math.min(f,_.length-h);return l.getMany({trans:n,keys:_.slice(h,h+m),cache:"immutable"}).then(v=>{const w=[],x=[],S=c?[]:null,E=[];for(let T=0;T<m;++T){const A=v[T],R={value:o_(A),primKey:_[h+T]};s.call(R,R.value,R)!==!1&&(R.value==null?E.push(_[h+T]):c||Ri(d(A),d(R.value))===0?(x.push(R.value),c&&S.push(_[h+T])):(E.push(_[h+T]),w.push(R.value)))}const P=Mf(r)&&r.limit===1/0&&(typeof e!="function"||e===QA)&&{index:r.index,range:r.range};return Promise.resolve(w.length>0&&l.mutate({trans:n,type:"add",values:w}).then(T=>{for(let A in T.failures)E.splice(parseInt(A),1);b(w.length,T)})).then(()=>(x.length>0||P&&typeof e=="object")&&l.mutate({trans:n,type:"put",keys:S,values:x,criteria:P,changeSpec:typeof e!="function"&&e}).then(T=>b(x.length,T))).then(()=>(E.length>0||P&&e===QA)&&l.mutate({trans:n,type:"delete",keys:E,criteria:P}).then(T=>b(E.length,T))).then(()=>_.length>h+m&&u(h+f))})};return u(0).then(()=>{if(p.length>0)throw new Fw("Error modifying one or more objects",p,g,y);return _.length})})})}delete(){var e=this._ctx,r=e.range;return Mf(e)&&(e.isPrimKey&&!bCe||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,a=r;return e.table.core.count({trans:n,query:{index:s,range:a}}).then(o=>e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(({failures:l,lastResult:c,results:d,numFailures:f})=>{if(f)throw new Fw("Could not delete some values",Object.keys(l).map(p=>l[p]),o-f);return o-f}))}):this.modify(QA)}}const QA=(t,e)=>e.value=null;function ECe(t,e){return t<e?-1:t===e?0:1}function SCe(t,e){return t>e?-1:t===e?0:1}function cs(t,e,r){var n=t instanceof zX?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function kf(t){return new t.Collection(t,()=>jX("")).limit(0)}function CCe(t,e,r,n,s,a){for(var o=Math.min(t.length,n.length),l=-1,c=0;c<o;++c){var d=e[c];if(d!==n[c])return s(t[c],r[c])<0?t.substr(0,c)+r[c]+r.substr(c+1):s(t[c],n[c])<0?t.substr(0,c)+n[c]+r.substr(c+1):l>=0?t.substr(0,l)+e[l]+r.substr(l+1):null;s(t[c],d)<0&&(l=c)}return o<n.length&&a==="next"?t+r.substr(t.length):o<t.length&&a==="prev"?t.substr(0,r.length):l<0?null:t.substr(0,l)+n[l]+r.substr(l+1)}function $0(t,e,r,n){var s,a,o,l,c,d,f,p=r.length;if(!r.every(_=>typeof _=="string"))return cs(t,LX);function g(_){s=function(h){return h==="next"?m=>m.toUpperCase():m=>m.toLowerCase()}(_),a=function(h){return h==="next"?m=>m.toLowerCase():m=>m.toUpperCase()}(_),o=_==="next"?ECe:SCe;var u=r.map(function(h){return{lower:a(h),upper:s(h)}}).sort(function(h,m){return o(h.lower,m.lower)});l=u.map(function(h){return h.upper}),c=u.map(function(h){return h.lower}),d=_,f=_==="next"?"":n}g("next");var y=new t.Collection(t,()=>lu(l[0],c[p-1]+n));y._ondirectionchange=function(_){g(_)};var b=0;return y._addAlgorithm(function(_,u,h){var m=_.key;if(typeof m!="string")return!1;var v=a(m);if(e(v,c,b))return!0;for(var w=null,x=b;x<p;++x){var S=CCe(m,v,l[x],c[x],o,d);S===null&&w===null?b=x+1:(w===null||o(w,S)>0)&&(w=S)}return u(w!==null?function(){_.continue(w+f)}:h),!1}),y}function lu(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function jX(t){return{type:1,lower:t,upper:t}}class zX{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?kf(this):new this.Collection(this,()=>lu(e,r,!n,!s))}catch(a){return cs(this,Ko)}}equals(e){return e==null?cs(this,Ko):new this.Collection(this,()=>jX(e))}above(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(e,void 0,!0))}aboveOrEqual(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(e,void 0,!1))}below(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(void 0,e,!1,!0))}belowOrEqual(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(void 0,e))}startsWith(e){return typeof e!="string"?cs(this,LX):this.between(e,e+ud,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):$0(this,(r,n)=>r.indexOf(n[0])===0,[e],ud)}equalsIgnoreCase(e){return $0(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=ll.apply(Qf,arguments);return e.length===0?kf(this):$0(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ll.apply(Qf,arguments);return e.length===0?kf(this):$0(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,ud)}anyOf(){const e=ll.apply(Qf,arguments);let r=this._cmp;try{e.sort(r)}catch(a){return cs(this,Ko)}if(e.length===0)return kf(this);const n=new this.Collection(this,()=>lu(e[0],e[e.length-1]));n._ondirectionchange=a=>{r=a==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((a,o,l)=>{const c=a.key;for(;r(c,e[s])>0;)if(++s,s===e.length)return o(l),!1;return r(c,e[s])===0||(o(()=>{a.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[F2,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ll.apply(Qf,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return cs(this,Ko)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[F2,s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,a=this._descending,o=this._min,l=this._max;if(e.length===0)return kf(this);if(!e.every(m=>m[0]!==void 0&&m[1]!==void 0&&s(m[0],m[1])<=0))return cs(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Tt.InvalidArgument);const c=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;let f,p=s;function g(m,v){return p(m[0],v[0])}try{f=e.reduce(function(m,v){let w=0,x=m.length;for(;w<x;++w){const S=m[w];if(n(v[0],S[1])<0&&n(v[1],S[0])>0){S[0]=o(S[0],v[0]),S[1]=l(S[1],v[1]);break}}return w===x&&m.push(v),m},[]),f.sort(g)}catch(m){return cs(this,Ko)}let y=0;const b=d?m=>s(m,f[y][1])>0:m=>s(m,f[y][1])>=0,_=c?m=>a(m,f[y][0])>0:m=>a(m,f[y][0])>=0;let u=b;const h=new this.Collection(this,()=>lu(f[0][0],f[f.length-1][1],!c,!d));return h._ondirectionchange=m=>{m==="next"?(u=b,p=s):(u=_,p=a),f.sort(g)},h._addAlgorithm((m,v,w)=>{for(var x=m.key;u(x);)if(++y,y===f.length)return v(w),!1;return!!function(S){return!b(S)&&!_(S)}(x)||(this._cmp(x,f[y][1])===0||this._cmp(x,f[y][0])===0||v(()=>{p===s?m.continue(f[y][0]):m.continue(f[y][1])}),!1)}),h}startsWithAnyOf(){const e=ll.apply(Qf,arguments);return e.every(r=>typeof r=="string")?e.length===0?kf(this):this.inAnyRange(e.map(r=>[r,r+ud])):cs(this,"startsWithAnyOf() only works with strings")}}function ho(t){return zr(function(e){return iy(e),t(e.target.error),!1})}function iy(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const sy="storagemutated",wu="x-storagemutated-1",lc=jg(null,sy);class ACe{_lock(){return og(!yt.global),++this._reculock,this._reculock!==1||yt.global||(yt.lockOwnerFor=this),this}_unlock(){if(og(!yt.global),--this._reculock==0)for(yt.global||(yt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Kp(e[1],e[0])}catch(r){}}return this}_locked(){return this._reculock&&yt.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(og(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new Tt.DatabaseClosed(n);case"MissingAPIError":throw new Tt.MissingAPI(n.message,n);default:throw new Tt.OpenFailed(n)}if(!this.active)throw new Tt.TransactionInactive;return og(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=zr(s=>{iy(s),this._reject(e.error)}),e.onabort=zr(s=>{iy(s),this.active&&this._reject(new Tt.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=zr(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&lc.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return In(new Tt.ReadOnly("Transaction is readonly"));if(!this.active)return In(new Tt.TransactionInactive);if(this._locked())return new nt((a,o)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(a,o)},yt])});if(n)return ac(()=>{var a=new nt((o,l)=>{this._lock();const c=r(o,l,this);c&&c.then&&c.then(o,l)});return a.finally(()=>this._unlock()),a._lib=!0,a});var s=new nt((a,o)=>{var l=r(a,o,this);l&&l.then&&l.then(a,o)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=nt.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var a=r._waitingFor;return new nt((o,l)=>{n.then(c=>r._waitingQueue.push(zr(o.bind(null,c))),c=>r._waitingQueue.push(zr(l.bind(null,c)))).finally(()=>{r._waitingFor===a&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Tt.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(Bs(r,e))return r[e];const n=this.schema[e];if(!n)throw new Tt.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function M2(t,e,r,n,s,a,o){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:a,src:(r&&!o?"&":"")+(n?"*":"")+(s?"++":"")+VX(e)}}function VX(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function GX(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:wX(r,n=>[n.name,n])}}let ay=t=>{try{return t.only([[]]),ay=()=>[[]],[[]]}catch(e){return ay=()=>ud,ud}};function k2(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>_l(n,e)}(t):e=>_l(e,t)}function H$(t){return[].slice.call(t)}let TCe=0;function zg(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function PCe(t,e,r){function n(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:f,lowerOpen:p,upperOpen:g}=c;return d===void 0?f===void 0?null:e.upperBound(f,!!g):f===void 0?e.lowerBound(d,!!p):e.bound(d,f,!!p,!!g)}const{schema:s,hasGetAll:a}=function(c,d){const f=H$(c.objectStoreNames);return{schema:{name:c.name,tables:f.map(p=>d.objectStore(p)).map(p=>{const{keyPath:g,autoIncrement:y}=p,b=yi(g),_=g==null,u={},h={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_,compound:b,keyPath:g,autoIncrement:y,unique:!0,extractKey:k2(g)},indexes:H$(p.indexNames).map(m=>p.index(m)).map(m=>{const{name:v,unique:w,multiEntry:x,keyPath:S}=m,E={name:v,compound:yi(S),keyPath:S,unique:w,multiEntry:x,extractKey:k2(S)};return u[zg(S)]=E,E}),getIndexByKeyPath:m=>u[zg(m)]};return u[":id"]=h.primaryKey,g!=null&&(u[zg(g)]=h.primaryKey),h})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),o=s.tables.map(c=>function(d){const f=d.name;return{name:f,schema:d,mutate:function({trans:p,type:g,keys:y,values:b,range:_}){return new Promise((u,h)=>{u=zr(u);const m=p.objectStore(f),v=m.keyPath==null,w=g==="put"||g==="add";if(!w&&g!=="delete"&&g!=="deleteRange")throw new Error("Invalid operation type: "+g);const{length:x}=y||b||{length:1};if(y&&b&&y.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return u({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const E=[],P=[];let T=0;const A=D=>{++T,iy(D)};if(g==="deleteRange"){if(_.type===4)return u({numFailures:T,failures:P,results:[],lastResult:void 0});_.type===3?E.push(S=m.clear()):E.push(S=m.delete(n(_)))}else{const[D,O]=w?v?[b,y]:[b,null]:[y,null];if(w)for(let I=0;I<x;++I)E.push(S=O&&O[I]!==void 0?m[g](D[I],O[I]):m[g](D[I])),S.onerror=A;else for(let I=0;I<x;++I)E.push(S=m[g](D[I])),S.onerror=A}const R=D=>{const O=D.target.result;E.forEach((I,M)=>I.error!=null&&(P[M]=I.error)),u({numFailures:T,failures:P,results:g==="delete"?y:E.map(I=>I.result),lastResult:O})};S.onerror=D=>{A(D),R(D)},S.onsuccess=R})},getMany:({trans:p,keys:g})=>new Promise((y,b)=>{y=zr(y);const _=p.objectStore(f),u=g.length,h=new Array(u);let m,v=0,w=0;const x=E=>{const P=E.target;h[P._pos]=P.result,++w===v&&y(h)},S=ho(b);for(let E=0;E<u;++E)g[E]!=null&&(m=_.get(g[E]),m._pos=E,m.onsuccess=x,m.onerror=S,++v);v===0&&y(h)}),get:({trans:p,key:g})=>new Promise((y,b)=>{y=zr(y);const _=p.objectStore(f).get(g);_.onsuccess=u=>y(u.target.result),_.onerror=ho(b)}),query:function(p){return g=>new Promise((y,b)=>{y=zr(y);const{trans:_,values:u,limit:h,query:m}=g,v=h===1/0?void 0:h,{index:w,range:x}=m,S=_.objectStore(f),E=w.isPrimaryKey?S:S.index(w.name),P=n(x);if(h===0)return y({result:[]});if(p){const T=u?E.getAll(P,v):E.getAllKeys(P,v);T.onsuccess=A=>y({result:A.target.result}),T.onerror=ho(b)}else{let T=0;const A=u||!("openKeyCursor"in E)?E.openCursor(P):E.openKeyCursor(P),R=[];A.onsuccess=D=>{const O=A.result;return O?(R.push(u?O.value:O.primaryKey),++T===h?y({result:R}):void O.continue()):y({result:R})},A.onerror=ho(b)}})}(a),openCursor:function({trans:p,values:g,query:y,reverse:b,unique:_}){return new Promise((u,h)=>{u=zr(u);const{index:m,range:v}=y,w=p.objectStore(f),x=m.isPrimaryKey?w:w.index(m.name),S=b?_?"prevunique":"prev":_?"nextunique":"next",E=g||!("openKeyCursor"in x)?x.openCursor(n(v),S):x.openKeyCursor(n(v),S);E.onerror=ho(h),E.onsuccess=zr(P=>{const T=E.result;if(!T)return void u(null);T.___id=++TCe,T.done=!1;const A=T.continue.bind(T);let R=T.continuePrimaryKey;R&&(R=R.bind(T));const D=T.advance.bind(T),O=()=>{throw new Error("Cursor not stopped")};T.trans=p,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=zr(h),T.next=function(){let I=1;return this.start(()=>I--?this.continue():this.stop()).then(()=>this)},T.start=I=>{const M=new Promise((j,$)=>{j=zr(j),E.onerror=ho($),T.fail=$,T.stop=H=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=O,j(H)}}),G=()=>{if(E.result)try{I()}catch(j){T.fail(j)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return E.onsuccess=zr(j=>{E.onsuccess=G,G()}),T.continue=A,T.continuePrimaryKey=R,T.advance=D,G(),M},u(T)},h)})},count({query:p,trans:g}){const{index:y,range:b}=p;return new Promise((_,u)=>{const h=g.objectStore(f),m=y.isPrimaryKey?h:h.index(y.name),v=n(b),w=v?m.count(v):m.count();w.onsuccess=zr(x=>_(x.target.result)),w.onerror=ho(u)})}}}(c)),l={};return o.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!l[c])throw new Error("Table '".concat(c,"' not found"));return l[c]},MIN_KEY:-1/0,MAX_KEY:ay(e),schema:s}}function N2({_novip:t},e){const r=e.db,n=function(s,a,{IDBKeyRange:o,indexedDB:l},c){return{dbcore:function(f,p){return p.reduce((g,{create:y})=>({...g,...y(g)}),f)}(PCe(a,o,c),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const a=s.name;t.core.schema.tables.some(o=>o.name===a)&&(s.core=t.core.table(a),t[a]instanceof t.Table&&(t[a].core=s.core))})}function Uw({_novip:t},e,r,n){r.forEach(s=>{const a=n[s];e.forEach(o=>{const l=YB(o,s);(!l||"value"in l&&l.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?yl(o,s,{get(){return this.table(s)},set(c){yX(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[s]=new t.Table(s,a))})})}function L2({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function DCe(t,e){return t._cfg.version-e._cfg.version}function RCe(t,e,r,n){const s=t._dbSchema,a=t._createTransaction("readwrite",t._storeNames,s);a.create(r),a._completion.catch(n);const o=a._reject.bind(a),l=yt.transless||yt;ac(()=>{yt.trans=a,yt.transless=l,e===0?(Sn(s).forEach(c=>{eT(r,c,s[c].primKey,s[c].indexes)}),N2(t,r),nt.follow(()=>t.on.populate.fire(a)).catch(o)):function({_novip:c},d,f,p){const g=[],y=c._versions;let b=c._dbSchema=$2(c,c.idbdb,p),_=!1;const u=y.filter(m=>m._cfg.version>=d);function h(){return g.length?nt.resolve(g.shift()(f.idbtrans)).then(h):nt.resolve()}return u.forEach(m=>{g.push(()=>{const v=b,w=m._cfg.dbschema;j2(c,v,p),j2(c,w,p),b=c._dbSchema=w;const x=HX(v,w);x.add.forEach(E=>{eT(p,E[0],E[1].primKey,E[1].indexes)}),x.change.forEach(E=>{if(E.recreate)throw new Tt.Upgrade("Not yet support for changing primary key");{const P=p.objectStore(E.name);E.add.forEach(T=>U2(P,T)),E.change.forEach(T=>{P.deleteIndex(T.name),U2(P,T)}),E.del.forEach(T=>P.deleteIndex(T))}});const S=m._cfg.contentUpgrade;if(S&&m._cfg.version>d){N2(c,p),f._memoizedTables={},_=!0;let E=xX(w);x.del.forEach(R=>{E[R]=v[R]}),L2(c,[c.Transaction.prototype]),Uw(c,[c.Transaction.prototype],Sn(E),E),f.schema=E;const P=qB(S);let T;P&&Wp();const A=nt.follow(()=>{if(T=S(f),T&&P){var R=Bl.bind(null,null);T.then(R,R)}});return T&&typeof T.then=="function"?nt.resolve(T):A.then(()=>T)}}),g.push(v=>{(!_||!_Ce)&&function(w,x){[].slice.call(x.db.objectStoreNames).forEach(S=>w[S]==null&&x.db.deleteObjectStore(S))}(m._cfg.dbschema,v),L2(c,[c.Transaction.prototype]),Uw(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),f.schema=c._dbSchema})}),h().then(()=>{var m,v;v=p,Sn(m=b).forEach(w=>{v.db.objectStoreNames.contains(w)||eT(v,w,m[w].primKey,m[w].indexes)})})}(t,e,a,r).catch(o)})}function HX(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],a=e[n];if(s){const o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||s.primKey.auto!==a.primKey.auto&&!WE)o.recreate=!0,r.change.push(o);else{const l=s.idxByName,c=a.idxByName;let d;for(d in l)c[d]||o.del.push(d);for(d in c){const f=l[d],p=c[d];f?f.src!==p.src&&o.change.push(p):o.add.push(p)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,a])}return r}function eT(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(a=>U2(s,a)),s}function U2(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function $2(t,e,r){const n={};return Bw(e.objectStoreNames,0).forEach(s=>{const a=r.objectStore(s);let o=a.keyPath;const l=M2(VX(o),o||"",!1,!1,!!a.autoIncrement,o&&typeof o!="string",!0),c=[];for(let f=0;f<a.indexNames.length;++f){const p=a.index(a.indexNames[f]);o=p.keyPath;var d=M2(p.name,o,!!p.unique,!!p.multiEntry,!1,o&&typeof o!="string",!1);c.push(d)}n[s]=GX(s,l,c)}),n}function j2({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const a=n[s],o=r.objectStore(a);t._hasGetAll="getAll"in o;for(let l=0;l<o.indexNames.length;++l){const c=o.indexNames[l],d=o.index(c).keyPath,f=typeof d=="string"?d:"["+Bw(d).join("+")+"]";if(e[a]){const p=e[a].idxByName[f];p&&(p.name=c,delete e[a].idxByName[f],e[a].idxByName[c]=p)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ir.WorkerGlobalScope&&Ir instanceof Ir.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class OCe{_parseStoresSpec(e,r){Sn(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((o,l)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return M2(c,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),yi(d),l===0)}),a=s.shift();if(a.multi)throw new Tt.Schema("Primary key cannot be multi-valued");s.forEach(o=>{if(o.auto)throw new Tt.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new Tt.Schema("Index must have a name and cannot be an empty string")}),r[n]=GX(n,a,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Mi(this._cfg.storesSource,e):e;const n=r._versions,s={};let a={};return n.forEach(o=>{Mi(s,o._cfg.storesSource),a=o._cfg.dbschema={},o._parseStoresSpec(s,a)}),r._dbSchema=a,L2(r,[r._allTables,r,r.Transaction.prototype]),Uw(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],Sn(a),a),r._storeNames=Sn(a),this}upgrade(e){return this._cfg.contentUpgrade=QB(this._cfg.contentUpgrade||br,e),this}}function nF(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new xn(KE,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function iF(t){return t&&typeof t.databases=="function"}function z2(t){return ac(function(){return yt.letThrough=!0,t()})}function ICe(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function BCe(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?In(e.dbOpenError):t);jo&&(e.openCanceller._stackHolder=gf()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new Tt.DatabaseClosed("db.open() was cancelled")}let a=e.dbReadyResolve,o=null,l=!1;const c=()=>new nt((d,f)=>{if(s(),!r)throw new Tt.MissingAPI;const p=t.name,g=e.autoSchema?r.open(p):r.open(p,Math.round(10*t.verno));if(!g)throw new Tt.MissingAPI;g.onerror=ho(f),g.onblocked=zr(t._fireOnBlocked),g.onupgradeneeded=zr(y=>{if(o=g.transaction,e.autoSchema&&!t._options.allowEmptyDB){g.onerror=iy,o.abort(),g.result.close();const _=r.deleteDatabase(p);_.onsuccess=_.onerror=zr(()=>{f(new Tt.NoSuchDatabase("Database ".concat(p," doesnt exist")))})}else{o.onerror=ho(f);var b=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;l=b<1,t._novip.idbdb=g.result,RCe(t,b/10,o,f)}},f),g.onsuccess=zr(()=>{o=null;const y=t._novip.idbdb=g.result,b=Bw(y.objectStoreNames);if(b.length>0)try{const u=y.transaction((_=b).length===1?_[0]:_,"readonly");e.autoSchema?function({_novip:h},m,v){h.verno=m.version/10;const w=h._dbSchema=$2(0,m,v);h._storeNames=Bw(m.objectStoreNames,0),Uw(h,[h._allTables],Sn(w),w)}(t,y,u):(j2(t,t._dbSchema,u),function(h,m){const v=HX($2(0,h.idbdb,m),h._dbSchema);return!(v.add.length||v.change.some(w=>w.add.length||w.change.length))}(t,u)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),N2(t,u)}catch(u){}var _;$g.push(t),y.onversionchange=zr(u=>{e.vcFired=!0,t.on("versionchange").fire(u)}),y.onclose=zr(u=>{t.on("close").fire(u)}),l&&function({indexedDB:u,IDBKeyRange:h},m){!iF(u)&&m!==KE&&nF(u,h).put({name:m}).catch(br)}(t._deps,p),d()},f)}).catch(d=>d&&d.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):nt.reject(d));return nt.race([n,(typeof navigator>"u"?nt.resolve():ICe()).then(c)]).then(()=>(s(),e.onReadyBeingFired=[],nt.resolve(z2(()=>t.on.ready.fire(t.vip))).then(function d(){if(e.onReadyBeingFired.length>0){let f=e.onReadyBeingFired.reduce(QB,br);return e.onReadyBeingFired=[],nt.resolve(z2(()=>f(t.vip))).then(d)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(d=>{e.dbOpenError=d;try{o&&o.abort()}catch(f){}return n===e.openCanceller&&t._close(),In(d)}).finally(()=>{e.openComplete=!0,a()})}function V2(t){var e=a=>t.next(a),r=s(e),n=s(a=>t.throw(a));function s(a){return o=>{var l=a(o),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(r,n):yi(c)?Promise.all(c).then(r,n):r(c)}}return s(e)()}function FCe(t,e,r){var n=arguments.length;if(n<2)throw new Tt.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[t,EX(s),r]}function WX(t,e,r,n,s){return nt.resolve().then(()=>{const a=yt.transless||yt,o=t._createTransaction(e,r,t._dbSchema,n),l={trans:o,transless:a};if(n)o.idbtrans=n.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(p){return p.name===JB.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>WX(t,e,r,null,s))):In(p)}const c=qB(s);let d;c&&Wp();const f=nt.follow(()=>{if(d=s.call(o,o),d)if(c){var p=Bl.bind(null,null);d.then(p,p)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=V2(d))},l);return(d&&typeof d.then=="function"?nt.resolve(d).then(p=>o.active?p:In(new Tt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):f.then(()=>d)).then(p=>(n&&o._resolve(),o._completion.then(()=>p))).catch(p=>(o._reject(p),In(p)))})}function j0(t,e,r){const n=yi(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const MCe={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},a=[];function o(f,p,g){const y=zg(f),b=s[y]=s[y]||[],_=f==null?0:typeof f=="string"?1:f.length,u=p>0,h={...g,isVirtual:u,keyTail:p,keyLength:_,extractKey:k2(f),unique:!u&&g.unique};return b.push(h),h.isPrimaryKey||a.push(h),_>1&&o(_===2?f[0]:f.slice(0,_-1),p+1,g),b.sort((m,v)=>m.keyTail-v.keyTail),h}const l=o(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[l];for(const f of n.indexes)o(f.keyPath,0,f);function c(f){const p=f.query.index;return p.isVirtual?{...f,query:{index:p,range:(g=f.query.range,y=p.keyTail,{type:g.type===1?2:g.type,lower:j0(g.lower,g.lowerOpen?t.MAX_KEY:t.MIN_KEY,y),lowerOpen:!0,upper:j0(g.upper,g.upperOpen?t.MIN_KEY:t.MAX_KEY,y),upperOpen:!0})}}:f;var g,y}return{...r,schema:{...n,primaryKey:l,indexes:a,getIndexByKeyPath:function(f){const p=s[zg(f)];return p&&p[0]}},count:f=>r.count(c(f)),query:f=>r.query(c(f)),openCursor(f){const{keyTail:p,isVirtual:g,keyLength:y}=f.query.index;return g?r.openCursor(c(f)).then(b=>b&&function(_){return Object.create(_,{continue:{value:function(h){h!=null?_.continue(j0(h,f.reverse?t.MAX_KEY:t.MIN_KEY,p)):f.unique?_.continue(_.key.slice(0,y).concat(f.reverse?t.MIN_KEY:t.MAX_KEY,p)):_.continue()}},continuePrimaryKey:{value(h,m){_.continuePrimaryKey(j0(h,t.MAX_KEY,p),m)}},primaryKey:{get:()=>_.primaryKey},key:{get(){const h=_.key;return y===1?h[0]:h.slice(0,y)}},value:{get:()=>_.value}})}(b)):r.openCursor(f)}}}}}};function sF(t,e,r,n){return r=r||{},n=n||"",Sn(t).forEach(s=>{if(Bs(e,s)){var a=t[s],o=e[s];if(typeof a=="object"&&typeof o=="object"&&a&&o){const l=x2(a);l!==x2(o)?r[n+s]=e[s]:l==="Object"?sF(a,o,r,n+s+"."):a!==o&&(r[n+s]=e[s])}else a!==o&&(r[n+s]=e[s])}else r[n+s]=void 0}),Sn(e).forEach(s=>{Bs(t,s)||(r[n+s]=e[s])}),r}const kCe={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(a){const o=yt.trans,{deleting:l,creating:c,updating:d}=o.table(e).hook;switch(a.type){case"add":if(c.fire===br)break;return o._promise("readwrite",()=>f(a),!0);case"put":if(c.fire===br&&d.fire===br)break;return o._promise("readwrite",()=>f(a),!0);case"delete":if(l.fire===br)break;return o._promise("readwrite",()=>f(a),!0);case"deleteRange":if(l.fire===br)break;return o._promise("readwrite",()=>function(g){return p(g.trans,g.range,1e4)}(a),!0)}return r.mutate(a);function f(g){const y=yt.trans,b=g.keys||function(_,u){return u.type==="delete"?u.keys:u.keys||u.values.map(_.extractKey)}(n,g);if(!b)throw new Error("Keys missing");return(g=g.type==="add"||g.type==="put"?{...g,keys:b}:{...g}).type!=="delete"&&(g.values=[...g.values]),g.keys&&(g.keys=[...g.keys]),function(_,u,h){return u.type==="add"?Promise.resolve([]):_.getMany({trans:u.trans,keys:h,cache:"immutable"})}(r,g,b).then(_=>{const u=b.map((h,m)=>{const v=_[m],w={onerror:null,onsuccess:null};if(g.type==="delete")l.fire.call(w,h,v,y);else if(g.type==="add"||v===void 0){const x=c.fire.call(w,h,g.values[m],y);h==null&&x!=null&&(h=x,g.keys[m]=h,n.outbound||Ha(g.values[m],n.keyPath,h))}else{const x=sF(v,g.values[m]),S=d.fire.call(w,x,h,v,y);if(S){const E=g.values[m];Object.keys(S).forEach(P=>{Bs(E,P)?E[P]=S[P]:Ha(E,P,S[P])})}}return w});return r.mutate(g).then(({failures:h,results:m,numFailures:v,lastResult:w})=>{for(let x=0;x<b.length;++x){const S=m?m[x]:b[x],E=u[x];S==null?E.onerror&&E.onerror(h[x]):E.onsuccess&&E.onsuccess(g.type==="put"&&_[x]?g.values[x]:S)}return{failures:h,results:m,numFailures:v,lastResult:w}}).catch(h=>(u.forEach(m=>m.onerror&&m.onerror(h)),Promise.reject(h)))})}function p(g,y,b){return r.query({trans:g,values:!1,query:{index:n,range:y},limit:b}).then(({result:_})=>f({type:"delete",keys:_,trans:g}).then(u=>u.numFailures>0?Promise.reject(u.failures[0]):_.length<b?{failures:[],numFailures:0,lastResult:void 0}:p(g,{...y,lower:_[_.length-1],lowerOpen:!0},b)))}}}}})};function KX(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,a=0;s<e.keys.length&&a<t.length;++s)Ri(e.keys[s],t[a])===0&&(n.push(r?o_(e.values[s]):e.values[s]),++a);return n.length===t.length?n:null}catch(n){return null}}const NCe={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=KX(n.keys,n.trans._cache,n.cache==="clone");return s?nt.resolve(s):r.getMany(n).then(a=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?o_(a):a},a))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function aF(t){return!("from"in t)}const ol=function(t,e){if(!this){const r=new ol;return t&&"d"in t&&Mi(r,t),r}Mi(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function oy(t,e,r){const n=Ri(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(aF(t))return Mi(t,{from:e,to:r,d:1});const s=t.l,a=t.r;if(Ri(r,t.from)<0)return s?oy(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},W$(t);if(Ri(e,t.to)>0)return a?oy(a,e,r):t.r={from:e,to:r,d:1,l:null,r:null},W$(t);Ri(e,t.from)<0&&(t.from=e,t.l=null,t.d=a?a.d+1:1),Ri(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const o=!t.r;s&&!t.l&&$w(t,s),a&&o&&$w(t,a)}function $w(t,e){aF(e)||function r(n,{from:s,to:a,l:o,r:l}){oy(n,s,a),o&&r(n,o),l&&r(n,l)}(t,e)}function LCe(t,e){const r=G2(e);let n=r.next();if(n.done)return!1;let s=n.value;const a=G2(t);let o=a.next(s.from),l=o.value;for(;!n.done&&!o.done;){if(Ri(l.from,s.to)<=0&&Ri(l.to,s.from)>=0)return!0;Ri(s.from,l.from)<0?s=(n=r.next(l.from)).value:l=(o=a.next(s.from)).value}return!1}function G2(t){let e=aF(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&Ri(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||Ri(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function W$(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const a=s==="r"?"l":"r",o={...t},l=t[s];t.from=l.from,t.to=l.to,t[s]=l[s],o[s]=l[a],t[a]=o,o.d=K$(o)}t.d=K$(t)}function K$({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}bp(ol.prototype,{add(t){return $w(this,t),this},addKey(t){return oy(this,t,t),this},addKeys(t){return t.forEach(e=>oy(this,e,e)),this},[E2](){return G2(this)}});const UCe={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new ol(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:a}=s,{primaryKey:o}=a,{extractKey:l,outbound:c}=o,d={...s,mutate:g=>{const y=g.trans,b=y.mutatedParts||(y.mutatedParts={}),_=S=>{const E="idb://".concat(e,"/").concat(n,"/").concat(S);return b[E]||(b[E]=new ol)},u=_(""),h=_(":dels"),{type:m}=g;let[v,w]=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[[],g.values]:[];const x=g.trans._cache;return s.mutate(g).then(S=>{if(yi(v)){m!=="delete"&&(v=S.results),u.addKeys(v);const E=KX(v,x);E||m==="add"||h.addKeys(v),(E||w)&&function(P,T,A,R){function D(O){const I=P(O.name||"");function M(j){return j!=null?O.extractKey(j):null}const G=j=>O.multiEntry&&yi(j)?j.forEach($=>I.addKey($)):I.addKey(j);(A||R).forEach((j,$)=>{const H=A&&M(A[$]),K=R&&M(R[$]);Ri(H,K)!==0&&(H!=null&&G(H),K!=null&&G(K))})}T.indexes.forEach(D)}(_,a,E,w)}else if(v){const E={from:v.lower,to:v.upper};h.add(E),u.add(E)}else u.add(r),h.add(r),a.indexes.forEach(E=>_(E.name).add(r));return S})}},f=({query:{index:g,range:y}})=>{var b,_;return[g,new ol((b=y.lower)!==null&&b!==void 0?b:t.MIN_KEY,(_=y.upper)!==null&&_!==void 0?_:t.MAX_KEY)]},p={get:g=>[o,new ol(g.key)],getMany:g=>[o,new ol().addKeys(g.keys)],count:f,query:f,openCursor:f};return Sn(p).forEach(g=>{d[g]=function(y){const{subscr:b}=yt;if(b){const _=w=>{const x="idb://".concat(e,"/").concat(n,"/").concat(w);return b[x]||(b[x]=new ol)},u=_(""),h=_(":dels"),[m,v]=p[g](y);if(_(m.name||"").add(v),!m.isPrimaryKey){if(g!=="count"){const w=g==="query"&&c&&y.values&&s.query({...y,values:!1});return s[g].apply(this,arguments).then(x=>{if(g==="query"){if(c&&y.values)return w.then(({result:E})=>(u.addKeys(E),x));const S=y.values?x.result.map(l):x.result;y.values?u.addKeys(S):h.addKeys(S)}else if(g==="openCursor"){const S=x,E=y.values;return S&&Object.create(S,{key:{get:()=>(h.addKey(S.primaryKey),S.key)},primaryKey:{get(){const P=S.primaryKey;return h.addKey(P),P}},value:{get:()=>(E&&u.addKey(S.primaryKey),S.value)}})}return x})}h.add(r)}}return s[g].apply(this,arguments)}}),d}}}};class xn{constructor(e,r){this._middlewares={},this.verno=0;const n=xn.dependencies;this._options=r={addons:xn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:br,dbReadyPromise:null,cancelOpen:br,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;a.dbReadyPromise=new nt(l=>{a.dbReadyResolve=l}),a.openCanceller=new nt((l,c)=>{a.cancelOpen=c}),this._state=a,this.name=e,this.on=jg(this,"populate","blocked","versionchange","close",{ready:[QB,br]}),this.on.ready.subscribe=_X(this.on.ready.subscribe,l=>(c,d)=>{xn.vip(()=>{const f=this._state;if(f.openComplete)f.dbOpenError||nt.resolve().then(c),d&&l(c);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(c),d&&l(c);else{l(c);const p=this;d||l(function g(){p.on.ready.unsubscribe(c),p.on.ready.unsubscribe(g)})}})}),this.Collection=(o=this,Mm(xCe.prototype,function(l,c){this.db=o;let d=$X,f=null;if(c)try{d=c()}catch(b){f=b}const p=l._ctx,g=p.table,y=g.hook.reading.fire;this._ctx={table:g,index:p.index,isPrimKey:!p.index||g.schema.primKey.keyPath&&p.index===g.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:p.or,valueMapper:y!==ry?y:null}})),this.Table=function(l){return Mm(wCe.prototype,function(c,d,f){this.db=l,this._tx=f,this.name=c,this.schema=d,this.hook=l._allTables[c]?l._allTables[c].hook:jg(null,{creating:[uCe,br],reading:[lCe,ry],updating:[dCe,br],deleting:[cCe,br]})})}(this),this.Transaction=function(l){return Mm(ACe.prototype,function(c,d,f,p,g){this.db=l,this.mode=c,this.storeNames=d,this.schema=f,this.chromeTransactionDurability=p,this.idbtrans=null,this.on=jg(this,"complete","error","abort"),this.parent=g||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new nt((y,b)=>{this._resolve=y,this._reject=b}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var b=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):b&&this.idbtrans&&this.idbtrans.abort(),In(y)})})}(this),this.Version=function(l){return Mm(OCe.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return Mm(zX.prototype,function(c,d,f){this.db=l,this._ctx={table:c,index:d===":id"?null:d,or:f};const p=l._deps.indexedDB;if(!p)throw new Tt.MissingAPI;this._cmp=this._ascending=p.cmp.bind(p),this._descending=(g,y)=>p.cmp(y,g),this._max=(g,y)=>p.cmp(g,y)>0?g:y,this._min=(g,y)=>p.cmp(g,y)<0?g:y,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(l.oldVersion/10))}),this._maxKey=ay(r.IDBKeyRange),this._createTransaction=(l,c,d,f)=>new this.Transaction(l,c,d,this._options.chromeTransactionDurability,f),this._fireOnBlocked=l=>{this.on("blocked").fire(l),$g.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(MCe),this.use(kCe),this.use(UCe),this.use(NCe),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(e){if(isNaN(e)||e<.1)throw new Tt.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Tt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(DCe),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||yt.letThrough||this._vip)?e():new nt((r,n)=>{if(this._state.openComplete)return n(new Tt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new Tt.DatabaseClosed);this.open().catch(br)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:r,level:n==null?10:n,name:s}),a.sort((o,l)=>o.level-l.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return BCe(this)}_close(){const e=this._state,r=$g.indexOf(this);if(r>=0&&$g.splice(r,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new nt(n=>{e.dbReadyResolve=n}),e.openCanceller=new nt((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Tt.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new nt((n,s)=>{const a=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=zr(()=>{(function({indexedDB:l,IDBKeyRange:c},d){!iF(l)&&d!==KE&&nF(l,c).delete(d).catch(br)})(this._deps,this.name),n()}),o.onerror=ho(s),o.onblocked=this._fireOnBlocked};if(e)throw new Tt.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Sn(this._allTables).map(e=>this._allTables[e])}transaction(){const e=FCe.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=yt.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const a=e.indexOf("?")!==-1;let o,l;e=e.replace("!","").replace("?","");try{if(l=r.map(d=>{var f=d instanceof this.Table?d.name:d;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),e=="r"||e===YA)o=YA;else{if(e!="rw"&&e!=qA)throw new Tt.InvalidArgument("Invalid transaction mode: "+e);o=qA}if(s){if(s.mode===YA&&o===qA){if(!a)throw new Tt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(d=>{if(s&&s.storeNames.indexOf(d)===-1){if(!a)throw new Tt.SubTransaction("Table "+d+" not included in parent transaction.");s=null}}),a&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,(f,p)=>{p(d)}):In(d)}const c=WX.bind(null,this,o,l,s,n);return s?s._promise(o,c,"lock"):yt.trans?Kp(yt.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!Bs(this._allTables,e))throw new Tt.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const $Ce=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class jCe{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[$Ce](){return this}}function XX(t,e){return Sn(e).forEach(r=>{$w(t[r]||(t[r]=new ol),e[r])}),t}function YX(t){let e,r=!1;const n=new jCe(s=>{const a=qB(t);let o=!1,l={},c={};const d={get closed(){return o},unsubscribe:()=>{o=!0,lc.storagemutated.unsubscribe(y)}};s.start&&s.start(d);let f=!1,p=!1;function g(){return Sn(c).some(_=>l[_]&&LCe(l[_],c[_]))}const y=_=>{XX(l,_),g()&&b()},b=()=>{if(f||o)return;l={};const _={},u=function(h){a&&Wp();const m=()=>ac(t,{subscr:h,trans:null}),v=yt.trans?Kp(yt.transless,m):m();return a&&v.then(Bl,Bl),v}(_);p||(lc(sy,y),p=!0),f=!0,Promise.resolve(u).then(h=>{r=!0,e=h,f=!1,o||(g()?b():(l={},c=_,s.next&&s.next(h)))},h=>{f=!1,r=!1,s.error&&s.error(h),d.unsubscribe()})};return b(),d});return n.hasValue=()=>r,n.getValue=()=>e,n}let H2;try{H2={indexedDB:Ir.indexedDB||Ir.mozIndexedDB||Ir.webkitIndexedDB||Ir.msIndexedDB,IDBKeyRange:Ir.IDBKeyRange||Ir.webkitIDBKeyRange}}catch(t){H2={indexedDB:null,IDBKeyRange:null}}const jc=xn;function eb(t){let e=pl;try{pl=!0,lc.storagemutated.fire(t)}finally{pl=e}}bp(jc,{...X1,delete:t=>new jc(t,{addons:[]}).delete(),exists:t=>new jc(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return iF(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==KE)):nF(e,r).toCollection().primaryKeys()}(jc.dependencies).then(t)}catch(e){return In(new Tt.MissingAPI)}},defineClass:()=>function(t){Mi(this,t)},ignoreTransaction:t=>yt.trans?Kp(yt.transless,t):t(),vip:z2,async:function(t){return function(){try{var e=V2(t.apply(this,arguments));return e&&typeof e.then=="function"?e:nt.resolve(e)}catch(r){return In(r)}}},spawn:function(t,e,r){try{var n=V2(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:nt.resolve(n)}catch(s){return In(s)}},currentTransaction:{get:()=>yt.trans||null},waitFor:function(t,e){const r=nt.resolve(typeof t=="function"?jc.ignoreTransaction(t):t).timeout(e||6e4);return yt.trans?yt.trans.waitFor(r):r},Promise:nt,debug:{get:()=>jo,set:t=>{CX(t,t==="dexie"?()=>!0:UX)}},derive:$h,extend:Mi,props:bp,override:_X,Events:jg,on:lc,liveQuery:YX,extendObservabilitySet:XX,getByKeyPath:_l,setByKeyPath:Ha,delByKeyPath:function(t,e){typeof e=="string"?Ha(t,e,void 0):"length"in e&&[].map.call(e,function(r){Ha(t,r,void 0)})},shallowClone:xX,deepClone:o_,getObjectDiff:sF,cmp:Ri,asap:bX,minKey:F2,addons:[],connections:$g,errnames:JB,dependencies:H2,semVer:$$,version:$$.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),jc.maxKey=ay(jc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lc(sy,t=>{if(!pl){let e;WE?(e=document.createEvent("CustomEvent"),e.initCustomEvent(wu,!0,!0,t)):e=new CustomEvent(wu,{detail:t}),pl=!0,dispatchEvent(e),pl=!1}}),addEventListener(wu,({detail:t})=>{pl||eb(t)}));let pl=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(wu);typeof t.unref=="function"&&t.unref(),lc(sy,e=>{pl||t.postMessage(e)}),t.onmessage=e=>{e.data&&eb(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){lc(sy,e=>{try{pl||(typeof localStorage<"u"&&localStorage.setItem(wu,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:wu,changedParts:e})))}catch(r){}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===wu){const r=JSON.parse(e.newValue);r&&eb(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===wu&&eb(e.changedParts)})}nt.rejectionMapper=function(t,e){if(!t||t instanceof jh||t instanceof TypeError||t instanceof SyntaxError||!t.name||!k$[t.name])return t;var r=new k$[t.name](e||t.message,t);return"stack"in t&&yl(r,"stack",{get:function(){return this.inner.stack}}),r},CX(jo,UX);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jw=function(){return jw=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jw.apply(this,arguments)};function uc(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(p){o(p)}}function c(f){try{d(n.throw(f))}catch(p){o(p)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})}function Na(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function zCe(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(r){return r.src}).join(",")}function VCe(t){for(var e={},r=0,n=t.tables;r<n.length;r++){var s=n[r];e[s.name]=s.schema}return e}function qX(t,e){return new Promise(function(r,n){var s=new FileReader;s.onabort=function(a){return n(new Error("file read aborted"))},s.onerror=function(a){return n(a.target.error)},s.onload=function(a){return r(a.target.result)},e==="binary"?s.readAsArrayBuffer(t):s.readAsText(t)})}function ZX(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var r=new FileReaderSync,n=e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t);return n}var W2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oF(t,e){return e={exports:{}},t(e,e.exports),e.exports}var XE=oF(function(t,e){(function(r,n){t.exports=n()})(W2,function(){function r(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(V){return typeof V}:r=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},r(z)}function n(z,V,Y,ne,ie,me,xe){try{var we=z[me](xe),Ee=we.value}catch(tt){Y(tt);return}we.done?V(Ee):Promise.resolve(Ee).then(ne,ie)}function s(z){return function(){var V=this,Y=arguments;return new Promise(function(ne,ie){var me=z.apply(V,Y);function xe(Ee){n(me,ne,ie,xe,we,"next",Ee)}function we(Ee){n(me,ne,ie,xe,we,"throw",Ee)}xe(void 0)})}}function a(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")}function o(z,V){for(var Y=0;Y<V.length;Y++){var ne=V[Y];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(z,ne.key,ne)}}function l(z,V,Y){return V&&o(z.prototype,V),Y&&o(z,Y),z}function c(z,V,Y){return V in z?Object.defineProperty(z,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[V]=Y,z}function d(z,V){var Y=Object.keys(z);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(z);V&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(z,ie).enumerable})),Y.push.apply(Y,ne)}return Y}function f(z){for(var V=1;V<arguments.length;V++){var Y=arguments[V]!=null?arguments[V]:{};V%2?d(Object(Y),!0).forEach(function(ne){c(z,ne,Y[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Y)):d(Object(Y)).forEach(function(ne){Object.defineProperty(z,ne,Object.getOwnPropertyDescriptor(Y,ne))})}return z}function p(z,V){return b(z)||u(z,V)||m()}function g(z){return y(z)||_(z)||h()}function y(z){if(Array.isArray(z)){for(var V=0,Y=new Array(z.length);V<z.length;V++)Y[V]=z[V];return Y}}function b(z){if(Array.isArray(z))return z}function _(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}function u(z,V){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]"){var Y=[],ne=!0,ie=!1,me=void 0;try{for(var xe=z[Symbol.iterator](),we;!(ne=(we=xe.next()).done)&&(Y.push(we.value),!(V&&Y.length===V));ne=!0);}catch(Ee){ie=!0,me=Ee}finally{try{!ne&&xe.return!=null&&xe.return()}finally{if(ie)throw me}}return Y}}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var v=function z(V){a(this,z),this.p=new Promise(V)};v.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(v.prototype[Symbol.toStringTag]="TypesonPromise"),v.prototype.then=function(z,V){var Y=this;return new v(function(ne,ie){Y.p.then(function(me){ne(z?z(me):me)}).catch(function(me){return V?V(me):Promise.reject(me)}).then(ne,ie)})},v.prototype.catch=function(z){return this.then(null,z)},v.resolve=function(z){return new v(function(V){V(z)})},v.reject=function(z){return new v(function(V,Y){Y(z)})},["all","race"].forEach(function(z){v[z]=function(V){return new v(function(Y,ne){Promise[z](V.map(function(ie){return ie&&ie.constructor&&ie.constructor.__typeson__type__==="TypesonPromise"?ie.p:ie})).then(Y,ne)})}});var w={},x=w.toString,S={}.hasOwnProperty,E=Object.getPrototypeOf,P=S.toString;function T(z,V){return I(z)&&typeof z.then=="function"&&(!V||typeof z.catch=="function")}function A(z){return x.call(z).slice(8,-1)}function R(z,V){if(!z||r(z)!=="object")return!1;var Y=E(z);if(!Y)return V===null;var ne=S.call(Y,"constructor")&&Y.constructor;return typeof ne!="function"?V===null:V===ne||V!==null&&P.call(ne)===P.call(V)||typeof V=="function"&&typeof ne.__typeson__type__=="string"&&ne.__typeson__type__===V.__typeson__type__}function D(z){if(!z||A(z)!=="Object")return!1;var V=E(z);return V?R(z,Object):!0}function O(z){if(!z||A(z)!=="Object")return!1;var V=E(z);return V?R(z,Object)||O(V):!0}function I(z){return z&&r(z)==="object"}function M(z){return z.replace(/~/g,"~0").replace(/\./g,"~1")}function G(z){return z.replace(/~1/g,".").replace(/~0/g,"~")}function j(z,V){if(V==="")return z;var Y=V.indexOf(".");if(Y>-1){var ne=z[G(V.slice(0,Y))];return ne===void 0?void 0:j(ne,V.slice(Y+1))}return z[G(V)]}function $(z,V,Y){if(V==="")return Y;var ne=V.indexOf(".");if(ne>-1){var ie=z[G(V.slice(0,ne))];return $(ie,V.slice(ne+1),Y)}return z[G(V)]=Y,z}function H(z){return z===null?"null":Array.isArray(z)?"array":r(z)}var K=Object.keys,re=Array.isArray,fe={}.hasOwnProperty,ye=["type","replaced","iterateIn","iterateUnsetNumeric"];function he(z,V){if(z.keypath==="")return-1;var Y=z.keypath.match(/\./g)||0,ne=V.keypath.match(/\./g)||0;return Y&&(Y=Y.length),ne&&(ne=ne.length),Y>ne?-1:Y<ne?1:z.keypath<V.keypath?-1:z.keypath>V.keypath}var ue=function(){function z(V){a(this,z),this.options=V,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return l(z,[{key:"stringify",value:function(Y,ne,ie,me){me=f({},this.options,{},me,{stringification:!0});var xe=this.encapsulate(Y,null,me);return re(xe)?JSON.stringify(xe[0],ne,ie):xe.then(function(we){return JSON.stringify(we,ne,ie)})}},{key:"stringifySync",value:function(Y,ne,ie,me){return this.stringify(Y,ne,ie,f({throwOnBadSyncType:!0},me,{sync:!0}))}},{key:"stringifyAsync",value:function(Y,ne,ie,me){return this.stringify(Y,ne,ie,f({throwOnBadSyncType:!0},me,{sync:!1}))}},{key:"parse",value:function(Y,ne,ie){return ie=f({},this.options,{},ie,{parse:!0}),this.revive(JSON.parse(Y,ne),ie)}},{key:"parseSync",value:function(Y,ne,ie){return this.parse(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!0}))}},{key:"parseAsync",value:function(Y,ne,ie){return this.parse(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!1}))}},{key:"specialTypeNames",value:function(Y,ne){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.returnTypeNames=!0,this.encapsulate(Y,ne,ie)}},{key:"rootTypeName",value:function(Y,ne){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.iterateNone=!0,this.encapsulate(Y,ne,ie)}},{key:"encapsulate",value:function(Y,ne,ie){ie=f({sync:!0},this.options,{},ie);var me=ie,xe=me.sync,we=this,Ee={},tt=[],xt=[],_t=[],Gt="cyclic"in ie?ie.cyclic:!0,X=ie,oe=X.encapsulateObserver,le=Ye("",Y,Gt,ne||{},_t);function Ae(Pe){var L=Object.values(Ee);if(ie.iterateNone)return L.length?L[0]:z.getJSONType(Pe);if(L.length){if(ie.returnTypeNames)return g(new Set(L));!Pe||!D(Pe)||fe.call(Pe,"$types")?Pe={$:Pe,$types:{$:Ee}}:Pe.$types=Ee}else I(Pe)&&fe.call(Pe,"$types")&&(Pe={$:Pe,$types:!0});return ie.returnTypeNames?!1:Pe}function _e(Pe,L){return ce.apply(this,arguments)}function ce(){return ce=s(regeneratorRuntime.mark(function Pe(L,B){var U;return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,Promise.all(B.map(function(ke){return ke[1].p}));case 2:return U=ae.sent,ae.next=5,Promise.all(U.map(function(){var ke=s(regeneratorRuntime.mark(function Ne(at){var Ve,ht,Ft,Mt,jt,Ht,Ut,ar,Jt,Ct,Fr,ot,$e,W;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(Ve=[],ht=B.splice(0,1),Ft=p(ht,1),Mt=Ft[0],jt=p(Mt,7),Ht=jt[0],Ut=jt[2],ar=jt[3],Jt=jt[4],Ct=jt[5],Fr=jt[6],ot=Ye(Ht,at,Ut,ar,Ve,!0,Fr),$e=R(ot,v),!(Ht&&$e)){se.next=11;break}return se.next=8,ot.p;case 8:return W=se.sent,Jt[Ct]=W,se.abrupt("return",_e(L,Ve));case 11:return Ht?Jt[Ct]=ot:$e?L=ot.p:L=ot,se.abrupt("return",_e(L,Ve));case 13:case"end":return se.stop()}},Ne)}));return function(Ne){return ke.apply(this,arguments)}}()));case 5:return ae.abrupt("return",L);case 6:case"end":return ae.stop()}},Pe)})),ce.apply(this,arguments)}function be(Pe,L,B){Object.assign(Pe,L);var U=ye.map(function(J){var ae=Pe[J];return delete Pe[J],ae});B(),ye.forEach(function(J,ae){Pe[J]=U[ae]})}function Ye(Pe,L,B,U,J,ae,ke){var Ne,at={},Ve=r(L),ht=oe?function($e){var W=ke||U.type||z.getJSONType(L);oe(Object.assign($e||at,{keypath:Pe,value:L,cyclic:B,stateObj:U,promisesData:J,resolvingTypesonPromise:ae,awaitingTypesonPromise:R(L,v)},{type:W}))}:null;if(["string","boolean","number","undefined"].includes(Ve))return L===void 0||Ve==="number"&&(isNaN(L)||L===-1/0||L===1/0)?(U.replaced?Ne=L:Ne=Xe(Pe,L,U,J,!1,ae,ht),Ne!==L&&(at={replaced:Ne})):Ne=L,ht&&ht(),Ne;if(L===null)return ht&&ht(),L;if(B&&!U.iterateIn&&!U.iterateUnsetNumeric&&L&&r(L)==="object"){var Ft=tt.indexOf(L);if(Ft<0)B===!0&&(tt.push(L),xt.push(Pe));else return Ee[Pe]="#",ht&&ht({cyclicKeypath:xt[Ft]}),"#"+xt[Ft]}var Mt=D(L),jt=re(L),Ht=(Mt||jt)&&(!we.plainObjectReplacers.length||U.replaced)||U.iterateIn?L:Xe(Pe,L,U,J,Mt||jt,null,ht),Ut;if(Ht!==L?(Ne=Ht,at={replaced:Ht}):Pe===""&&R(L,v)?(J.push([Pe,L,B,U,void 0,void 0,U.type]),Ne=L):jt&&U.iterateIn!=="object"||U.iterateIn==="array"?(Ut=new Array(L.length),at={clone:Ut}):!["function","symbol"].includes(r(L))&&!("toJSON"in L)&&!R(L,v)&&!R(L,Promise)&&!R(L,ArrayBuffer)||Mt||U.iterateIn==="object"?(Ut={},U.addLength&&(Ut.length=L.length),at={clone:Ut}):Ne=L,ht&&ht(),ie.iterateNone)return Ut||Ne;if(!Ut)return Ne;if(U.iterateIn){var ar=function(W){var Q={ownKeys:fe.call(L,W)};be(U,Q,function(){var se=Pe+(Pe?".":"")+M(W),pe=Ye(se,L[W],!!B,U,J,ae);R(pe,v)?J.push([se,pe,!!B,U,Ut,W,U.type]):pe!==void 0&&(Ut[W]=pe)})};for(var Jt in L)ar(Jt);ht&&ht({endIterateIn:!0,end:!0})}else K(L).forEach(function($e){var W=Pe+(Pe?".":"")+M($e),Q={ownKeys:!0};be(U,Q,function(){var se=Ye(W,L[$e],!!B,U,J,ae);R(se,v)?J.push([W,se,!!B,U,Ut,$e,U.type]):se!==void 0&&(Ut[$e]=se)})}),ht&&ht({endIterateOwn:!0,end:!0});if(U.iterateUnsetNumeric){for(var Ct=L.length,Fr=function(W){if(!(W in L)){var Q=Pe+(Pe?".":"")+W,se={ownKeys:!1};be(U,se,function(){var pe=Ye(Q,void 0,!!B,U,J,ae);R(pe,v)?J.push([Q,pe,!!B,U,Ut,W,U.type]):pe!==void 0&&(Ut[W]=pe)})}},ot=0;ot<Ct;ot++)Fr(ot);ht&&ht({endIterateUnsetNumeric:!0,end:!0})}return Ut}function Xe(Pe,L,B,U,J,ae,ke){for(var Ne=J?we.plainObjectReplacers:we.nonplainObjectReplacers,at=Ne.length;at--;){var Ve=Ne[at];if(Ve.test(L,B)){var ht=Ve.type;if(we.revivers[ht]){var Ft=Ee[Pe];Ee[Pe]=Ft?[ht].concat(Ft):ht}if(Object.assign(B,{type:ht,replaced:!0}),(xe||!Ve.replaceAsync)&&!Ve.replace)return ke&&ke({typeDetected:!0}),Ye(Pe,L,Gt&&"readonly",B,U,ae,ht);ke&&ke({replacing:!0});var Mt=xe||!Ve.replaceAsync?"replace":"replaceAsync";return Ye(Pe,Ve[Mt](L,B),Gt&&"readonly",B,U,ae,ht)}}return L}return _t.length?xe&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(_e(le,_t)).then(Ae):!xe&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie.stringification&&xe?[Ae(le)]:xe?Ae(le):Promise.resolve(Ae(le))}},{key:"encapsulateSync",value:function(Y,ne,ie){return this.encapsulate(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!0}))}},{key:"encapsulateAsync",value:function(Y,ne,ie){return this.encapsulate(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!1}))}},{key:"revive",value:function(Y,ne){var ie=Y&&Y.$types;if(!ie)return Y;if(ie===!0)return Y.$;ne=f({sync:!0},this.options,{},ne);var me=ne,xe=me.sync,we=[],Ee={},tt=!0;ie.$&&D(ie.$)&&(Y=Y.$,ie=ie.$,tt=!1);var xt=this;function _t(ce,be){var Ye=xt.revivers[ce]||[],Xe=p(Ye,1),Pe=Xe[0];if(!Pe)throw new Error("Unregistered type: "+ce);return xe&&!("revive"in Pe)?be:Pe[xe&&Pe.revive?"revive":!xe&&Pe.reviveAsync?"reviveAsync":"revive"](be,Ee)}function Gt(){var ce=[];if(Object.entries(ie).forEach(function(be){var Ye=p(be,2),Xe=Ye[0],Pe=Ye[1];Pe!=="#"&&[].concat(Pe).forEach(function(L){var B=xt.revivers[L]||[null,{}],U=p(B,2),J=U[1].plain;J&&(ce.push({keypath:Xe,type:L}),delete ie[Xe])})}),!!ce.length)return ce.sort(he).reduce(function be(Ye,Xe){var Pe=Xe.keypath,L=Xe.type;if(T(Ye))return Ye.then(function(J){return be(J,{keypath:Pe,type:L})});var B=j(Y,Pe);if(B=_t(L,B),R(B,v))return B.then(function(J){var ae=$(Y,Pe,J);ae===J&&(Y=ae)});var U=$(Y,Pe,B);U===B&&(Y=U)},void 0)}var X=[];function oe(ce,be,Ye,Xe,Pe){if(!(tt&&ce==="$types")){var L=ie[ce],B=re(be);if(B||D(be)){var U=B?new Array(be.length):{};for(K(be).forEach(function(Ft){var Mt=oe(ce+(ce?".":"")+M(Ft),be[Ft],Ye||U,U,Ft),jt=function(Ut){return R(Ut,Z)?U[Ft]=void 0:Ut!==void 0&&(U[Ft]=Ut),Ut};R(Mt,v)?X.push(Mt.then(function(Ht){return jt(Ht)})):jt(Mt)}),be=U;we.length;){var J=p(we[0],4),ae=J[0],ke=J[1],Ne=J[2],at=J[3],Ve=j(ae,ke);if(Ve!==void 0)Ne[at]=Ve;else break;we.splice(0,1)}}if(!L)return be;if(L==="#"){var ht=j(Ye,be.slice(1));return ht===void 0&&we.push([Ye,be.slice(1),Xe,Pe]),ht}return[].concat(L).reduce(function Ft(Mt,jt){return R(Mt,v)?Mt.then(function(Ht){return Ft(Ht,jt)}):_t(jt,Mt)},be)}}function le(ce){return R(ce,Z)?void 0:ce}var Ae=Gt(),_e;return R(Ae,v)?_e=Ae.then(function(){return Y}):(_e=oe("",Y,null),X.length&&(_e=v.resolve(_e).then(function(ce){return v.all([ce].concat(X))}).then(function(ce){var be=p(ce,1),Ye=be[0];return Ye}))),T(_e)?xe&&ne.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():R(_e,v)?_e.p.then(le):_e:!xe&&ne.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():xe?le(_e):Promise.resolve(le(_e))}},{key:"reviveSync",value:function(Y,ne){return this.revive(Y,f({throwOnBadSyncType:!0},ne,{sync:!0}))}},{key:"reviveAsync",value:function(Y,ne){return this.revive(Y,f({throwOnBadSyncType:!0},ne,{sync:!1}))}},{key:"register",value:function(Y,ne){return ne=ne||{},[].concat(Y).forEach(function ie(me){var xe=this;if(re(me))return me.map(function(we){return ie.call(xe,we)});me&&K(me).forEach(function(we){if(we==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(z.JSON_TYPES.includes(we))throw new TypeError("Plain JSON object types are reserved as type names");var Ee=me[we],tt=Ee&&Ee.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,xt=tt.filter(function(Ye){return Ye.type===we});if(xt.length&&(tt.splice(tt.indexOf(xt[0]),1),delete this.revivers[we],delete this.types[we]),typeof Ee=="function"){var _t=Ee;Ee={test:function(Xe){return Xe&&Xe.constructor===_t},replace:function(Xe){return f({},Xe)},revive:function(Xe){return Object.assign(Object.create(_t.prototype),Xe)}}}else if(re(Ee)){var Gt=Ee,X=p(Gt,3),oe=X[0],le=X[1],Ae=X[2];Ee={test:oe,replace:le,revive:Ae}}if(!(!Ee||!Ee.test)){var _e={type:we,test:Ee.test.bind(Ee)};Ee.replace&&(_e.replace=Ee.replace.bind(Ee)),Ee.replaceAsync&&(_e.replaceAsync=Ee.replaceAsync.bind(Ee));var ce=typeof ne.fallback=="number"?ne.fallback:ne.fallback?0:1/0;if(Ee.testPlainObjects?this.plainObjectReplacers.splice(ce,0,_e):this.nonplainObjectReplacers.splice(ce,0,_e),Ee.revive||Ee.reviveAsync){var be={};Ee.revive&&(be.revive=Ee.revive.bind(Ee)),Ee.reviveAsync&&(be.reviveAsync=Ee.reviveAsync.bind(Ee)),this.revivers[we]=[be,{plain:Ee.testPlainObjects}]}this.types[we]=Ee}},this)},this),this}}]),z}(),Z=function z(){a(this,z)};return Z.__typeson__type__="TypesonUndefined",ue.Undefined=Z,ue.Promise=v,ue.isThenable=T,ue.toStringTag=A,ue.hasConstructorOf=R,ue.isObject=I,ue.isPlainObject=D,ue.isUserObject=O,ue.escapeKeyPathComponent=M,ue.unescapeKeyPathComponent=G,ue.getByKeyPath=j,ue.getJSONType=H,ue.JSON_TYPES=["null","boolean","number","string","array","object"],ue})}),GCe=oF(function(t,e){(function(r,n){t.exports=n()})(W2,function(){function r(L){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(L)}function n(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function s(L,B){for(var U=0;U<B.length;U++){var J=B[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function a(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function o(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);B&&(J=J.filter(function(ae){return Object.getOwnPropertyDescriptor(L,ae).enumerable})),U.push.apply(U,J)}return U}function l(L){return function(U){if(Array.isArray(U))return c(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||function(U,J){if(U){if(typeof U=="string")return c(U,J);var ae=Object.prototype.toString.call(U).slice(8,-1);if(ae==="Object"&&U.constructor&&(ae=U.constructor.name),ae==="Map"||ae==="Set")return Array.from(U);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return c(U,J)}}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,J=new Array(B);U<B;U++)J[U]=L[U];return J}function d(L){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(L)}function f(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function p(L,B){for(var U=0;U<B.length;U++){var J=B[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function g(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function y(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);B&&(J=J.filter(function(ae){return Object.getOwnPropertyDescriptor(L,ae).enumerable})),U.push.apply(U,J)}return U}function b(L){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{};B%2?y(Object(U),!0).forEach(function(J){g(L,J,U[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(U)):y(Object(U)).forEach(function(J){Object.defineProperty(L,J,Object.getOwnPropertyDescriptor(U,J))})}return L}function _(L,B){return function(J){if(Array.isArray(J))return J}(L)||function(J,ae){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(J)))){var ke=[],Ne=!0,at=!1,Ve=void 0;try{for(var ht,Ft=J[Symbol.iterator]();!(Ne=(ht=Ft.next()).done)&&(ke.push(ht.value),!ae||ke.length!==ae);Ne=!0);}catch(Mt){at=!0,Ve=Mt}finally{try{Ne||Ft.return==null||Ft.return()}finally{if(at)throw Ve}}return ke}}(L,B)||h(L,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(L){return function(U){if(Array.isArray(U))return m(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||h(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(L,B){if(L){if(typeof L=="string")return m(L,B);var U=Object.prototype.toString.call(L).slice(8,-1);return U==="Object"&&L.constructor&&(U=L.constructor.name),U==="Map"||U==="Set"?Array.from(L):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?m(L,B):void 0}}function m(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,J=new Array(B);U<B;U++)J[U]=L[U];return J}var v=function L(B){f(this,L),this.p=new Promise(B)};v.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(v.prototype[Symbol.toStringTag]="TypesonPromise"),v.prototype.then=function(L,B){var U=this;return new v(function(J,ae){U.p.then(function(ke){J(L?L(ke):ke)}).catch(function(ke){return B?B(ke):Promise.reject(ke)}).then(J,ae)})},v.prototype.catch=function(L){return this.then(null,L)},v.resolve=function(L){return new v(function(B){B(L)})},v.reject=function(L){return new v(function(B,U){U(L)})},["all","race"].forEach(function(L){v[L]=function(B){return new v(function(U,J){Promise[L](B.map(function(ae){return ae&&ae.constructor&&ae.constructor.__typeson__type__==="TypesonPromise"?ae.p:ae})).then(U,J)})}});var w={}.toString,x={}.hasOwnProperty,S=Object.getPrototypeOf,E=x.toString;function P(L,B){return D(L)&&typeof L.then=="function"&&(!B||typeof L.catch=="function")}function T(L){return w.call(L).slice(8,-1)}function A(L,B){if(!L||d(L)!=="object")return!1;var U=S(L);if(!U)return B===null;var J=x.call(U,"constructor")&&U.constructor;return typeof J!="function"?B===null:B===J||B!==null&&E.call(J)===E.call(B)||typeof B=="function"&&typeof J.__typeson__type__=="string"&&J.__typeson__type__===B.__typeson__type__}function R(L){return!(!L||T(L)!=="Object")&&(!S(L)||A(L,Object))}function D(L){return L&&d(L)==="object"}function O(L){return L.replace(/~/g,"~0").replace(/\./g,"~1")}function I(L){return L.replace(/~1/g,".").replace(/~0/g,"~")}function M(L,B){if(B==="")return L;var U=B.indexOf(".");if(U>-1){var J=L[I(B.slice(0,U))];return J===void 0?void 0:M(J,B.slice(U+1))}return L[I(B)]}function G(L,B,U){if(B==="")return U;var J=B.indexOf(".");return J>-1?G(L[I(B.slice(0,J))],B.slice(J+1),U):(L[I(B)]=U,L)}function j(L,B,U){return U?B?B(L):L:(L&&L.then||(L=Promise.resolve(L)),B?L.then(B):L)}var $=Object.keys,H=Array.isArray,K={}.hasOwnProperty,re=["type","replaced","iterateIn","iterateUnsetNumeric"];function fe(L){return function(){for(var B=[],U=0;U<arguments.length;U++)B[U]=arguments[U];try{return Promise.resolve(L.apply(this,B))}catch(J){return Promise.reject(J)}}}function ye(L,B){if(L.keypath==="")return-1;var U=L.keypath.match(/\./g)||0,J=B.keypath.match(/\./g)||0;return U&&(U=U.length),J&&(J=J.length),U>J?-1:U<J?1:L.keypath<B.keypath?-1:L.keypath>B.keypath}var he=function(){function L(B){f(this,L),this.options=B,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(U,J,ae){return J&&p(U.prototype,J),ae&&p(U,ae),U}(L,[{key:"stringify",value:function(U,J,ae,ke){ke=b(b(b({},this.options),ke),{},{stringification:!0});var Ne=this.encapsulate(U,null,ke);return H(Ne)?JSON.stringify(Ne[0],J,ae):Ne.then(function(at){return JSON.stringify(at,J,ae)})}},{key:"stringifySync",value:function(U,J,ae,ke){return this.stringify(U,J,ae,b(b({throwOnBadSyncType:!0},ke),{},{sync:!0}))}},{key:"stringifyAsync",value:function(U,J,ae,ke){return this.stringify(U,J,ae,b(b({throwOnBadSyncType:!0},ke),{},{sync:!1}))}},{key:"parse",value:function(U,J,ae){return ae=b(b(b({},this.options),ae),{},{parse:!0}),this.revive(JSON.parse(U,J),ae)}},{key:"parseSync",value:function(U,J,ae){return this.parse(U,J,b(b({throwOnBadSyncType:!0},ae),{},{sync:!0}))}},{key:"parseAsync",value:function(U,J,ae){return this.parse(U,J,b(b({throwOnBadSyncType:!0},ae),{},{sync:!1}))}},{key:"specialTypeNames",value:function(U,J){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae.returnTypeNames=!0,this.encapsulate(U,J,ae)}},{key:"rootTypeName",value:function(U,J){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae.iterateNone=!0,this.encapsulate(U,J,ae)}},{key:"encapsulate",value:function(U,J,ae){var ke=fe(function(ot,$e){return j(Promise.all($e.map(function(W){return W[1].p})),function(W){return j(Promise.all(W.map(fe(function(Q){var se=!1,pe=[],Te=_($e.splice(0,1),1),He=_(Te[0],7),ut=He[0],We=He[2],Ie=He[3],Ge=He[4],Re=He[5],gt=He[6],bt=Ct(ut,Q,We,Ie,pe,!0,gt),ur=A(bt,v);return function(Wt,Kt){var Ei=Wt();return Ei&&Ei.then?Ei.then(Kt):Kt(Ei)}(function(){if(ut&&ur)return j(bt.p,function($t){return Ge[Re]=$t,se=!0,ke(ot,pe)})},function($t){return se?$t:(ut?Ge[Re]=bt:ot=ur?bt.p:bt,ke(ot,pe))})}))),function(){return ot})})}),Ne=(ae=b(b({sync:!0},this.options),ae)).sync,at=this,Ve={},ht=[],Ft=[],Mt=[],jt=!("cyclic"in ae)||ae.cyclic,Ht=ae.encapsulateObserver,Ut=Ct("",U,jt,J||{},Mt);function ar(ot){var $e=Object.values(Ve);if(ae.iterateNone)return $e.length?$e[0]:L.getJSONType(ot);if($e.length){if(ae.returnTypeNames)return u(new Set($e));ot&&R(ot)&&!K.call(ot,"$types")?ot.$types=Ve:ot={$:ot,$types:{$:Ve}}}else D(ot)&&K.call(ot,"$types")&&(ot={$:ot,$types:!0});return!ae.returnTypeNames&&ot}function Jt(ot,$e,W){Object.assign(ot,$e);var Q=re.map(function(se){var pe=ot[se];return delete ot[se],pe});W(),re.forEach(function(se,pe){ot[se]=Q[pe]})}function Ct(ot,$e,W,Q,se,pe,Te){var He,ut={},We=d($e),Ie=Ht?function(gn){var mr=Te||Q.type||L.getJSONType($e);Ht(Object.assign(gn||ut,{keypath:ot,value:$e,cyclic:W,stateObj:Q,promisesData:se,resolvingTypesonPromise:pe,awaitingTypesonPromise:A($e,v)},{type:mr}))}:null;if(["string","boolean","number","undefined"].includes(We))return $e===void 0||Number.isNaN($e)||$e===Number.NEGATIVE_INFINITY||$e===Number.POSITIVE_INFINITY?(He=Q.replaced?$e:Fr(ot,$e,Q,se,!1,pe,Ie))!==$e&&(ut={replaced:He}):He=$e,Ie&&Ie(),He;if($e===null)return Ie&&Ie(),$e;if(W&&!Q.iterateIn&&!Q.iterateUnsetNumeric&&$e&&d($e)==="object"){var Ge=ht.indexOf($e);if(!(Ge<0))return Ve[ot]="#",Ie&&Ie({cyclicKeypath:Ft[Ge]}),"#"+Ft[Ge];W===!0&&(ht.push($e),Ft.push(ot))}var Re,gt=R($e),bt=H($e),ur=(gt||bt)&&(!at.plainObjectReplacers.length||Q.replaced)||Q.iterateIn?$e:Fr(ot,$e,Q,se,gt||bt,null,Ie);if(ur!==$e?(He=ur,ut={replaced:ur}):ot===""&&A($e,v)?(se.push([ot,$e,W,Q,void 0,void 0,Q.type]),He=$e):bt&&Q.iterateIn!=="object"||Q.iterateIn==="array"?(Re=new Array($e.length),ut={clone:Re}):(["function","symbol"].includes(d($e))||"toJSON"in $e||A($e,v)||A($e,Promise)||A($e,ArrayBuffer))&&!gt&&Q.iterateIn!=="object"?He=$e:(Re={},Q.addLength&&(Re.length=$e.length),ut={clone:Re}),Ie&&Ie(),ae.iterateNone)return Re||He;if(!Re)return He;if(Q.iterateIn){var $t=function(mr){var Si={ownKeys:K.call($e,mr)};Jt(Q,Si,function(){var Fn=ot+(ot?".":"")+O(mr),$i=Ct(Fn,$e[mr],!!W,Q,se,pe);A($i,v)?se.push([Fn,$i,!!W,Q,Re,mr,Q.type]):$i!==void 0&&(Re[mr]=$i)})};for(var Wt in $e)$t(Wt);Ie&&Ie({endIterateIn:!0,end:!0})}else $($e).forEach(function(gn){var mr=ot+(ot?".":"")+O(gn);Jt(Q,{ownKeys:!0},function(){var Si=Ct(mr,$e[gn],!!W,Q,se,pe);A(Si,v)?se.push([mr,Si,!!W,Q,Re,gn,Q.type]):Si!==void 0&&(Re[gn]=Si)})}),Ie&&Ie({endIterateOwn:!0,end:!0});if(Q.iterateUnsetNumeric){for(var Kt=$e.length,Ei=function(mr){if(!(mr in $e)){var Si=ot+(ot?".":"")+mr;Jt(Q,{ownKeys:!1},function(){var Fn=Ct(Si,void 0,!!W,Q,se,pe);A(Fn,v)?se.push([Si,Fn,!!W,Q,Re,mr,Q.type]):Fn!==void 0&&(Re[mr]=Fn)})}},ya=0;ya<Kt;ya++)Ei(ya);Ie&&Ie({endIterateUnsetNumeric:!0,end:!0})}return Re}function Fr(ot,$e,W,Q,se,pe,Te){for(var He=se?at.plainObjectReplacers:at.nonplainObjectReplacers,ut=He.length;ut--;){var We=He[ut];if(We.test($e,W)){var Ie=We.type;if(at.revivers[Ie]){var Ge=Ve[ot];Ve[ot]=Ge?[Ie].concat(Ge):Ie}return Object.assign(W,{type:Ie,replaced:!0}),!Ne&&We.replaceAsync||We.replace?(Te&&Te({replacing:!0}),Ct(ot,We[Ne||!We.replaceAsync?"replace":"replaceAsync"]($e,W),jt&&"readonly",W,Q,pe,Ie)):(Te&&Te({typeDetected:!0}),Ct(ot,$e,jt&&"readonly",W,Q,pe,Ie))}}return $e}return Mt.length?Ne&&ae.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(ke(Ut,Mt)).then(ar):!Ne&&ae.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ae.stringification&&Ne?[ar(Ut)]:Ne?ar(Ut):Promise.resolve(ar(Ut))}},{key:"encapsulateSync",value:function(U,J,ae){return this.encapsulate(U,J,b(b({throwOnBadSyncType:!0},ae),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(U,J,ae){return this.encapsulate(U,J,b(b({throwOnBadSyncType:!0},ae),{},{sync:!1}))}},{key:"revive",value:function(U,J){var ae=U&&U.$types;if(!ae)return U;if(ae===!0)return U.$;var ke=(J=b(b({sync:!0},this.options),J)).sync,Ne=[],at={},Ve=!0;ae.$&&R(ae.$)&&(U=U.$,ae=ae.$,Ve=!1);var ht=this;function Ft(ar,Jt){var Ct=_(ht.revivers[ar]||[],1)[0];if(!Ct)throw new Error("Unregistered type: "+ar);return ke&&!("revive"in Ct)?Jt:Ct[ke&&Ct.revive?"revive":!ke&&Ct.reviveAsync?"reviveAsync":"revive"](Jt,at)}var Mt=[];function jt(ar){return A(ar,ue)?void 0:ar}var Ht,Ut=function(){var Jt=[];if(Object.entries(ae).forEach(function(Ct){var Fr=_(Ct,2),ot=Fr[0],$e=Fr[1];$e!=="#"&&[].concat($e).forEach(function(W){_(ht.revivers[W]||[null,{}],2)[1].plain&&(Jt.push({keypath:ot,type:W}),delete ae[ot])})}),Jt.length)return Jt.sort(ye).reduce(function Ct(Fr,ot){var $e=ot.keypath,W=ot.type;if(P(Fr))return Fr.then(function(pe){return Ct(pe,{keypath:$e,type:W})});var Q=M(U,$e);if(A(Q=Ft(W,Q),v))return Q.then(function(pe){var Te=G(U,$e,pe);Te===pe&&(U=Te)});var se=G(U,$e,Q);se===Q&&(U=se)},void 0)}();return A(Ut,v)?Ht=Ut.then(function(){return U}):(Ht=function ar(Jt,Ct,Fr,ot,$e){if(!Ve||Jt!=="$types"){var W=ae[Jt],Q=H(Ct);if(Q||R(Ct)){var se=Q?new Array(Ct.length):{};for($(Ct).forEach(function(Re){var gt=ar(Jt+(Jt?".":"")+O(Re),Ct[Re],Fr||se,se,Re),bt=function($t){return A($t,ue)?se[Re]=void 0:$t!==void 0&&(se[Re]=$t),$t};A(gt,v)?Mt.push(gt.then(function(ur){return bt(ur)})):bt(gt)}),Ct=se;Ne.length;){var pe=_(Ne[0],4),Te=pe[0],He=pe[1],ut=pe[2],We=pe[3],Ie=M(Te,He);if(Ie===void 0)break;ut[We]=Ie,Ne.splice(0,1)}}if(!W)return Ct;if(W==="#"){var Ge=M(Fr,Ct.slice(1));return Ge===void 0&&Ne.push([Fr,Ct.slice(1),ot,$e]),Ge}return[].concat(W).reduce(function Re(gt,bt){return A(gt,v)?gt.then(function(ur){return Re(ur,bt)}):Ft(bt,gt)},Ct)}}("",U,null),Mt.length&&(Ht=v.resolve(Ht).then(function(ar){return v.all([ar].concat(Mt))}).then(function(ar){return _(ar,1)[0]}))),P(Ht)?ke&&J.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():A(Ht,v)?Ht.p.then(jt):Ht:!ke&&J.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ke?jt(Ht):Promise.resolve(jt(Ht))}},{key:"reviveSync",value:function(U,J){return this.revive(U,b(b({throwOnBadSyncType:!0},J),{},{sync:!0}))}},{key:"reviveAsync",value:function(U,J){return this.revive(U,b(b({throwOnBadSyncType:!0},J),{},{sync:!1}))}},{key:"register",value:function(U,J){return J=J||{},[].concat(U).forEach(function ae(ke){var Ne=this;if(H(ke))return ke.map(function(at){return ae.call(Ne,at)});ke&&$(ke).forEach(function(at){if(at==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(L.JSON_TYPES.includes(at))throw new TypeError("Plain JSON object types are reserved as type names");var Ve=ke[at],ht=Ve&&Ve.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,Ft=ht.filter(function(Jt){return Jt.type===at});if(Ft.length&&(ht.splice(ht.indexOf(Ft[0]),1),delete this.revivers[at],delete this.types[at]),typeof Ve=="function"){var Mt=Ve;Ve={test:function(Ct){return Ct&&Ct.constructor===Mt},replace:function(Ct){return b({},Ct)},revive:function(Ct){return Object.assign(Object.create(Mt.prototype),Ct)}}}else if(H(Ve)){var jt=_(Ve,3);Ve={test:jt[0],replace:jt[1],revive:jt[2]}}if(Ve&&Ve.test){var Ht={type:at,test:Ve.test.bind(Ve)};Ve.replace&&(Ht.replace=Ve.replace.bind(Ve)),Ve.replaceAsync&&(Ht.replaceAsync=Ve.replaceAsync.bind(Ve));var Ut=typeof J.fallback=="number"?J.fallback:J.fallback?0:Number.POSITIVE_INFINITY;if(Ve.testPlainObjects?this.plainObjectReplacers.splice(Ut,0,Ht):this.nonplainObjectReplacers.splice(Ut,0,Ht),Ve.revive||Ve.reviveAsync){var ar={};Ve.revive&&(ar.revive=Ve.revive.bind(Ve)),Ve.reviveAsync&&(ar.reviveAsync=Ve.reviveAsync.bind(Ve)),this.revivers[at]=[ar,{plain:Ve.testPlainObjects}]}this.types[at]=Ve}},this)},this),this}}]),L}(),ue=function L(){f(this,L)};ue.__typeson__type__="TypesonUndefined",he.Undefined=ue,he.Promise=v,he.isThenable=P,he.toStringTag=T,he.hasConstructorOf=A,he.isObject=D,he.isPlainObject=R,he.isUserObject=function L(B){if(!B||T(B)!=="Object")return!1;var U=S(B);return!U||A(B,Object)||L(U)},he.escapeKeyPathComponent=O,he.unescapeKeyPathComponent=I,he.getByKeyPath=M,he.getJSONType=function(B){return B===null?"null":Array.isArray(B)?"array":d(B)},he.JSON_TYPES=["null","boolean","number","string","array","object"];for(var Z={userObject:{test:function(B,U){return he.isUserObject(B)},replace:function(B){return function(J){for(var ae=1;ae<arguments.length;ae++){var ke=arguments[ae]!=null?arguments[ae]:{};ae%2?o(Object(ke),!0).forEach(function(Ne){a(J,Ne,ke[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(ke)):o(Object(ke)).forEach(function(Ne){Object.defineProperty(J,Ne,Object.getOwnPropertyDescriptor(ke,Ne))})}return J}({},B)},revive:function(B){return B}}},z=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(B,U){return!!Array.isArray(B)&&(Object.keys(B).some(function(J){return String(Number.parseInt(J))!==J})&&(U.iterateIn="object",U.addLength=!0),!0)},replace:function(B,U){return U.iterateUnsetNumeric=!0,B},revive:function(B){if(Array.isArray(B))return B;var U=[];return Object.keys(B).forEach(function(J){var ae=B[J];U[J]=ae}),U}}},{sparseUndefined:{test:function(B,U){return B===void 0&&U.ownKeys===!1},replace:function(B){return 0},revive:function(B){}}}],V={undef:{test:function(B,U){return B===void 0&&(U.ownKeys||!("ownKeys"in U))},replace:function(B){return 0},revive:function(B){return new he.Undefined}}},Y={StringObject:{test:function(B){return he.toStringTag(B)==="String"&&r(B)==="object"},replace:function(B){return String(B)},revive:function(B){return new String(B)}},BooleanObject:{test:function(B){return he.toStringTag(B)==="Boolean"&&r(B)==="object"},replace:function(B){return!!B},revive:function(B){return new Boolean(B)}},NumberObject:{test:function(B){return he.toStringTag(B)==="Number"&&r(B)==="object"},replace:function(B){return Number(B)},revive:function(B){return new Number(B)}}},ne=[{nan:{test:function(B){return Number.isNaN(B)},replace:function(B){return"NaN"},revive:function(B){return Number.NaN}}},{infinity:{test:function(B){return B===Number.POSITIVE_INFINITY},replace:function(B){return"Infinity"},revive:function(B){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(B){return B===Number.NEGATIVE_INFINITY},replace:function(B){return"-Infinity"},revive:function(B){return Number.NEGATIVE_INFINITY}}}],ie={date:{test:function(B){return he.toStringTag(B)==="Date"},replace:function(B){var U=B.getTime();return Number.isNaN(U)?"NaN":U},revive:function(B){return B==="NaN"?new Date(Number.NaN):new Date(B)}}},me={regexp:{test:function(B){return he.toStringTag(B)==="RegExp"},replace:function(B){return{source:B.source,flags:(B.global?"g":"")+(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.sticky?"y":"")+(B.unicode?"u":"")}},revive:function(B){var U=B.source,J=B.flags;return new RegExp(U,J)}}},xe={map:{test:function(B){return he.toStringTag(B)==="Map"},replace:function(B){return l(B.entries())},revive:function(B){return new Map(B)}}},we={set:{test:function(B){return he.toStringTag(B)==="Set"},replace:function(B){return l(B.values())},revive:function(B){return new Set(B)}}},Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt=new Uint8Array(256),xt=0;xt<Ee.length;xt++)tt[Ee.charCodeAt(xt)]=xt;var _t=function(B,U,J){J==null&&(J=B.byteLength);for(var ae=new Uint8Array(B,U||0,J),ke=ae.length,Ne="",at=0;at<ke;at+=3)Ne+=Ee[ae[at]>>2],Ne+=Ee[(3&ae[at])<<4|ae[at+1]>>4],Ne+=Ee[(15&ae[at+1])<<2|ae[at+2]>>6],Ne+=Ee[63&ae[at+2]];return ke%3==2?Ne=Ne.slice(0,-1)+"=":ke%3==1&&(Ne=Ne.slice(0,-2)+"=="),Ne},Gt=function(B){var U,J,ae,ke,Ne=B.length,at=.75*B.length,Ve=0;B[B.length-1]==="="&&(at--,B[B.length-2]==="="&&at--);for(var ht=new ArrayBuffer(at),Ft=new Uint8Array(ht),Mt=0;Mt<Ne;Mt+=4)U=tt[B.charCodeAt(Mt)],J=tt[B.charCodeAt(Mt+1)],ae=tt[B.charCodeAt(Mt+2)],ke=tt[B.charCodeAt(Mt+3)],Ft[Ve++]=U<<2|J>>4,Ft[Ve++]=(15&J)<<4|ae>>2,Ft[Ve++]=(3&ae)<<6|63&ke;return ht},X={arraybuffer:{test:function(B){return he.toStringTag(B)==="ArrayBuffer"},replace:function(B,U){U.buffers||(U.buffers=[]);var J=U.buffers.indexOf(B);return J>-1?{index:J}:(U.buffers.push(B),_t(B))},revive:function(B,U){if(U.buffers||(U.buffers=[]),r(B)==="object")return U.buffers[B.index];var J=Gt(B);return U.buffers.push(J),J}}},oe=typeof self>"u"?W2:self,le={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(L){var B=L,U=oe[B];U&&(le[L.toLowerCase()]={test:function(ae){return he.toStringTag(ae)===B},replace:function(ae,ke){var Ne=ae.buffer,at=ae.byteOffset,Ve=ae.length;ke.buffers||(ke.buffers=[]);var ht=ke.buffers.indexOf(Ne);return ht>-1?{index:ht,byteOffset:at,length:Ve}:(ke.buffers.push(Ne),{encoded:_t(Ne),byteOffset:at,length:Ve})},revive:function(ae,ke){ke.buffers||(ke.buffers=[]);var Ne,at=ae.byteOffset,Ve=ae.length,ht=ae.encoded,Ft=ae.index;return"index"in ae?Ne=ke.buffers[Ft]:(Ne=Gt(ht),ke.buffers.push(Ne)),new U(Ne,at,Ve)}})});var Ae={dataview:{test:function(B){return he.toStringTag(B)==="DataView"},replace:function(B,U){var J=B.buffer,ae=B.byteOffset,ke=B.byteLength;U.buffers||(U.buffers=[]);var Ne=U.buffers.indexOf(J);return Ne>-1?{index:Ne,byteOffset:ae,byteLength:ke}:(U.buffers.push(J),{encoded:_t(J),byteOffset:ae,byteLength:ke})},revive:function(B,U){U.buffers||(U.buffers=[]);var J,ae=B.byteOffset,ke=B.byteLength,Ne=B.encoded,at=B.index;return"index"in B?J=U.buffers[at]:(J=Gt(Ne),U.buffers.push(J)),new DataView(J,ae,ke)}}},_e={IntlCollator:{test:function(B){return he.hasConstructorOf(B,Intl.Collator)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.Collator(B.locale,B)}},IntlDateTimeFormat:{test:function(B){return he.hasConstructorOf(B,Intl.DateTimeFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.DateTimeFormat(B.locale,B)}},IntlNumberFormat:{test:function(B){return he.hasConstructorOf(B,Intl.NumberFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.NumberFormat(B.locale,B)}}};function ce(L){for(var B=new Uint8Array(L.length),U=0;U<L.length;U++)B[U]=L.charCodeAt(U);return B.buffer}var be={file:{test:function(B){return he.toStringTag(B)==="File"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad File access: "+U.status);return{type:B.type,stringContents:U.responseText,name:B.name,lastModified:B.lastModified}},revive:function(B){var U=B.name,J=B.type,ae=B.stringContents,ke=B.lastModified;return new File([ce(ae)],U,{type:J,lastModified:ke})},replaceAsync:function(B){return new he.Promise(function(U,J){var ae=new FileReader;ae.addEventListener("load",function(){U({type:B.type,stringContents:ae.result,name:B.name,lastModified:B.lastModified})}),ae.addEventListener("error",function(){J(ae.error)}),ae.readAsBinaryString(B)})}}},Ye={bigint:{test:function(B){return typeof B=="bigint"},replace:function(B){return String(B)},revive:function(B){return BigInt(B)}}},Xe={bigintObject:{test:function(B){return r(B)==="object"&&he.hasConstructorOf(B,BigInt)},replace:function(B){return String(B)},revive:function(B){return new Object(BigInt(B))}}},Pe={cryptokey:{test:function(B){return he.toStringTag(B)==="CryptoKey"&&B.extractable},replaceAsync:function(B){return new he.Promise(function(U,J){crypto.subtle.exportKey("jwk",B).catch(function(ae){J(ae)}).then(function(ae){U({jwk:ae,algorithm:B.algorithm,usages:B.usages})})})},revive:function(B){var U=B.jwk,J=B.algorithm,ae=B.usages;return crypto.subtle.importKey("jwk",U,J,!0,ae)}}};return[Z,V,z,Y,ne,ie,me,{imagedata:{test:function(B){return he.toStringTag(B)==="ImageData"},replace:function(B){return{array:l(B.data),width:B.width,height:B.height}},revive:function(B){return new ImageData(new Uint8ClampedArray(B.array),B.width,B.height)}}},{imagebitmap:{test:function(B){return he.toStringTag(B)==="ImageBitmap"||B&&B.dataset&&B.dataset.toStringTag==="ImageBitmap"},replace:function(B){var U=document.createElement("canvas");return U.getContext("2d").drawImage(B,0,0),U.toDataURL()},revive:function(B){var U=document.createElement("canvas"),J=U.getContext("2d"),ae=document.createElement("img");return ae.addEventListener("load",function(){J.drawImage(ae,0,0)}),ae.src=B,U},reviveAsync:function(B){var U=document.createElement("canvas"),J=U.getContext("2d"),ae=document.createElement("img");return ae.addEventListener("load",function(){J.drawImage(ae,0,0)}),ae.src=B,createImageBitmap(U)}}},be,{file:be.file,filelist:{test:function(B){return he.toStringTag(B)==="FileList"},replace:function(B){for(var U=[],J=0;J<B.length;J++)U[J]=B.item(J);return U},revive:function(B){return new(function(){function U(){n(this,U),this._files=arguments[0],this.length=this._files.length}return function(ae,ke,Ne){return ke&&s(ae.prototype,ke),Ne&&s(ae,Ne),ae}(U,[{key:"item",value:function(ae){return this._files[ae]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),U}())(B)}}},{blob:{test:function(B){return he.toStringTag(B)==="Blob"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad Blob access: "+U.status);return{type:B.type,stringContents:U.responseText}},revive:function(B){var U=B.type,J=B.stringContents;return new Blob([ce(J)],{type:U})},replaceAsync:function(B){return new he.Promise(function(U,J){var ae=new FileReader;ae.addEventListener("load",function(){U({type:B.type,stringContents:ae.result})}),ae.addEventListener("error",function(){J(ae.error)}),ae.readAsBinaryString(B)})}}}].concat(typeof Map=="function"?xe:[],typeof Set=="function"?we:[],typeof ArrayBuffer=="function"?X:[],typeof Uint8Array=="function"?le:[],typeof DataView=="function"?Ae:[],typeof Intl<"u"?_e:[],typeof crypto<"u"?Pe:[],typeof BigInt<"u"?[Ye,Xe]:[])})}),_h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ug=new Uint8Array(256);for(var z0=0;z0<_h.length;z0++)ug[_h.codePointAt(z0)]=z0;var K2=function(e,r,n){n==null&&(n=e.byteLength);for(var s=new Uint8Array(e,r||0,n),a=s.length,o="",l=0;l<a;l+=3)o+=_h[s[l]>>2],o+=_h[(s[l]&3)<<4|s[l+1]>>4],o+=_h[(s[l+1]&15)<<2|s[l+2]>>6],o+=_h[s[l+2]&63];return a%3===2?o=o.slice(0,-1)+"=":a%3===1&&(o=o.slice(0,-2)+"=="),o},JX=function(e){var r=e.length,n=e.length*.75,s=0,a,o,l,c;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);for(var d=new ArrayBuffer(n),f=new Uint8Array(d),p=0;p<r;p+=4)a=ug[e.codePointAt(p)],o=ug[e.codePointAt(p+1)],l=ug[e.codePointAt(p+2)],c=ug[e.codePointAt(p+3)],f[s++]=a<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return d},HCe=typeof self>"u"?global:self,QX={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,r=HCe[e];r&&(QX[t.toLowerCase()+"2"]={test:function(n){return XE.toStringTag(n)===e},replace:function(n){var s=n.buffer,a=n.byteOffset,o=n.length;return{buffer:s,byteOffset:a,length:o}},revive:function(n){var s=n.buffer,a=n.byteOffset,o=n.length;return new r(s,a,o)}})});var WCe={arraybuffer:{test:function(t){return XE.toStringTag(t)==="ArrayBuffer"},replace:function(t){return K2(t,0,t.byteLength)},revive:function(t){var e=JX(t);return e}}},Xs=new XE().register(GCe),KCe="FileReaderSync"in self,zw=[],tb=0;Xs.register([WCe,QX,{blob2:{test:function(t){return XE.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(KCe){var e=ZX(t,"binary"),r=K2(e,0,e.byteLength);return{type:t.type,data:r}}else{zw.push(t);var n={type:t.type,data:{start:tb,end:tb+t.size}};return tb+=t.size,n}},finalize:function(t,e){t.data=K2(e,0,e.byteLength)},revive:function(t){var e=t.type,r=t.data;return new Blob([JX(r)],{type:e})}}}]);Xs.mustFinalize=function(){return zw.length>0};Xs.finalize=function(t){return uc(void 0,void 0,void 0,function(){var e,r,n,s,a,o,l,c,d,f,p,g;return Na(this,function(y){switch(y.label){case 0:return[4,qX(new Blob(zw),"binary")];case 1:if(e=y.sent(),t){for(r=0,n=t;r<n.length;r++)if(s=n[r],s.$types){a=s.$types,o=a.$,o&&(a=a.$);for(l in a)c=a[l],d=Xs.types[c],d&&d.finalize&&(f=xn.getByKeyPath(s,o?"$."+l:l),d.finalize(f,e.slice((p=f.data)===null||p===void 0?void 0:p.start,(g=f.data)===null||g===void 0?void 0:g.end)))}}return zw=[],tb=0,[2]}})})};var XCe=2e3;function YCe(t,e){return uc(this,void 0,void 0,function(){function r(){return uc(this,void 0,void 0,function(){var p,g,y,b,_,u,h,m,v,w;return Na(this,function(x){switch(x.label){case 0:return[4,Promise.all(s.map(function(S){return S.count()}))];case 1:p=x.sent(),p.forEach(function(S,E){return o[E].rowCount=S}),f.totalRows=p.reduce(function(S,E){return S+E}),g=JSON.stringify(c,void 0,l?2:void 0),y=g.lastIndexOf("]"),b=g.substring(0,y),a.push(b),_=e.filter,u=e.transform,h=function(S){var E,P,T,A,R,D,O,I,M,G,j,$;return Na(this,function(H){switch(H.label){case 0:E=t.table(S),P=E.schema.primKey,T=!!P.keyPath,A=e.numRowsPerChunk||XCe,R=T?{tableName:E.name,inbound:!0,rows:[]}:{tableName:E.name,inbound:!1,rows:[]},D=JSON.stringify(R,void 0,l?2:void 0),l&&(D=D.split("\n").join("\n    ")),O=D.lastIndexOf("]"),a.push(D.substring(0,O)),I=null,M=0,G=!0,j=function(){var K,re,fe,ye,he,V,ue,Z,z,V;return Na(this,function(Y){switch(Y.label){case 0:return d&&xn.ignoreTransaction(function(){return d(f)}),K=I==null?E.limit(A):E.where(":id").above(I).limit(A),[4,K.toArray()];case 1:return re=Y.sent(),re.length===0?[2,"break"]:(I!=null&&M>0&&(a.push(","),l&&a.push("\n      ")),G=re.length===A,T?(fe=_?re.filter(function(ne){return _(S,ne)}):re,ye=u?fe.map(function(ne){return u(S,ne).value}):fe,he=ye.map(function(ne){return Xs.encapsulate(ne)}),Xs.mustFinalize()?[4,xn.waitFor(Xs.finalize(he))]:[3,3]):[3,4]);case 2:Y.sent(),Y.label=3;case 3:return V=JSON.stringify(he,void 0,l?2:void 0),l&&(V=V.split("\n").join("\n      ")),a.push(new Blob([V.substring(1,V.length-1)])),M=ye.length,I=re.length>0?xn.getByKeyPath(re[re.length-1],P.keyPath):null,[3,8];case 4:return[4,K.primaryKeys()];case 5:return ue=Y.sent(),Z=ue.map(function(ne,ie){return[ne,re[ie]]}),_&&(Z=Z.filter(function(ne){var ie=ne[0],me=ne[1];return _(S,me,ie)})),u&&(Z=Z.map(function(ne){var ie=ne[0],me=ne[1],xe=u(S,me,ie);return[xe.key,xe.value]})),z=Z.map(function(ne){return Xs.encapsulate(ne)}),Xs.mustFinalize()?[4,xn.waitFor(Xs.finalize(z))]:[3,7];case 6:Y.sent(),Y.label=7;case 7:V=JSON.stringify(z,void 0,l?2:void 0),l&&(V=V.split("\n").join("\n      ")),a.push(new Blob([V.substring(1,V.length-1)])),M=Z.length,I=ue.length>0?ue[ue.length-1]:null,Y.label=8;case 8:return f.completedRows+=re.length,[2]}})},H.label=1;case 1:return G?[5,j()]:[3,3];case 2:return $=H.sent(),$==="break"?[3,3]:[3,1];case 3:return a.push(D.substr(O)),f.completedTables+=1,f.completedTables<f.totalTables&&a.push(","),[2]}})},m=0,v=o,x.label=2;case 2:return m<v.length?(w=v[m].name,[5,h(w)]):[3,5];case 3:x.sent(),x.label=4;case 4:return m++,[3,2];case 5:return a.push(g.substr(y)),f.done=!0,d&&xn.ignoreTransaction(function(){return d(f)}),[2]}})})}var n,s,a,o,l,c,d,f;return Na(this,function(p){switch(p.label){case 0:e=e||{},n=e.skipTables?e.skipTables:[],s=t.tables.filter(function(g){return!n.includes(g.name)}),a=[],o=s.map(function(g){return{name:g.name,schema:zCe(g),rowCount:0}}),l=e.prettyJson,c={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:o,data:[]}},d=e.progressCallback,f={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:o.length},p.label=1;case 1:return p.trys.push([1,,6,7]),e.noTransaction?[4,r()]:[3,3];case 2:return p.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,r)];case 4:p.sent(),p.label=5;case 5:return[3,7];case 6:return Xs.finalize(),[7];case 7:return[2,new Blob(a,{type:"text/json"})]}})})}var qCe=1,ZCe={Stream:function(){}},JCe=oF(function(t,e){(function(r){var n=typeof process=="object"&&process.env?process.env:self;r.parser=function(T){return new y(T)},r.CParser=y,r.CStream=_,r.createStream=b,r.MAX_BUFFER_LENGTH=10*1024*1024,r.DEBUG=n.CDEBUG==="debug",r.INFO=n.CDEBUG==="debug"||n.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var s={textNode:void 0,numberNode:""},a=r.EVENTS.filter(function(T){return T!=="error"&&T!=="end"}),o=0,l;r.STATE={BEGIN:o++,VALUE:o++,OPEN_OBJECT:o++,CLOSE_OBJECT:o++,OPEN_ARRAY:o++,CLOSE_ARRAY:o++,TEXT_ESCAPE:o++,STRING:o++,BACKSLASH:o++,END:o++,OPEN_KEY:o++,CLOSE_KEY:o++,TRUE:o++,TRUE2:o++,TRUE3:o++,FALSE:o++,FALSE2:o++,FALSE3:o++,FALSE4:o++,NULL:o++,NULL2:o++,NULL3:o++,NUMBER_DECIMAL_POINT:o++,NUMBER_DIGIT:o++};for(var c in r.STATE)r.STATE[r.STATE[c]]=c;o=r.STATE;const d={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(T){function A(){this.__proto__=T}return A.prototype=T,new A}),Object.getPrototypeOf||(Object.getPrototypeOf=function(T){return T.__proto__}),Object.keys||(Object.keys=function(T){var A=[];for(var R in T)T.hasOwnProperty(R)&&A.push(R);return A});function f(T){var A=Math.max(r.MAX_BUFFER_LENGTH,10),R=0;for(var D in s){var O=T[D]===void 0?0:T[D].length;if(O>A)switch(D){case"text":closeText(T);break;default:x(T,"Max buffer length exceeded: "+D)}R=Math.max(R,O)}T.bufferCheckPosition=r.MAX_BUFFER_LENGTH-R+T.position}function p(T){for(var A in s)T[A]=s[A]}var g=/[\\"\n]/g;function y(T){if(!(this instanceof y))return new y(T);var A=this;p(A),A.bufferCheckPosition=r.MAX_BUFFER_LENGTH,A.q=A.c=A.p="",A.opt=T||{},A.closed=A.closedRoot=A.sawRoot=!1,A.tag=A.error=null,A.state=o.BEGIN,A.stack=new Array,A.position=A.column=0,A.line=1,A.slashed=!1,A.unicodeI=0,A.unicodeS=null,A.depth=0,u(A,"onready")}y.prototype={end:function(){S(this)},write:P,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=ZCe.Stream}catch(T){l=function(){}}function b(T){return new _(T)}function _(T){if(!(this instanceof _))return new _(T);this._parser=new y(T),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var A=this;l.apply(A),this._parser.onend=function(){A.emit("end")},this._parser.onerror=function(R){A.emit("error",R),A._parser.error=null},a.forEach(function(R){Object.defineProperty(A,"on"+R,{get:function(){return A._parser["on"+R]},set:function(D){if(!D)return A.removeAllListeners(R),A._parser["on"+R]=D,D;A.on(R,D)},enumerable:!0,configurable:!1})})}_.prototype=Object.create(l.prototype,{constructor:{value:_}}),_.prototype.write=function(T){T=new Buffer(T);for(var A=0;A<T.length;A++){var R=T[A];if(this.bytes_remaining>0){for(var D=0;D<this.bytes_remaining;D++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+D]=T[D];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,A=A+D-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&R>=128)if(R>=194&&R<=223&&(this.bytes_in_sequence=2),R>=224&&R<=239&&(this.bytes_in_sequence=3),R>=240&&R<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+A>T.length){for(var O=0;O<=T.length-1-A;O++)this.temp_buffs[this.bytes_in_sequence][O]=T[A+O];return this.bytes_remaining=A+this.bytes_in_sequence-T.length,!0}else{this.string=T.slice(A,A+this.bytes_in_sequence).toString(),A=A+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var I=A;I<T.length&&!(T[I]>=128);I++);this.string=T.slice(A,I).toString(),this._parser.write(this.string),this.emit("data",this.string),A=I-1}},_.prototype.end=function(T){return T&&T.length&&this._parser.write(T.toString()),this._parser.end(),!0},_.prototype.on=function(T,A){var R=this;return!R._parser["on"+T]&&a.indexOf(T)!==-1&&(R._parser["on"+T]=function(){var D=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);D.splice(0,0,T),R.emit.apply(R,D)}),l.prototype.on.call(R,T,A)},_.prototype.destroy=function(){p(this._parser),this.emit("close")};function u(T,A,R){r.INFO&&console.log("-- emit",A,R),T[A]&&T[A](R)}function h(T,A,R){m(T),u(T,A,R)}function m(T,A){T.textNode=w(T.opt,T.textNode),T.textNode!==void 0&&u(T,A||"onvalue",T.textNode),T.textNode=void 0}function v(T){T.numberNode&&u(T,"onvalue",parseFloat(T.numberNode)),T.numberNode=""}function w(T,A){return A===void 0||(T.trim&&(A=A.trim()),T.normalize&&(A=A.replace(/\s+/g," "))),A}function x(T,A){return m(T),A+="\nLine: "+T.line+"\nColumn: "+T.column+"\nChar: "+T.c,A=new Error(A),T.error=A,u(T,"onerror",A),T}function S(T){return(T.state!==o.VALUE||T.depth!==0)&&x(T,"Unexpected end"),m(T),T.c="",T.closed=!0,u(T,"onend"),y.call(T,T.opt),T}function E(T){return T===d.carriageReturn||T===d.lineFeed||T===d.space||T===d.tab}function P(T){var A=this;if(this.error)throw this.error;if(A.closed)return x(A,"Cannot write after close. Assign an onready handler.");if(T===null)return S(A);var R=0,D=T.charCodeAt(0),O=A.p;for(r.DEBUG&&console.log("write -> ["+T+"]");D&&(O=D,A.c=D=T.charCodeAt(R++),O!==D?A.p=O:O=A.p,!!D);)switch(r.DEBUG&&console.log(R,D,r.STATE[A.state]),A.position++,D===d.lineFeed?(A.line++,A.column=0):A.column++,A.state){case o.BEGIN:D===d.openBrace?A.state=o.OPEN_OBJECT:D===d.openBracket?A.state=o.OPEN_ARRAY:E(D)||x(A,"Non-whitespace before {[.");continue;case o.OPEN_KEY:case o.OPEN_OBJECT:if(E(D))continue;if(A.state===o.OPEN_KEY)A.stack.push(o.CLOSE_KEY);else if(D===d.closeBrace){u(A,"onopenobject"),this.depth++,u(A,"oncloseobject"),this.depth--,A.state=A.stack.pop()||o.VALUE;continue}else A.stack.push(o.CLOSE_OBJECT);D===d.doubleQuote?A.state=o.STRING:x(A,'Malformed object key should start with "');continue;case o.CLOSE_KEY:case o.CLOSE_OBJECT:if(E(D))continue;A.state,o.CLOSE_KEY,D===d.colon?(A.state===o.CLOSE_OBJECT?(A.stack.push(o.CLOSE_OBJECT),m(A,"onopenobject"),this.depth++):m(A,"onkey"),A.state=o.VALUE):D===d.closeBrace?(h(A,"oncloseobject"),this.depth--,A.state=A.stack.pop()||o.VALUE):D===d.comma?(A.state===o.CLOSE_OBJECT&&A.stack.push(o.CLOSE_OBJECT),m(A),A.state=o.OPEN_KEY):x(A,"Bad object");continue;case o.OPEN_ARRAY:case o.VALUE:if(E(D))continue;if(A.state===o.OPEN_ARRAY)if(u(A,"onopenarray"),this.depth++,A.state=o.VALUE,D===d.closeBracket){u(A,"onclosearray"),this.depth--,A.state=A.stack.pop()||o.VALUE;continue}else A.stack.push(o.CLOSE_ARRAY);D===d.doubleQuote?A.state=o.STRING:D===d.openBrace?A.state=o.OPEN_OBJECT:D===d.openBracket?A.state=o.OPEN_ARRAY:D===d.t?A.state=o.TRUE:D===d.f?A.state=o.FALSE:D===d.n?A.state=o.NULL:D===d.minus?A.numberNode+="-":d._0<=D&&D<=d._9?(A.numberNode+=String.fromCharCode(D),A.state=o.NUMBER_DIGIT):x(A,"Bad value");continue;case o.CLOSE_ARRAY:if(D===d.comma)A.stack.push(o.CLOSE_ARRAY),m(A,"onvalue"),A.state=o.VALUE;else if(D===d.closeBracket)h(A,"onclosearray"),this.depth--,A.state=A.stack.pop()||o.VALUE;else{if(E(D))continue;x(A,"Bad array")}continue;case o.STRING:A.textNode===void 0&&(A.textNode="");var I=R-1,M=A.slashed,G=A.unicodeI;e:for(;;){for(r.DEBUG&&console.log(R,D,r.STATE[A.state],M);G>0;)if(A.unicodeS+=String.fromCharCode(D),D=T.charCodeAt(R++),A.position++,G===4?(A.textNode+=String.fromCharCode(parseInt(A.unicodeS,16)),G=0,I=R-1):G++,!D)break e;if(D===d.doubleQuote&&!M){A.state=A.stack.pop()||o.VALUE,A.textNode+=T.substring(I,R-1),A.position+=R-1-I;break}if(D===d.backslash&&!M&&(M=!0,A.textNode+=T.substring(I,R-1),A.position+=R-1-I,D=T.charCodeAt(R++),A.position++,!D))break;if(M){if(M=!1,D===d.n?A.textNode+="\n":D===d.r?A.textNode+="\r":D===d.t?A.textNode+="	":D===d.f?A.textNode+="\f":D===d.b?A.textNode+="\b":D===d.u?(G=1,A.unicodeS=""):A.textNode+=String.fromCharCode(D),D=T.charCodeAt(R++),A.position++,I=R-1,D)continue;break}g.lastIndex=R;var j=g.exec(T);if(j===null){R=T.length+1,A.textNode+=T.substring(I,R-1),A.position+=R-1-I;break}if(R=j.index+1,D=T.charCodeAt(j.index),!D){A.textNode+=T.substring(I,R-1),A.position+=R-1-I;break}}A.slashed=M,A.unicodeI=G;continue;case o.TRUE:D===d.r?A.state=o.TRUE2:x(A,"Invalid true started with t"+D);continue;case o.TRUE2:D===d.u?A.state=o.TRUE3:x(A,"Invalid true started with tr"+D);continue;case o.TRUE3:D===d.e?(u(A,"onvalue",!0),A.state=A.stack.pop()||o.VALUE):x(A,"Invalid true started with tru"+D);continue;case o.FALSE:D===d.a?A.state=o.FALSE2:x(A,"Invalid false started with f"+D);continue;case o.FALSE2:D===d.l?A.state=o.FALSE3:x(A,"Invalid false started with fa"+D);continue;case o.FALSE3:D===d.s?A.state=o.FALSE4:x(A,"Invalid false started with fal"+D);continue;case o.FALSE4:D===d.e?(u(A,"onvalue",!1),A.state=A.stack.pop()||o.VALUE):x(A,"Invalid false started with fals"+D);continue;case o.NULL:D===d.u?A.state=o.NULL2:x(A,"Invalid null started with n"+D);continue;case o.NULL2:D===d.l?A.state=o.NULL3:x(A,"Invalid null started with nu"+D);continue;case o.NULL3:D===d.l?(u(A,"onvalue",null),A.state=A.stack.pop()||o.VALUE):x(A,"Invalid null started with nul"+D);continue;case o.NUMBER_DECIMAL_POINT:D===d.period?(A.numberNode+=".",A.state=o.NUMBER_DIGIT):x(A,"Leading zero not followed by .");continue;case o.NUMBER_DIGIT:d._0<=D&&D<=d._9?A.numberNode+=String.fromCharCode(D):D===d.period?(A.numberNode.indexOf(".")!==-1&&x(A,"Invalid number has two dots"),A.numberNode+="."):D===d.e||D===d.E?((A.numberNode.indexOf("e")!==-1||A.numberNode.indexOf("E")!==-1)&&x(A,"Invalid number has two exponential"),A.numberNode+="e"):D===d.plus||D===d.minus?(O===d.e||O===d.E||x(A,"Invalid symbol in number"),A.numberNode+=String.fromCharCode(D)):(v(A),R--,A.state=A.stack.pop()||o.VALUE);continue;default:x(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&f(A),A}})(e)});function QCe(t){var e=0,r=eAe(!0),n={pullAsync:function(s){return uc(this,void 0,void 0,function(){var a,o,l;return Na(this,function(c){switch(c.label){case 0:return a=t.slice(e,e+s),e+=s,[4,qX(a,"text")];case 1:return o=c.sent(),l=r.write(o),n.result=l||{},[2,l]}})})},pullSync:function(s){var a=t.slice(e,e+s);e+=s;var o=ZX(a,"text"),l=r.write(o);return n.result=l||{},l},done:function(){return r.done()},eof:function(){return e>=t.size},result:{}};return n}function eAe(t){var e=JCe.parser(),r=0,n,s=[],a,o,l=!1,c=!1;return e.onopenobject=function(d){var f={};f.incomplete=!0,n||(n=f),a&&(s.push([o,a,c]),t&&(c?a.push(f):a[o]=f)),a=f,o=d,c=!1,++r},e.onkey=function(d){return o=d},e.onvalue=function(d){return c?a.push(d):a[o]=d},e.oncloseobject=function(){var d;if(delete a.incomplete,o=null,--r===0)l=!0;else{var f=a;d=s.pop(),o=d[0],a=d[1],c=d[2],t||(c?a.push(f):a[o]=f)}},e.onopenarray=function(){var d=[];d.incomplete=!0,n||(n=d),a&&(s.push([o,a,c]),t&&(c?a.push(d):a[o]=d)),a=d,c=!0,o=null,++r},e.onclosearray=function(){var d;if(delete a.incomplete,o=null,--r===0)l=!0;else{var f=a;d=s.pop(),o=d[0],a=d[1],c=d[2],t||(c?a.push(f):a[o]=f)}},{write:function(d){return e.write(d),n},done:function(){return l}}}var eY=1024;function tAe(t,e){return uc(this,void 0,void 0,function(){var r,n,s,a;return Na(this,function(o){switch(o.label){case 0:return e=e||{},r=e.chunkSizeBytes||eY*1024,[4,rY(t,r)];case 1:return n=o.sent(),s=n.result.data,a=new xn(e.name!==void 0?e.name:s.databaseName),a.version(s.databaseVersion).stores(VCe(s)),[4,tY(a,n,e.name!==void 0?jw(jw({},e),{acceptNameDiff:!0}):e)];case 2:return o.sent(),[2,a]}})})}function tY(t,e,r){return uc(this,void 0,void 0,function(){function n(){return uc(this,void 0,void 0,function(){var _,u,h,m,v;return Na(this,function(w){switch(w.label){case 0:_=function(x){var S,E,P,T,A,R,D,O,I,M,G,j,$;return Na(this,function(H){switch(H.label){case 0:if(d.includes(x.tableName))return[2,"continue"];if(!x.rows)return[2,"break"];if(!x.rows.incomplete&&x.rows.length===0)return[2,"continue"];if(f&&xn.ignoreTransaction(function(){return f(p)}),S=x.tableName,E=t.table(S),P=c.tables.filter(function(K){return K.name===S})[0].schema,!E){if(r.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(x.tableName," is missing in installed database"))}if(!r.acceptChangedPrimaryKey&&P.split(",")[0]!=E.schema.primKey.src)throw new Error("Primary key differs for table ".concat(x.tableName,". "));for(T=x.rows,A=[],R=0;R<T.length&&(D=T[R],!D.incomplete);R++)A.push(Xs.revive(D));return O=r.filter,I=r.transform,M=O?x.inbound?A.filter(function(K){return O(S,K)}):A.filter(function(K){var re=K[0],fe=K[1];return O(S,fe,re)}):A,I&&(M=M.map(x.inbound?function(K){return I(S,K).value}:function(K){var re=K[0],fe=K[1],ye=I(S,fe,re);return[ye.key,ye.value]})),G=x.inbound?[void 0,M]:[M.map(function(K){return K[0]}),A.map(function(K){return K[1]})],j=G[0],$=G[1],r.overwriteValues?[4,E.bulkPut($,j)]:[3,2];case 1:return H.sent(),[3,4];case 2:return[4,E.bulkAdd($,j)];case 3:H.sent(),H.label=4;case 4:return p.completedRows+=A.length,A.incomplete||(p.completedTables+=1),T.splice(0,A.length),[2]}})},u=0,h=c.data,w.label=1;case 1:return u<h.length?(m=h[u],[5,_(m)]):[3,4];case 2:if(v=w.sent(),v==="break")return[3,4];w.label=3;case 3:return u++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!a.done()&&!a.eof()?l?(a.pullSync(s),[3,7]):[3,5]:[3,8];case 5:return[4,xn.waitFor(a.pullAsync(s))];case 6:w.sent(),w.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var s,a,o,l,c,d,f,p,g,y,b;return Na(this,function(_){switch(_.label){case 0:return r=r||{},s=r.chunkSizeBytes||eY*1024,[4,rY(e,s)];case 1:if(a=_.sent(),o=a.result,l="FileReaderSync"in self,c=o.data,d=r.skipTables?r.skipTables:[],!r.acceptNameDiff&&t.name!==c.databaseName)throw new Error("Name differs. Current database name is ".concat(t.name," but export is ").concat(c.databaseName));if(!r.acceptVersionDiff&&t.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(t.verno," but export is ").concat(c.databaseVersion));if(f=r.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(u,h){return u+h.rowCount},0),totalTables:c.tables.length},f&&xn.ignoreTransaction(function(){return f(p)}),!r.clearTablesBeforeImport)return[3,5];g=0,y=t.tables,_.label=2;case 2:return g<y.length?(b=y[g],d.includes(b.name)?[3,4]:[4,b.clear()]):[3,5];case 3:_.sent(),_.label=4;case 4:return g++,[3,2];case 5:return r.noTransaction?[4,n()]:[3,7];case 6:return _.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,n)];case 8:_.sent(),_.label=9;case 9:return p.done=!0,f&&xn.ignoreTransaction(function(){return f(p)}),[2]}})})}function rY(t,e){return uc(this,void 0,void 0,function(){var r,n;return Na(this,function(s){switch(s.label){case 0:r="slice"in t?QCe(t):t,s.label=1;case 1:return r.eof()?[3,3]:[4,r.pullAsync(e)];case 2:return s.sent(),r.result.data&&r.result.data.data?[3,3]:[3,1];case 3:if(n=r.result,!n||n.formatName!="dexie")throw new Error("Given file is not a dexie export");if(n.formatVersion>qCe)throw new Error("Format version ".concat(n.formatVersion," not supported"));if(!n.data)throw new Error("No data in export file");if(!n.data.databaseName)throw new Error("Missing databaseName in export file");if(!n.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!n.data.tables)throw new Error("Missing tables in export file");return[2,r]}})})}xn.prototype.export=function(t){return YCe(this,t)};xn.prototype.import=function(t,e){return tY(this,t,e)};xn.import=function(t,e){return tAe(t,e)};function rAe(t,e,r){var n,s;typeof t=="function"?(n=e||[],s=r):(n=[],s=e);var a=q.useRef({hasResult:!1,result:s,error:null}),o=q.useReducer(function(d){return d+1},0);o[0];var l=o[1],c=q.useMemo(function(){var d=typeof t=="function"?t():t;if(!d||typeof d.subscribe!="function")throw t===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")a.current.result=d.getValue(),a.current.hasResult=!0;else{var f=d.subscribe(function(p){a.current.result=p,a.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return d},n);if(q.useDebugValue(a.current.result),q.useEffect(function(){var d=c.subscribe(function(f){var p=a.current;(p.error!==null||p.result!==f)&&(p.error=null,p.result=f,p.hasResult=!0,l())},function(f){var p=a.current;p.error!==f&&(p.error=f,l())});return typeof d=="function"?d:d.unsubscribe.bind(d)},n),a.current.error)throw a.current.error;return a.current.result}function JZe(t,e,r){return rAe(function(){return YX(t)},e||[],r)}var c_="Menubar",[X2,nAe,iAe]=zp(c_),[nY,QZe]=Qn(c_,[iAe,$o]),Li=$B(),iY=$o(),[sAe,lF]=nY(c_),sY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,value:n,onValueChange:s,defaultValue:a,loop:o=!0,dir:l,...c}=t,d=zl(l),f=iY(r),[p,g]=wi({prop:n,onChange:s,defaultProp:a!=null?a:"",caller:c_}),[y,b]=C.useState(null);return k.jsx(sAe,{scope:r,value:p,onMenuOpen:C.useCallback(_=>{g(_),b(_)},[g]),onMenuClose:C.useCallback(()=>g(""),[g]),onMenuToggle:C.useCallback(_=>{g(u=>u?"":_),b(_)},[g]),dir:d,loop:o,children:k.jsx(X2.Provider,{scope:r,children:k.jsx(X2.Slot,{scope:r,children:k.jsx(n_,{asChild:!0,...f,orientation:"horizontal",loop:o,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:b,children:k.jsx(rt.div,{role:"menubar",...c,ref:e})})})})})});sY.displayName=c_;var uF="MenubarMenu",[aAe,aY]=nY(uF),oY=t=>{const{__scopeMenubar:e,value:r,...n}=t,s=ai(),a=r||s||"LEGACY_REACT_AUTO_VALUE",o=lF(uF,e),l=Li(e),c=C.useRef(null),d=C.useRef(!1),f=o.value===a;return C.useEffect(()=>{f||(d.current=!1)},[f]),k.jsx(aAe,{scope:e,value:a,triggerId:ai(),triggerRef:c,contentId:ai(),wasKeyboardTriggerOpenRef:d,children:k.jsx(zK,{...l,open:f,onOpenChange:p=>{p||o.onMenuClose()},modal:!1,dir:o.dir,...n})})};oY.displayName=uF;var Y2="MenubarTrigger",lY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,disabled:n=!1,...s}=t,a=iY(r),o=Li(r),l=lF(Y2,r),c=aY(Y2,r),d=C.useRef(null),f=Et(e,d,c.triggerRef),[p,g]=C.useState(!1),y=l.value===c.value;return k.jsx(X2.ItemSlot,{scope:r,value:c.value,disabled:n,children:k.jsx(Hp,{asChild:!0,...a,focusable:!n,tabStopId:c.value,children:k.jsx(VK,{asChild:!0,...o,children:k.jsx(rt.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":p?"":void 0,"data-state":y?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:f,onPointerDown:Ce(t.onPointerDown,b=>{!n&&b.button===0&&b.ctrlKey===!1&&(l.onMenuOpen(c.value),y||b.preventDefault())}),onPointerEnter:Ce(t.onPointerEnter,()=>{var _;!!l.value&&!y&&(l.onMenuOpen(c.value),(_=d.current)==null||_.focus())}),onKeyDown:Ce(t.onKeyDown,b=>{n||(["Enter"," "].includes(b.key)&&l.onMenuToggle(c.value),b.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(b.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,b.preventDefault()))}),onFocus:Ce(t.onFocus,()=>g(!0)),onBlur:Ce(t.onBlur,()=>g(!1))})})})})});lY.displayName=Y2;var oAe="MenubarPortal",uY=t=>{const{__scopeMenubar:e,...r}=t,n=Li(e);return k.jsx(GK,{...n,...r})};uY.displayName=oAe;var q2="MenubarContent",cY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,align:n="start",...s}=t,a=Li(r),o=lF(q2,r),l=aY(q2,r),c=nAe(r),d=C.useRef(!1);return k.jsx(HK,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...a,...s,ref:e,align:n,onCloseAutoFocus:Ce(t.onCloseAutoFocus,f=>{var g;!!!o.value&&!d.current&&((g=l.triggerRef.current)==null||g.focus()),d.current=!1,f.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,f=>{const p=f.target;c().some(y=>{var b;return(b=y.ref.current)==null?void 0:b.contains(p)})&&f.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:f=>{l.wasKeyboardTriggerOpenRef.current||f.preventDefault()},onKeyDown:Ce(t.onKeyDown,f=>{if(["ArrowRight","ArrowLeft"].includes(f.key)){const p=f.target,g=p.hasAttribute("data-radix-menubar-subtrigger"),y=p.closest("[data-radix-menubar-content]")!==f.currentTarget,_=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===f.key;if(!_&&g||y&&_)return;let m=c().filter(x=>!x.disabled).map(x=>x.value);_&&m.reverse();const v=m.indexOf(l.value);m=o.loop?xAe(m,v+1):m.slice(v+1);const[w]=m;w&&o.onMenuOpen(w)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});cY.displayName=q2;var lAe="MenubarGroup",uAe=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(WK,{...s,...n,ref:e})});uAe.displayName=lAe;var cAe="MenubarLabel",dY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(KK,{...s,...n,ref:e})});dY.displayName=cAe;var dAe="MenubarItem",fY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(XK,{...s,...n,ref:e})});fY.displayName=dAe;var fAe="MenubarCheckboxItem",hY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(YK,{...s,...n,ref:e})});hY.displayName=fAe;var hAe="MenubarRadioGroup",pAe=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(qK,{...s,...n,ref:e})});pAe.displayName=hAe;var mAe="MenubarRadioItem",pY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(ZK,{...s,...n,ref:e})});pY.displayName=mAe;var gAe="MenubarItemIndicator",mY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(JK,{...s,...n,ref:e})});mY.displayName=gAe;var vAe="MenubarSeparator",gY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(QK,{...s,...n,ref:e})});gY.displayName=vAe;var yAe="MenubarArrow",_Ae=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(eX,{...s,...n,ref:e})});_Ae.displayName=yAe;var bAe="MenubarSubTrigger",vY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(tX,{"data-radix-menubar-subtrigger":"",...s,...n,ref:e})});vY.displayName=bAe;var wAe="MenubarSubContent",yY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(rX,{...s,"data-radix-menubar-content":"",...n,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});yY.displayName=wAe;function xAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var eJe=sY,tJe=oY,rJe=lY,nJe=uY,iJe=cY,sJe=dY,aJe=fY,oJe=hY,lJe=pY,uJe=mY,cJe=gY,dJe=vY,fJe=yY,d_=t=>t.type==="checkbox",cd=t=>t instanceof Date,Wi=t=>t==null;const _Y=t=>typeof t=="object";var Cn=t=>!Wi(t)&&!Array.isArray(t)&&_Y(t)&&!cd(t),bY=t=>Cn(t)&&t.target?d_(t.target)?t.target.checked:t.target.value:t,EAe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,wY=(t,e)=>t.has(EAe(e)),SAe=t=>{const e=t.constructor&&t.constructor.prototype;return Cn(e)&&e.hasOwnProperty("isPrototypeOf")},cF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(cF&&(t instanceof Blob||n))&&(r||Cn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!SAe(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Dr(t[s]));else return t;return e}var YE=t=>/^\w*$/.test(t),Sr=t=>t===void 0,qE=t=>Array.isArray(t)?t.filter(Boolean):[],dF=t=>qE(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,r)=>{if(!e||!Cn(t))return r;const n=(YE(e)?[e]:dF(e)).reduce((s,a)=>Wi(s)?s:s[a],t);return Sr(n)||n===t?Sr(t[e])?r:t[e]:n},ys=t=>typeof t=="boolean",cr=(t,e,r)=>{let n=-1;const s=YE(e)?[e]:dF(e),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const d=t[l];c=Cn(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Vw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ea={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fF=q.createContext(null);fF.displayName="HookFormContext";const ZE=()=>q.useContext(fF),hJe=t=>{const{children:e,...r}=t;return q.createElement(fF.Provider,{value:r},e)};var xY=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==ea.all&&(e._proxyFormState[o]=!n||ea.all),r&&(r[o]=!0),t[o]}});return s};const JE=typeof window<"u"?q.useLayoutEffect:q.useEffect;function CAe(t){const e=ZE(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[o,l]=q.useState(r._formState),c=q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return JE(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:d=>{!n&&l({...r._formState,...d})}}),[s,n,a]),q.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),q.useMemo(()=>xY(o,r,c.current,!1),[o,r])}var ws=t=>typeof t=="string",Z2=(t,e,r,n,s)=>ws(t)?(n&&e.watch.add(t),je(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),je(r,a))):(n&&(e.watchAll=!0),r),J2=t=>Wi(t)||!_Y(t);function Ia(t,e,r=new WeakSet){if(J2(t)||J2(e))return Object.is(t,e);if(cd(t)&&cd(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const o=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=e[a];if(cd(o)&&cd(l)||Cn(o)&&Cn(l)||Array.isArray(o)&&Array.isArray(l)?!Ia(o,l,r):!Object.is(o,l))return!1}}return!0}function AAe(t){const e=ZE(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:o,compute:l}=t||{},c=q.useRef(s),d=q.useRef(l),f=q.useRef(void 0),p=q.useRef(r),g=q.useRef(n);d.current=l;const[y,b]=q.useState(()=>{const w=r._getWatch(n,c.current);return d.current?d.current(w):w}),_=q.useCallback(w=>{const x=Z2(n,r._names,w||r._formValues,!1,c.current);return d.current?d.current(x):x},[r._formValues,r._names,n]),u=q.useCallback(w=>{if(!a){const x=Z2(n,r._names,w||r._formValues,!1,c.current);if(d.current){const S=d.current(x);Ia(S,f.current)||(b(S),f.current=S)}else b(x)}},[r._formValues,r._names,a,n]);JE(()=>((p.current!==r||!Ia(g.current,n))&&(p.current=r,g.current=n,u()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{u(w.values)}})),[r,o,n,u]),q.useEffect(()=>r._removeUnmounted());const h=p.current!==r,m=g.current,v=q.useMemo(()=>{if(a)return null;const w=!h&&!Ia(m,n);return h||w?_():null},[a,h,n,m,_]);return v!==null?v:y}function TAe(t){const e=ZE(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=t,c=wY(s._names.array,r),d=q.useMemo(()=>je(s._formValues,r,je(s._defaultValues,r,o)),[s,r,o]),f=AAe({control:s,name:r,defaultValue:d,exact:l}),p=CAe({control:s,name:r,exact:l}),g=q.useRef(t),y=q.useRef(void 0),b=q.useRef(s.register(r,{...t.rules,value:f,...ys(t.disabled)?{disabled:t.disabled}:{}}));g.current=t;const _=q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!je(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!je(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!je(p.validatingFields,r)},error:{enumerable:!0,get:()=>je(p.errors,r)}}),[p,r]),u=q.useCallback(w=>b.current.onChange({target:{value:bY(w),name:r},type:Vw.CHANGE}),[r]),h=q.useCallback(()=>b.current.onBlur({target:{value:je(s._formValues,r),name:r},type:Vw.BLUR}),[r,s._formValues]),m=q.useCallback(w=>{const x=je(s._fields,r);x&&w&&(x._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[s._fields,r]),v=q.useMemo(()=>({name:r,value:f,...ys(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:u,onBlur:h,ref:m}),[r,n,p.disabled,u,h,m,f]);return q.useEffect(()=>{const w=s._options.shouldUnregister||a,x=y.current;x&&x!==r&&!c&&s.unregister(x),s.register(r,{...g.current.rules,...ys(g.current.disabled)?{disabled:g.current.disabled}:{}});const S=(E,P)=>{const T=je(s._fields,E);T&&T._f&&(T._f.mount=P)};if(S(r,!0),w){const E=Dr(je(s._options.defaultValues,r,g.current.defaultValue));cr(s._defaultValues,r,E),Sr(je(s._formValues,r))&&cr(s._formValues,r,E)}return!c&&s.register(r),y.current=r,()=>{(c?w&&!s._state.action:w)?s.unregister(r):S(r,!1)}},[r,s,c,a]),q.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),q.useMemo(()=>({field:v,formState:p,fieldState:_}),[v,p,_])}const pJe=t=>t.render(TAe(t));var EY=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Zi=t=>Array.isArray(t)?t:[t],X$=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function SY(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a=e[n];if(s&&Cn(s)&&a){const o=SY(s,a);Cn(o)&&(r[n]=o)}else t[n]&&(r[n]=a)}return r}var hi=t=>Cn(t)&&!Object.keys(t).length,hF=t=>t.type==="file",Ba=t=>typeof t=="function",Gw=t=>{if(!cF)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},CY=t=>t.type==="select-multiple",pF=t=>t.type==="radio",PAe=t=>pF(t)||d_(t),tT=t=>Gw(t)&&t.isConnected;function DAe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Sr(t)?n++:t[e[n++]];return t}function RAe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Sr(t[e]))return!1;return!0}function cn(t,e){const r=Array.isArray(e)?e:YE(e)?[e]:dF(e),n=r.length===1?t:DAe(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Cn(n)&&hi(n)||Array.isArray(n)&&RAe(n))&&cn(t,r.slice(0,-1)),t}var OAe=t=>{for(const e in t)if(Ba(t[e]))return!0;return!1};function AY(t){return Array.isArray(t)||Cn(t)&&!OAe(t)}function Q2(t,e={}){for(const r in t){const n=t[r];AY(n)?(e[r]=Array.isArray(n)?[]:{},Q2(n,e[r])):Sr(n)||(e[r]=!0)}return e}function eh(t,e,r){r||(r=Q2(e));for(const n in t){const s=t[n];if(AY(s))Sr(e)||J2(r[n])?r[n]=Q2(s,Array.isArray(s)?[]:{}):eh(s,Wi(e)?{}:e[n],r[n]);else{const a=e[n];r[n]=!Ia(s,a)}}return r}const Y$={value:!1,isValid:!1},q$={value:!0,isValid:!0};var TY=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Sr(t[0].attributes.value)?Sr(t[0].value)||t[0].value===""?q$:{value:t[0].value,isValid:!0}:q$:Y$}return Y$},PY=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Sr(t)?t:e?t===""?NaN:t&&+t:r&&ws(t)?new Date(t):n?n(t):t;const Z$={isValid:!1,value:null};var DY=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Z$):Z$;function J$(t){const e=t.ref;return hF(e)?e.files:pF(e)?DY(t.refs).value:CY(e)?[...e.selectedOptions].map(({value:r})=>r):d_(e)?TY(t.refs).value:PY(Sr(e.value)?t.ref.value:e.value,t)}var IAe=(t,e,r,n)=>{const s={};for(const a of t){const o=je(e,a);o&&cr(s,a,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Hw=t=>t instanceof RegExp,km=t=>Sr(t)?t:Hw(t)?t.source:Cn(t)?Hw(t.value)?t.value.source:t.value:t,bh=t=>({isOnSubmit:!t||t===ea.onSubmit,isOnBlur:t===ea.onBlur,isOnChange:t===ea.onChange,isOnAll:t===ea.all,isOnTouch:t===ea.onTouched});const Q$="AsyncFunction";var BAe=t=>!!t&&!!t.validate&&!!(Ba(t.validate)&&t.validate.constructor.name===Q$||Cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Q$)),FAe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),eR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Vh=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=je(t,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Vh(l,e))break}else if(Cn(l)&&Vh(l,e))break}}};function e4(t,e,r){const n=je(t,r);if(n||YE(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=je(e,a),l=je(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:"".concat(a,".root"),error:l.root};s.pop()}return{name:r}}var MAe=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return hi(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||ea.all))},kAe=(t,e,r)=>!t||!e||t===e||Zi(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),NAe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,LAe=(t,e)=>!qE(je(t,e)).length&&cn(t,e),RY=(t,e,r)=>{const n=Zi(je(t,r));return cr(n,"root",e[r]),cr(t,r,n),t};function t4(t,e,r="validate"){if(ws(t)||Array.isArray(t)&&t.every(ws)||ys(t)&&!t)return{type:r,message:ws(t)?t:"",ref:e}}var Nf=t=>Cn(t)&&!Hw(t)?t:{value:t,message:""},tR=async(t,e,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:p,max:g,pattern:y,validate:b,name:_,valueAsNumber:u,mount:h}=t._f,m=je(r,_);if(!h||e.has(_))return{};const v=l?l[0]:o,w=D=>{s&&v.reportValidity&&(v.setCustomValidity(ys(D)?"":D||""),v.reportValidity())},x={},S=pF(o),E=d_(o),P=S||E,T=(u||hF(o))&&Sr(o.value)&&Sr(m)||Gw(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,A=EY.bind(null,_,n,x),R=(D,O,I,M=Xo.maxLength,G=Xo.minLength)=>{const j=D?O:I;x[_]={type:D?M:G,message:j,ref:o,...A(D?M:G,j)}};if(a?!Array.isArray(m)||!m.length:c&&(!P&&(T||Wi(m))||ys(m)&&!m||E&&!TY(l).isValid||S&&!DY(l).isValid)){const{value:D,message:O}=ws(c)?{value:!!c,message:c}:Nf(c);if(D&&(x[_]={type:Xo.required,message:O,ref:v,...A(Xo.required,O)},!n))return w(O),x}if(!T&&(!Wi(p)||!Wi(g))){let D,O;const I=Nf(g),M=Nf(p);if(!Wi(m)&&!isNaN(m)){const G=o.valueAsNumber||m&&+m;Wi(I.value)||(D=G>I.value),Wi(M.value)||(O=G<M.value)}else{const G=o.valueAsDate||new Date(m),j=K=>new Date(new Date().toDateString()+" "+K),$=o.type=="time",H=o.type=="week";ws(I.value)&&m&&(D=$?j(m)>j(I.value):H?m>I.value:G>new Date(I.value)),ws(M.value)&&m&&(O=$?j(m)<j(M.value):H?m<M.value:G<new Date(M.value))}if((D||O)&&(R(!!D,I.message,M.message,Xo.max,Xo.min),!n))return w(x[_].message),x}if((d||f)&&!T&&(ws(m)||a&&Array.isArray(m))){const D=Nf(d),O=Nf(f),I=!Wi(D.value)&&m.length>+D.value,M=!Wi(O.value)&&m.length<+O.value;if((I||M)&&(R(I,D.message,O.message),!n))return w(x[_].message),x}if(y&&!T&&ws(m)){const{value:D,message:O}=Nf(y);if(Hw(D)&&!m.match(D)&&(x[_]={type:Xo.pattern,message:O,ref:o,...A(Xo.pattern,O)},!n))return w(O),x}if(b){if(Ba(b)){const D=await b(m,r),O=t4(D,v);if(O&&(x[_]={...O,...A(Xo.validate,O.message)},!n))return w(O.message),x}else if(Cn(b)){let D={};for(const O in b){if(!hi(D)&&!n)break;const I=t4(await b[O](m,r),v,O);I&&(D={...I,...A(O,I.message)},w(I.message),n&&(x[_]=D))}if(!hi(D)&&(x[_]={ref:v,...D},!n))return x}}return w(!0),x};const UAe={mode:ea.onSubmit,reValidateMode:ea.onChange,shouldFocusError:!0};function $Ae(t={}){let e={...UAe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Cn(e.defaultValues)||Cn(e.values)?Dr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Dr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:X$(),state:X$()},y=e.criteriaMode===ea.all,b=X=>oe=>{clearTimeout(d),d=setTimeout(X,oe)},_=async X=>{if(!e.disabled&&(f.isValid||p.isValid||X)){const oe=e.resolver?hi((await E()).errors):await T(n,!0);oe!==r.isValid&&g.state.next({isValid:oe})}},u=(X,oe)=>{!e.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((X||Array.from(l.mount)).forEach(le=>{le&&(oe?cr(r.validatingFields,le,oe):cn(r.validatingFields,le))}),g.state.next({validatingFields:r.validatingFields,isValidating:!hi(r.validatingFields)}))},h=(X,oe=[],le,Ae,_e=!0,ce=!0)=>{if(Ae&&le&&!e.disabled){if(o.action=!0,ce&&Array.isArray(je(n,X))){const be=le(je(n,X),Ae.argA,Ae.argB);_e&&cr(n,X,be)}if(ce&&Array.isArray(je(r.errors,X))){const be=le(je(r.errors,X),Ae.argA,Ae.argB);_e&&cr(r.errors,X,be),LAe(r.errors,X)}if((f.touchedFields||p.touchedFields)&&ce&&Array.isArray(je(r.touchedFields,X))){const be=le(je(r.touchedFields,X),Ae.argA,Ae.argB);_e&&cr(r.touchedFields,X,be)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=eh(s,a)),g.state.next({name:X,isDirty:R(X,oe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else cr(a,X,oe)},m=(X,oe)=>{cr(r.errors,X,oe),g.state.next({errors:r.errors})},v=X=>{r.errors=X,g.state.next({errors:r.errors,isValid:!1})},w=(X,oe,le,Ae)=>{const _e=je(n,X);if(_e){const ce=je(a,X,Sr(le)?je(s,X):le);Sr(ce)||Ae&&Ae.defaultChecked||oe?cr(a,X,oe?ce:J$(_e._f)):I(X,ce),o.mount&&!o.action&&_()}},x=(X,oe,le,Ae,_e)=>{let ce=!1,be=!1;const Ye={name:X};if(!e.disabled){if(!le||Ae){(f.isDirty||p.isDirty)&&(be=r.isDirty,r.isDirty=Ye.isDirty=R(),ce=be!==Ye.isDirty);const Xe=Ia(je(s,X),oe);be=!!je(r.dirtyFields,X),Xe?cn(r.dirtyFields,X):cr(r.dirtyFields,X,!0),Ye.dirtyFields=r.dirtyFields,ce=ce||(f.dirtyFields||p.dirtyFields)&&be!==!Xe}if(le){const Xe=je(r.touchedFields,X);Xe||(cr(r.touchedFields,X,le),Ye.touchedFields=r.touchedFields,ce=ce||(f.touchedFields||p.touchedFields)&&Xe!==le)}ce&&_e&&g.state.next(Ye)}return ce?Ye:{}},S=(X,oe,le,Ae)=>{const _e=je(r.errors,X),ce=(f.isValid||p.isValid)&&ys(oe)&&r.isValid!==oe;if(e.delayError&&le?(c=b(()=>m(X,le)),c(e.delayError)):(clearTimeout(d),c=null,le?cr(r.errors,X,le):cn(r.errors,X)),(le?!Ia(_e,le):_e)||!hi(Ae)||ce){const be={...Ae,...ce&&ys(oe)?{isValid:oe}:{},errors:r.errors,name:X};r={...r,...be},g.state.next(be)}},E=async X=>{u(X,!0);const oe=await e.resolver(a,e.context,IAe(X||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return u(X),oe},P=async X=>{const{errors:oe}=await E(X);if(X)for(const le of X){const Ae=je(oe,le);Ae?cr(r.errors,le,Ae):cn(r.errors,le)}else r.errors=oe;return oe},T=async(X,oe,le={valid:!0})=>{for(const Ae in X){const _e=X[Ae];if(_e){const{_f:ce,...be}=_e;if(ce){const Ye=l.array.has(ce.name),Xe=_e._f&&BAe(_e._f);Xe&&f.validatingFields&&u([ce.name],!0);const Pe=await tR(_e,l.disabled,a,y,e.shouldUseNativeValidation&&!oe,Ye);if(Xe&&f.validatingFields&&u([ce.name]),Pe[ce.name]&&(le.valid=!1,oe))break;!oe&&(je(Pe,ce.name)?Ye?RY(r.errors,Pe,ce.name):cr(r.errors,ce.name,Pe[ce.name]):cn(r.errors,ce.name))}!hi(be)&&await T(be,oe,le)}}return le.valid},A=()=>{for(const X of l.unMount){const oe=je(n,X);oe&&(oe._f.refs?oe._f.refs.every(le=>!tT(le)):!tT(oe._f.ref))&&z(X)}l.unMount=new Set},R=(X,oe)=>!e.disabled&&(X&&oe&&cr(a,X,oe),!Ia(K(),s)),D=(X,oe,le)=>Z2(X,l,{...o.mount?a:Sr(oe)?s:ws(X)?{[X]:oe}:oe},le,oe),O=X=>qE(je(o.mount?a:s,X,e.shouldUnregister?je(s,X,[]):[])),I=(X,oe,le={})=>{const Ae=je(n,X);let _e=oe;if(Ae){const ce=Ae._f;ce&&(!ce.disabled&&cr(a,X,PY(oe,ce)),_e=Gw(ce.ref)&&Wi(oe)?"":oe,CY(ce.ref)?[...ce.ref.options].forEach(be=>be.selected=_e.includes(be.value)):ce.refs?d_(ce.ref)?ce.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(_e)?be.checked=!!_e.find(Ye=>Ye===be.value):be.checked=_e===be.value||!!_e)}):ce.refs.forEach(be=>be.checked=be.value===_e):hF(ce.ref)?ce.ref.value="":(ce.ref.value=_e,ce.ref.type||g.state.next({name:X,values:Dr(a)})))}(le.shouldDirty||le.shouldTouch)&&x(X,_e,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&H(X)},M=(X,oe,le)=>{for(const Ae in oe){if(!oe.hasOwnProperty(Ae))return;const _e=oe[Ae],ce=X+"."+Ae,be=je(n,ce);(l.array.has(X)||Cn(_e)||be&&!be._f)&&!cd(_e)?M(ce,_e,le):I(ce,_e,le)}},G=(X,oe,le={})=>{const Ae=je(n,X),_e=l.array.has(X),ce=Dr(oe);cr(a,X,ce),_e?(g.array.next({name:X,values:Dr(a)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&le.shouldDirty&&g.state.next({name:X,dirtyFields:eh(s,a),isDirty:R(X,ce)})):Ae&&!Ae._f&&!Wi(ce)?M(X,ce,le):I(X,ce,le),eR(X,l)&&g.state.next({...r,name:X}),g.state.next({name:o.mount?X:void 0,values:Dr(a)})},j=async X=>{o.mount=!0;const oe=X.target;let le=oe.name,Ae=!0;const _e=je(n,le),ce=Xe=>{Ae=Number.isNaN(Xe)||cd(Xe)&&isNaN(Xe.getTime())||Ia(Xe,je(a,le,Xe))},be=bh(e.mode),Ye=bh(e.reValidateMode);if(_e){let Xe,Pe;const L=oe.type?J$(_e._f):bY(X),B=X.type===Vw.BLUR||X.type===Vw.FOCUS_OUT,U=!FAe(_e._f)&&!e.resolver&&!je(r.errors,le)&&!_e._f.deps||NAe(B,je(r.touchedFields,le),r.isSubmitted,Ye,be),J=eR(le,l,B);cr(a,le,L),B?(!oe||!oe.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(X),c&&c(0)):_e._f.onChange&&_e._f.onChange(X);const ae=x(le,L,B),ke=!hi(ae)||J;if(!B&&g.state.next({name:le,type:X.type,values:Dr(a)}),U)return(f.isValid||p.isValid)&&(e.mode==="onBlur"?B&&_():B||_()),ke&&g.state.next({name:le,...J?{}:ae});if(!B&&J&&g.state.next({...r}),e.resolver){const{errors:Ne}=await E([le]);if(ce(L),Ae){const at=e4(r.errors,n,le),Ve=e4(Ne,n,at.name||le);Xe=Ve.error,le=Ve.name,Pe=hi(Ne)}}else u([le],!0),Xe=(await tR(_e,l.disabled,a,y,e.shouldUseNativeValidation))[le],u([le]),ce(L),Ae&&(Xe?Pe=!1:(f.isValid||p.isValid)&&(Pe=await T(n,!0)));Ae&&(_e._f.deps&&(!Array.isArray(_e._f.deps)||_e._f.deps.length>0)&&H(_e._f.deps),S(le,Pe,Xe,ae))}},$=(X,oe)=>{if(je(r.errors,oe)&&X.focus)return X.focus(),1},H=async(X,oe={})=>{let le,Ae;const _e=Zi(X);if(e.resolver){const ce=await P(Sr(X)?X:_e);le=hi(ce),Ae=X?!_e.some(be=>je(ce,be)):le}else X?(Ae=(await Promise.all(_e.map(async ce=>{const be=je(n,ce);return await T(be&&be._f?{[ce]:be}:be)}))).every(Boolean),!(!Ae&&!r.isValid)&&_()):Ae=le=await T(n);return g.state.next({...!ws(X)||(f.isValid||p.isValid)&&le!==r.isValid?{}:{name:X},...e.resolver||!X?{isValid:le}:{},errors:r.errors}),oe.shouldFocus&&!Ae&&Vh(n,$,X?_e:l.mount),Ae},K=(X,oe)=>{let le={...o.mount?a:s};return oe&&(le=SY(oe.dirtyFields?r.dirtyFields:r.touchedFields,le)),Sr(X)?le:ws(X)?je(le,X):X.map(Ae=>je(le,Ae))},re=(X,oe)=>({invalid:!!je((oe||r).errors,X),isDirty:!!je((oe||r).dirtyFields,X),error:je((oe||r).errors,X),isValidating:!!je(r.validatingFields,X),isTouched:!!je((oe||r).touchedFields,X)}),fe=X=>{X&&Zi(X).forEach(oe=>cn(r.errors,oe)),g.state.next({errors:X?r.errors:{}})},ye=(X,oe,le)=>{const Ae=(je(n,X,{_f:{}})._f||{}).ref,_e=je(r.errors,X)||{},{ref:ce,message:be,type:Ye,...Xe}=_e;cr(r.errors,X,{...Xe,...oe,ref:Ae}),g.state.next({name:X,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},he=(X,oe)=>Ba(X)?g.state.subscribe({next:le=>"values"in le&&X(D(void 0,oe),le)}):D(X,oe,!0),ue=X=>g.state.subscribe({next:oe=>{kAe(X.name,oe.name,X.exact)&&MAe(oe,X.formState||f,xt,X.reRenderRoot)&&X.callback({values:{...a},...r,...oe,defaultValues:s})}}).unsubscribe,Z=X=>(o.mount=!0,p={...p,...X.formState},ue({...X,formState:p})),z=(X,oe={})=>{for(const le of X?Zi(X):l.mount)l.mount.delete(le),l.array.delete(le),oe.keepValue||(cn(n,le),cn(a,le)),!oe.keepError&&cn(r.errors,le),!oe.keepDirty&&cn(r.dirtyFields,le),!oe.keepTouched&&cn(r.touchedFields,le),!oe.keepIsValidating&&cn(r.validatingFields,le),!e.shouldUnregister&&!oe.keepDefaultValue&&cn(s,le);g.state.next({values:Dr(a)}),g.state.next({...r,...oe.keepDirty?{isDirty:R()}:{}}),!oe.keepIsValid&&_()},V=({disabled:X,name:oe})=>{(ys(X)&&o.mount||X||l.disabled.has(oe))&&(X?l.disabled.add(oe):l.disabled.delete(oe))},Y=(X,oe={})=>{let le=je(n,X);const Ae=ys(oe.disabled)||ys(e.disabled);return cr(n,X,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:X}},name:X,mount:!0,...oe}}),l.mount.add(X),le?V({disabled:ys(oe.disabled)?oe.disabled:e.disabled,name:X}):w(X,!0,oe.value),{...Ae?{disabled:oe.disabled||e.disabled}:{},...e.progressive?{required:!!oe.required,min:km(oe.min),max:km(oe.max),minLength:km(oe.minLength),maxLength:km(oe.maxLength),pattern:km(oe.pattern)}:{},name:X,onChange:j,onBlur:j,ref:_e=>{if(_e){Y(X,oe),le=je(n,X);const ce=Sr(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,be=PAe(ce),Ye=le._f.refs||[];if(be?Ye.find(Xe=>Xe===ce):ce===le._f.ref)return;cr(n,X,{_f:{...le._f,...be?{refs:[...Ye.filter(tT),ce,...Array.isArray(je(s,X))?[{}]:[]],ref:{type:ce.type,name:X}}:{ref:ce}}}),w(X,!1,void 0,ce)}else le=je(n,X,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||oe.shouldUnregister)&&!(wY(l.array,X)&&o.action)&&l.unMount.add(X)}}},ne=()=>e.shouldFocusError&&Vh(n,$,l.mount),ie=X=>{ys(X)&&(g.state.next({disabled:X}),Vh(n,(oe,le)=>{const Ae=je(n,le);Ae&&(oe.disabled=Ae._f.disabled||X,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(_e=>{_e.disabled=Ae._f.disabled||X}))},0,!1))},me=(X,oe)=>async le=>{let Ae;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let _e=Dr(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:be}=await E();r.errors=ce,_e=Dr(be)}else await T(n);if(l.disabled.size)for(const ce of l.disabled)cn(_e,ce);if(cn(r.errors,"root"),hi(r.errors)){g.state.next({errors:{}});try{await X(_e,le)}catch(ce){Ae=ce}}else oe&&await oe({...r.errors},le),ne(),setTimeout(ne);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hi(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},xe=(X,oe={})=>{je(n,X)&&(Sr(oe.defaultValue)?G(X,Dr(je(s,X))):(G(X,oe.defaultValue),cr(s,X,Dr(oe.defaultValue))),oe.keepTouched||cn(r.touchedFields,X),oe.keepDirty||(cn(r.dirtyFields,X),r.isDirty=oe.defaultValue?R(X,Dr(je(s,X))):R()),oe.keepError||(cn(r.errors,X),f.isValid&&_()),g.state.next({...r}))},we=(X,oe={})=>{const le=X?Dr(X):s,Ae=Dr(le),_e=hi(X),ce=_e?s:Ae;if(oe.keepDefaultValues||(s=le),!oe.keepValues){if(oe.keepDirtyValues){const be=new Set([...l.mount,...Object.keys(eh(s,a))]);for(const Ye of Array.from(be))je(r.dirtyFields,Ye)?cr(ce,Ye,je(a,Ye)):G(Ye,je(ce,Ye))}else{if(cF&&Sr(X))for(const be of l.mount){const Ye=je(n,be);if(Ye&&Ye._f){const Xe=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(Gw(Xe)){const Pe=Xe.closest("form");if(Pe){Pe.reset();break}}}}if(oe.keepFieldsRef)for(const be of l.mount)G(be,je(ce,be));else n={}}a=e.shouldUnregister?oe.keepDefaultValues?Dr(s):{}:Dr(ce),g.array.next({values:{...ce}}),g.state.next({values:{...ce}})}l={mount:oe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues||!e.shouldUnregister&&!hi(ce),o.watch=!!e.shouldUnregister,o.action=!1,oe.keepErrors||(r.errors={}),g.state.next({submitCount:oe.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:oe.keepDirty?r.isDirty:!!(oe.keepDefaultValues&&!Ia(X,s)),isSubmitted:oe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:oe.keepDirtyValues?oe.keepDefaultValues&&a?eh(s,a):r.dirtyFields:oe.keepDefaultValues&&X?eh(s,X):oe.keepDirty?r.dirtyFields:{},touchedFields:oe.keepTouched?r.touchedFields:{},errors:oe.keepErrors?r.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ee=(X,oe)=>we(Ba(X)?X(a):X,oe),tt=(X,oe={})=>{const le=je(n,X),Ae=le&&le._f;if(Ae){const _e=Ae.refs?Ae.refs[0]:Ae.ref;_e.focus&&(_e.focus(),oe.shouldSelect&&Ba(_e.select)&&_e.select())}},xt=X=>{r={...r,...X}},Gt={control:{register:Y,unregister:z,getFieldState:re,handleSubmit:me,setError:ye,_subscribe:ue,_runSchema:E,_focusError:ne,_getWatch:D,_getDirty:R,_setValid:_,_setFieldArray:h,_setDisabledField:V,_setErrors:v,_getFieldArray:O,_reset:we,_resetDefaultValues:()=>Ba(e.defaultValues)&&e.defaultValues().then(X=>{Ee(X,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ie,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(X){o=X},get _defaultValues(){return s},get _names(){return l},set _names(X){l=X},get _formState(){return r},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:Z,trigger:H,register:Y,handleSubmit:me,watch:he,setValue:G,getValues:K,reset:Ee,resetField:xe,clearErrors:fe,unregister:z,setError:ye,setFocus:tt,getFieldState:re};return{...Gt,formControl:Gt}}var eu=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},rT=(t,e,r={})=>r.shouldFocus||Sr(r.shouldFocus)?r.focusName||"".concat(t,".").concat(Sr(r.focusIndex)?e:r.focusIndex,"."):"",nT=(t,e)=>[...t,...Zi(e)],iT=t=>Array.isArray(t)?t.map(()=>{}):void 0;function sT(t,e,r){return[...t.slice(0,e),...Zi(r),...t.slice(e)]}var aT=(t,e,r)=>Array.isArray(t)?(Sr(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],oT=(t,e)=>[...Zi(e),...Zi(t)];function jAe(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return qE(n).length?n:[]}var lT=(t,e)=>Sr(e)?[]:jAe(t,Zi(e).sort((r,n)=>r-n)),uT=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},r4=(t,e,r)=>(t[e]=r,t);function mJe(t){const e=ZE(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:a,rules:o}=t,[l,c]=q.useState(r._getFieldArray(n)),d=q.useRef(r._getFieldArray(n).map(eu)),f=q.useRef(!1);r._names.array.add(n),q.useMemo(()=>o&&l.length>=0&&r.register(n,o),[r,n,l.length,o]),JE(()=>r._subjects.array.subscribe({next:({values:w,name:x})=>{if(x===n||!x){const S=je(w,n);Array.isArray(S)&&(c(S),d.current=S.map(eu))}}}).unsubscribe,[r,n]);const p=q.useCallback(w=>{f.current=!0,r._setFieldArray(n,w)},[r,n]),g=(w,x)=>{const S=Zi(Dr(w)),E=nT(r._getFieldArray(n),S);r._names.focus=rT(n,E.length-1,x),d.current=nT(d.current,S.map(eu)),p(E),c(E),r._setFieldArray(n,E,nT,{argA:iT(w)})},y=(w,x)=>{const S=Zi(Dr(w)),E=oT(r._getFieldArray(n),S);r._names.focus=rT(n,0,x),d.current=oT(d.current,S.map(eu)),p(E),c(E),r._setFieldArray(n,E,oT,{argA:iT(w)})},b=w=>{const x=lT(r._getFieldArray(n),w);d.current=lT(d.current,w),p(x),c(x),!Array.isArray(je(r._fields,n))&&cr(r._fields,n,void 0),r._setFieldArray(n,x,lT,{argA:w})},_=(w,x,S)=>{const E=Zi(Dr(x)),P=sT(r._getFieldArray(n),w,E);r._names.focus=rT(n,w,S),d.current=sT(d.current,w,E.map(eu)),p(P),c(P),r._setFieldArray(n,P,sT,{argA:w,argB:iT(x)})},u=(w,x)=>{const S=r._getFieldArray(n);uT(S,w,x),uT(d.current,w,x),p(S),c(S),r._setFieldArray(n,S,uT,{argA:w,argB:x},!1)},h=(w,x)=>{const S=r._getFieldArray(n);aT(S,w,x),aT(d.current,w,x),p(S),c(S),r._setFieldArray(n,S,aT,{argA:w,argB:x},!1)},m=(w,x)=>{const S=Dr(x),E=r4(r._getFieldArray(n),w,S);d.current=[...E].map((P,T)=>!P||T===w?eu():d.current[T]),p(E),c([...E]),r._setFieldArray(n,E,r4,{argA:w,argB:S},!0,!1)},v=w=>{const x=Zi(Dr(w));d.current=x.map(eu),p([...x]),c([...x]),r._setFieldArray(n,[...x],S=>S,{},!0,!1)};return q.useEffect(()=>{if(r._state.action=!1,eR(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!bh(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!bh(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(w=>{const x=je(w.errors,n),S=je(r._formState.errors,n);(S?!x&&S.type||x&&(S.type!==x.type||S.message!==x.message):x&&x.type)&&(x?cr(r._formState.errors,n,x):cn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const w=je(r._fields,n);w&&w._f&&!(bh(r._options.reValidateMode).isOnSubmit&&bh(r._options.mode).isOnSubmit)&&tR(w,r._names.disabled,r._formValues,r._options.criteriaMode===ea.all,r._options.shouldUseNativeValidation,!0).then(x=>!hi(x)&&r._subjects.state.next({errors:RY(r._formState.errors,x,n)}))}r._subjects.state.next({name:n,values:Dr(r._formValues)}),r._names.focus&&Vh(r._fields,(w,x)=>{if(r._names.focus&&x.startsWith(r._names.focus)&&w.focus)return w.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[l,n,r]),q.useEffect(()=>(!je(r._formValues,n)&&r._setFieldArray(n),()=>{const w=(x,S)=>{const E=je(r._fields,x);E&&E._f&&(E._f.mount=S)};r._options.shouldUnregister||a?r.unregister(n):w(n,!1)}),[n,r,s,a]),{swap:q.useCallback(u,[p,n,r]),move:q.useCallback(h,[p,n,r]),prepend:q.useCallback(y,[p,n,r]),append:q.useCallback(g,[p,n,r]),remove:q.useCallback(b,[p,n,r]),insert:q.useCallback(_,[p,n,r]),update:q.useCallback(m,[p,n,r]),replace:q.useCallback(v,[p,n,r]),fields:q.useMemo(()=>l.map((w,x)=>({...w,[s]:d.current[x]||eu()})),[l,s])}}function gJe(t={}){const e=q.useRef(void 0),r=q.useRef(void 0),[n,s]=q.useState({isDirty:!1,isValidating:!1,isLoading:Ba(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ba(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ba(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=$Ae(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,JE(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),q.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),q.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),q.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),q.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),q.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),q.useEffect(()=>{var o;t.values&&!Ia(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),r.current=t.values,s(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),q.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=xY(n,a),e.current}const n4=(t,e,r)=>{if(t&&"reportValidity"in t){const n=je(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},OY=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?n4(n.ref,r,t):n.refs&&n.refs.forEach(s=>n4(s,r,t))}},zAe=(t,e)=>{e.shouldUseNativeValidation&&OY(t,e);const r={};for(const n in t){const s=je(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(VAe(e.names||Object.keys(t),n)){const o=Object.assign({},je(r,n));cr(o,"root",a),cr(r,n,o)}else cr(r,n,a)}return r},VAe=(t,e)=>t.some(r=>r.startsWith(e+"."));var GAe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),e){var c=r[o].types,d=c&&c[n.code];r[o]=EY(o,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},vJe=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&OY({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:zAe(GAe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ir;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?"'".concat(o,"'"):o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ir||(ir={}));var i4;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(i4||(i4={}));const lt=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pu=t=>{switch(typeof t){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return Number.isNaN(t)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(t)?lt.array:t===null?lt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?lt.promise:typeof Map<"u"&&t instanceof Map?lt.map:typeof Set<"u"&&t instanceof Set?lt.set:typeof Date<"u"&&t instanceof Date?lt.date:lt.object;default:return lt.unknown}},Fe=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof Fl))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fl.create=t=>new Fl(t);const HAe=(t,e)=>{let r;switch(t.code){case Fe.invalid_type:t.received===lt.undefined?r="Required":r="Expected ".concat(t.expected,", received ").concat(t.received);break;case Fe.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(t.expected,ir.jsonStringifyReplacer));break;case Fe.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(ir.joinValues(t.keys,", "));break;case Fe.invalid_union:r="Invalid input";break;case Fe.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(ir.joinValues(t.options));break;case Fe.invalid_enum_value:r="Invalid enum value. Expected ".concat(ir.joinValues(t.options),", received '").concat(t.received,"'");break;case Fe.invalid_arguments:r="Invalid function arguments";break;case Fe.invalid_return_type:r="Invalid function return type";break;case Fe.invalid_date:r="Invalid date";break;case Fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r='Invalid input: must include "'.concat(t.validation.includes,'"'),typeof t.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(t.validation.position))):"startsWith"in t.validation?r='Invalid input: must start with "'.concat(t.validation.startsWith,'"'):"endsWith"in t.validation?r='Invalid input: must end with "'.concat(t.validation.endsWith,'"'):ir.assertNever(t.validation):t.validation!=="regex"?r="Invalid ".concat(t.validation):r="Invalid";break;case Fe.too_small:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"more than"," ").concat(t.minimum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"over"," ").concat(t.minimum," character(s)"):t.type==="number"||t.type==="bigint"?r="Number must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(t.minimum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(t.minimum))):r="Invalid input";break;case Fe.too_big:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"less than"," ").concat(t.maximum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"under"," ").concat(t.maximum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="bigint"?r="BigInt must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(t.maximum))):r="Invalid input";break;case Fe.custom:r="Invalid input";break;case Fe.invalid_intersection_types:r="Intersection results could not be merged";break;case Fe.not_multiple_of:r="Number must be a multiple of ".concat(t.multipleOf);break;case Fe.not_finite:r="Number must be finite";break;default:r=e.defaultError,ir.assertNever(t)}return{message:r}},rR=HAe;let WAe=rR;function KAe(){return WAe}const XAe=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function qe(t,e){const r=KAe(),n=XAe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===rR?void 0:rR].filter(s=>!!s)});t.common.issues.push(n)}class Fs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Dt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Fs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Dt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Dt=Object.freeze({status:"aborted"}),cg=t=>({status:"dirty",value:t}),va=t=>({status:"valid",value:t}),s4=t=>t.status==="aborted",a4=t=>t.status==="dirty",wp=t=>t.status==="valid",Ww=t=>typeof Promise<"u"&&t instanceof Promise;var ft;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ft||(ft={}));class cc{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o4=(t,e)=>{if(wp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fl(t.common.issues);return this._error=r,this._error}}};function Vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var d,f;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c!=null?c:l.defaultError}:typeof l.data>"u"?{message:(d=c!=null?c:n)!=null?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(f=c!=null?c:r)!=null?f:l.defaultError}},description:s}}class nr{get description(){return this._def.description}_getType(e){return pu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:pu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fs,ctx:{common:e.parent.common,data:e.data,parsedType:pu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ww(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var a;const n={common:{issues:[],async:(a=r==null?void 0:r.async)!=null?a:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)},s=this._parseSync({data:e,path:n.path,parent:n});return o4(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return wp(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>wp(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Ww(s)?s:Promise.resolve(s));return o4(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:Fe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ml({schema:this,typeName:It.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bl.create(this,this._def)}nullable(){return qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Do.create(this)}promise(){return tx.create(this,this._def)}or(e){return qw.create([this,e],this._def)}and(e){return Zw.create(this,e,this._def)}transform(e){return new Ml({...Vt(this._def),schema:this,typeName:It.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new rx({...Vt(this._def),innerType:this,defaultValue:r,typeName:It.ZodDefault})}brand(){return new MY({typeName:It.ZodBranded,type:this,...Vt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new nx({...Vt(this._def),innerType:this,catchValue:r,typeName:It.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return gF.create(this,e)}readonly(){return ix.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YAe=/^c[^\s-]{8,}$/i,qAe=/^[0-9a-z]+$/,ZAe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JAe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,QAe=/^[a-z0-9_-]{21}$/i,eTe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tTe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rTe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nTe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cT;const iTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lTe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uTe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,IY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cTe=new RegExp("^".concat(IY,"$"));function BY(t){let e="[0-5]\\d";t.precision?e="".concat(e,"\\.\\d{").concat(t.precision,"}"):t.precision==null&&(e="".concat(e,"(\\.\\d+)?"));const r=t.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(e,")").concat(r)}function dTe(t){return new RegExp("^".concat(BY(t),"$"))}function fTe(t){let e="".concat(IY,"T").concat(BY(t));const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e="".concat(e,"(").concat(r.join("|"),")"),new RegExp("^".concat(e,"$"))}function hTe(t,e){return!!((e==="v4"||!e)&&iTe.test(t)||(e==="v6"||!e)&&aTe.test(t))}function pTe(t,e){if(!eTe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch(r){return!1}}function mTe(t,e){return!!((e==="v4"||!e)&&sTe.test(t)||(e==="v6"||!e)&&oTe.test(t))}class Ru extends nr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==lt.string){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_type,expected:lt.string,received:a.parsedType}),Dt}const n=new Fs;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?qe(s,{code:Fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&qe(s,{code:Fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")rTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"email",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")cT||(cT=new RegExp(nTe,"u")),cT.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"emoji",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")JAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"uuid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")QAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"nanoid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")YAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"cuid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")qAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"cuid2",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")ZAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"ulid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){s=this._getOrReturnCtx(e,s),qe(s,{validation:"url",code:Fe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"regex",code:Fe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?fTe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?cTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?dTe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?tTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"duration",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?hTe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"ip",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?pTe(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"jwt",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?mTe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"cidr",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?lTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"base64",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?uTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"base64url",code:Fe.invalid_string,message:a.message}),n.dirty()):ir.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Fe.invalid_string,...ft.errToObj(n)})}_addCheck(e){return new Ru({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ft.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ft.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ft.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ft.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ft.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ft.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ft.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ft.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ft.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ft.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ft.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ft.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ft.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!=null?r:!1,local:(n=e==null?void 0:e.local)!=null?n:!1,...ft.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ft.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ft.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ft.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ft.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ft.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ft.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ft.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ft.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ft.errToObj(r)})}nonempty(e){return this.min(1,ft.errToObj(e))}trim(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ru.create=t=>{var e;return new Ru({checks:[],typeName:It.ZodString,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1,...Vt(t)})};function gTe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}class xp extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==lt.number){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_type,expected:lt.number,received:a.parsedType}),Dt}let n;const s=new Fs;for(const a of this._def.checks)a.kind==="int"?ir.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?gTe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.not_finite,message:a.message}),s.dirty()):ir.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ft.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ft.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ft.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ft.toString(r))}setLimit(e,r,n,s){return new xp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ft.toString(s)}]})}_addCheck(e){return new xp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ft.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ft.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ir.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}xp.create=t=>new xp({checks:[],typeName:It.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Vt(t)});class ly extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==lt.bigint)return this._getInvalidInput(e);let n;const s=new Fs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ir.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return qe(r,{code:Fe.invalid_type,expected:lt.bigint,received:r.parsedType}),Dt}gte(e,r){return this.setLimit("min",e,!0,ft.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ft.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ft.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ft.toString(r))}setLimit(e,r,n,s){return new ly({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ft.toString(s)}]})}_addCheck(e){return new ly({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ly.create=t=>{var e;return new ly({checks:[],typeName:It.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1,...Vt(t)})};class nR extends nr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==lt.boolean){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.boolean,received:n.parsedType}),Dt}return va(e.data)}}nR.create=t=>new nR({typeName:It.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Vt(t)});class Kw extends nr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==lt.date){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_type,expected:lt.date,received:a.parsedType}),Dt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_date}),Dt}const n=new Fs;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ir.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kw({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ft.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ft.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Kw.create=t=>new Kw({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:It.ZodDate,...Vt(t)});class l4 extends nr{_parse(e){if(this._getType(e)!==lt.symbol){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.symbol,received:n.parsedType}),Dt}return va(e.data)}}l4.create=t=>new l4({typeName:It.ZodSymbol,...Vt(t)});class Xw extends nr{_parse(e){if(this._getType(e)!==lt.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.undefined,received:n.parsedType}),Dt}return va(e.data)}}Xw.create=t=>new Xw({typeName:It.ZodUndefined,...Vt(t)});class Yw extends nr{_parse(e){if(this._getType(e)!==lt.null){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.null,received:n.parsedType}),Dt}return va(e.data)}}Yw.create=t=>new Yw({typeName:It.ZodNull,...Vt(t)});class uy extends nr{constructor(){super(...arguments),this._any=!0}_parse(e){return va(e.data)}}uy.create=t=>new uy({typeName:It.ZodAny,...Vt(t)});class u4 extends nr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return va(e.data)}}u4.create=t=>new u4({typeName:It.ZodUnknown,...Vt(t)});class dc extends nr{_parse(e){const r=this._getOrReturnCtx(e);return qe(r,{code:Fe.invalid_type,expected:lt.never,received:r.parsedType}),Dt}}dc.create=t=>new dc({typeName:It.ZodNever,...Vt(t)});class c4 extends nr{_parse(e){if(this._getType(e)!==lt.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.void,received:n.parsedType}),Dt}return va(e.data)}}c4.create=t=>new c4({typeName:It.ZodVoid,...Vt(t)});class Do extends nr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==lt.array)return qe(r,{code:Fe.invalid_type,expected:lt.array,received:r.parsedType}),Dt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(qe(r,{code:o?Fe.too_big:Fe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(qe(r,{code:Fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(qe(r,{code:Fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new cc(r,o,r.path,l)))).then(o=>Fs.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new cc(r,o,r.path,l)));return Fs.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Do({...this._def,minLength:{value:e,message:ft.toString(r)}})}max(e,r){return new Do({...this._def,maxLength:{value:e,message:ft.toString(r)}})}length(e,r){return new Do({...this._def,exactLength:{value:e,message:ft.toString(r)}})}nonempty(e){return this.min(1,e)}}Do.create=(t,e)=>new Do({type:t,minLength:null,maxLength:null,exactLength:null,typeName:It.ZodArray,...Vt(e)});function th(t){if(t instanceof an){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=bl.create(th(n))}return new an({...t._def,shape:()=>e})}else return t instanceof Do?new Do({...t._def,type:th(t.element)}):t instanceof bl?bl.create(th(t.unwrap())):t instanceof qd?qd.create(th(t.unwrap())):t instanceof Xd?Xd.create(t.items.map(e=>th(e))):t}class an extends nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ir.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==lt.object){const d=this._getOrReturnCtx(e);return qe(d,{code:Fe.invalid_type,expected:lt.object,received:d.parsedType}),Dt}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof dc&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],p=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new cc(s,p,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof dc){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(qe(s,{code:Fe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const p=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new cc(s,p,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const p=await f.key,g=await f.value;d.push({key:p,value:g,alwaysSet:f.alwaysSet})}return d}).then(d=>Fs.mergeObjectSync(n,d)):Fs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ft.errToObj,new an({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o,l,c;const s=(l=(o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)!=null?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=ft.errToObj(e).message)!=null?c:s}:{message:s}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:It.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const r={};for(const n of ir.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ir.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}deepPartial(){return th(this)}partial(e){const r={};for(const n of ir.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new an({...this._def,shape:()=>r})}required(e){const r={};for(const n of ir.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof bl;)a=a._def.innerType;r[n]=a}return new an({...this._def,shape:()=>r})}keyof(){return FY(ir.objectKeys(this.shape))}}an.create=(t,e)=>new an({shape:()=>t,unknownKeys:"strip",catchall:dc.create(),typeName:It.ZodObject,...Vt(e)});an.strictCreate=(t,e)=>new an({shape:()=>t,unknownKeys:"strict",catchall:dc.create(),typeName:It.ZodObject,...Vt(e)});an.lazycreate=(t,e)=>new an({shape:t,unknownKeys:"strip",catchall:dc.create(),typeName:It.ZodObject,...Vt(e)});class qw extends nr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Fl(l.ctx.common.issues));return qe(r,{code:Fe.invalid_union,unionErrors:o}),Dt}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Fl(c));return qe(r,{code:Fe.invalid_union,unionErrors:l}),Dt}}get options(){return this._def.options}}qw.create=(t,e)=>new qw({options:t,typeName:It.ZodUnion,...Vt(e)});const Zo=t=>t instanceof Jw?Zo(t.schema):t instanceof Ml?Zo(t.innerType()):t instanceof Qw?[t.value]:t instanceof Yd?t.options:t instanceof ex?ir.objectValues(t.enum):t instanceof rx?Zo(t._def.innerType):t instanceof Xw?[void 0]:t instanceof Yw?[null]:t instanceof bl?[void 0,...Zo(t.unwrap())]:t instanceof qd?[null,...Zo(t.unwrap())]:t instanceof MY||t instanceof ix?Zo(t.unwrap()):t instanceof nx?Zo(t._def.innerType):[];class mF extends nr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.object)return qe(r,{code:Fe.invalid_type,expected:lt.object,received:r.parsedType}),Dt;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(qe(r,{code:Fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Dt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const o=Zo(a.shape[e]);if(!o.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const l of o){if(s.has(l))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(l)));s.set(l,a)}}return new mF({typeName:It.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Vt(n)})}}function iR(t,e){const r=pu(t),n=pu(e);if(t===e)return{valid:!0,data:t};if(r===lt.object&&n===lt.object){const s=ir.objectKeys(e),a=ir.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=iR(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===lt.array&&n===lt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=iR(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===lt.date&&n===lt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zw extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(s4(a)||s4(o))return Dt;const l=iR(a.value,o.value);return l.valid?((a4(a)||a4(o))&&r.dirty(),{status:r.value,value:l.data}):(qe(n,{code:Fe.invalid_intersection_types}),Dt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zw.create=(t,e,r)=>new Zw({left:t,right:e,typeName:It.ZodIntersection,...Vt(r)});class Xd extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.array)return qe(n,{code:Fe.invalid_type,expected:lt.array,received:n.parsedType}),Dt;if(n.data.length<this._def.items.length)return qe(n,{code:Fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dt;!this._def.rest&&n.data.length>this._def.items.length&&(qe(n,{code:Fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new cc(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Fs.mergeArray(r,o)):Fs.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Xd({...this._def,rest:e})}}Xd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xd({items:t,typeName:It.ZodTuple,rest:null,...Vt(e)})};class d4 extends nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.map)return qe(n,{code:Fe.invalid_type,expected:lt.map,received:n.parsedType}),Dt;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new cc(n,l,n.path,[d,"key"])),value:a._parse(new cc(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Dt;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Dt;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}}}}d4.create=(t,e,r)=>new d4({valueType:e,keyType:t,typeName:It.ZodMap,...Vt(r)});class cy extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.set)return qe(n,{code:Fe.invalid_type,expected:lt.set,received:n.parsedType}),Dt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(qe(n,{code:Fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(qe(n,{code:Fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Dt;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new cc(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new cy({...this._def,minSize:{value:e,message:ft.toString(r)}})}max(e,r){return new cy({...this._def,maxSize:{value:e,message:ft.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}cy.create=(t,e)=>new cy({valueType:t,minSize:null,maxSize:null,typeName:It.ZodSet,...Vt(e)});class Jw extends nr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Jw.create=(t,e)=>new Jw({getter:t,typeName:It.ZodLazy,...Vt(e)});class Qw extends nr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return qe(r,{received:r.data,code:Fe.invalid_literal,expected:this._def.value}),Dt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Qw.create=(t,e)=>new Qw({value:t,typeName:It.ZodLiteral,...Vt(e)});function FY(t,e){return new Yd({values:t,typeName:It.ZodEnum,...Vt(e)})}class Yd extends nr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{expected:ir.joinValues(n),received:r.parsedType,code:Fe.invalid_type}),Dt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{received:r.data,code:Fe.invalid_enum_value,options:n}),Dt}return va(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Yd.create(e,{...this._def,...r})}exclude(e,r=this._def){return Yd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Yd.create=FY;class ex extends nr{_parse(e){const r=ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==lt.string&&n.parsedType!==lt.number){const s=ir.objectValues(r);return qe(n,{expected:ir.joinValues(s),received:n.parsedType,code:Fe.invalid_type}),Dt}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ir.objectValues(r);return qe(n,{received:n.data,code:Fe.invalid_enum_value,options:s}),Dt}return va(e.data)}get enum(){return this._def.values}}ex.create=(t,e)=>new ex({values:t,typeName:It.ZodNativeEnum,...Vt(e)});class tx extends nr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.promise&&r.common.async===!1)return qe(r,{code:Fe.invalid_type,expected:lt.promise,received:r.parsedType}),Dt;const n=r.parsedType===lt.promise?r.data:Promise.resolve(r.data);return va(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tx.create=(t,e)=>new tx({type:t,typeName:It.ZodPromise,...Vt(e)});class Ml extends nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===It.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{qe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Dt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Dt:c.status==="dirty"||r.value==="dirty"?cg(c.value):c});{if(r.value==="aborted")return Dt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Dt:l.status==="dirty"||r.value==="dirty"?cg(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wp(o))return Dt;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wp(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Dt);ir.assertNever(s)}}Ml.create=(t,e,r)=>new Ml({schema:t,typeName:It.ZodEffects,effect:e,...Vt(r)});Ml.createWithPreprocess=(t,e,r)=>new Ml({schema:e,effect:{type:"preprocess",transform:t},typeName:It.ZodEffects,...Vt(r)});class bl extends nr{_parse(e){return this._getType(e)===lt.undefined?va(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bl.create=(t,e)=>new bl({innerType:t,typeName:It.ZodOptional,...Vt(e)});class qd extends nr{_parse(e){return this._getType(e)===lt.null?va(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qd.create=(t,e)=>new qd({innerType:t,typeName:It.ZodNullable,...Vt(e)});class rx extends nr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}rx.create=(t,e)=>new rx({innerType:t,typeName:It.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Vt(e)});class nx extends nr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ww(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}nx.create=(t,e)=>new nx({innerType:t,typeName:It.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Vt(e)});class f4 extends nr{_parse(e){if(this._getType(e)!==lt.nan){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.nan,received:n.parsedType}),Dt}return{status:"valid",value:e.data}}}f4.create=t=>new f4({typeName:It.ZodNaN,...Vt(t)});class MY extends nr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class gF extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Dt:a.status==="dirty"?(r.dirty(),cg(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Dt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new gF({in:e,out:r,typeName:It.ZodPipeline})}}class ix extends nr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(wp(s)&&(s.value=Object.freeze(s.value)),s);return Ww(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ix.create=(t,e)=>new ix({innerType:t,typeName:It.ZodReadonly,...Vt(e)});function h4(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function vTe(t,e={},r){return t?uy.create().superRefine((n,s)=>{var o,l;const a=t(n);if(a instanceof Promise)return a.then(c=>{var d,f;if(!c){const p=h4(e,n),g=(f=(d=p.fatal)!=null?d:r)!=null?f:!0;s.addIssue({code:"custom",...p,fatal:g})}});if(!a){const c=h4(e,n),d=(l=(o=c.fatal)!=null?o:r)!=null?l:!0;s.addIssue({code:"custom",...c,fatal:d})}}):uy.create()}an.lazycreate;var It;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(It||(It={}));const yJe=(t,e={message:"Input not instance of ".concat(t.name)})=>vTe(r=>r instanceof t,e),_Je=Ru.create,bJe=xp.create,wJe=nR.create;Xw.create;Yw.create;uy.create;dc.create;const xJe=Do.create,EJe=an.create;an.strictCreate;qw.create;const SJe=mF.create;Zw.create;Xd.create;Jw.create;const CJe=Qw.create;Yd.create;ex.create;tx.create;Ml.create;bl.create;qd.create;Ml.createWithPreprocess;var QE="Dialog",[kY,NY]=Qn(QE),[yTe,qa]=kY(QE),LY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=C.useRef(null),c=C.useRef(null),[d,f]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:a,caller:QE});return k.jsx(yTe,{scope:e,triggerRef:l,contentRef:c,contentId:ai(),titleId:ai(),descriptionId:ai(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};LY.displayName=QE;var UY="DialogTrigger",$Y=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(UY,r),a=Et(e,s.triggerRef);return k.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_F(s.open),...n,ref:a,onClick:Ce(t.onClick,s.onOpenToggle)})});$Y.displayName=UY;var vF="DialogPortal",[_Te,jY]=kY(vF,{forceMount:void 0}),zY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=qa(vF,e);return k.jsx(_Te,{scope:e,forceMount:r,children:C.Children.map(n,o=>k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:o})}))})};zY.displayName=vF;var sx="DialogOverlay",VY=C.forwardRef((t,e)=>{const r=jY(sx,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=qa(sx,t.__scopeDialog);return a.modal?k.jsx(Jn,{present:n||a.open,children:k.jsx(wTe,{...s,ref:e})}):null});VY.displayName=sx;var bTe=Gd("DialogOverlay.RemoveScroll"),wTe=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(sx,r);return k.jsx(VE,{as:bTe,allowPinchZoom:!0,shards:[s.contentRef],children:k.jsx(rt.div,{"data-state":_F(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Zd="DialogContent",GY=C.forwardRef((t,e)=>{const r=jY(Zd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=qa(Zd,t.__scopeDialog);return k.jsx(Jn,{present:n||a.open,children:a.modal?k.jsx(xTe,{...s,ref:e}):k.jsx(ETe,{...s,ref:e})})});GY.displayName=Zd;var xTe=C.forwardRef((t,e)=>{const r=qa(Zd,t.__scopeDialog),n=C.useRef(null),s=Et(e,r.contentRef,n);return C.useEffect(()=>{const a=n.current;if(a)return jE(a)},[]),k.jsx(HY,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault())})}),ETe=C.forwardRef((t,e)=>{const r=qa(Zd,t.__scopeDialog),n=C.useRef(!1),s=C.useRef(!1);return k.jsx(HY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),HY=C.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=qa(Zd,r),c=C.useRef(null),d=Et(e,c);return FE(),k.jsxs(k.Fragment,{children:[k.jsx(Jy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:k.jsx(ff,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_F(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),k.jsxs(k.Fragment,{children:[k.jsx(CTe,{titleId:l.titleId}),k.jsx(TTe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),yF="DialogTitle",WY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(yF,r);return k.jsx(rt.h2,{id:s.titleId,...n,ref:e})});WY.displayName=yF;var KY="DialogDescription",XY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(KY,r);return k.jsx(rt.p,{id:s.descriptionId,...n,ref:e})});XY.displayName=KY;var YY="DialogClose",qY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(YY,r);return k.jsx(rt.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});qY.displayName=YY;function _F(t){return t?"open":"closed"}var ZY="DialogTitleWarning",[STe,JY]=twe(ZY,{contentName:Zd,titleName:yF,docsSlug:"dialog"}),CTe=({titleId:t})=>{const e=JY(ZY),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ATe="DialogDescriptionWarning",TTe=({contentRef:t,descriptionId:e})=>{const r=JY(ATe),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return C.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},PTe=LY,DTe=$Y,RTe=zY,OTe=VY,ITe=GY,BTe=WY,FTe=XY,QY=qY,MTe=Symbol.for("react.lazy"),ax=Ty[" use ".trim().toString()];function kTe(t){return typeof t=="object"&&t!==null&&"then"in t}function eq(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===MTe&&"_payload"in t&&kTe(t._payload)}function tq(t){const e=LTe(t),r=C.forwardRef((n,s)=>{let{children:a,...o}=n;eq(a)&&typeof ax=="function"&&(a=ax(a._payload));const l=C.Children.toArray(a),c=l.find($Te);if(c){const d=c.props.children,f=l.map(p=>p===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:p);return k.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return k.jsx(e,{...o,ref:s,children:a})});return r.displayName="".concat(t,".Slot"),r}var NTe=tq("Slot");function LTe(t){const e=C.forwardRef((r,n)=>{let{children:s,...a}=r;if(eq(s)&&typeof ax=="function"&&(s=ax(s._payload)),C.isValidElement(s)){const o=zTe(s),l=jTe(a,s.props);return s.type!==C.Fragment&&(l.ref=n?Zy(n,o):o),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName="".concat(t,".SlotClone"),e}var UTe=Symbol("radix.slottable");function $Te(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===UTe}function jTe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function zTe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var VTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eS=VTe.reduce((t,e)=>{const r=tq("Primitive.".concat(e)),n=C.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(c,{...l,ref:a})});return n.displayName="Primitive.".concat(e),{...t,[e]:n}},{}),GTe="Label",rq=C.forwardRef((t,e)=>k.jsx(eS.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rq.displayName=GTe;var AJe=rq;function HTe(t,e=[]){let r=[];function n(a,o){const l=C.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=p=>{var h;const{scope:g,children:y,...b}=p,_=((h=g==null?void 0:g[t])==null?void 0:h[c])||l,u=C.useMemo(()=>b,Object.values(b));return k.jsx(_.Provider,{value:u,children:y})};d.displayName=a+"Provider";function f(p,g){var _;const y=((_=g==null?void 0:g[t])==null?void 0:_[c])||l,b=C.useContext(y);if(b)return b;if(o!==void 0)return o;throw new Error("`".concat(p,"` must be used within `").concat(a,"`"))}return[d,f]}const s=()=>{const a=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return C.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,WTe(s,...e)]}function WTe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const p=c(a)["__scope".concat(d)];return{...l,...p}},{});return C.useMemo(()=>({["__scope".concat(e.scopeName)]:o}),[o])}};return r.scopeName=e.scopeName,r}var bF="Progress",wF=100,[KTe,TJe]=HTe(bF),[XTe,YTe]=KTe(bF),nq=C.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=qTe,...o}=t;(s||s===0)&&!p4(s)&&console.error(ZTe("".concat(s),"Progress"));const l=p4(s)?s:wF;n!==null&&!m4(n,l)&&console.error(JTe("".concat(n),"Progress"));const c=m4(n,l)?n:null,d=ox(c)?a(c,l):void 0;return k.jsx(XTe,{scope:r,value:c,max:l,children:k.jsx(eS.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ox(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":aq(c,l),"data-value":c!=null?c:void 0,"data-max":l,...o,ref:e})})});nq.displayName=bF;var iq="ProgressIndicator",sq=C.forwardRef((t,e)=>{var a;const{__scopeProgress:r,...n}=t,s=YTe(iq,r);return k.jsx(eS.div,{"data-state":aq(s.value,s.max),"data-value":(a=s.value)!=null?a:void 0,"data-max":s.max,...n,ref:e})});sq.displayName=iq;function qTe(t,e){return"".concat(Math.round(t/e*100),"%")}function aq(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ox(t){return typeof t=="number"}function p4(t){return ox(t)&&!isNaN(t)&&t>0}function m4(t,e){return ox(t)&&!isNaN(t)&&t<=e&&t>=0}function ZTe(t,e){return"Invalid prop `max` of value `".concat(t,"` supplied to `").concat(e,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(wF,"`.")}function JTe(t,e){return"Invalid prop `value` of value `".concat(t,"` supplied to `").concat(e,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(wF," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}var PJe=nq,DJe=sq,oq="AlertDialog",[QTe,RJe]=Qn(oq,[NY]),Vl=NY(),lq=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vl(e);return k.jsx(PTe,{...n,...r,modal:!0})};lq.displayName=oq;var ePe="AlertDialogTrigger",tPe=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(DTe,{...s,...n,ref:e})});tPe.displayName=ePe;var rPe="AlertDialogPortal",uq=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vl(e);return k.jsx(RTe,{...n,...r})};uq.displayName=rPe;var nPe="AlertDialogOverlay",cq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(OTe,{...s,...n,ref:e})});cq.displayName=nPe;var Gh="AlertDialogContent",[iPe,sPe]=QTe(Gh),aPe=yW("AlertDialogContent"),dq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,a=Vl(r),o=C.useRef(null),l=Et(e,o),c=C.useRef(null);return k.jsx(STe,{contentName:Gh,titleName:fq,docsSlug:"alert-dialog",children:k.jsx(iPe,{scope:r,cancelRef:c,children:k.jsxs(ITe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ce(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[k.jsx(aPe,{children:n}),k.jsx(lPe,{contentRef:o})]})})})});dq.displayName=Gh;var fq="AlertDialogTitle",hq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(BTe,{...s,...n,ref:e})});hq.displayName=fq;var pq="AlertDialogDescription",mq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(FTe,{...s,...n,ref:e})});mq.displayName=pq;var oPe="AlertDialogAction",gq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(QY,{...s,...n,ref:e})});gq.displayName=oPe;var vq="AlertDialogCancel",yq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=sPe(vq,r),a=Vl(r),o=Et(e,s);return k.jsx(QY,{...a,...n,ref:o})});yq.displayName=vq;var lPe=({contentRef:t})=>{const e="`".concat(Gh,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Gh,"` by passing a `").concat(pq,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Gh,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return C.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},OJe=lq,IJe=uq,BJe=cq,FJe=dq,MJe=gq,kJe=yq,NJe=hq,LJe=mq;function xF(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _q=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uPe="VisuallyHidden",tS=C.forwardRef((t,e)=>k.jsx(rt.span,{...t,ref:e,style:{..._q,...t.style}}));tS.displayName=uPe;var cPe=tS,dPe=[" ","Enter","ArrowUp","ArrowDown"],fPe=[" ","Enter"],Jd="Select",[rS,nS,hPe]=zp(Jd),[Xp,UJe]=Qn(Jd,[hPe,xc]),iS=xc(),[pPe,Sc]=Xp(Jd),[mPe,gPe]=Xp(Jd),bq=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:p,disabled:g,required:y,form:b}=t,_=iS(e),[u,h]=C.useState(null),[m,v]=C.useState(null),[w,x]=C.useState(!1),S=zl(d),[E,P]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:a,caller:Jd}),[T,A]=wi({prop:o,defaultProp:l,onChange:c,caller:Jd}),R=C.useRef(null),D=u?b||!!u.closest("form"):!0,[O,I]=C.useState(new Set),M=Array.from(O).map(G=>G.props.value).join(";");return k.jsx(e_,{..._,children:k.jsxs(pPe,{required:y,scope:e,trigger:u,onTriggerChange:h,valueNode:m,onValueNodeChange:v,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:ai(),value:T,onValueChange:A,open:E,onOpenChange:P,dir:S,triggerPointerDownPosRef:R,disabled:g,children:[k.jsx(rS.Provider,{scope:e,children:k.jsx(mPe,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(G=>{I(j=>new Set(j).add(G))},[]),onNativeOptionRemove:C.useCallback(G=>{I(j=>{const $=new Set(j);return $.delete(G),$})},[]),children:r})}),D?k.jsxs(Hq,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:T,onChange:G=>A(G.target.value),disabled:g,form:b,children:[T===void 0?k.jsx("option",{value:""}):null,Array.from(O)]},M):null]})})};bq.displayName=Jd;var wq="SelectTrigger",xq=C.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=iS(r),o=Sc(wq,r),l=o.disabled||n,c=Et(e,o.onTriggerChange),d=nS(r),f=C.useRef("touch"),[p,g,y]=Kq(_=>{const u=d().filter(v=>!v.disabled),h=u.find(v=>v.value===o.value),m=Xq(u,_,h);m!==void 0&&o.onValueChange(m.value)}),b=_=>{l||(o.onOpenChange(!0),y()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return k.jsx(t_,{asChild:!0,...a,children:k.jsx(rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Wq(o.value)?"":void 0,...s,ref:c,onClick:Ce(s.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&b(_)}),onPointerDown:Ce(s.onPointerDown,_=>{f.current=_.pointerType;const u=_.target;u.hasPointerCapture(_.pointerId)&&u.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:Ce(s.onKeyDown,_=>{const u=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&g(_.key),!(u&&_.key===" ")&&dPe.includes(_.key)&&(b(),_.preventDefault())})})})});xq.displayName=wq;var Eq="SelectValue",Sq=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=Sc(Eq,r),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,p=Et(e,c.onValueNodeChange);return Zn(()=>{d(f)},[d,f]),k.jsx(rt.span,{...l,ref:p,style:{pointerEvents:"none"},children:Wq(c.value)?k.jsx(k.Fragment,{children:o}):a})});Sq.displayName=Eq;var vPe="SelectIcon",Cq=C.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return k.jsx(rt.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});Cq.displayName=vPe;var yPe="SelectPortal",Aq=t=>k.jsx(hf,{asChild:!0,...t});Aq.displayName=yPe;var Qd="SelectContent",Tq=C.forwardRef((t,e)=>{const r=Sc(Qd,t.__scopeSelect),[n,s]=C.useState();if(Zn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ul.createPortal(k.jsx(Pq,{scope:t.__scopeSelect,children:k.jsx(rS.Slot,{scope:t.__scopeSelect,children:k.jsx("div",{children:t.children})})}),a):null}return k.jsx(Dq,{...t,ref:e})});Tq.displayName=Qd;var Ea=10,[Pq,Cc]=Xp(Qd),_Pe="SelectContentImpl",bPe=Gd("SelectContent.RemoveScroll"),Dq=C.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:_,avoidCollisions:u,...h}=t,m=Sc(Qd,r),[v,w]=C.useState(null),[x,S]=C.useState(null),E=Et(e,z=>w(z)),[P,T]=C.useState(null),[A,R]=C.useState(null),D=nS(r),[O,I]=C.useState(!1),M=C.useRef(!1);C.useEffect(()=>{if(v)return jE(v)},[v]),FE();const G=C.useCallback(z=>{const[V,...Y]=D().map(me=>me.ref.current),[ne]=Y.slice(-1),ie=document.activeElement;for(const me of z)if(me===ie||(me==null||me.scrollIntoView({block:"nearest"}),me===V&&x&&(x.scrollTop=0),me===ne&&x&&(x.scrollTop=x.scrollHeight),me==null||me.focus(),document.activeElement!==ie))return},[D,x]),j=C.useCallback(()=>G([P,v]),[G,P,v]);C.useEffect(()=>{O&&j()},[O,j]);const{onOpenChange:$,triggerPointerDownPosRef:H}=m;C.useEffect(()=>{if(v){let z={x:0,y:0};const V=ne=>{var ie,me,xe,we;z={x:Math.abs(Math.round(ne.pageX)-((me=(ie=H.current)==null?void 0:ie.x)!=null?me:0)),y:Math.abs(Math.round(ne.pageY)-((we=(xe=H.current)==null?void 0:xe.y)!=null?we:0))}},Y=ne=>{z.x<=10&&z.y<=10?ne.preventDefault():v.contains(ne.target)||$(!1),document.removeEventListener("pointermove",V),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",Y,{capture:!0})}}},[v,$,H]),C.useEffect(()=>{const z=()=>$(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[$]);const[K,re]=Kq(z=>{const V=D().filter(ie=>!ie.disabled),Y=V.find(ie=>ie.ref.current===document.activeElement),ne=Xq(V,z,Y);ne&&setTimeout(()=>ne.ref.current.focus())}),fe=C.useCallback((z,V,Y)=>{const ne=!M.current&&!Y;(m.value!==void 0&&m.value===V||ne)&&(T(z),ne&&(M.current=!0))},[m.value]),ye=C.useCallback(()=>v==null?void 0:v.focus(),[v]),he=C.useCallback((z,V,Y)=>{const ne=!M.current&&!Y;(m.value!==void 0&&m.value===V||ne)&&R(z)},[m.value]),ue=n==="popper"?sR:Rq,Z=ue===sR?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:_,avoidCollisions:u}:{};return k.jsx(Pq,{scope:r,content:v,viewport:x,onViewportChange:S,itemRefCallback:fe,selectedItem:P,onItemLeave:ye,itemTextRefCallback:he,focusSelectedItem:j,selectedItemText:A,position:n,isPositioned:O,searchRef:K,children:k.jsx(VE,{as:bPe,allowPinchZoom:!0,children:k.jsx(Jy,{asChild:!0,trapped:m.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Ce(s,z=>{var V;(V=m.trigger)==null||V.focus({preventScroll:!0}),z.preventDefault()}),children:k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:k.jsx(ue,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:z=>z.preventDefault(),...h,...Z,onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:Ce(h.onKeyDown,z=>{const V=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!V&&z.key.length===1&&re(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ne=D().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ie=z.target,me=ne.indexOf(ie);ne=ne.slice(me+1)}setTimeout(()=>G(ne)),z.preventDefault()}})})})})})})});Dq.displayName=_Pe;var wPe="SelectItemAlignedPosition",Rq=C.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=Sc(Qd,r),o=Cc(Qd,r),[l,c]=C.useState(null),[d,f]=C.useState(null),p=Et(e,E=>f(E)),g=nS(r),y=C.useRef(!1),b=C.useRef(!0),{viewport:_,selectedItem:u,selectedItemText:h,focusSelectedItem:m}=o,v=C.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&_&&u&&h){const E=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),A=h.getBoundingClientRect();if(a.dir!=="rtl"){const ie=A.left-P.left,me=T.left-ie,xe=E.left-me,we=E.width+xe,Ee=Math.max(we,P.width),tt=window.innerWidth-Ea,xt=qv(me,[Ea,Math.max(Ea,tt-Ee)]);l.style.minWidth=we+"px",l.style.left=xt+"px"}else{const ie=P.right-A.right,me=window.innerWidth-T.right-ie,xe=window.innerWidth-E.right-me,we=E.width+xe,Ee=Math.max(we,P.width),tt=window.innerWidth-Ea,xt=qv(me,[Ea,Math.max(Ea,tt-Ee)]);l.style.minWidth=we+"px",l.style.right=xt+"px"}const R=g(),D=window.innerHeight-Ea*2,O=_.scrollHeight,I=window.getComputedStyle(d),M=parseInt(I.borderTopWidth,10),G=parseInt(I.paddingTop,10),j=parseInt(I.borderBottomWidth,10),$=parseInt(I.paddingBottom,10),H=M+G+O+$+j,K=Math.min(u.offsetHeight*5,H),re=window.getComputedStyle(_),fe=parseInt(re.paddingTop,10),ye=parseInt(re.paddingBottom,10),he=E.top+E.height/2-Ea,ue=D-he,Z=u.offsetHeight/2,z=u.offsetTop+Z,V=M+G+z,Y=H-V;if(V<=he){const ie=R.length>0&&u===R[R.length-1].ref.current;l.style.bottom="0px";const me=d.clientHeight-_.offsetTop-_.offsetHeight,xe=Math.max(ue,Z+(ie?ye:0)+me+j),we=V+xe;l.style.height=we+"px"}else{const ie=R.length>0&&u===R[0].ref.current;l.style.top="0px";const xe=Math.max(he,M+_.offsetTop+(ie?fe:0)+Z)+Y;l.style.height=xe+"px",_.scrollTop=V-he+_.offsetTop}l.style.margin="".concat(Ea,"px 0"),l.style.minHeight=K+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,l,d,_,u,h,a.dir,n]);Zn(()=>v(),[v]);const[w,x]=C.useState();Zn(()=>{d&&x(window.getComputedStyle(d).zIndex)},[d]);const S=C.useCallback(E=>{E&&b.current===!0&&(v(),m==null||m(),b.current=!1)},[v,m]);return k.jsx(EPe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:k.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:k.jsx(rt.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Rq.displayName=wPe;var xPe="SelectPopperPosition",sR=C.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ea,...a}=t,o=iS(r);return k.jsx(UE,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sR.displayName=xPe;var[EPe,EF]=Xp(Qd,{}),aR="SelectViewport",Oq=C.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=Cc(aR,r),o=EF(aR,r),l=Et(e,a.onViewportChange),c=C.useRef(0);return k.jsxs(k.Fragment,{children:[k.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),k.jsx(rS.Slot,{scope:r,children:k.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const y=Math.abs(c.current-f.scrollTop);if(y>0){const b=window.innerHeight-Ea*2,_=parseFloat(p.style.minHeight),u=parseFloat(p.style.height),h=Math.max(_,u);if(h<b){const m=h+y,v=Math.min(b,m),w=m-v;p.style.height=v+"px",p.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Oq.displayName=aR;var Iq="SelectGroup",[SPe,CPe]=Xp(Iq),Bq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ai();return k.jsx(SPe,{scope:r,id:s,children:k.jsx(rt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Bq.displayName=Iq;var Fq="SelectLabel",Mq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=CPe(Fq,r);return k.jsx(rt.div,{id:s.id,...n,ref:e})});Mq.displayName=Fq;var lx="SelectItem",[APe,kq]=Xp(lx),Nq=C.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=Sc(lx,r),c=Cc(lx,r),d=l.value===n,[f,p]=C.useState(a!=null?a:""),[g,y]=C.useState(!1),b=Et(e,m=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,m,n,s)}),_=ai(),u=C.useRef("touch"),h=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return k.jsx(APe,{scope:r,value:n,disabled:s,textId:_,isSelected:d,onItemTextChange:C.useCallback(m=>{p(v=>{var w;return v||((w=m==null?void 0:m.textContent)!=null?w:"").trim()})},[]),children:k.jsx(rS.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:k.jsx(rt.div,{role:"option","aria-labelledby":_,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:Ce(o.onFocus,()=>y(!0)),onBlur:Ce(o.onBlur,()=>y(!1)),onClick:Ce(o.onClick,()=>{u.current!=="mouse"&&h()}),onPointerUp:Ce(o.onPointerUp,()=>{u.current==="mouse"&&h()}),onPointerDown:Ce(o.onPointerDown,m=>{u.current=m.pointerType}),onPointerMove:Ce(o.onPointerMove,m=>{var v;u.current=m.pointerType,s?(v=c.onItemLeave)==null||v.call(c):u.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,m=>{var v;m.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ce(o.onKeyDown,m=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&m.key===" "||(fPe.includes(m.key)&&h(),m.key===" "&&m.preventDefault())})})})})});Nq.displayName=lx;var dg="SelectItemText",Lq=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=Sc(dg,r),l=Cc(dg,r),c=kq(dg,r),d=gPe(dg,r),[f,p]=C.useState(null),g=Et(e,h=>p(h),c.onItemTextChange,h=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,h,c.value,c.disabled)}),y=f==null?void 0:f.textContent,b=C.useMemo(()=>k.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:u}=d;return Zn(()=>(_(b),()=>u(b)),[_,u,b]),k.jsxs(k.Fragment,{children:[k.jsx(rt.span,{id:c.textId,...a,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ul.createPortal(a.children,o.valueNode):null]})});Lq.displayName=dg;var Uq="SelectItemIndicator",$q=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return kq(Uq,r).isSelected?k.jsx(rt.span,{"aria-hidden":!0,...n,ref:e}):null});$q.displayName=Uq;var oR="SelectScrollUpButton",jq=C.forwardRef((t,e)=>{const r=Cc(oR,t.__scopeSelect),n=EF(oR,t.__scopeSelect),[s,a]=C.useState(!1),o=Et(e,n.onScrollButtonChange);return Zn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?k.jsx(Vq,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jq.displayName=oR;var lR="SelectScrollDownButton",zq=C.forwardRef((t,e)=>{const r=Cc(lR,t.__scopeSelect),n=EF(lR,t.__scopeSelect),[s,a]=C.useState(!1),o=Et(e,n.onScrollButtonChange);return Zn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?k.jsx(Vq,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zq.displayName=lR;var Vq=C.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=Cc("SelectScrollButton",r),o=C.useRef(null),l=nS(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Zn(()=>{var f;const d=l().find(p=>p.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),k.jsx(rt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{c()})})}),TPe="SelectSeparator",Gq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return k.jsx(rt.div,{"aria-hidden":!0,...n,ref:e})});Gq.displayName=TPe;var uR="SelectArrow",PPe=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=iS(r),a=Sc(uR,r),o=Cc(uR,r);return a.open&&o.position==="popper"?k.jsx($E,{...s,...n,ref:e}):null});PPe.displayName=uR;var DPe="SelectBubbleInput",Hq=C.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=C.useRef(null),a=Et(n,s),o=xF(e);return C.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(p)}},[o,e]),k.jsx(rt.select,{...r,style:{..._q,...r.style},ref:a,defaultValue:e})});Hq.displayName=DPe;function Wq(t){return t===""||t===void 0}function Kq(t){const e=ln(t),r=C.useRef(""),n=C.useRef(0),s=C.useCallback(o=>{const l=r.current+o;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Xq(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=RPe(t,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function RPe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $Je=bq,jJe=xq,zJe=Sq,VJe=Cq,GJe=Aq,HJe=Tq,WJe=Oq,KJe=Bq,XJe=Mq,YJe=Nq,qJe=Lq,ZJe=$q,JJe=jq,QJe=zq,eQe=Gq,sS="Tabs",[OPe,tQe]=Qn(sS,[$o]),Yq=$o(),[IPe,SF]=OPe(sS),qq=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=zl(l),[p,g]=wi({prop:n,onChange:s,defaultProp:a!=null?a:"",caller:sS});return k.jsx(IPe,{scope:r,baseId:ai(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:k.jsx(rt.div,{dir:f,"data-orientation":o,...d,ref:e})})});qq.displayName=sS;var Zq="TabsList",Jq=C.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=SF(Zq,r),o=Yq(r);return k.jsx(n_,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:k.jsx(rt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});Jq.displayName=Zq;var Qq="TabsTrigger",eZ=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=SF(Qq,r),l=Yq(r),c=nZ(o.baseId,n),d=iZ(o.baseId,n),f=n===o.value;return k.jsx(Hp,{asChild:!0,...l,focusable:!s,active:f,children:k.jsx(rt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Ce(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ce(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ce(t.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!s&&p&&o.onValueChange(n)})})})});eZ.displayName=Qq;var tZ="TabsContent",rZ=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=SF(tZ,r),c=nZ(l.baseId,n),d=iZ(l.baseId,n),f=n===l.value,p=C.useRef(f);return C.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),k.jsx(Jn,{present:s||f,children:({present:g})=>k.jsx(rt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&a})})});rZ.displayName=tZ;function nZ(t,e){return"".concat(t,"-trigger-").concat(e)}function iZ(t,e){return"".concat(t,"-content-").concat(e)}var rQe=qq,nQe=Jq,iQe=eZ,sQe=rZ;const cR=new Map,V0=t=>{const e=cR.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},BPe=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=cR.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return cR.set(r.name,s),{type:"tracked",store:t,...s}},FPe=(t,e={})=>(r,n,s)=>{const{enabled:a,anonymousActionType:o,store:l,...c}=e;let d;try{d=(a!=null?a:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(_){}if(!d)return t(r,n,s);const{connection:f,...p}=BPe(l,d,c);let g=!0;s.setState=(_,u,h)=>{const m=r(_,u);if(!g)return m;const v=h===void 0?{type:o||"anonymous"}:typeof h=="string"?{type:h}:h;return l===void 0?(f==null||f.send(v,n()),m):(f==null||f.send({...v,type:"".concat(l,"/").concat(v.type)},{...V0(c.name),[l]:s.getState()}),m)};const y=(..._)=>{const u=g;g=!1,r(..._),g=u},b=t(s.setState,n,s);if(p.type==="untracked"?f==null||f.init(b):(p.stores[p.store]=s,f==null||f.init(Object.fromEntries(Object.entries(p.stores).map(([_,u])=>[_,_===p.store?b:u.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let _=!1;const u=s.dispatch;s.dispatch=(...h)=>{u(...h)}}return f.subscribe(_=>{var u;switch(_.type){case"ACTION":if(typeof _.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return dT(_.payload,h=>{if(h.type==="__setState"){if(l===void 0){y(h.state);return}Object.keys(h.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const m=h.state[l];if(m==null)return;JSON.stringify(s.getState())!==JSON.stringify(m)&&y(m);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(h)});case"DISPATCH":switch(_.payload.type){case"RESET":return y(b),l===void 0?f==null?void 0:f.init(s.getState()):f==null?void 0:f.init(V0(c.name));case"COMMIT":if(l===void 0){f==null||f.init(s.getState());return}return f==null?void 0:f.init(V0(c.name));case"ROLLBACK":return dT(_.state,h=>{if(l===void 0){y(h),f==null||f.init(s.getState());return}y(h[l]),f==null||f.init(V0(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return dT(_.state,h=>{if(l===void 0){y(h);return}JSON.stringify(s.getState())!==JSON.stringify(h[l])&&y(h[l])});case"IMPORT_STATE":{const{nextLiftedState:h}=_.payload,m=(u=h.computedStates.slice(-1)[0])==null?void 0:u.state;if(!m)return;y(l===void 0?m:m[l]),f==null||f.send(null,h);return}case"PAUSE_RECORDING":return g=!g}return}}),b},MPe=FPe,dT=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function kPe(t,e){let r;try{r=t()}catch(s){return}return{getItem:s=>{var a;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,e==null?void 0:e.replacer)),removeItem:s=>r.removeItem(s)}}const dy=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return dy(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return dy(n)(r)}}}},NPe=(t,e)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,h)=>({...h,...u}),...e},o=!1;const l=new Set,c=new Set;let d;try{d=a.getStorage()}catch(u){}if(!d)return t((...u)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),r(...u)},n,s);const f=dy(a.serialize),p=()=>{const u=a.partialize({...n()});let h;const m=f({state:u,version:a.version}).then(v=>d.setItem(a.name,v)).catch(v=>{h=v});if(h)throw h;return m},g=s.setState;s.setState=(u,h)=>{g(u,h),p()};const y=t((...u)=>{r(...u),p()},n,s);let b;const _=()=>{var u;if(!d)return;o=!1,l.forEach(m=>m(n()));const h=((u=a.onRehydrateStorage)==null?void 0:u.call(a,n()))||void 0;return dy(d.getItem.bind(d))(a.name).then(m=>{if(m)return a.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return a.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var v;return b=a.merge(m,(v=n())!=null?v:y),r(b,!0),p()}).then(()=>{h==null||h(b,void 0),o=!0,c.forEach(m=>m(b))}).catch(m=>{h==null||h(void 0,m)})};return s.persist={setOptions:u=>{a={...a,...u},u.getStorage&&(d=u.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},_(),b||y},LPe=(t,e)=>(r,n,s)=>{let a={storage:kPe(()=>localStorage),partialize:_=>_,version:0,merge:(_,u)=>({...u,..._}),...e},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return t((..._)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),r(..._)},n,s);const f=()=>{const _=a.partialize({...n()});return d.setItem(a.name,{state:_,version:a.version})},p=s.setState;s.setState=(_,u)=>{p(_,u),f()};const g=t((..._)=>{r(..._),f()},n,s);s.getInitialState=()=>g;let y;const b=()=>{var _,u;if(!d)return;o=!1,l.forEach(m=>{var v;return m((v=n())!=null?v:g)});const h=((u=a.onRehydrateStorage)==null?void 0:u.call(a,(_=n())!=null?_:g))||void 0;return dy(d.getItem.bind(d))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return[!0,a.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var v;const[w,x]=m;if(y=a.merge(x,(v=n())!=null?v:g),r(y,!0),w)return f()}).then(()=>{h==null||h(y,void 0),y=n(),o=!0,c.forEach(m=>m(y))}).catch(m=>{h==null||h(void 0,m)})};return s.persist={setOptions:_=>{a={...a,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:_=>(l.add(_),()=>{l.delete(_)}),onFinishHydration:_=>(c.add(_),()=>{c.delete(_)})},a.skipHydration||b(),y||g},UPe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?NPe(t,e):LPe(t,e),$Pe=UPe,dR="RFC3986",fR={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},jPe="RFC1738",zPe=Array.isArray,ro=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),fT=1024,VPe=(t,e,r,n,s)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<a.length;l+=fT){const c=a.length>=fT?a.slice(l,l+fT):a,d=[];for(let f=0;f<c.length;++f){let p=c.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===jPe&&(p===40||p===41)){d[d.length]=c.charAt(f);continue}if(p<128){d[d.length]=ro[p];continue}if(p<2048){d[d.length]=ro[192|p>>6]+ro[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=ro[224|p>>12]+ro[128|p>>6&63]+ro[128|p&63];continue}f+=1,p=65536+((p&1023)<<10|c.charCodeAt(f)&1023),d[d.length]=ro[240|p>>18]+ro[128|p>>12&63]+ro[128|p>>6&63]+ro[128|p&63]}o+=d.join("")}return o};function GPe(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function g4(t,e){if(zPe(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}const HPe=Object.prototype.hasOwnProperty,sZ={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},po=Array.isArray,WPe=Array.prototype.push,aZ=function(t,e){WPe.apply(t,po(e)?e:[e])},KPe=Date.prototype.toISOString,Pn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:VPe,encodeValuesOnly:!1,format:dR,formatter:fR[dR],indices:!1,serializeDate(t){return KPe.call(t)},skipNulls:!1,strictNullHandling:!1};function XPe(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const hT={};function oZ(t,e,r,n,s,a,o,l,c,d,f,p,g,y,b,_,u,h){let m=t,v=h,w=0,x=!1;for(;(v=v.get(hT))!==void 0&&!x;){const A=v.get(t);if(w+=1,typeof A<"u"){if(A===w)throw new RangeError("Cyclic object value");x=!0}typeof v.get(hT)>"u"&&(w=0)}if(typeof d=="function"?m=d(e,m):m instanceof Date?m=g==null?void 0:g(m):r==="comma"&&po(m)&&(m=g4(m,function(A){return A instanceof Date?g==null?void 0:g(A):A})),m===null){if(a)return c&&!_?c(e,Pn.encoder,u,"key",y):e;m=""}if(XPe(m)||GPe(m)){if(c){const A=_?e:c(e,Pn.encoder,u,"key",y);return[(b==null?void 0:b(A))+"="+(b==null?void 0:b(c(m,Pn.encoder,u,"value",y)))]}return[(b==null?void 0:b(e))+"="+(b==null?void 0:b(String(m)))]}const S=[];if(typeof m>"u")return S;let E;if(r==="comma"&&po(m))_&&c&&(m=g4(m,c)),E=[{value:m.length>0?m.join(",")||null:void 0}];else if(po(d))E=d;else{const A=Object.keys(m);E=f?A.sort(f):A}const P=l?String(e).replace(/\./g,"%2E"):String(e),T=n&&po(m)&&m.length===1?P+"[]":P;if(s&&po(m)&&m.length===0)return T+"[]";for(let A=0;A<E.length;++A){const R=E[A],D=typeof R=="object"&&typeof R.value<"u"?R.value:m[R];if(o&&D===null)continue;const O=p&&l?R.replace(/\./g,"%2E"):R,I=po(m)?typeof r=="function"?r(T,O):T:T+(p?"."+O:"["+O+"]");h.set(t,w);const M=new WeakMap;M.set(hT,h),aZ(S,oZ(D,I,r,n,s,a,o,l,r==="comma"&&_&&po(m)?null:c,d,f,p,g,y,b,_,u,M))}return S}function YPe(t=Pn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Pn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=dR;if(typeof t.format<"u"){if(!HPe.call(fR,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=fR[r];let s=Pn.filter;(typeof t.filter=="function"||po(t.filter))&&(s=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in sZ?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Pn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Pn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Pn.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Pn.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Pn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Pn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Pn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Pn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Pn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Pn.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Pn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Pn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Pn.strictNullHandling}}function qPe(t,e={}){let r=t;const n=YPe(e);let s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):po(n.filter)&&(a=n.filter,s=a);const o=[];if(typeof r!="object"||r===null)return"";const l=sZ[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const d=new WeakMap;for(let g=0;g<s.length;++g){const y=s[g];n.skipNulls&&r[y]===null||aZ(o,oZ(r[y],y,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}const f=o.join(n.delimiter);let p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""}const rh="4.104.0";let v4=!1,Vg,lZ,uZ,hR,cZ,dZ,fZ,hZ,pZ;function ZPe(t,e={auto:!1}){if(v4)throw new Error("you must `import 'openai/shims/".concat(t.kind,"'` before importing anything else from openai"));if(Vg)throw new Error("can't `import 'openai/shims/".concat(t.kind,"'` after `import 'openai/shims/").concat(Vg,"'`"));v4=e.auto,Vg=t.kind,lZ=t.fetch,t.Request,t.Response,t.Headers,uZ=t.FormData,t.Blob,hR=t.File,cZ=t.ReadableStream,dZ=t.getMultipartRequestOptions,fZ=t.getDefaultAgent,hZ=t.fileFromPath,pZ=t.isFsReadStream}class JPe{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function QPe({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,s,a;try{r=fetch,n=Request,s=Response,a=Headers}catch(o){throw new Error("this environment is missing the following Web Fetch API type: ".concat(o.message,". ").concat(e))}return{kind:"web",fetch:r,Request:n,Response:s,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(e))}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(e))}},File:typeof File<"u"?File:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(e))}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(e))}},getMultipartRequestOptions:async(o,l)=>({...l,body:new JPe(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const mZ=()=>{Vg||ZPe(QPe(),{auto:!0})};mZ();class St extends Error{}class li extends St{constructor(e,r,n,s){super("".concat(li.makeMessage(e,r,n))),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=r;const a=r;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(e,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&s?"".concat(e," ").concat(s):e?"".concat(e," status code (no body)"):s||"(no status code or body)"}static generate(e,r,n,s){if(!e||!s)return new aS({message:n,cause:mR(r)});const a=r==null?void 0:r.error;return e===400?new gZ(e,a,n,s):e===401?new vZ(e,a,n,s):e===403?new yZ(e,a,n,s):e===404?new _Z(e,a,n,s):e===409?new bZ(e,a,n,s):e===422?new wZ(e,a,n,s):e===429?new xZ(e,a,n,s):e>=500?new EZ(e,a,n,s):new li(e,a,n,s)}}class aa extends li{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class aS extends li{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class CF extends aS{constructor({message:e}={}){super({message:e!=null?e:"Request timed out."})}}class gZ extends li{}class vZ extends li{}class yZ extends li{}class _Z extends li{}class bZ extends li{}class wZ extends li{}class xZ extends li{}class EZ extends li{}class SZ extends St{constructor(){super("Could not parse response content as the length limit was reached")}}class CZ extends St{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var G0=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},zc=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ds;class oS{constructor(){ds.set(this,void 0),this.buffer=new Uint8Array,G0(this,ds,null,"f")}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const s=[];let a;for(;(a=eDe(this.buffer,zc(this,ds,"f")))!=null;){if(a.carriage&&zc(this,ds,"f")==null){G0(this,ds,a.index,"f");continue}if(zc(this,ds,"f")!=null&&(a.index!==zc(this,ds,"f")+1||a.carriage)){s.push(this.decodeText(this.buffer.slice(0,zc(this,ds,"f")-1))),this.buffer=this.buffer.slice(zc(this,ds,"f")),G0(this,ds,null,"f");continue}const o=zc(this,ds,"f")!==null?a.preceding-1:a.preceding,l=this.decodeText(this.buffer.slice(0,o));s.push(l),this.buffer=this.buffer.slice(a.index),G0(this,ds,null,"f")}return s}decodeText(e){var r;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new St("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(r=this.textDecoder)!=null||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new St("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new St("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}ds=new WeakMap;oS.NEWLINE_CHARS=new Set(["\n","\r"]);oS.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eDe(t,e){for(let s=e!=null?e:0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function tDe(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}function AZ(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class So{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const o of rDe(e,r))if(!a){if(o.data.startsWith("[DONE]")){a=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(l&&l.error)throw new li(void 0,l.error,void 0,BZ(e.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(o.event=="error")throw new li(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||r.abort()}}return new So(s,r)}static fromReadableStream(e,r){let n=!1;async function*s(){const o=new oS,l=AZ(e);for await(const c of l)for(const d of o.decode(c))yield d;for(const c of o.flush())yield c}async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||r.abort()}}return new So(a,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),s=a=>({next:()=>{if(a.length===0){const o=n.next();e.push(o),r.push(o)}return a.shift()}});return[new So(()=>s(e),this.controller),new So(()=>s(r),this.controller)]}toReadableStream(){const e=this;let r;const n=new TextEncoder;return new cZ({async start(){r=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:o}=await r.next();if(o)return s.close();const l=n.encode(JSON.stringify(a)+"\n");s.enqueue(l)}catch(a){s.error(a)}},async cancel(){var s;await((s=r.return)==null?void 0:s.call(r))}})}}async function*rDe(t,e){if(!t.body)throw e.abort(),new St("Attempted to iterate over a response with no body");const r=new iDe,n=new oS,s=AZ(t.body);for await(const a of nDe(s))for(const o of n.decode(a)){const l=r.decode(o);l&&(yield l)}for(const a of n.flush()){const o=r.decode(a);o&&(yield o)}}async function*nDe(t){let e=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let s=new Uint8Array(e.length+n.length);s.set(e),s.set(n,e.length),e=s;let a;for(;(a=tDe(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class iDe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,s]=sDe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function sDe(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}const TZ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",PZ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&lS(t),lS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",aDe=t=>PZ(t)||TZ(t)||pZ(t);async function DZ(t,e,r){var s,a,o;if(t=await t,PZ(t))return t;if(TZ(t)){const l=await t.blob();e||(e=(s=new URL(t.url).pathname.split(/[\\/]/).pop())!=null?s:"unknown_file");const c=lS(l)?[await l.arrayBuffer()]:[l];return new hR(c,e,r)}const n=await oDe(t);if(e||(e=(a=uDe(t))!=null?a:"unknown_file"),!(r!=null&&r.type)){const l=(o=n[0])==null?void 0:o.type;typeof l=="string"&&(r={...r,type:l})}return new hR(n,e,r)}async function oDe(t){var r;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(lS(t))e.push(await t.arrayBuffer());else if(cDe(t))for await(const n of t)e.push(n);else throw new Error("Unexpected data type: ".concat(typeof t,"; constructor: ").concat((r=t==null?void 0:t.constructor)==null?void 0:r.name,"; props: ").concat(lDe(t)));return e}function lDe(t){const e=Object.getOwnPropertyNames(t);return"[".concat(e.map(r=>'"'.concat(r,'"')).join(", "),"]")}function uDe(t){var e;return pT(t.name)||pT(t.filename)||((e=pT(t.path))==null?void 0:e.split(/[\\/]/).pop())}const pT=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},cDe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",y4=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",ef=async t=>{const e=await dDe(t.body);return dZ(e,t)},dDe=async t=>{const e=new uZ;return await Promise.all(Object.entries(t||{}).map(([r,n])=>pR(e,r,n))),e},pR=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError('Received null for "'.concat(e,"\"; to pass null in FormData, you must use the string 'null'"));if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(aDe(r)){const n=await DZ(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>pR(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>pR(t,"".concat(e,"[").concat(n,"]"),s)));else throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(r," instead"))}};var fDe=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},hDe=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},H0;mZ();async function RZ(t){var o;const{response:e}=t;if(t.options.stream)return Wu("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):So.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const r=e.headers.get("content-type"),n=(o=r==null?void 0:r.split(";")[0])==null?void 0:o.trim();if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.endsWith("+json"))){const l=await e.json();return Wu("response",e.status,e.url,e.headers,l),OZ(l,e)}const a=await e.text();return Wu("response",e.status,e.url,e.headers,a),a}function OZ(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class uS extends Promise{constructor(e,r=RZ){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new uS(this.responsePromise,async r=>OZ(e(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class pDe{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:s,fetch:a}){this.baseURL=e,this.maxRetries=mT("maxRetries",r),this.timeout=mT("timeout",n),this.httpAgent=s,this.fetch=a!=null?a:lZ}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),..._De(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return"stainless-node-retry-".concat(EDe())}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async s=>{const a=s&&lS(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:r,...s,body:a}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:r=0}={}){var _,u,h,m,v,w;const n={...e},{method:s,path:a,query:o,headers:l={}}=n,c=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:y4(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,d=this.calculateContentLength(c),f=this.buildURL(a,o);"timeout"in n&&mT("timeout",n.timeout),n.timeout=(_=n.timeout)!=null?_:this.timeout;const p=(h=(u=n.httpAgent)!=null?u:this.httpAgent)!=null?h:fZ(f),g=n.timeout+1e3;typeof((m=p==null?void 0:p.options)==null?void 0:m.timeout)=="number"&&g>((v=p.options.timeout)!=null?v:0)&&(p.options.timeout=g),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const y=this.buildHeaders({options:n,headers:l,contentLength:d,retryCount:r});return{req:{method:s,...c&&{body:c},headers:y,...p&&{agent:p},signal:(w=n.signal)!=null?w:null},url:f,timeout:n.timeout}}buildHeaders({options:e,headers:r,contentLength:n,retryCount:s}){const a={};n&&(a["content-length"]=n);const o=this.defaultHeaders(e);return w4(a,o),w4(a,r),y4(e.body)&&Vg!=="node"&&delete a["content-type"],X0(o,"x-stainless-retry-count")===void 0&&X0(r,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(s)),X0(o,"x-stainless-timeout")===void 0&&X0(r,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(a,r),a}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,s){return li.generate(e,r,n,s)}request(e,r=null){return new uS(this.makeRequest(e,r))}async makeRequest(e,r){var p,g,y;const n=await e,s=(p=n.maxRetries)!=null?p:this.maxRetries;r==null&&(r=s),await this.prepareOptions(n);const{req:a,url:o,timeout:l}=this.buildRequest(n,{retryCount:s-r});if(await this.prepareRequest(a,{url:o,options:n}),Wu("request",o,n,a.headers),(g=n.signal)!=null&&g.aborted)throw new aa;const c=new AbortController,d=await this.fetchWithTimeout(o,a,l,c).catch(mR);if(d instanceof Error){if((y=n.signal)!=null&&y.aborted)throw new aa;if(r)return this.retryRequest(n,r);throw d.name==="AbortError"?new CF:new aS({cause:d})}const f=BZ(d.headers);if(!d.ok){if(r&&this.shouldRetry(d)){const v="retrying, ".concat(r," attempts remaining");return Wu("response (error; ".concat(v,")"),d.status,o,f),this.retryRequest(n,r,f)}const b=await d.text().catch(v=>mR(v).message),_=bDe(b),u=_?void 0:b,h=r?"(error; no more retries left)":"(error; not retryable)";throw Wu("response (error; ".concat(h,")"),d.status,o,f,u),this.makeStatusError(d.status,_,u,f)}return{response:d,options:n,controller:c}}requestAPIList(e,r){const n=this.makeRequest(r,null);return new mDe(this,n,e)}buildURL(e,r){const n=xDe(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return FZ(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n));if(n===null)return"".concat(encodeURIComponent(r),"=");throw new St("Cannot stringify type ".concat(typeof n,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))}).join("&")}async fetchWithTimeout(e,r,n,s){const{signal:a,...o}=r||{};a&&a.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),n),c={signal:s.signal,...o};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,e,c).finally(()=>{clearTimeout(l)})}shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){var l;let s;const a=n==null?void 0:n["retry-after-ms"];if(a){const c=parseFloat(a);Number.isNaN(c)||(s=c)}const o=n==null?void 0:n["retry-after"];if(o&&!s){const c=parseFloat(o);Number.isNaN(c)?s=Date.parse(o)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(l=e.maxRetries)!=null?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,c)}return await f_(s),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){const a=r-e,o=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(rh)}}class IZ{constructor(e,r,n,s){H0.set(this,void 0),fDe(this,H0,e,"f"),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new St("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){const n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(const[s,a]of n)e.url.searchParams.set(s,a);r.query=void 0,r.path=e.url.toString()}return await hDe(this,H0,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(H0=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const r of e.getPaginatedItems())yield r}}class mDe extends uS{constructor(e,r,n){super(r,async s=>new n(e,s.response,await RZ(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const r of e)yield r}}const BZ=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){const n=r.toString();return e[n.toLowerCase()]||e[n]}}),gDe={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},rn=t=>typeof t=="object"&&t!==null&&!FZ(t)&&Object.keys(t).every(e=>MZ(gDe,e)),vDe=()=>{var e,r;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":b4(Deno.build.os),"X-Stainless-Arch":_4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(r=(e=Deno.version)==null?void 0:e.deno)!=null?r:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":b4(process.platform),"X-Stainless-Arch":_4(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=yDe();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(t.browser),"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function yDe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,a=n[2]||0,o=n[3]||0;return{browser:e,version:"".concat(s,".").concat(a,".").concat(o)}}}return null}const _4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?"other:".concat(t):"unknown",b4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?"Other:".concat(t):"Unknown");let W0;const _De=()=>W0!=null?W0:W0=vDe(),bDe=t=>{try{return JSON.parse(t)}catch(e){return}},wDe=/^[a-z][a-z0-9+.-]*:/i,xDe=t=>wDe.test(t),f_=t=>new Promise(e=>setTimeout(e,t)),mT=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new St("".concat(t," must be an integer"));if(e<0)throw new St("".concat(t," must be a positive integer"));return e},mR=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch(e){}return new Error(t)},K0=t=>{var e,r,n,s,a,o;if(typeof process<"u")return(n=(r=(e=process.env)==null?void 0:e[t])==null?void 0:r.trim())!=null?n:void 0;if(typeof Deno<"u")return(o=(a=(s=Deno.env)==null?void 0:s.get)==null?void 0:a.call(s,t))==null?void 0:o.trim()};function FZ(t){if(!t)return!0;for(const e in t)return!1;return!0}function MZ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w4(t,e){for(const r in e){if(!MZ(e,r))continue;const n=r.toLowerCase();if(!n)continue;const s=e[r];s===null?delete t[n]:s!==void 0&&(t[n]=s)}}const x4=new Set(["authorization","api-key"]);function Wu(t,...e){var r;if(typeof process<"u"&&((r=process==null?void 0:process.env)==null?void 0:r.DEBUG)==="true"){const n=e.map(s=>{if(!s)return s;if(s.headers){const o={...s,headers:{...s.headers}};for(const l in s.headers)x4.has(l.toLowerCase())&&(o.headers[l]="REDACTED");return o}let a=null;for(const o in s)x4.has(o.toLowerCase())&&(a!=null||(a={...s}),a[o]="REDACTED");return a!=null?a:s});console.log("OpenAI:DEBUG:".concat(t),...n)}}const EDe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),SDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",CDe=t=>typeof(t==null?void 0:t.get)=="function",X0=(t,e)=>{var n;const r=e.toLowerCase();if(CDe(t)){const s=((n=e[0])==null?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,o,l)=>o+l.toUpperCase());for(const a of[e,r,e.toUpperCase(),s]){const o=t.get(a);if(o)return o}}for(const[s,a]of Object.entries(t))if(s.toLowerCase()===r)return Array.isArray(a)?(a.length<=1||console.warn("Received ".concat(a.length," entries for the ").concat(e," header, using the first entry.")),a[0]):a},ADe=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}};function gT(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class cS extends IZ{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}nextPageParams(){return null}nextPageInfo(){return null}}class Bn extends IZ{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const r=Object.fromEntries(e.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const e=this.getPaginatedItems();if(!e.length)return null;const r=(n=e[e.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class Pt{constructor(e){this._client=e}}let kZ=class extends Pt{list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/chat/completions/".concat(e,"/messages"),TDe,{query:r,...n})}},dS=class extends Pt{constructor(){super(...arguments),this.messages=new kZ(this._client)}create(e,r){var n;return this._client.post("/chat/completions",{body:e,...r,stream:(n=e.stream)!=null?n:!1})}retrieve(e,r){return this._client.get("/chat/completions/".concat(e),r)}update(e,r,n){return this._client.post("/chat/completions/".concat(e),{body:r,...n})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/chat/completions",fS,{query:e,...r})}del(e,r){return this._client.delete("/chat/completions/".concat(e),r)}};class fS extends Bn{}class TDe extends Bn{}dS.ChatCompletionsPage=fS;dS.Messages=kZ;let hS=class extends Pt{constructor(){super(...arguments),this.completions=new dS(this._client)}};hS.Completions=dS;hS.ChatCompletionsPage=fS;class NZ extends Pt{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class LZ extends Pt{create(e,r){var n;return this._client.post("/audio/transcriptions",ef({body:e,...r,stream:(n=e.stream)!=null?n:!1,__metadata:{model:e.model}}))}}class UZ extends Pt{create(e,r){return this._client.post("/audio/translations",ef({body:e,...r,__metadata:{model:e.model}}))}}class h_ extends Pt{constructor(){super(...arguments),this.transcriptions=new LZ(this._client),this.translations=new UZ(this._client),this.speech=new NZ(this._client)}}h_.Transcriptions=LZ;h_.Translations=UZ;h_.Speech=NZ;class AF extends Pt{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get("/batches/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/batches",TF,{query:e,...r})}cancel(e,r){return this._client.post("/batches/".concat(e,"/cancel"),r)}}class TF extends Bn{}AF.BatchesPage=TF;var Sa=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Kr=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},gR,rb,nb,fg,hg,ib,pg,Jo,mg,ux,cx,nh,$Z;class PF{constructor(){gR.add(this),this.controller=new AbortController,rb.set(this,void 0),nb.set(this,()=>{}),fg.set(this,()=>{}),hg.set(this,void 0),ib.set(this,()=>{}),pg.set(this,()=>{}),Jo.set(this,{}),mg.set(this,!1),ux.set(this,!1),cx.set(this,!1),nh.set(this,!1),Sa(this,rb,new Promise((e,r)=>{Sa(this,nb,e,"f"),Sa(this,fg,r,"f")}),"f"),Sa(this,hg,new Promise((e,r)=>{Sa(this,ib,e,"f"),Sa(this,pg,r,"f")}),"f"),Kr(this,rb,"f").catch(()=>{}),Kr(this,hg,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Kr(this,gR,"m",$Z).bind(this))},0)}_connected(){this.ended||(Kr(this,nb,"f").call(this),this._emit("connect"))}get ended(){return Kr(this,mg,"f")}get errored(){return Kr(this,ux,"f")}get aborted(){return Kr(this,cx,"f")}abort(){this.controller.abort()}on(e,r){return(Kr(this,Jo,"f")[e]||(Kr(this,Jo,"f")[e]=[])).push({listener:r}),this}off(e,r){const n=Kr(this,Jo,"f")[e];if(!n)return this;const s=n.findIndex(a=>a.listener===r);return s>=0&&n.splice(s,1),this}once(e,r){return(Kr(this,Jo,"f")[e]||(Kr(this,Jo,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Sa(this,nh,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Sa(this,nh,!0,"f"),await Kr(this,hg,"f")}_emit(e,...r){if(Kr(this,mg,"f"))return;e==="end"&&(Sa(this,mg,!0,"f"),Kr(this,ib,"f").call(this));const n=Kr(this,Jo,"f")[e];if(n&&(Kr(this,Jo,"f")[e]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),e==="abort"){const s=r[0];!Kr(this,nh,"f")&&!(n!=null&&n.length)&&Promise.reject(s),Kr(this,fg,"f").call(this,s),Kr(this,pg,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=r[0];!Kr(this,nh,"f")&&!(n!=null&&n.length)&&Promise.reject(s),Kr(this,fg,"f").call(this,s),Kr(this,pg,"f").call(this,s),this._emit("end")}}_emitFinal(){}}rb=new WeakMap,nb=new WeakMap,fg=new WeakMap,hg=new WeakMap,ib=new WeakMap,pg=new WeakMap,Jo=new WeakMap,mg=new WeakMap,ux=new WeakMap,cx=new WeakMap,nh=new WeakMap,gR=new WeakSet,$Z=function(e){if(Sa(this,ux,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new aa),e instanceof aa)return Sa(this,cx,!0,"f"),this._emit("abort",e);if(e instanceof St)return this._emit("error",e);if(e instanceof Error){const r=new St(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new St(String(e)))};var vt=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ls=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ti,vR,mo,sb,Aa,dd,wh,rd,dx,fs,ab,ob,Gg,gg,vg,E4,S4,C4,A4,T4,P4,D4;class La extends PF{constructor(){super(...arguments),ti.add(this),vR.set(this,[]),mo.set(this,{}),sb.set(this,{}),Aa.set(this,void 0),dd.set(this,void 0),wh.set(this,void 0),rd.set(this,void 0),dx.set(this,void 0),fs.set(this,void 0),ab.set(this,void 0),ob.set(this,void 0),Gg.set(this,void 0)}[(vR=new WeakMap,mo=new WeakMap,sb=new WeakMap,Aa=new WeakMap,dd=new WeakMap,wh=new WeakMap,rd=new WeakMap,dx=new WeakMap,fs=new WeakMap,ab=new WeakMap,ob=new WeakMap,Gg=new WeakMap,ti=new WeakSet,Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const a=r.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const r=new La;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=So.fromReadableStream(e,this.controller);for await(const o of s)vt(this,ti,"m",gg).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}toReadableStream(){return new So(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,s,a){const o=new La;return o._run(()=>o._runToolAssistantStream(e,r,n,s,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,r,n,s,a){var d;const o=a==null?void 0:a.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},c=await e.submitToolOutputs(r,n,l,{...a,signal:this.controller.signal});this._connected();for await(const f of c)vt(this,ti,"m",gg).call(this,f);if((d=c.controller.signal)!=null&&d.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}static createThreadAssistantStream(e,r,n){const s=new La;return s._run(()=>s._threadAssistantStream(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,r,n,s){const a=new La;return a._run(()=>a._runAssistantStream(e,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return vt(this,ab,"f")}currentRun(){return vt(this,ob,"f")}currentMessageSnapshot(){return vt(this,Aa,"f")}currentRunStepSnapshot(){return vt(this,Gg,"f")}async finalRunSteps(){return await this.done(),Object.values(vt(this,mo,"f"))}async finalMessages(){return await this.done(),Object.values(vt(this,sb,"f"))}async finalRun(){if(await this.done(),!vt(this,dd,"f"))throw Error("Final run was not received.");return vt(this,dd,"f")}async _createThreadAssistantStream(e,r,n){var l;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.createAndRun(a,{...n,signal:this.controller.signal});this._connected();for await(const c of o)vt(this,ti,"m",gg).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}async _createAssistantStream(e,r,n,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},l=await e.create(r,o,{...s,signal:this.controller.signal});this._connected();for await(const d of l)vt(this,ti,"m",gg).call(this,d);if((c=l.controller.signal)!=null&&c.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}static accumulateDelta(e,r){for(const[n,s]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=s;continue}let a=e[n];if(a==null){e[n]=s;continue}if(n==="index"||n==="type"){e[n]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(gT(a)&&gT(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(o=>typeof o=="string"||typeof o=="number")){a.push(...s);continue}for(const o of s){if(!gT(o))throw new Error("Expected array delta entry to be an object but got: ".concat(o));const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error("Expected array delta entry `index` property to be a number but got ".concat(l));const c=a[l];c==null?a.push(o):a[l]=this.accumulateDelta(c,o)}continue}else throw Error("Unhandled record type: ".concat(n,", deltaValue: ").concat(s,", accValue: ").concat(a));e[n]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,s){return await this._createAssistantStream(r,e,n,s)}async _runToolAssistantStream(e,r,n,s,a){return await this._createToolAssistantStream(n,e,r,s,a)}}gg=function(e){if(!this.ended)switch(ls(this,ab,e,"f"),vt(this,ti,"m",C4).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":vt(this,ti,"m",D4).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":vt(this,ti,"m",S4).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":vt(this,ti,"m",E4).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},vg=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");if(!vt(this,dd,"f"))throw Error("Final run has not been received");return vt(this,dd,"f")},E4=function(e){const[r,n]=vt(this,ti,"m",T4).call(this,e,vt(this,Aa,"f"));ls(this,Aa,r,"f"),vt(this,sb,"f")[r.id]=r;for(const s of n){const a=r.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,o=r.content[s.index];if(o&&o.type=="text")this._emit("textDelta",a,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=vt(this,wh,"f")){if(vt(this,rd,"f"))switch(vt(this,rd,"f").type){case"text":this._emit("textDone",vt(this,rd,"f").text,vt(this,Aa,"f"));break;case"image_file":this._emit("imageFileDone",vt(this,rd,"f").image_file,vt(this,Aa,"f"));break}ls(this,wh,s.index,"f")}ls(this,rd,r.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(vt(this,wh,"f")!==void 0){const s=e.data.content[vt(this,wh,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,vt(this,Aa,"f"));break;case"text":this._emit("textDone",s.text,vt(this,Aa,"f"));break}}vt(this,Aa,"f")&&this._emit("messageDone",e.data),ls(this,Aa,void 0,"f")}},S4=function(e){const r=vt(this,ti,"m",A4).call(this,e);switch(ls(this,Gg,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const a of n.step_details.tool_calls)a.index==vt(this,dx,"f")?this._emit("toolCallDelta",a,r.step_details.tool_calls[a.index]):(vt(this,fs,"f")&&this._emit("toolCallDone",vt(this,fs,"f")),ls(this,dx,a.index,"f"),ls(this,fs,r.step_details.tool_calls[a.index],"f"),vt(this,fs,"f")&&this._emit("toolCallCreated",vt(this,fs,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ls(this,Gg,void 0,"f"),e.data.step_details.type=="tool_calls"&&vt(this,fs,"f")&&(this._emit("toolCallDone",vt(this,fs,"f")),ls(this,fs,void 0,"f")),this._emit("runStepDone",e.data,r);break}},C4=function(e){vt(this,vR,"f").push(e),this._emit("event",e)},A4=function(e){switch(e.event){case"thread.run.step.created":return vt(this,mo,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=vt(this,mo,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const s=La.accumulateDelta(r,n.delta);vt(this,mo,"f")[e.data.id]=s}return vt(this,mo,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":vt(this,mo,"f")[e.data.id]=e.data;break}if(vt(this,mo,"f")[e.data.id])return vt(this,mo,"f")[e.data.id];throw new Error("No snapshot available")},T4=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in r.content){let o=r.content[a.index];r.content[a.index]=vt(this,ti,"m",P4).call(this,a,o)}else r.content[a.index]=a,n.push(a);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},P4=function(e,r){return La.accumulateDelta(r,e)},D4=function(e){switch(ls(this,ob,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ls(this,dd,e.data,"f"),vt(this,fs,"f")&&(this._emit("toolCallDone",vt(this,fs,"f")),ls(this,fs,void 0,"f"));break}};class DF extends Pt{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/assistants/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/assistants/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/assistants",RF,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete("/assistants/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class RF extends Bn{}DF.AssistantsPage=RF;function R4(t){return typeof t.parse=="function"}const Hh=t=>(t==null?void 0:t.role)==="assistant",jZ=t=>(t==null?void 0:t.role)==="function",zZ=t=>(t==null?void 0:t.role)==="tool";function OF(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function p_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function PDe(t,e){return!e||!VZ(e)?{...t,choices:t.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:IF(t,e)}function IF(t,e){const r=t.choices.map(n=>{var s,a;if(n.finish_reason==="length")throw new SZ;if(n.finish_reason==="content_filter")throw new CZ;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:(a=(s=n.message.tool_calls)==null?void 0:s.map(o=>RDe(e,o)))!=null?a:void 0}:void 0,parsed:n.message.content&&!n.message.refusal?DDe(e,n.message.content):null}}});return{...t,choices:r}}function DDe(t,e){var r,n;return((r=t.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=t.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function RDe(t,e){var n;const r=(n=t.tools)==null?void 0:n.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:p_(r)?r.$parseRaw(e.function.arguments):r!=null&&r.function.strict?JSON.parse(e.function.arguments):null}}}function ODe(t,e){var n;if(!t)return!1;const r=(n=t.tools)==null?void 0:n.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return p_(r)||(r==null?void 0:r.function.strict)||!1}function VZ(t){var e,r;return OF(t.response_format)?!0:(r=(e=t.tools)==null?void 0:e.some(n=>p_(n)||n.type==="function"&&n.function.strict===!0))!=null?r:!1}function IDe(t){for(const e of t!=null?t:[]){if(e.type!=="function")throw new St("Currently only `function` tool types support auto-parsing; Received `".concat(e.type,"`"));if(e.function.strict!==!0)throw new St("The `".concat(e.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}var Gi=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},fi,yR,fx,_R,bR,wR,GZ,xR;const O4=10;class HZ extends PF{constructor(){super(...arguments),fi.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var n;this._chatCompletions.push(e),this._emit("chatCompletion",e);const r=(n=e.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),(jZ(e)||zZ(e))&&e.content)this._emit("functionCallResult",e.content);else if(Hh(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Hh(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new St("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Gi(this,fi,"m",yR).call(this)}async finalMessage(){return await this.done(),Gi(this,fi,"m",fx).call(this)}async finalFunctionCall(){return await this.done(),Gi(this,fi,"m",_R).call(this)}async finalFunctionCallResult(){return await this.done(),Gi(this,fi,"m",bR).call(this)}async totalUsage(){return await this.done(),Gi(this,fi,"m",wR).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const r=Gi(this,fi,"m",fx).call(this);r&&this._emit("finalMessage",r);const n=Gi(this,fi,"m",yR).call(this);n&&this._emit("finalContent",n);const s=Gi(this,fi,"m",_R).call(this);s&&this._emit("finalFunctionCall",s);const a=Gi(this,fi,"m",bR).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Gi(this,fi,"m",wR).call(this))}async _createChatCompletion(e,r,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Gi(this,fi,"m",GZ).call(this,r);const a=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(IF(a,r))}async _runChatCompletion(e,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,r,n)}async _runFunctions(e,r,n){var g;const s="function",{function_call:a="auto",stream:o,...l}=r,c=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:d=O4}=n||{},f={};for(const y of r.functions)f[y.name||y.function.name]=y;const p=r.functions.map(y=>({name:y.name||y.function.name,parameters:y.parameters,description:y.description}));for(const y of r.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const _=(g=(await this._createChatCompletion(e,{...l,function_call:a,functions:p,messages:[...this.messages]},n)).choices[0])==null?void 0:g.message;if(!_)throw new St("missing message in ChatCompletion response");if(!_.function_call)return;const{name:u,arguments:h}=_.function_call,m=f[u];if(m){if(c&&c!==u){const S="Invalid function_call: ".concat(JSON.stringify(u),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:s,name:u,content:S});continue}}else{const S="Invalid function_call: ".concat(JSON.stringify(u),". Available options are: ").concat(p.map(E=>JSON.stringify(E.name)).join(", "),". Please try again");this._addMessage({role:s,name:u,content:S});continue}let v;try{v=R4(m)?await m.parse(h):h}catch(S){this._addMessage({role:s,name:u,content:S instanceof Error?S.message:String(S)});continue}const w=await m.function(v,this),x=Gi(this,fi,"m",xR).call(this,w);if(this._addMessage({role:s,name:u,content:x}),c)return}}async _runTools(e,r,n){var y,b,_;const s="tool",{tool_choice:a="auto",stream:o,...l}=r,c=typeof a!="string"&&((y=a==null?void 0:a.function)==null?void 0:y.name),{maxChatCompletions:d=O4}=n||{},f=r.tools.map(u=>{if(p_(u)){if(!u.$callback)throw new St("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:u.$callback,name:u.function.name,description:u.function.description||"",parameters:u.function.parameters,parse:u.$parseRaw,strict:!0}}}return u}),p={};for(const u of f)u.type==="function"&&(p[u.function.name||u.function.function.name]=u.function);const g="tools"in r?f.map(u=>u.type==="function"?{type:"function",function:{name:u.function.name||u.function.function.name,parameters:u.function.parameters,description:u.function.description,strict:u.function.strict}}:u):void 0;for(const u of r.messages)this._addMessage(u,!1);for(let u=0;u<d;++u){const m=(b=(await this._createChatCompletion(e,{...l,tool_choice:a,tools:g,messages:[...this.messages]},n)).choices[0])==null?void 0:b.message;if(!m)throw new St("missing message in ChatCompletion response");if(!((_=m.tool_calls)!=null&&_.length))return;for(const v of m.tool_calls){if(v.type!=="function")continue;const w=v.id,{name:x,arguments:S}=v.function,E=p[x];if(E){if(c&&c!==x){const R="Invalid tool_call: ".concat(JSON.stringify(x),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:s,tool_call_id:w,content:R});continue}}else{const R="Invalid tool_call: ".concat(JSON.stringify(x),". Available options are: ").concat(Object.keys(p).map(D=>JSON.stringify(D)).join(", "),". Please try again");this._addMessage({role:s,tool_call_id:w,content:R});continue}let P;try{P=R4(E)?await E.parse(S):S}catch(R){const D=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:w,content:D});continue}const T=await E.function(P,this),A=Gi(this,fi,"m",xR).call(this,T);if(this._addMessage({role:s,tool_call_id:w,content:A}),c)return}}}}fi=new WeakSet,yR=function(){var e;return(e=Gi(this,fi,"m",fx).call(this).content)!=null?e:null},fx=function(){var r,n;let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(Hh(s)){const{function_call:a,...o}=s,l={...o,content:(r=s.content)!=null?r:null,refusal:(n=s.refusal)!=null?n:null};return a&&(l.function_call=a),l}}throw new St("stream ended without producing a ChatCompletionMessage with role=assistant")},_R=function(){var e,r;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(Hh(s)&&(s!=null&&s.function_call))return s.function_call;if(Hh(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(r=s.tool_calls.at(-1))==null?void 0:r.function}},bR=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(jZ(r)&&r.content!=null||zZ(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===r.tool_call_id))}))return r.content}},wR=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},GZ=function(e){if(e.n!=null&&e.n>1)throw new St("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},xR=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class fy extends HZ{static runFunctions(e,r,n){const s=new fy,a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,a)),s}static runTools(e,r,n){const s=new fy,a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,a)),s}_addMessage(e,r=!0){super._addMessage(e,r),Hh(e)&&e.content&&this._emit("content",e.content)}}const WZ=1,KZ=2,XZ=4,YZ=8,qZ=16,ZZ=32,JZ=64,QZ=128,eJ=256,tJ=QZ|eJ,rJ=qZ|ZZ|tJ|JZ,nJ=WZ|KZ|rJ,iJ=XZ|YZ,BDe=nJ|iJ,Ln={STR:WZ,NUM:KZ,ARR:XZ,OBJ:YZ,NULL:qZ,BOOL:ZZ,NAN:JZ,INFINITY:QZ,MINUS_INFINITY:eJ,INF:tJ,SPECIAL:rJ,ATOM:nJ,COLLECTION:iJ,ALL:BDe};class FDe extends Error{}class MDe extends Error{}function kDe(t,e=Ln.ALL){if(typeof t!="string")throw new TypeError("expecting str, got ".concat(typeof t));if(!t.trim())throw new Error("".concat(t," is empty"));return NDe(t.trim(),e)}const NDe=(t,e)=>{const r=t.length;let n=0;const s=g=>{throw new FDe("".concat(g," at position ").concat(n))},a=g=>{throw new MDe("".concat(g," at position ").concat(n))},o=()=>(p(),n>=r&&s("Unexpected end of input"),t[n]==='"'?l():t[n]==="{"?c():t[n]==="["?d():t.substring(n,n+4)==="null"||Ln.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Ln.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Ln.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Ln.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Ln.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Ln.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):f()),l=()=>{const g=n;let y=!1;for(n++;n<r&&(t[n]!=='"'||y&&t[n-1]==="\\");)y=t[n]==="\\"?!y:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(g,++n-Number(y)))}catch(b){a(String(b))}else if(Ln.STR&e)try{return JSON.parse(t.substring(g,n-Number(y))+'"')}catch(b){return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{n++,p();const g={};try{for(;t[n]!=="}";){if(p(),n>=r&&Ln.OBJ&e)return g;const y=l();p(),n++;try{const b=o();Object.defineProperty(g,y,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(Ln.OBJ&e)return g;throw b}p(),t[n]===","&&n++}}catch(y){if(Ln.OBJ&e)return g;s("Expected '}' at end of object")}return n++,g},d=()=>{n++;const g=[];try{for(;t[n]!=="]";)g.push(o()),p(),t[n]===","&&n++}catch(y){if(Ln.ARR&e)return g;s("Expected ']' at end of array")}return n++,g},f=()=>{if(n===0){t==="-"&&Ln.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(Ln.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch(b){}a(String(y))}}const g=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Ln.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(g,n))}catch(y){t.substring(g,n)==="-"&&Ln.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(b){a(String(b))}}},p=()=>{for(;n<r&&" \n\r	".includes(t[n]);)n++};return o()},I4=t=>kDe(t,Ln.ALL^Ln.NUM);var Lf=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},gr=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},An,Yo,Uf,tu,vT,Y0,yT,_T,bT,q0,wT,B4;class hy extends HZ{constructor(e){super(),An.add(this),Yo.set(this,void 0),Uf.set(this,void 0),tu.set(this,void 0),Lf(this,Yo,e,"f"),Lf(this,Uf,[],"f")}get currentChatCompletionSnapshot(){return gr(this,tu,"f")}static fromReadableStream(e){const r=new hy(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){const s=new hy(r);return s._run(()=>s._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,r,n){var o;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),gr(this,An,"m",vT).call(this);const a=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of a)gr(this,An,"m",yT).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new aa;return this._addChatCompletion(gr(this,An,"m",q0).call(this))}async _fromReadableStream(e,r){var o;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),gr(this,An,"m",vT).call(this),this._connected();const s=So.fromReadableStream(e,this.controller);let a;for await(const l of s)a&&a!==l.id&&this._addChatCompletion(gr(this,An,"m",q0).call(this)),gr(this,An,"m",yT).call(this,l),a=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new aa;return this._addChatCompletion(gr(this,An,"m",q0).call(this))}[(Yo=new WeakMap,Uf=new WeakMap,tu=new WeakMap,An=new WeakSet,vT=function(){this.ended||Lf(this,tu,void 0,"f")},Y0=function(r){let n=gr(this,Uf,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},gr(this,Uf,"f")[r.index]=n,n)},yT=function(r){var s,a,o,l,c,d,f,p,g,y,b,_,u,h,m,v,w,x,S,E;if(this.ended)return;const n=gr(this,An,"m",B4).call(this,r);this._emit("chunk",r,n);for(const P of r.choices){const T=n.choices[P.index];P.delta.content!=null&&((s=T.message)==null?void 0:s.role)==="assistant"&&((a=T.message)!=null&&a.content)&&(this._emit("content",P.delta.content,T.message.content),this._emit("content.delta",{delta:P.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),P.delta.refusal!=null&&((o=T.message)==null?void 0:o.role)==="assistant"&&((l=T.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:P.delta.refusal,snapshot:T.message.refusal}),((c=P.logprobs)==null?void 0:c.content)!=null&&((d=T.message)==null?void 0:d.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=P.logprobs)==null?void 0:f.content,snapshot:(g=(p=T.logprobs)==null?void 0:p.content)!=null?g:[]}),((y=P.logprobs)==null?void 0:y.refusal)!=null&&((b=T.message)==null?void 0:b.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(_=P.logprobs)==null?void 0:_.refusal,snapshot:(h=(u=T.logprobs)==null?void 0:u.refusal)!=null?h:[]});const A=gr(this,An,"m",Y0).call(this,T);T.finish_reason&&(gr(this,An,"m",bT).call(this,T),A.current_tool_call_index!=null&&gr(this,An,"m",_T).call(this,T,A.current_tool_call_index));for(const R of(m=P.delta.tool_calls)!=null?m:[])A.current_tool_call_index!==R.index&&(gr(this,An,"m",bT).call(this,T),A.current_tool_call_index!=null&&gr(this,An,"m",_T).call(this,T,A.current_tool_call_index)),A.current_tool_call_index=R.index;for(const R of(v=P.delta.tool_calls)!=null?v:[]){const D=(w=T.message.tool_calls)==null?void 0:w[R.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=D.function)==null?void 0:x.name,index:R.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:(E=(S=R.function)==null?void 0:S.arguments)!=null?E:""}):(D==null||D.type,void 0))}}},_T=function(r,n){var o,l,c;if(gr(this,An,"m",Y0).call(this,r).done_tool_calls.has(n))return;const a=(o=r.message.tool_calls)==null?void 0:o[n];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const d=(c=(l=gr(this,Yo,"f"))==null?void 0:l.tools)==null?void 0:c.find(f=>f.type==="function"&&f.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:n,arguments:a.function.arguments,parsed_arguments:p_(d)?d.$parseRaw(a.function.arguments):d!=null&&d.function.strict?JSON.parse(a.function.arguments):null})}else a.type},bT=function(r){var s,a;const n=gr(this,An,"m",Y0).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const o=gr(this,An,"m",wT).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(s=r.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(a=r.logprobs)!=null&&a.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},q0=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");const r=gr(this,tu,"f");if(!r)throw new St("request ended without sending any chunks");return Lf(this,tu,void 0,"f"),Lf(this,Uf,[],"f"),LDe(r,gr(this,Yo,"f"))},wT=function(){var n;const r=(n=gr(this,Yo,"f"))==null?void 0:n.response_format;return OF(r)?r:null},B4=function(r){var f,p,g,y,b,_;var n,s,a,o;let l=gr(this,tu,"f");const{choices:c,...d}=r;l?Object.assign(l,d):l=Lf(this,tu,{...d,choices:[]},"f");for(const{delta:u,finish_reason:h,index:m,logprobs:v=null,...w}of r.choices){let x=l.choices[m];if(x||(x=l.choices[m]={finish_reason:h,index:m,message:{},logprobs:v,...w}),v)if(!x.logprobs)x.logprobs=Object.assign({},v);else{const{content:D,refusal:O,...I}=v;Object.assign(x.logprobs,I),D&&((f=(n=x.logprobs).content)!=null||(n.content=[]),x.logprobs.content.push(...D)),O&&((p=(s=x.logprobs).refusal)!=null||(s.refusal=[]),x.logprobs.refusal.push(...O))}if(h&&(x.finish_reason=h,gr(this,Yo,"f")&&VZ(gr(this,Yo,"f")))){if(h==="length")throw new SZ;if(h==="content_filter")throw new CZ}if(Object.assign(x,w),!u)continue;const{content:S,refusal:E,function_call:P,role:T,tool_calls:A,...R}=u;if(Object.assign(x.message,R),E&&(x.message.refusal=(x.message.refusal||"")+E),T&&(x.message.role=T),P&&(x.message.function_call?(P.name&&(x.message.function_call.name=P.name),P.arguments&&((g=(a=x.message.function_call).arguments)!=null||(a.arguments=""),x.message.function_call.arguments+=P.arguments)):x.message.function_call=P),S&&(x.message.content=(x.message.content||"")+S,!x.message.refusal&&gr(this,An,"m",wT).call(this)&&(x.message.parsed=I4(x.message.content))),A){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:D,id:O,type:I,function:M,...G}of A){const j=(y=(o=x.message.tool_calls)[D])!=null?y:o[D]={};Object.assign(j,G),O&&(j.id=O),I&&(j.type=I),M&&((_=j.function)!=null||(j.function={name:(b=M.name)!=null?b:"",arguments:""})),M!=null&&M.name&&(j.function.name=M.name),M!=null&&M.arguments&&(j.function.arguments+=M.arguments,ODe(gr(this,Yo,"f"),j)&&(j.function.parsed_arguments=I4(j.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("chunk",s=>{const a=r.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new So(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function LDe(t,e){const{id:r,choices:n,created:s,model:a,system_fingerprint:o,...l}=t,c={...l,id:r,choices:n.map(({message:d,finish_reason:f,index:p,logprobs:g,...y})=>{var v,w,x;if(!f)throw new St("missing finish_reason for choice ".concat(p));const{content:b=null,function_call:_,tool_calls:u,...h}=d,m=d.role;if(!m)throw new St("missing role for choice ".concat(p));if(_){const{arguments:S,name:E}=_;if(S==null)throw new St("missing function_call.arguments for choice ".concat(p));if(!E)throw new St("missing function_call.name for choice ".concat(p));return{...y,message:{content:b,function_call:{arguments:S,name:E},role:m,refusal:(v=d.refusal)!=null?v:null},finish_reason:f,index:p,logprobs:g}}return u?{...y,index:p,finish_reason:f,logprobs:g,message:{...h,role:m,content:b,refusal:(w=d.refusal)!=null?w:null,tool_calls:u.map((S,E)=>{const{function:P,type:T,id:A,...R}=S,{arguments:D,name:O,...I}=P||{};if(A==null)throw new St("missing choices[".concat(p,"].tool_calls[").concat(E,"].id\n").concat(Z0(t)));if(T==null)throw new St("missing choices[".concat(p,"].tool_calls[").concat(E,"].type\n").concat(Z0(t)));if(O==null)throw new St("missing choices[".concat(p,"].tool_calls[").concat(E,"].function.name\n").concat(Z0(t)));if(D==null)throw new St("missing choices[".concat(p,"].tool_calls[").concat(E,"].function.arguments\n").concat(Z0(t)));return{...R,id:A,type:T,function:{...I,name:O,arguments:D}}})}}:{...y,message:{...h,content:b,role:m,refusal:(x=d.refusal)!=null?x:null},finish_reason:f,index:p,logprobs:g}}),created:s,model:a,object:"chat.completion",...o?{system_fingerprint:o}:{}};return PDe(c,e)}function Z0(t){return JSON.stringify(t)}class Wh extends hy{static fromReadableStream(e){const r=new Wh(null);return r._run(()=>r._fromReadableStream(e)),r}static runFunctions(e,r,n){const s=new Wh(null),a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,a)),s}static runTools(e,r,n){const s=new Wh(r),a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,a)),s}}let sJ=class extends Pt{parse(e,r){return IDe(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>IF(n,e))}runFunctions(e,r){return e.stream?Wh.runFunctions(this._client,e,r):fy.runFunctions(this._client,e,r)}runTools(e,r){return e.stream?Wh.runTools(this._client,e,r):fy.runTools(this._client,e,r)}stream(e,r){return hy.createChatCompletion(this._client,e,r)}};class ER extends Pt{constructor(){super(...arguments),this.completions=new sJ(this._client)}}(function(t){t.Completions=sJ})(ER||(ER={}));class aJ extends Pt{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class oJ extends Pt{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class pS extends Pt{constructor(){super(...arguments),this.sessions=new aJ(this._client),this.transcriptionSessions=new oJ(this._client)}}pS.Sessions=aJ;pS.TranscriptionSessions=oJ;class BF extends Pt{create(e,r,n){return this._client.post("/threads/".concat(e,"/messages"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/threads/".concat(e,"/messages/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/threads/".concat(e,"/messages/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/threads/".concat(e,"/messages"),FF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete("/threads/".concat(e,"/messages/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class FF extends Bn{}BF.MessagesPage=FF;class MF extends Pt{retrieve(e,r,n,s={},a){return rn(s)?this.retrieve(e,r,n,{},s):this._client.get("/threads/".concat(e,"/runs/").concat(r,"/steps/").concat(n),{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,r,n={},s){return rn(n)?this.list(e,r,{},n):this._client.getAPIList("/threads/".concat(e,"/runs/").concat(r,"/steps"),kF,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class kF extends Bn{}MF.RunStepsPage=kF;let m_=class extends Pt{constructor(){super(...arguments),this.steps=new MF(this._client)}create(e,r,n){var o;const{include:s,...a}=r;return this._client.post("/threads/".concat(e,"/runs"),{query:{include:s},body:a,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:(o=r.stream)!=null?o:!1})}retrieve(e,r,n){return this._client.get("/threads/".concat(e,"/runs/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/threads/".concat(e,"/runs/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/threads/".concat(e,"/runs"),NF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post("/threads/".concat(e,"/runs/").concat(r,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}createAndStream(e,r,n){return La.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,r,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await f_(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,r,n){return La.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n,s){var a;return this._client.post("/threads/".concat(e,"/runs/").concat(r,"/submit_tool_outputs"),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:(a=n.stream)!=null?a:!1})}async submitToolOutputsAndPoll(e,r,n,s){const a=await this.submitToolOutputs(e,r,n,s);return await this.poll(e,a.id,s)}submitToolOutputsStream(e,r,n,s){return La.createToolAssistantStream(e,r,this._client.beta.threads.runs,n,s)}};class NF extends Bn{}m_.RunsPage=NF;m_.Steps=MF;m_.RunStepsPage=kF;class Yp extends Pt{constructor(){super(...arguments),this.runs=new m_(this._client),this.messages=new BF(this._client)}create(e={},r){return rn(e)?this.create({},e):this._client.post("/threads",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/threads/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/threads/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r){return this._client.delete("/threads/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(e,r){var n;return this._client.post("/threads/runs",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:(n=e.stream)!=null?n:!1})}async createAndRunPoll(e,r){const n=await this.createAndRun(e,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(e,r){return La.createThreadAssistantStream(e,this._client.beta.threads,r)}}Yp.Runs=m_;Yp.RunsPage=NF;Yp.Messages=BF;Yp.MessagesPage=FF;class qp extends Pt{constructor(){super(...arguments),this.realtime=new pS(this._client),this.chat=new ER(this._client),this.assistants=new DF(this._client),this.threads=new Yp(this._client)}}qp.Realtime=pS;qp.Assistants=DF;qp.AssistantsPage=RF;qp.Threads=Yp;class lJ extends Pt{create(e,r){var n;return this._client.post("/completions",{body:e,...r,stream:(n=e.stream)!=null?n:!1})}}class uJ extends Pt{retrieve(e,r,n){return this._client.get("/containers/".concat(e,"/files/").concat(r,"/content"),{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}}let mS=class extends Pt{constructor(){super(...arguments),this.content=new uJ(this._client)}create(e,r,n){return this._client.post("/containers/".concat(e,"/files"),ef({body:r,...n}))}retrieve(e,r,n){return this._client.get("/containers/".concat(e,"/files/").concat(r),n)}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/containers/".concat(e,"/files"),LF,{query:r,...n})}del(e,r,n){return this._client.delete("/containers/".concat(e,"/files/").concat(r),{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}};class LF extends Bn{}mS.FileListResponsesPage=LF;mS.Content=uJ;class g_ extends Pt{constructor(){super(...arguments),this.files=new mS(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get("/containers/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/containers",UF,{query:e,...r})}del(e,r){return this._client.delete("/containers/".concat(e),{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}class UF extends Bn{}g_.ContainerListResponsesPage=UF;g_.Files=mS;g_.FileListResponsesPage=LF;class cJ extends Pt{create(e,r){const n=!!e.encoding_format;let s=n?e.encoding_format:"base64";n&&Wu("Request","User defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:s},...r});return n?a:(Wu("response","Decoding base64 embeddings to float32 array"),a._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const c=l.embedding;l.embedding=ADe(c)}),o)))}}class $F extends Pt{retrieve(e,r,n,s){return this._client.get("/evals/".concat(e,"/runs/").concat(r,"/output_items/").concat(n),s)}list(e,r,n={},s){return rn(n)?this.list(e,r,{},n):this._client.getAPIList("/evals/".concat(e,"/runs/").concat(r,"/output_items"),jF,{query:n,...s})}}class jF extends Bn{}$F.OutputItemListResponsesPage=jF;class v_ extends Pt{constructor(){super(...arguments),this.outputItems=new $F(this._client)}create(e,r,n){return this._client.post("/evals/".concat(e,"/runs"),{body:r,...n})}retrieve(e,r,n){return this._client.get("/evals/".concat(e,"/runs/").concat(r),n)}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/evals/".concat(e,"/runs"),zF,{query:r,...n})}del(e,r,n){return this._client.delete("/evals/".concat(e,"/runs/").concat(r),n)}cancel(e,r,n){return this._client.post("/evals/".concat(e,"/runs/").concat(r),n)}}class zF extends Bn{}v_.RunListResponsesPage=zF;v_.OutputItems=$F;v_.OutputItemListResponsesPage=jF;class y_ extends Pt{constructor(){super(...arguments),this.runs=new v_(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get("/evals/".concat(e),r)}update(e,r,n){return this._client.post("/evals/".concat(e),{body:r,...n})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/evals",VF,{query:e,...r})}del(e,r){return this._client.delete("/evals/".concat(e),r)}}class VF extends Bn{}y_.EvalListResponsesPage=VF;y_.Runs=v_;y_.RunListResponsesPage=zF;let GF=class extends Pt{create(e,r){return this._client.post("/files",ef({body:e,...r}))}retrieve(e,r){return this._client.get("/files/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/files",HF,{query:e,...r})}del(e,r){return this._client.delete("/files/".concat(e),r)}content(e,r){return this._client.get("/files/".concat(e,"/content"),{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(e,r){return this._client.get("/files/".concat(e,"/content"),r)}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await f_(r),o=await this.retrieve(e),Date.now()-a>n)throw new CF({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return o}};class HF extends Bn{}GF.FileObjectsPage=HF;class dJ extends Pt{}let fJ=class extends Pt{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};class WF extends Pt{constructor(){super(...arguments),this.graders=new fJ(this._client)}}WF.Graders=fJ;class KF extends Pt{create(e,r,n){return this._client.getAPIList("/fine_tuning/checkpoints/".concat(e,"/permissions"),XF,{body:r,method:"post",...n})}retrieve(e,r={},n){return rn(r)?this.retrieve(e,{},r):this._client.get("/fine_tuning/checkpoints/".concat(e,"/permissions"),{query:r,...n})}del(e,r,n){return this._client.delete("/fine_tuning/checkpoints/".concat(e,"/permissions/").concat(r),n)}}class XF extends cS{}KF.PermissionCreateResponsesPage=XF;let gS=class extends Pt{constructor(){super(...arguments),this.permissions=new KF(this._client)}};gS.Permissions=KF;gS.PermissionCreateResponsesPage=XF;class YF extends Pt{list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/checkpoints"),qF,{query:r,...n})}}class qF extends Bn{}YF.FineTuningJobCheckpointsPage=qF;class Zp extends Pt{constructor(){super(...arguments),this.checkpoints=new YF(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get("/fine_tuning/jobs/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",ZF,{query:e,...r})}cancel(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/cancel"),r)}listEvents(e,r={},n){return rn(r)?this.listEvents(e,{},r):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),JF,{query:r,...n})}pause(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/pause"),r)}resume(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/resume"),r)}}class ZF extends Bn{}class JF extends Bn{}Zp.FineTuningJobsPage=ZF;Zp.FineTuningJobEventsPage=JF;Zp.Checkpoints=YF;Zp.FineTuningJobCheckpointsPage=qF;class Ac extends Pt{constructor(){super(...arguments),this.methods=new dJ(this._client),this.jobs=new Zp(this._client),this.checkpoints=new gS(this._client),this.alpha=new WF(this._client)}}Ac.Methods=dJ;Ac.Jobs=Zp;Ac.FineTuningJobsPage=ZF;Ac.FineTuningJobEventsPage=JF;Ac.Checkpoints=gS;Ac.Alpha=WF;class hJ extends Pt{}class QF extends Pt{constructor(){super(...arguments),this.graderModels=new hJ(this._client)}}QF.GraderModels=hJ;class pJ extends Pt{createVariation(e,r){return this._client.post("/images/variations",ef({body:e,...r}))}edit(e,r){return this._client.post("/images/edits",ef({body:e,...r}))}generate(e,r){return this._client.post("/images/generations",{body:e,...r})}}class eM extends Pt{retrieve(e,r){return this._client.get("/models/".concat(e),r)}list(e){return this._client.getAPIList("/models",tM,e)}del(e,r){return this._client.delete("/models/".concat(e),r)}}class tM extends cS{}eM.ModelsPage=tM;class mJ extends Pt{create(e,r){return this._client.post("/moderations",{body:e,...r})}}function UDe(t,e){return!e||!jDe(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:gJ(t,e)}function gJ(t,e){const r=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:GDe(e,s)};if(s.type==="message"){const a=s.content.map(o=>o.type==="output_text"?{...o,parsed:$De(e,o.text)}:o);return{...s,content:a}}return s}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||vJ(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const s of n.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),n}function $De(t,e){var r,n,s,a;return((n=(r=t.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((a=t.text)==null?void 0:a.format).$parseRaw(e):JSON.parse(e)}function jDe(t){var e;return!!OF((e=t.text)==null?void 0:e.format)}function zDe(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function VDe(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function GDe(t,e){var n;const r=VDe((n=t.tools)!=null?n:[],e.name);return{...e,...e,parsed_arguments:zDe(r)?r.$parseRaw(e.arguments):r!=null&&r.strict?JSON.parse(e.arguments):null}}function vJ(t){const e=[];for(const r of t.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}class yJ extends Pt{list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/responses/".concat(e,"/input_items"),WDe,{query:r,...n})}}var $f=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ru=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jf,J0,nu,Q0,F4,M4,k4,N4;class rM extends PF{constructor(e){super(),jf.add(this),J0.set(this,void 0),nu.set(this,void 0),Q0.set(this,void 0),$f(this,J0,e,"f")}static createResponse(e,r,n){const s=new rM(r);return s._run(()=>s._createOrRetrieveResponse(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,r,n){var l,c;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ru(this,jf,"m",F4).call(this);let a,o=null;"response_id"in r?(a=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),o=(l=r.starting_after)!=null?l:null):a=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const d of a)ru(this,jf,"m",M4).call(this,d,o);if((c=a.controller.signal)!=null&&c.aborted)throw new aa;return ru(this,jf,"m",k4).call(this)}[(J0=new WeakMap,nu=new WeakMap,Q0=new WeakMap,jf=new WeakSet,F4=function(){this.ended||$f(this,nu,void 0,"f")},M4=function(r,n){if(this.ended)return;const s=(o,l)=>{(n==null||l.sequence_number>n)&&this._emit(o,l)},a=ru(this,jf,"m",N4).call(this,r);switch(s("event",r),r.type){case"response.output_text.delta":{const o=a.output[r.output_index];if(!o)throw new St("missing output at index ".concat(r.output_index));if(o.type==="message"){const l=o.content[r.content_index];if(!l)throw new St("missing content at index ".concat(r.content_index));if(l.type!=="output_text")throw new St("expected content to be 'output_text', got ".concat(l.type));s("response.output_text.delta",{...r,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const o=a.output[r.output_index];if(!o)throw new St("missing output at index ".concat(r.output_index));o.type==="function_call"&&s("response.function_call_arguments.delta",{...r,snapshot:o.arguments});break}default:s(r.type,r);break}},k4=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");const r=ru(this,nu,"f");if(!r)throw new St("request ended without sending any events");$f(this,nu,void 0,"f");const n=HDe(r,ru(this,J0,"f"));return $f(this,Q0,n,"f"),n},N4=function(r){let n=ru(this,nu,"f");if(!n){if(r.type!=="response.created")throw new St("When snapshot hasn't been set yet, expected 'response.created' event, got ".concat(r.type));return n=$f(this,nu,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const s=n.output[r.output_index];if(!s)throw new St("missing output at index ".concat(r.output_index));s.type==="message"&&s.content.push(r.part);break}case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new St("missing output at index ".concat(r.output_index));if(s.type==="message"){const a=s.content[r.content_index];if(!a)throw new St("missing content at index ".concat(r.content_index));if(a.type!=="output_text")throw new St("expected content to be 'output_text', got ".concat(a.type));a.text+=r.delta}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new St("missing output at index ".concat(r.output_index));s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.completed":{$f(this,nu,r.response,"f");break}}return n},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const a=r.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ru(this,Q0,"f");if(!e)throw new St("stream ended without producing a ChatCompletion");return e}}function HDe(t,e){return UDe(t,e)}class nM extends Pt{constructor(){super(...arguments),this.inputItems=new yJ(this._client)}create(e,r){var n;return this._client.post("/responses",{body:e,...r,stream:(n=e.stream)!=null?n:!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&vJ(s),s))}retrieve(e,r={},n){var s;return this._client.get("/responses/".concat(e),{query:r,...n,stream:(s=r==null?void 0:r.stream)!=null?s:!1})}del(e,r){return this._client.delete("/responses/".concat(e),{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>gJ(n,e))}stream(e,r){return rM.createResponse(this._client,e,r)}cancel(e,r){return this._client.post("/responses/".concat(e,"/cancel"),{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}class WDe extends Bn{}nM.InputItems=yJ;class _J extends Pt{create(e,r,n){return this._client.post("/uploads/".concat(e,"/parts"),ef({body:r,...n}))}}class iM extends Pt{constructor(){super(...arguments),this.parts=new _J(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post("/uploads/".concat(e,"/cancel"),r)}complete(e,r,n){return this._client.post("/uploads/".concat(e,"/complete"),{body:r,...n})}}iM.Parts=_J;const KDe=async t=>{const e=await Promise.allSettled(t),r=e.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error("".concat(r.length," promise(s) failed - see the above errors"))}const n=[];for(const s of e)s.status==="fulfilled"&&n.push(s.value);return n};class vS extends Pt{create(e,r,n){return this._client.post("/vector_stores/".concat(e,"/files"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/vector_stores/".concat(e,"/files/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/vector_stores/".concat(e,"/files/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/vector_stores/".concat(e,"/files"),yS,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete("/vector_stores/".concat(e,"/files/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const a=await this.retrieve(e,r,{...n,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=a.response.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await f_(l);break;case"failed":case"completed":return o}}}async upload(e,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:s.id},n)}async uploadAndPoll(e,r,n){const s=await this.upload(e,r,n);return await this.poll(e,s.id,n)}content(e,r,n){return this._client.getAPIList("/vector_stores/".concat(e,"/files/").concat(r,"/content"),sM,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class yS extends Bn{}class sM extends cS{}vS.VectorStoreFilesPage=yS;vS.FileContentResponsesPage=sM;class bJ extends Pt{create(e,r,n){return this._client.post("/vector_stores/".concat(e,"/file_batches"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/vector_stores/".concat(e,"/file_batches/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post("/vector_stores/".concat(e,"/file_batches/").concat(r,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r);return await this.poll(e,s.id,n)}listFiles(e,r,n={},s){return rn(n)?this.listFiles(e,r,{},n):this._client.getAPIList("/vector_stores/".concat(e,"/file_batches/").concat(r,"/files"),yS,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,r,{...n,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await f_(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},s){var g;if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(g=s==null?void 0:s.maxConcurrency)!=null?g:5,o=Math.min(a,r.length),l=this._client,c=r.values(),d=[...n];async function f(y){for(let b of y){const _=await l.files.create({file:b,purpose:"assistants"},s);d.push(_.id)}}const p=Array(o).fill(c).map(f);return await KDe(p),await this.createAndPoll(e,{file_ids:d})}}class Tc extends Pt{constructor(){super(...arguments),this.files=new vS(this._client),this.fileBatches=new bJ(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/vector_stores/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/vector_stores/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/vector_stores",aM,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete("/vector_stores/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}search(e,r,n){return this._client.getAPIList("/vector_stores/".concat(e,"/search"),oM,{body:r,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class aM extends Bn{}class oM extends cS{}Tc.VectorStoresPage=aM;Tc.VectorStoreSearchResponsesPage=oM;Tc.Files=vS;Tc.VectorStoreFilesPage=yS;Tc.FileContentResponsesPage=sM;Tc.FileBatches=bJ;var wJ;class Nt extends pDe{constructor({baseURL:e=K0("OPENAI_BASE_URL"),apiKey:r=K0("OPENAI_API_KEY"),organization:n=(o=>(o=K0("OPENAI_ORG_ID"))!=null?o:null)(),project:s=(l=>(l=K0("OPENAI_PROJECT_ID"))!=null?l:null)(),...a}={}){var d;if(r===void 0)throw new St("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const c={apiKey:r,organization:n,project:s,...a,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&SDe())throw new St("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:c.baseURL,timeout:(d=c.timeout)!=null?d:6e5,httpAgent:c.httpAgent,maxRetries:c.maxRetries,fetch:c.fetch}),this.completions=new lJ(this),this.chat=new hS(this),this.embeddings=new cJ(this),this.files=new GF(this),this.images=new pJ(this),this.audio=new h_(this),this.moderations=new mJ(this),this.models=new eM(this),this.fineTuning=new Ac(this),this.graders=new QF(this),this.vectorStores=new Tc(this),this.beta=new qp(this),this.batches=new AF(this),this.uploads=new iM(this),this.responses=new nM(this),this.evals=new y_(this),this.containers=new g_(this),this._options=c,this.apiKey=r,this.organization=n,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:"Bearer ".concat(this.apiKey)}}stringifyQuery(e){return qPe(e,{arrayFormat:"brackets"})}}wJ=Nt;Nt.OpenAI=wJ;Nt.DEFAULT_TIMEOUT=6e5;Nt.OpenAIError=St;Nt.APIError=li;Nt.APIConnectionError=aS;Nt.APIConnectionTimeoutError=CF;Nt.APIUserAbortError=aa;Nt.NotFoundError=_Z;Nt.ConflictError=bZ;Nt.RateLimitError=xZ;Nt.BadRequestError=gZ;Nt.AuthenticationError=vZ;Nt.InternalServerError=EZ;Nt.PermissionDeniedError=yZ;Nt.UnprocessableEntityError=wZ;Nt.toFile=DZ;Nt.fileFromPath=hZ;Nt.Completions=lJ;Nt.Chat=hS;Nt.ChatCompletionsPage=fS;Nt.Embeddings=cJ;Nt.Files=GF;Nt.FileObjectsPage=HF;Nt.Images=pJ;Nt.Audio=h_;Nt.Moderations=mJ;Nt.Models=eM;Nt.ModelsPage=tM;Nt.FineTuning=Ac;Nt.Graders=QF;Nt.VectorStores=Tc;Nt.VectorStoresPage=aM;Nt.VectorStoreSearchResponsesPage=oM;Nt.Beta=qp;Nt.Batches=AF;Nt.BatchesPage=TF;Nt.Uploads=iM;Nt.Responses=nM;Nt.Evals=y_;Nt.EvalListResponsesPage=VF;Nt.Containers=g_;Nt.ContainerListResponsesPage=UF;const _Qe=Nt;var xJ=["PageUp","PageDown"],EJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Jp="Slider",[SR,XDe,YDe]=zp(Jp),[CJ,bQe]=Qn(Jp,[YDe]),[qDe,_S]=CJ(Jp),AJ=C.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:b,..._}=t,u=C.useRef(new Set),h=C.useRef(0),v=o==="horizontal"?ZDe:JDe,[w=[],x]=wi({prop:f,defaultProp:d,onChange:R=>{var O;(O=[...u.current][h.current])==null||O.focus(),p(R)}}),S=C.useRef(w);function E(R){const D=n2e(w,R);A(R,D)}function P(R){A(R,h.current)}function T(){const R=S.current[h.current];w[h.current]!==R&&g(w)}function A(R,D,{commit:O}={commit:!1}){const I=o2e(a),M=l2e(Math.round((R-n)/a)*a+n,I),G=qv(M,[n,s]);x((j=[])=>{const $=t2e(j,G,D);if(a2e($,c*a)){h.current=$.indexOf(G);const H=String($)!==String(j);return H&&O&&g($),H?$:j}else return j})}return k.jsx(qDe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:h,thumbs:u.current,values:w,orientation:o,form:b,children:k.jsx(SR.Provider,{scope:t.__scopeSlider,children:k.jsx(SR.Slot,{scope:t.__scopeSlider,children:k.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,..._,ref:e,onPointerDown:Ce(_.onPointerDown,()=>{l||(S.current=w)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,w.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:D})=>{if(!l){const M=xJ.includes(R.key)||R.shiftKey&&EJ.includes(R.key)?10:1,G=h.current,j=w[G],$=a*M*D;A(j+$,G,{commit:!0})}}})})})})});AJ.displayName=Jp;var[TJ,PJ]=CJ(Jp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ZDe=C.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[p,g]=C.useState(null),y=Et(e,v=>g(v)),b=C.useRef(void 0),_=zl(s),u=_==="ltr",h=u&&!a||!u&&a;function m(v){const w=b.current||p.getBoundingClientRect(),x=[0,w.width],E=lM(x,h?[r,n]:[n,r]);return b.current=w,E(v-w.left)}return k.jsx(TJ,{scope:t.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:k.jsx(DJ,{dir:_,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const w=m(v.clientX);o==null||o(w)},onSlideMove:v=>{const w=m(v.clientX);l==null||l(w)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:v=>{const x=SJ[h?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:x?-1:1})}})})}),JDe=C.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=C.useRef(null),p=Et(e,f),g=C.useRef(void 0),y=!s;function b(_){const u=g.current||f.current.getBoundingClientRect(),h=[0,u.height],v=lM(h,y?[n,r]:[r,n]);return g.current=u,v(_-u.top)}return k.jsx(TJ,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:k.jsx(DJ,{"data-orientation":"vertical",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const u=b(_.clientY);a==null||a(u)},onSlideMove:_=>{const u=b(_.clientY);o==null||o(u)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:_=>{const h=SJ[y?"from-bottom":"from-top"].includes(_.key);c==null||c({event:_,direction:h?-1:1})}})})}),DJ=C.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=_S(Jp,r);return k.jsx(rt.span,{...d,ref:e,onKeyDown:Ce(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):xJ.concat(EJ).includes(p.key)&&(c(p),p.preventDefault())}),onPointerDown:Ce(t.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),f.thumbs.has(g)?g.focus():n(p)}),onPointerMove:Ce(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:Ce(t.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),a(p))})})}),RJ="SliderTrack",OJ=C.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_S(RJ,r);return k.jsx(rt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});OJ.displayName=RJ;var CR="SliderRange",IJ=C.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_S(CR,r),a=PJ(CR,r),o=C.useRef(null),l=Et(e,o),c=s.values.length,d=s.values.map(g=>MJ(g,s.min,s.max)),f=c>1?Math.min(...d):0,p=100-Math.max(...d);return k.jsx(rt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:f+"%",[a.endEdge]:p+"%"}})});IJ.displayName=CR;var AR="SliderThumb",BJ=C.forwardRef((t,e)=>{const r=XDe(t.__scopeSlider),[n,s]=C.useState(null),a=Et(e,l=>s(l)),o=C.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return k.jsx(QDe,{...t,ref:a,index:o})}),QDe=C.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...a}=t,o=_S(AR,r),l=PJ(AR,r),[c,d]=C.useState(null),f=Et(e,m=>d(m)),p=c?o.form||!!c.closest("form"):!0,g=NB(c),y=o.values[n],b=y===void 0?0:MJ(y,o.min,o.max),_=r2e(n,o.values.length),u=g==null?void 0:g[l.size],h=u?i2e(u,b,l.direction):0;return C.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),k.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:"calc(".concat(b,"% + ").concat(h,"px)")},children:[k.jsx(SR.ItemSlot,{scope:t.__scopeSlider,children:k.jsx(rt.span,{role:"slider","aria-label":t["aria-label"]||_,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:f,style:y===void 0?{display:"none"}:t.style,onFocus:Ce(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),p&&k.jsx(FJ,{name:s!=null?s:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:y},n)]})});BJ.displayName=AR;var e2e="RadioBubbleInput",FJ=C.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=C.useRef(null),a=Et(s,n),o=xF(e);return C.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const p=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(p)}},[o,e]),k.jsx(rt.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});FJ.displayName=e2e;function t2e(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,a)=>s-a)}function MJ(t,e,r){const a=100/(r-e)*(t-e);return qv(a,[0,100])}function r2e(t,e){return e>2?"Value ".concat(t+1," of ").concat(e):e===2?["Minimum","Maximum"][t]:void 0}function n2e(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function i2e(t,e,r){const n=t/2,a=lM([0,50],[0,n]);return(n-a(e)*r)*r}function s2e(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function a2e(t,e){if(e>0){const r=s2e(t);return Math.min(...r)>=e}return!0}function lM(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function o2e(t){return(String(t).split(".")[1]||"").length}function l2e(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var wQe=AJ,xQe=OJ,EQe=IJ,SQe=BJ;function bS(){return(bS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function kJ(t,e){if(t==null)return{};var r,n,s={},a=Object.keys(t);for(n=0;n<a.length;n++)e.indexOf(r=a[n])>=0||(s[r]=t[r]);return s}function TR(t){var e=C.useRef(t),r=C.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var py=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},Hg=function(t){return"touches"in t},PR=function(t){return t&&t.ownerDocument.defaultView||self},L4=function(t,e,r){var n=t.getBoundingClientRect(),s=Hg(e)?function(a,o){for(var l=0;l<a.length;l++)if(a[l].identifier===o)return a[l];return a[0]}(e.touches,r):e;return{left:py((s.pageX-(n.left+PR(t).pageXOffset))/n.width),top:py((s.pageY-(n.top+PR(t).pageYOffset))/n.height)}},U4=function(t){!Hg(t)&&t.preventDefault()},NJ=q.memo(function(t){var e=t.onMove,r=t.onKey,n=kJ(t,["onMove","onKey"]),s=C.useRef(null),a=TR(e),o=TR(r),l=C.useRef(null),c=C.useRef(!1),d=C.useMemo(function(){var y=function(u){U4(u),(Hg(u)?u.touches.length>0:u.buttons>0)&&s.current?a(L4(s.current,u,l.current)):_(!1)},b=function(){return _(!1)};function _(u){var h=c.current,m=PR(s.current),v=u?m.addEventListener:m.removeEventListener;v(h?"touchmove":"mousemove",y),v(h?"touchend":"mouseup",b)}return[function(u){var h=u.nativeEvent,m=s.current;if(m&&(U4(h),!function(w,x){return x&&!Hg(w)}(h,c.current)&&m)){if(Hg(h)){c.current=!0;var v=h.changedTouches||[];v.length&&(l.current=v[0].identifier)}m.focus(),a(L4(m,h,l.current)),_(!0)}},function(u){var h=u.which||u.keyCode;h<37||h>40||(u.preventDefault(),o({left:h===39?.05:h===37?-.05:0,top:h===40?.05:h===38?-.05:0}))},_]},[o,a]),f=d[0],p=d[1],g=d[2];return C.useEffect(function(){return g},[g]),q.createElement("div",bS({},n,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:s,onKeyDown:p,tabIndex:0,role:"slider"}))}),uM=function(t){return t.filter(Boolean).join(" ")},LJ=function(t){var e=t.color,r=t.left,n=t.top,s=n===void 0?.5:n,a=uM(["react-colorful__pointer",t.className]);return q.createElement("div",{className:a,style:{top:100*s+"%",left:100*r+"%"}},q.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ni=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},u2e=function(t){return p2e(DR(t))},DR=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ni(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?ni(parseInt(t.substring(6,8),16)/255,2):1}},c2e=function(t){return h2e(f2e(t))},d2e=function(t){var e=t.s,r=t.v,n=t.a,s=(200-e)*r/100;return{h:ni(t.h),s:ni(s>0&&s<200?e*r/100/(s<=100?s:200-s)*100:0),l:ni(s/2),a:ni(n,2)}},RR=function(t){var e=d2e(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},f2e=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),o=n*(1-r),l=n*(1-(e-a)*r),c=n*(1-(1-e+a)*r),d=a%6;return{r:ni(255*[n,l,o,o,c,n][d]),g:ni(255*[c,n,n,l,o,o][d]),b:ni(255*[o,o,c,n,n,l][d]),a:ni(s,2)}},e1=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},h2e=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=s<1?e1(ni(255*s)):"";return"#"+e1(e)+e1(r)+e1(n)+a},p2e=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=Math.max(e,r,n),o=a-Math.min(e,r,n),l=o?a===e?(r-n)/o:a===r?2+(n-e)/o:4+(e-r)/o:0;return{h:ni(60*(l<0?l+6:l)),s:ni(a?o/a*100:0),v:ni(a/255*100),a:s}},m2e=q.memo(function(t){var e=t.hue,r=t.onChange,n=uM(["react-colorful__hue",t.className]);return q.createElement("div",{className:n},q.createElement(NJ,{onMove:function(s){r({h:360*s.left})},onKey:function(s){r({h:py(e+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":ni(e),"aria-valuemax":"360","aria-valuemin":"0"},q.createElement(LJ,{className:"react-colorful__hue-pointer",left:e/360,color:RR({h:e,s:100,v:100,a:1})})))}),g2e=q.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:RR({h:e.h,s:100,v:100,a:1})};return q.createElement("div",{className:"react-colorful__saturation",style:n},q.createElement(NJ,{onMove:function(s){r({s:100*s.left,v:100-100*s.top})},onKey:function(s){r({s:py(e.s+100*s.left,0,100),v:py(e.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ni(e.s)+"%, Brightness "+ni(e.v)+"%"},q.createElement(LJ,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:RR(e)})))}),UJ=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},v2e=function(t,e){return t.toLowerCase()===e.toLowerCase()||UJ(DR(t),DR(e))};function y2e(t,e,r){var n=TR(r),s=C.useState(function(){return t.toHsva(e)}),a=s[0],o=s[1],l=C.useRef({color:e,hsva:a});C.useEffect(function(){if(!t.equal(e,l.current.color)){var d=t.toHsva(e);l.current={hsva:d,color:e},o(d)}},[e,t]),C.useEffect(function(){var d;UJ(a,l.current.hsva)||t.equal(d=t.fromHsva(a),l.current.color)||(l.current={hsva:a,color:d},n(d))},[a,t,n]);var c=C.useCallback(function(d){o(function(f){return Object.assign({},f,d)})},[]);return[a,c]}var _2e=typeof window<"u"?C.useLayoutEffect:C.useEffect,b2e=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},$4=new Map,w2e=function(t){_2e(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!$4.has(e)){var r=e.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',$4.set(e,r);var n=b2e();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},x2e=function(t){var e=t.className,r=t.colorModel,n=t.color,s=n===void 0?r.defaultColor:n,a=t.onChange,o=kJ(t,["className","colorModel","color","onChange"]),l=C.useRef(null);w2e(l);var c=y2e(r,s,a),d=c[0],f=c[1],p=uM(["react-colorful",e]);return q.createElement("div",bS({},o,{ref:l,className:p}),q.createElement(g2e,{hsva:d,onChange:f}),q.createElement(m2e,{hue:d.h,onChange:f,className:"react-colorful__last-control"}))},E2e={defaultColor:"000",toHsva:u2e,fromHsva:function(t){return c2e({h:t.h,s:t.s,v:t.v,a:1})},equal:v2e},CQe=function(t){return q.createElement(x2e,bS({},t,{colorModel:E2e}))},wS="Popover",[$J,AQe]=Qn(wS,[xc]),__=xc(),[S2e,Pc]=$J(wS),jJ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=__(e),c=C.useRef(null),[d,f]=C.useState(!1),[p,g]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:a,caller:wS});return k.jsx(e_,{...l,children:k.jsx(S2e,{scope:e,contentId:ai(),triggerRef:c,open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:d,onCustomAnchorAdd:C.useCallback(()=>f(!0),[]),onCustomAnchorRemove:C.useCallback(()=>f(!1),[]),modal:o,children:r})})};jJ.displayName=wS;var zJ="PopoverAnchor",C2e=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Pc(zJ,r),a=__(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return C.useEffect(()=>(o(),()=>l()),[o,l]),k.jsx(t_,{...a,...n,ref:e})});C2e.displayName=zJ;var VJ="PopoverTrigger",GJ=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Pc(VJ,r),a=__(r),o=Et(e,s.triggerRef),l=k.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":YJ(s.open),...n,ref:o,onClick:Ce(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:k.jsx(t_,{asChild:!0,...a,children:l})});GJ.displayName=VJ;var cM="PopoverPortal",[A2e,T2e]=$J(cM,{forceMount:void 0}),HJ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=Pc(cM,e);return k.jsx(A2e,{scope:e,forceMount:r,children:k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:n})})})};HJ.displayName=cM;var Ep="PopoverContent",WJ=C.forwardRef((t,e)=>{const r=T2e(Ep,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=Pc(Ep,t.__scopePopover);return k.jsx(Jn,{present:n||a.open,children:a.modal?k.jsx(D2e,{...s,ref:e}):k.jsx(R2e,{...s,ref:e})})});WJ.displayName=Ep;var P2e=Gd("PopoverContent.RemoveScroll"),D2e=C.forwardRef((t,e)=>{const r=Pc(Ep,t.__scopePopover),n=C.useRef(null),s=Et(e,n),a=C.useRef(!1);return C.useEffect(()=>{const o=n.current;if(o)return jE(o)},[]),k.jsx(VE,{as:P2e,allowPinchZoom:!0,children:k.jsx(KJ,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),R2e=C.forwardRef((t,e)=>{const r=Pc(Ep,t.__scopePopover),n=C.useRef(!1),s=C.useRef(!1);return k.jsx(KJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),KJ=C.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...p}=t,g=Pc(Ep,r),y=__(r);return FE(),k.jsx(Jy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:k.jsx(UE,{"data-state":YJ(g.open),role:"dialog",id:g.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),XJ="PopoverClose",O2e=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Pc(XJ,r);return k.jsx(rt.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});O2e.displayName=XJ;var I2e="PopoverArrow",B2e=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=__(r);return k.jsx($E,{...s,...n,ref:e})});B2e.displayName=I2e;function YJ(t){return t?"open":"closed"}var TQe=jJ,PQe=GJ,DQe=HJ,RQe=WJ,qJ="Toggle",dM=C.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...a}=t,[o,l]=wi({prop:r,onChange:s,defaultProp:n!=null?n:!1,caller:qJ});return k.jsx(rt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...a,ref:e,onClick:Ce(t.onClick,()=>{t.disabled||l(!o)})})});dM.displayName=qJ;var OQe=dM,Dc="ToggleGroup",[ZJ,JJ]=Qn(Dc,[$o]),QJ=$o(),fM=q.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return k.jsx(F2e,{...s,ref:e})}if(r==="multiple"){const s=n;return k.jsx(M2e,{...s,ref:e})}throw new Error("Missing prop `type` expected on `".concat(Dc,"`"))});fM.displayName=Dc;var[eQ,tQ]=ZJ(Dc),F2e=q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,l]=wi({prop:r,defaultProp:n!=null?n:"",onChange:s,caller:Dc});return k.jsx(eQ,{scope:t.__scopeToggleGroup,type:"single",value:q.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:q.useCallback(()=>l(""),[l]),children:k.jsx(rQ,{...a,ref:e})})}),M2e=q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,l]=wi({prop:r,defaultProp:n!=null?n:[],onChange:s,caller:Dc}),c=q.useCallback(f=>l((p=[])=>[...p,f]),[l]),d=q.useCallback(f=>l((p=[])=>p.filter(g=>g!==f)),[l]);return k.jsx(eQ,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:d,children:k.jsx(rQ,{...a,ref:e})})});fM.displayName=Dc;var[k2e,N2e]=ZJ(Dc),rQ=q.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:o,loop:l=!0,...c}=t,d=QJ(r),f=zl(o),p={role:"group",dir:f,...c};return k.jsx(k2e,{scope:r,rovingFocus:s,disabled:n,children:s?k.jsx(n_,{asChild:!0,...d,orientation:a,dir:f,loop:l,children:k.jsx(rt.div,{...p,ref:e})}):k.jsx(rt.div,{...p,ref:e})})}),hx="ToggleGroupItem",nQ=q.forwardRef((t,e)=>{const r=tQ(hx,t.__scopeToggleGroup),n=N2e(hx,t.__scopeToggleGroup),s=QJ(t.__scopeToggleGroup),a=r.value.includes(t.value),o=n.disabled||t.disabled,l={...t,pressed:a,disabled:o},c=q.useRef(null);return n.rovingFocus?k.jsx(Hp,{asChild:!0,...s,focusable:!o,active:a,ref:c,children:k.jsx(j4,{...l,ref:e})}):k.jsx(j4,{...l,ref:e})});nQ.displayName=hx;var j4=q.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,a=tQ(hx,r),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return k.jsx(dM,{...l,...s,ref:e,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),L2e=fM,U2e=nQ,[xS,IQe]=Qn("Tooltip",[xc]),ES=xc(),iQ="TooltipProvider",$2e=700,OR="tooltip.open",[j2e,hM]=xS(iQ),sQ=t=>{const{__scopeTooltip:e,delayDuration:r=$2e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,o=C.useRef(!0),l=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),k.jsx(j2e,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};sQ.displayName=iQ;var my="Tooltip",[z2e,b_]=xS(my),aQ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=hM(my,t.__scopeTooltip),d=ES(e),[f,p]=C.useState(null),g=ai(),y=C.useRef(0),b=o!=null?o:c.disableHoverableContent,_=l!=null?l:c.delayDuration,u=C.useRef(!1),[h,m]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(OR))):c.onClose(),a==null||a(E)},caller:my}),v=C.useMemo(()=>h?u.current?"delayed-open":"instant-open":"closed",[h]),w=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,u.current=!1,m(!0)},[m]),x=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,m(!1)},[m]),S=C.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{u.current=!0,m(!0),y.current=0},_)},[_,m]);return C.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),k.jsx(e_,{...d,children:k.jsx(z2e,{scope:e,contentId:g,open:h,stateAttribute:v,trigger:f,onTriggerChange:p,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?S():w()},[c.isOpenDelayedRef,S,w]),onTriggerLeave:C.useCallback(()=>{b?x():(window.clearTimeout(y.current),y.current=0)},[x,b]),onOpen:w,onClose:x,disableHoverableContent:b,children:r})})};aQ.displayName=my;var IR="TooltipTrigger",oQ=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=b_(IR,r),a=hM(IR,r),o=ES(r),l=C.useRef(null),c=Et(e,l,s.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),p=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),k.jsx(t_,{asChild:!0,...o,children:k.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ce(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ce(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});oQ.displayName=IR;var pM="TooltipPortal",[V2e,G2e]=xS(pM,{forceMount:void 0}),lQ=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:s}=t,a=b_(pM,e);return k.jsx(V2e,{scope:e,forceMount:r,children:k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:n})})})};lQ.displayName=pM;var Sp="TooltipContent",uQ=C.forwardRef((t,e)=>{const r=G2e(Sp,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=b_(Sp,t.__scopeTooltip);return k.jsx(Jn,{present:n||o.open,children:o.disableHoverableContent?k.jsx(cQ,{side:s,...a,ref:e}):k.jsx(H2e,{side:s,...a,ref:e})})}),H2e=C.forwardRef((t,e)=>{const r=b_(Sp,t.__scopeTooltip),n=hM(Sp,t.__scopeTooltip),s=C.useRef(null),a=Et(e,s),[o,l]=C.useState(null),{trigger:c,onClose:d}=r,f=s.current,{onPointerInTransitChange:p}=n,g=C.useCallback(()=>{l(null),p(!1)},[p]),y=C.useCallback((b,_)=>{const u=b.currentTarget,h={x:b.clientX,y:b.clientY},m=q2e(h,u.getBoundingClientRect()),v=Z2e(h,m),w=J2e(_.getBoundingClientRect()),x=eRe([...v,...w]);l(x),p(!0)},[p]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(c&&f){const b=u=>y(u,f),_=u=>y(u,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",_)}}},[c,f,y,g]),C.useEffect(()=>{if(o){const b=_=>{const u=_.target,h={x:_.clientX,y:_.clientY},m=(c==null?void 0:c.contains(u))||(f==null?void 0:f.contains(u)),v=!Q2e(h,o);m?g():v&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,d,g]),k.jsx(cQ,{...t,ref:a})}),[W2e,K2e]=xS(my,{isInside:!1}),X2e=yW("TooltipContent"),cQ=C.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=b_(Sp,r),d=ES(r),{onClose:f}=c;return C.useEffect(()=>(document.addEventListener(OR,f),()=>document.removeEventListener(OR,f)),[f]),C.useEffect(()=>{if(c.trigger){const p=g=>{const y=g.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:k.jsxs(UE,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(X2e,{children:n}),k.jsx(W2e,{scope:r,isInside:!0,children:k.jsx(cPe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});uQ.displayName=Sp;var dQ="TooltipArrow",Y2e=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=ES(r);return K2e(dQ,r).isInside?null:k.jsx($E,{...s,...n,ref:e})});Y2e.displayName=dQ;function q2e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Z2e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function J2e(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Q2e(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-d)*(n-f)/(g-f)+d&&(s=!s)}return s}function eRe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),tRe(e)}function tRe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var BQe=sQ,FQe=aQ,MQe=oQ,kQe=lQ,NQe=uQ,px=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),rRe=t=>t===void 0,nRe=t=>t===null,iRe=t=>rRe(t)||nRe(t),vf=t=>!iRe(t);function Cp(t,e){return(...r)=>t(e,...r)}var sRe=Object.defineProperty,aRe=Object.defineProperties,oRe=Object.getOwnPropertyDescriptors,mx=Object.getOwnPropertySymbols,fQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,z4=(t,e,r)=>e in t?sRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pQ=(t,e)=>{for(var r in e||(e={}))fQ.call(e,r)&&z4(t,r,e[r]);if(mx)for(var r of mx(e))hQ.call(e,r)&&z4(t,r,e[r]);return t},lRe=(t,e)=>aRe(t,oRe(e)),uRe=(t,e)=>{var r={};for(var n in t)fQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&mx)for(var n of mx(t))e.indexOf(n)<0&&hQ.call(t,n)&&(r[n]=t[n]);return r},mQ=t=>q.forwardRef((e,r)=>{var n=e,{as:s,asChild:a=!1}=n,o=uRe(n,["as","asChild"]);const l=a?NTe:s||t;return q.createElement(l,pQ({ref:r},o))}),cRe=mQ("div"),dRe=mQ("span"),fRe=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},hRe=(...t)=>e=>t.forEach(r=>fRe(r,e)),mM=(...t)=>q.useCallback(hRe(...t),t);function LQe(t){return q.forwardRef(function(r,n){return q.createElement(t,lRe(pQ({},r),{ref:n}))})}var V4,pRe=typeof window<"u"&&((V4=window.document)==null?void 0:V4.createElement)!==void 0,xT=pRe?q.useLayoutEffect:q.useEffect,mRe=()=>{if(typeof window>"u"||typeof window.addEventListener!="function")return!1;let t=!1;const e=Object.defineProperty({},"passive",{get(){t=!0}}),r=()=>null;return window.addEventListener("test",r,e),window.removeEventListener("test",r,e),t},gRe="ignore-onclickoutside",G4=(t,e)=>{var r;return(r=t.classList)==null?void 0:r.contains(e)},H4=(t,e)=>{let r=t.target||t;for(;r;){if(Array.isArray(e)){if(e.some(n=>G4(r,n)))return!0}else if(G4(r,e))return!0;r=r.parentElement}return!1},vRe=t=>document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY,W4=t=>t.includes("touch")&&mRe()?{passive:!0}:!1,UQe=(t,{detectIFrame:e=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:s,ignoreClass:a=gRe,refs:o}={})=>{const[l,c]=q.useState([]),d=q.useRef(t);d.current=t;const f=q.useCallback(p=>c(g=>[...g,{current:p}]),[]);return q.useEffect(()=>{if(!(o!=null&&o.length)&&l.length===0)return;const p=()=>{const _=[];return(o||l).forEach(({current:u})=>u&&_.push(u)),_},g=_=>{!H4(_,a)&&!(s&&vRe(_))&&p().every(u=>!u.contains(_.target))&&d.current(_)},y=_=>setTimeout(()=>{const{activeElement:u}=document;(u==null?void 0:u.tagName)==="IFRAME"&&!H4(u,a)&&!p().includes(u)&&d.current(_)},0),b=()=>{n.forEach(_=>document.removeEventListener(_,g,W4(_))),e&&window.removeEventListener("blur",y)};if(r){b();return}return n.forEach(_=>document.addEventListener(_,g,W4(_))),e&&window.addEventListener("blur",y),()=>b()},[l,a,s,r,e,JSON.stringify(n)]),f};function $Qe(t){return q.forwardRef(t)}var yRe=Object.defineProperty,_Re=Object.defineProperties,bRe=Object.getOwnPropertyDescriptors,gx=Object.getOwnPropertySymbols,gQ=Object.prototype.hasOwnProperty,vQ=Object.prototype.propertyIsEnumerable,K4=(t,e,r)=>e in t?yRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vx=(t,e)=>{for(var r in e||(e={}))gQ.call(e,r)&&K4(t,r,e[r]);if(gx)for(var r of gx(e))vQ.call(e,r)&&K4(t,r,e[r]);return t},wRe=(t,e)=>_Re(t,bRe(e)),xRe=(t,e)=>{var r={};for(var n in t)gQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&gx)for(var n of gx(t))e.indexOf(n)<0&&vQ.call(t,n)&&(r[n]=t[n]);return r};function gM(...t){return vle(f2(t))}function ERe(t,e){const r=t;return q.forwardRef(function(s,a){return q.createElement(r,wRe(vx(vx({ref:a},e),s),{className:gM(e.className,s.className)}))})}function jQe(t,...e){return ERe(t,{className:gM(e)})}function zQe(t,e,r){const n=t;return q.forwardRef(function(a,o){const l=a,{className:c}=l,d=xRe(l,["className"]),f=vx({},d);return r&&r.forEach(p=>{d[p]!==void 0&&delete f[p]}),q.createElement(n,vx({ref:o,className:gM(e(d),c)},f))})}var SRe=Object.defineProperty,CRe=Object.defineProperties,ARe=Object.getOwnPropertyDescriptors,X4=Object.getOwnPropertySymbols,TRe=Object.prototype.hasOwnProperty,PRe=Object.prototype.propertyIsEnumerable,Y4=(t,e,r)=>e in t?SRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DRe=(t,e)=>{for(var r in e||(e={}))TRe.call(e,r)&&Y4(t,r,e[r]);if(X4)for(var r of X4(e))PRe.call(e,r)&&Y4(t,r,e[r]);return t},RRe=(t,e)=>CRe(t,ARe(e)),ORe=C.createContext(void 0),IRe=()=>C.useContext(ORe);function yQ(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((r,n)=>r&&yQ(t[n],e[n]),!0):t===e}var BRe=C.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),FRe=()=>C.useContext(BRe),_Q=new Set(["shift","alt","meta","mod","ctrl","control"]),MRe={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function Ap(t){return(MRe[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function kRe(t){return _Q.has(t)}function ET(t,e=","){return t.toLowerCase().split(e)}function ST(t,e="+",r=!1,n){const s=t.toLocaleLowerCase().split(e).map(l=>Ap(l)),a={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),meta:s.includes("meta"),mod:s.includes("mod"),shift:s.includes("shift"),useKey:r},o=s.filter(l=>!_Q.has(l));return RRe(DRe({},a),{description:n,keys:o})}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&wQ([Ap(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&xQ([Ap(t.code)])})),typeof window<"u"&&window.addEventListener("blur",()=>{Ou.clear()});var Ou=new Set;function bQ(t){return Array.isArray(t)}function NRe(t,e=","){return(bQ(t)?t:t.split(e)).every(n=>Ou.has(n.trim().toLowerCase()))}function wQ(t){const e=Array.isArray(t)?t:[t];Ou.has("meta")&&Ou.forEach(r=>!kRe(r)&&Ou.delete(r.toLowerCase())),e.forEach(r=>Ou.add(r.toLowerCase()))}function xQ(t){const e=Array.isArray(t)?t:[t];t==="meta"?Ou.clear():e.forEach(r=>Ou.delete(r.toLowerCase()))}var t1={AVRInput:"AVRInput",AVRPower:"AVRPower",Accept:"Accept",Add:"Add",Again:"Again",AllCandidates:"AllCandidates",Alphanumeric:"Alphanumeric",Alt:"Alt",AltGraph:"AltGraph",AppSwitch:"AppSwitch",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Attn:"Attn",AudioBalanceLeft:"AudioBalanceLeft",AudioBalanceRight:"AudioBalanceRight",AudioBassBoostDown:"AudioBassBoostDown",AudioBassBoostToggle:"AudioBassBoostToggle",AudioBassBoostUp:"AudioBassBoostUp",AudioBassDown:"AudioBassDown",AudioBassUp:"AudioBassUp",AudioFaderFront:"AudioFaderFront",AudioFaderRear:"AudioFaderRear",AudioSurroundModeNext:"AudioSurroundModeNext",AudioTrebleDown:"AudioTrebleDown",AudioTrebleUp:"AudioTrebleUp",AudioVolumeDown:"AudioVolumeDown",AudioVolumeMute:"AudioVolumeMute",AudioVolumeUp:"AudioVolumeUp",Backspace:"Backspace",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",BrowserBack:"BrowserBack",BrowserFavorites:"BrowserFavorites",BrowserForward:"BrowserForward",BrowserHome:"BrowserHome",BrowserRefresh:"BrowserRefresh",BrowserSearch:"BrowserSearch",BrowserStop:"BrowserStop",Call:"Call",Camera:"Camera",CameraFocus:"CameraFocus",Cancel:"Cancel",CapsLock:"CapsLock",ChannelDown:"ChannelDown",ChannelUp:"ChannelUp",Clear:"Clear",Close:"Close",ClosedCaptionToggle:"ClosedCaptionToggle",CodeInput:"CodeInput",ColorF0Red:"ColorF0Red",ColorF1Green:"ColorF1Green",ColorF2Yellow:"ColorF2Yellow",ColorF3Blue:"ColorF3Blue",ColorF4Grey:"ColorF4Grey",ColorF5Brown:"ColorF5Brown",Compose:"Compose",ContextMenu:"ContextMenu",Control:"Control",Convert:"Convert",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",DVR:"DVR",Dead:"Dead",Decimal:"Decimal",Delete:"Delete",Dimmer:"Dimmer",DisplaySwap:"DisplaySwap",Divide:"Divide",Eisu:"Eisu",Eject:"Eject",End:"End",EndCall:"EndCall",Enter:"Enter",EraseEof:"EraseEof",Escape:"Escape",ExSel:"ExSel",Execute:"Execute",Exit:"Exit",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",FavoriteClear0:"FavoriteClear0",FavoriteClear1:"FavoriteClear1",FavoriteClear2:"FavoriteClear2",FavoriteClear3:"FavoriteClear3",FavoriteRecall0:"FavoriteRecall0",FavoriteRecall1:"FavoriteRecall1",FavoriteRecall2:"FavoriteRecall2",FavoriteRecall3:"FavoriteRecall3",FavoriteStore0:"FavoriteStore0",FavoriteStore1:"FavoriteStore1",FavoriteStore2:"FavoriteStore2",FavoriteStore3:"FavoriteStore3",FinalMode:"FinalMode",Find:"Find",Finish:"Finish",Fn:"Fn",FnLock:"FnLock",GoBack:"GoBack",GoHome:"GoHome",GroupFirst:"GroupFirst",GroupLast:"GroupLast",GroupNext:"GroupNext",GroupPrevious:"GroupPrevious",Guide:"Guide",GuideNextDay:"GuideNextDay",GuidePreviousDay:"GuidePreviousDay",HangulMode:"HangulMode",HanjaMode:"HanjaMode",Hankaku:"Hankaku",HeadsetHook:"HeadsetHook",Help:"Help",Hibernate:"Hibernate",Hiragana:"Hiragana",HiraganaKatakana:"HiraganaKatakana",Home:"Home",Hyper:"Hyper",Info:"Info",Insert:"Insert",InstantReplay:"InstantReplay",JunjaMode:"JunjaMode",KanaMode:"KanaMode",KanjiMode:"KanjiMode",Katakana:"Katakana",Key11:"Key11",Key12:"Key12",LastNumberRedial:"LastNumberRedial",LaunchApplication1:"LaunchApplication1",LaunchApplication2:"LaunchApplication2",LaunchApplication3:"LaunchApplication3",LaunchApplication4:"LaunchApplication4",LaunchApplication5:"LaunchApplication5",LaunchApplication6:"LaunchApplication6",LaunchApplication7:"LaunchApplication7",LaunchApplication8:"LaunchApplication8",LaunchApplication9:"LaunchApplication9",LaunchApplication10:"LaunchApplication10",LaunchApplication11:"LaunchApplication11",LaunchApplication12:"LaunchApplication12",LaunchApplication13:"LaunchApplication13",LaunchApplication14:"LaunchApplication14",LaunchApplication15:"LaunchApplication15",LaunchApplication16:"LaunchApplication16",LaunchCalculator:"LaunchCalculator",LaunchCalendar:"LaunchCalendar",LaunchContacts:"LaunchContacts",LaunchMail:"LaunchMail",LaunchMediaPlayer:"LaunchMediaPlayer",LaunchMusicPlayer:"LaunchMusicPlayer",LaunchMyComputer:"LaunchMyComputer",LaunchPhone:"LaunchPhone",LaunchScreenSaver:"LaunchScreenSaver",LaunchSpreadsheet:"LaunchSpreadsheet",LaunchWebBrowser:"LaunchWebBrowser",LaunchWebCam:"LaunchWebCam",LaunchWordProcessor:"LaunchWordProcessor",Link:"Link",ListProgram:"ListProgram",LiveContent:"LiveContent",Lock:"Lock",LogOff:"LogOff",MailForward:"MailForward",MailReply:"MailReply",MailSend:"MailSend",MannerMode:"MannerMode",MediaApps:"MediaApps",MediaAudioTrack:"MediaAudioTrack",MediaFastForward:"MediaFastForward",MediaLast:"MediaLast",MediaPause:"MediaPause",MediaPlay:"MediaPlay",MediaPlayPause:"MediaPlayPause",MediaRecord:"MediaRecord",MediaRewind:"MediaRewind",MediaSkipBackward:"MediaSkipBackward",MediaSkipForward:"MediaSkipForward",MediaStepBackward:"MediaStepBackward",MediaStepForward:"MediaStepForward",MediaStop:"MediaStop",MediaTopMenu:"MediaTopMenu",MediaTrackNext:"MediaTrackNext",MediaTrackPrevious:"MediaTrackPrevious",Meta:"Meta",MicrophoneToggle:"MicrophoneToggle",MicrophoneVolumeDown:"MicrophoneVolumeDown",MicrophoneVolumeMute:"MicrophoneVolumeMute",MicrophoneVolumeUp:"MicrophoneVolumeUp",Mod:"Mod",ModeChange:"ModeChange",Multiply:"Multiply",NavigateIn:"NavigateIn",NavigateNext:"NavigateNext",NavigateOut:"NavigateOut",NavigatePrevious:"NavigatePrevious",New:"New",NextCandidate:"NextCandidate",NextFavoriteChannel:"NextFavoriteChannel",NextUserProfile:"NextUserProfile",NonConvert:"NonConvert",Notification:"Notification",NumLock:"NumLock",OnDemand:"OnDemand",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Pairing:"Pairing",Paste:"Paste",Pause:"Pause",PinPDown:"PinPDown",PinPMove:"PinPMove",PinPToggle:"PinPToggle",PinPUp:"PinPUp",Play:"Play",PlaySpeedDown:"PlaySpeedDown",PlaySpeedReset:"PlaySpeedReset",PlaySpeedUp:"PlaySpeedUp",Power:"Power",PowerOff:"PowerOff",PreviousCandidate:"PreviousCandidate",Print:"Print",PrintScreen:"PrintScreen",Process:"Process",Props:"Props",RandomToggle:"RandomToggle",RcLowBattery:"RcLowBattery",RecordSpeedNext:"RecordSpeedNext",Redo:"Redo",RfBypass:"RfBypass",Romaji:"Romaji",STBInput:"STBInput",STBPower:"STBPower",Save:"Save",ScanChannelsToggle:"ScanChannelsToggle",ScreenModeNext:"ScreenModeNext",ScrollLock:"ScrollLock",Select:"Select",Separator:"Separator",Settings:"Settings",Shift:"Shift",SingleCandidate:"SingleCandidate",Soft1:"Soft1",Soft2:"Soft2",Soft3:"Soft3",Soft4:"Soft4",SpeechCorrectionList:"SpeechCorrectionList",SpeechInputToggle:"SpeechInputToggle",SpellCheck:"SpellCheck",SplitScreenToggle:"SplitScreenToggle",Standby:"Standby",Subtitle:"Subtitle",Subtract:"Subtract",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",TV:"TV",TV3DMode:"TV3DMode",TVAntennaCable:"TVAntennaCable",TVAudioDescription:"TVAudioDescription",TVAudioDescriptionMixDown:"TVAudioDescriptionMixDown",TVAudioDescriptionMixUp:"TVAudioDescriptionMixUp",TVContentsMenu:"TVContentsMenu",TVDataService:"TVDataService",TVInput:"TVInput",TVInputComponent1:"TVInputComponent1",TVInputComponent2:"TVInputComponent2",TVInputComposite1:"TVInputComposite1",TVInputComposite2:"TVInputComposite2",TVInputHDMI1:"TVInputHDMI1",TVInputHDMI2:"TVInputHDMI2",TVInputHDMI3:"TVInputHDMI3",TVInputHDMI4:"TVInputHDMI4",TVInputVGA1:"TVInputVGA1",TVMediaContext:"TVMediaContext",TVNetwork:"TVNetwork",TVNumberEntry:"TVNumberEntry",TVPower:"TVPower",TVRadioService:"TVRadioService",TVSatellite:"TVSatellite",TVSatelliteBS:"TVSatelliteBS",TVSatelliteCS:"TVSatelliteCS",TVSatelliteToggle:"TVSatelliteToggle",TVTerrestrialAnalog:"TVTerrestrialAnalog",TVTerrestrialDigital:"TVTerrestrialDigital",TVTimer:"TVTimer",Tab:"Tab",Teletext:"Teletext",Undo:"Undo",Unidentified:"Unidentified",VideoModeNext:"VideoModeNext",VoiceDial:"VoiceDial",WakeUp:"WakeUp",Wink:"Wink",Zenkaku:"Zenkaku",ZenkakuHanaku:"ZenkakuHanaku",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",ZoomToggle:"ZoomToggle"};function LRe(t){const e=C.useRef();return yQ(e.current,t)||(e.current=t),e.current}function URe(t,e,r){(typeof r=="function"&&r(t,e)||r===!0)&&t.preventDefault()}function $Re(t,e,r){return typeof r=="function"?r(t,e):r===!0||r===void 0}function jRe(t){return EQ(t,["input","textarea","select"])}function EQ({target:t},e=!1){const r=t&&t.tagName;return bQ(e)?!!(r&&(e!=null&&e.some(n=>n.toLowerCase()===r.toLowerCase()))):!!(r&&e&&e)}function zRe(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(r=>e.includes(r))||t.includes("*"):!0}var VRe=(t,e,r=!1)=>{const{alt:n,ctrl:s,keys:a,meta:o,mod:l,shift:c,useKey:d}=e,{altKey:f,code:p,ctrlKey:g,key:y,metaKey:b,shiftKey:_}=t,u=Ap(p);if(d&&(a==null?void 0:a.length)===1&&a.includes(y))return!0;if(!(a!=null&&a.includes(u))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(u))return!1;if(!r){if(n!==f&&u!=="alt"||c!==_&&u!=="shift")return!1;if(l){if(!b&&!g)return!1}else if(o!==b&&u!=="meta"&&u!=="os"||s!==g&&u!=="ctrl"&&u!=="control")return!1}return a&&a.length===1&&a.includes(u)?!0:a?NRe(a):!a},q4=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},GRe=typeof window>"u"?C.useEffect:C.useLayoutEffect;function HRe(t,e,r,n){const[s,a]=C.useState(null),o=C.useRef(!1),l=Array.isArray(r)?Array.isArray(n)?void 0:n:r,c=C.useMemo(()=>Array.isArray(t)&&t.length>0&&Array.isArray(t[0])?t.map(_=>_.map(u=>u.toString()).join((l==null?void 0:l.splitKey)||"+")).join((l==null?void 0:l.delimiter)||","):Array.isArray(t)?t.join((l==null?void 0:l.delimiter)||","):t,[t,l==null?void 0:l.splitKey,l==null?void 0:l.delimiter]),d=Array.isArray(r)?r:Array.isArray(n)?n:void 0,f=C.useCallback(e,d!=null?d:[]),p=C.useRef(f);p.current=d?f:e;const g=LRe(l),{activeScopes:y}=FRe(),b=IRe();return GRe(()=>{if((g==null?void 0:g.enabled)===!1||!zRe(y,g==null?void 0:g.scopes))return;const _=(v,w=!1)=>{var x;if(!(jRe(v)&&!EQ(v,g==null?void 0:g.enableOnFormTags))){if(s!==null){const S=s.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s&&!s.contains(S.activeElement)){q4(v);return}}(x=v.target)!=null&&x.isContentEditable&&!(g!=null&&g.enableOnContentEditable)||ET(c,g==null?void 0:g.delimiter).forEach(S=>{var E,P,T;const A=ST(S,g==null?void 0:g.splitKey,g==null?void 0:g.useKey);if(VRe(v,A,g==null?void 0:g.ignoreModifiers)||(E=A.keys)!=null&&E.includes("*")){if(((P=g==null?void 0:g.ignoreEventWhenPrevented)==null||P)&&v.defaultPrevented||(T=g==null?void 0:g.ignoreEventWhen)!=null&&T.call(g,v)||w&&o.current)return;if(!$Re(v,A,g==null?void 0:g.enabled)){q4(v);return}p.current(v,A),URe(v,A,g==null?void 0:g.preventDefault),w||(o.current=!0)}})}},u=v=>{v.code!==void 0&&(wQ(Ap(v.code)),((g==null?void 0:g.keydown)===void 0&&(g==null?void 0:g.keyup)!==!0||g!=null&&g.keydown)&&_(v))},h=v=>{v.code!==void 0&&(xQ(Ap(v.code)),o.current=!1,g!=null&&g.keyup&&_(v,!0))},m=s||(l==null?void 0:l.document)||document;return m.addEventListener("keyup",h),m.addEventListener("keydown",u),b&&ET(c,g==null?void 0:g.delimiter).forEach(v=>b.addHotkey(ST(v,g==null?void 0:g.splitKey,g==null?void 0:g.useKey,g==null?void 0:g.description))),()=>{m.removeEventListener("keyup",h),m.removeEventListener("keydown",u),b&&ET(c,g==null?void 0:g.delimiter).forEach(v=>b.removeHotkey(ST(v,g==null?void 0:g.splitKey,g==null?void 0:g.useKey,g==null?void 0:g.description)))}},[s,c,g,y]),a}let WRe=0;function Ro(t,e){const r="atom".concat(++WRe),n={toString:()=>r};return typeof t=="function"?n.read=t:(n.init=t,n.read=KRe,n.write=XRe),e&&(n.write=e),n}function KRe(t){return t(this)}function XRe(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}const CT=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Z4=t=>"init"in t,J4=t=>!!t.write,yx=new WeakMap,YRe=(t,e)=>{yx.set(t,e),t.catch(()=>{}).finally(()=>yx.delete(t))},Q4=(t,e)=>{const r=yx.get(t);r&&(yx.delete(t),r(e))},e8=(t,e)=>{t.status="fulfilled",t.value=e},t8=(t,e)=>{t.status="rejected",t.reason=e},qRe=t=>typeof(t==null?void 0:t.then)=="function",Nm=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),r8=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),zf=t=>!!t&&"v"in t&&t.v instanceof Promise,ZRe=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,r1=t=>{if("e"in t)throw t.e;return t.v},SQ=()=>{const t=new WeakMap,e=new WeakMap,r=[],n=new WeakMap;let s,a;const o=P=>t.get(P),l=(P,T)=>{T.d.forEach((A,R)=>{if(!n.has(R)){const D=o(R);n.set(R,[D,new Set]),D&&l(R,D)}n.get(R)[1].add(P)})},c=(P,T)=>{var A;const R=o(P);if(t.set(P,T),(A=r[r.length-1])==null||A.add(P),n.has(P)||(n.set(P,[R,new Set]),l(P,T)),zf(R)){const D="v"in T?T.v instanceof Promise?T.v:Promise.resolve(T.v):Promise.reject(T.e);R.v!==D&&Q4(R.v,D)}},d=(P,T,A,R)=>{const D=new Map(R?T.d:null);let O=!1;A.forEach((I,M)=>{!I&&CT(P,M)&&(I=T),I&&(D.set(M,I),T.d.get(M)!==I&&(O=!0))}),(O||T.d.size!==D.size)&&(T.d=D)},f=(P,T,A,R)=>{const D=o(P),O={d:(D==null?void 0:D.d)||new Map,v:T};if(A&&d(P,O,A,R),Nm(D,O)&&D.d===O.d)return D;if(zf(D)&&zf(O)&&ZRe(D,O)){if(D.d===O.d)return D;O.v=D.v}return c(P,O),O},p=(P,T,A,R)=>{if(qRe(T)){let D;const O=()=>{const M=o(P);if(!zf(M)||M.v!==I)return;const G=f(P,I,A);e.has(P)&&M.d!==G.d&&x(P,G,M.d)},I=new Promise((M,G)=>{let j=!1;T.then($=>{j||(j=!0,e8(I,$),M($),O())},$=>{j||(j=!0,t8(I,$),G($),O())}),D=$=>{j||(j=!0,$.then(H=>e8(I,H),H=>t8(I,H)),M($))}});return I.orig=T,I.status="pending",YRe(I,M=>{M&&(D(M),R==null||R())}),f(P,I,A,!0)}return f(P,T,A)},g=(P,T,A)=>{const R=o(P),D={d:(R==null?void 0:R.d)||new Map,e:T};return A&&d(P,D,A),r8(R,D)&&R.d===D.d?R:(c(P,D),D)},y=(P,T)=>{const A=o(P);if(!(T!=null&&T(P))&&A&&(e.has(P)||Array.from(A.d).every(([j,$])=>{if(j===P)return!0;const H=y(j,T);return H===$||Nm(H,$)})))return A;const R=new Map;let D=!0;const O=j=>{if(CT(P,j)){const H=o(j);if(H)return R.set(j,H),r1(H);if(Z4(j))return R.set(j,void 0),j.init;throw new Error("no atom init")}const $=y(j,T);return R.set(j,$),r1($)};let I,M;const G={get signal(){return I||(I=new AbortController),I.signal},get setSelf(){return!M&&J4(P)&&(M=(...j)=>{if(!D)return h(P,...j)}),M}};try{const j=P.read(O,G);return p(P,j,R,()=>I==null?void 0:I.abort())}catch(j){return g(P,j,R)}finally{D=!1}},b=P=>r1(y(P)),_=P=>{const T=M=>{var G,j;const $=new Set((G=e.get(M))==null?void 0:G.t);return(j=n.get(M))==null||j[1].forEach(H=>{$.add(H)}),$},A=new Array,R=new Set,D=M=>{if(!R.has(M)){R.add(M);for(const G of T(M))M!==G&&D(G);A.push(M)}};D(P);const O=new Set([P]),I=M=>R.has(M);for(let M=A.length-1;M>=0;--M){const G=A[M],j=o(G);if(!j)continue;let $=!1;for(const H of j.d.keys())if(H!==G&&O.has(H)){$=!0;break}if($){const H=y(G,I);l(G,H),Nm(j,H)||O.add(G)}R.delete(G)}},u=(P,...T)=>{const A=O=>r1(y(O)),R=(O,...I)=>{const M=r.length>0;M||r.push(new Set([O]));let G;if(CT(P,O)){if(!Z4(O))throw new Error("atom not writable");const j=o(O),$=p(O,I[0]);Nm(j,$)||_(O)}else G=u(O,...I);if(!M){const j=S(r.pop())}return G};return P.write(A,R,...T)},h=(P,...T)=>{r.push(new Set([P]));const A=u(P,...T),R=S(r.pop());return A},m=(P,T,A)=>{var R;const D=e.get(P);if(D)return T&&D.t.add(T),D;const O=A||[];(R=o(P))==null||R.d.forEach((M,G)=>{G!==P&&m(G,P,O)}),y(P);const I={t:new Set(T&&[T]),l:new Set};if(e.set(P,I),J4(P)&&P.onMount){const{onMount:M}=P;O.push(()=>{const G=M((...j)=>h(P,...j));G&&(I.u=G)})}return A||O.forEach(M=>M()),I},v=(P,T)=>!T.l.size&&(!T.t.size||T.t.size===1&&T.t.has(P)),w=(P,T)=>{if(!v(P,T))return;const A=T.u;A&&A(),e.delete(P);const R=o(P);R&&(zf(R)&&Q4(R.v),R.d.forEach((D,O)=>{if(O!==P){const I=e.get(O);I&&(I.t.delete(P),w(O,I))}}))},x=(P,T,A)=>{const R=new Set(T.d.keys()),D=new Set;A==null||A.forEach((O,I)=>{if(R.has(I)){R.delete(I);return}D.add(I);const M=e.get(I);M&&M.t.delete(P)}),R.forEach(O=>{m(O,P)}),D.forEach(O=>{const I=e.get(O);I&&w(O,I)})},S=P=>{let T;const A=[],R=D=>{var O;if(!n.has(D))return;const[I,M]=n.get(D);n.delete(D),A.push([D,I]),M.forEach(R),(O=o(D))==null||O.d.forEach((G,j)=>R(j))};P.forEach(R),A.forEach(([D,O])=>{const I=o(D);if(I&&I!==O){const M=e.get(D);M&&I.d!==(O==null?void 0:O.d)&&x(D,I,O==null?void 0:O.d),M&&!(!zf(O)&&(Nm(O,I)||r8(O,I)))&&M.l.forEach(G=>G())}})};return{get:b,set:h,sub:(P,T)=>{const A=m(P),R=S([P]),D=A.l;return D.add(T),()=>{D.delete(T),w(P,A)}}}};let AT;const JRe=()=>(AT||(AT=SQ()),AT);Symbol("");const BR=SQ,QRe=JRe,eOe=C.createContext(void 0),vM=t=>{const e=C.useContext(eOe);return(t==null?void 0:t.store)||e||QRe()},tOe=t=>typeof(t==null?void 0:t.then)=="function",rOe=q.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function CQ(t,e){const r=vM(e),[[n,s,a],o]=C.useReducer(d=>{const f=r.get(t);return Object.is(d[0],f)&&d[1]===r&&d[2]===t?d:[f,r,t]},void 0,()=>[r.get(t),r,t]);let l=n;(s!==r||a!==t)&&(o(),l=r.get(t));const c=e==null?void 0:e.delay;return C.useEffect(()=>{const d=r.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),d},[r,t,c]),C.useDebugValue(l),tOe(l)?rOe(l):l}function yM(t,e){const r=vM(e);return C.useCallback((...s)=>r.set(t,...s),[r,t])}function nOe(t,e){return[CQ(t,e),yM(t,e)]}const n8=new WeakMap;function iOe(t,e){const r=vM(e),n=sOe(r);for(const[s,a]of t)(!n.has(s)||e!=null&&e.dangerouslyForceHydrate)&&(n.add(s),r.set(s,a))}const sOe=t=>{let e=n8.get(t);return e||(e=new WeakSet,n8.set(t,e)),e};var aOe=Object.defineProperty,oOe=Object.defineProperties,lOe=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,AQ=Object.prototype.hasOwnProperty,TQ=Object.prototype.propertyIsEnumerable,i8=(t,e,r)=>e in t?aOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$n=(t,e)=>{for(var r in e||(e={}))AQ.call(e,r)&&i8(t,r,e[r]);if(_x)for(var r of _x(e))TQ.call(e,r)&&i8(t,r,e[r]);return t},TT=(t,e)=>oOe(t,lOe(e)),PQ=(t,e)=>{var r={};for(var n in t)AQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&_x)for(var n of _x(t))e.indexOf(n)<0&&TQ.call(t,n)&&(r[n]=t[n]);return r},s8=t=>typeof t=="function"?{__fn:t}:t,uOe=t=>t&&typeof t=="object"&&"__fn"in t?t.__fn:t,cOe=t=>{const e=Ro(s8(t));return Ro(r=>uOe(r(e)),(r,n,s)=>n(e,s8(s)))},dOe=(t,e,r={})=>{const n=[];for(const s of Object.keys(t)){const a=e[s];a!==void 0&&n.push([t[s],a])}iOe(n,r)},fOe=(t,e,{store:r}={})=>{for(const n of Object.keys(t)){const s=e[n],a=t[n],o=yM(a,{store:r});q.useEffect(()=>{s!=null&&o(s)},[o,s])}},bx=(t,e)=>"".concat(t,":").concat(e),FR="provider",MR=q.createContext(new Map),hOe=(t,e=FR,r=!0)=>{var n;const s=q.useContext(MR),a=(n=s.get(bx(t,e)))!=null?n:s.get(bx(t,FR));return!a&&r&&console.warn("Tried to access jotai store '".concat(t,"' outside of a matching provider.")),a},pOe=t=>{var e=t,{initialValues:r,children:n,store:s,atoms:a}=e,o=PQ(e,["initialValues","children","store","atoms"]);return dOe(a,$n($n({},r),o),{store:s}),fOe(a,o,{store:s}),q.createElement(q.Fragment,null,n)},mOe=(t,e,r={})=>{const n=r.effect;return s=>{var a=s,{store:o,scope:l,children:c,resetKey:d}=a,f=PQ(a,["store","scope","children","resetKey"]);const[p,g]=q.useState(BR());q.useEffect(()=>{d&&g(BR())},[d]);const y=q.useContext(MR),b=q.useMemo(()=>{const _=new Map(y);return l&&_.set(bx(t,l),p),_.set(bx(t,FR),p),_},[y,l,p]);return q.createElement(MR.Provider,{value:b},q.createElement(pOe,$n({store:p,atoms:e},f),!!n&&q.createElement(n,null),c))}},DQ=(t="")=>t.length>0?t[0].toUpperCase()+t.slice(1):"",gOe=(t="")=>"".concat(DQ(t),"Provider"),vOe=(t="")=>t.length>0?"".concat(t,"Store"):"store",yOe=(t="")=>"use".concat(DQ(t),"Store"),_Oe=t=>!!t&&typeof t=="object"&&"read"in t&&typeof t.read=="function",PT=(t,e)=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,(s={})=>n($n($n({},e),s))])),Vi=(t={})=>typeof t=="string"?{scope:t}:t,_M=(t,{name:e,delay:r,effect:n,extend:s})=>{const a=gOe(e),o=yOe(e),l=vOe(e),c={},d={},f={};for(const[S,E]of Object.entries(t)){const P=_Oe(E)?E:cOe(E);c[S]=P;const T="write"in P;f[S]=T,T&&(d[S]=P)}const p=$n({},c);if(s){const S=s(c);for(const[E,P]of Object.entries(S))p[E]=P,f[E]="write"in P}const g={},y={},b={},_=(S={})=>{const{scope:E,store:P,warnIfNoStore:T=!0}=Vi(S),A=hOe(e,E,!P&&T);return P!=null?P:A},u=(S,E)=>{var P;const T=Vi(E),A=_($n({warnIfNoStore:!1},T));return CQ(S,{store:A,delay:(P=T.delay)!=null?P:r})},h=(S,E)=>{const P=_(E);return yM(S,{store:P})},m=(S,E)=>{const P=_(E),{delay:T=r}=Vi(E);return nOe(S,{store:P,delay:T})};for(const S of Object.keys(p)){const E=p[S],P=f[S];g[S]=(T={})=>u(E,T),P&&(y[S]=(T={})=>h(E,T),b[S]=(T={})=>m(E,T))}const v=mOe(e,d,{effect:n}),w={atom:p,name:e},x=(S={})=>({get:TT($n({},PT(g,Vi(S))),{atom:(E,P)=>u(E,$n($n({},Vi(S)),Vi(P)))}),set:TT($n({},PT(y,Vi(S))),{atom:(E,P)=>h(E,$n($n({},Vi(S)),Vi(P)))}),use:TT($n({},PT(b,Vi(S))),{atom:(E,P)=>m(E,$n($n({},Vi(S)),Vi(P)))}),store:E=>_($n($n({},Vi(S)),Vi(E)))});return{[a]:v,[o]:x,[l]:w,name:e}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function a8(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hn(t){var e,r;return a8(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(a8(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var bOe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=te.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},wOe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=zt.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},xOe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=de.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},wx=new WeakMap,xx=new WeakMap,Wg=new WeakMap,RQ=new WeakMap,o8=new WeakMap,l8=new WeakMap,u8=new WeakMap,te={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=te.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){for(var r=[],n=0;n<t.length&&n<e.length;n++){var s=t[n],a=e[n];if(s!==a)break;r.push(s)}return r},compare(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),a=t[r],o=e[r];return te.equals(n,s)&&a>o},endsAt(t,e){var r=t.length,n=t.slice(0,r),s=e.slice(0,r);return te.equals(n,s)},endsBefore(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),a=t[r],o=e[r];return te.equals(n,s)&&a<o},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return te.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&te.compare(t,e)===0},isBefore(t,e){return te.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&te.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&te.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&te.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&te.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var r=t.slice(0,-1),n=e.slice(0,-1),s=t[t.length-1],a=e[e.length-1];return s!==a&&te.equals(r,n)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=[],s=0;s<=t.length;s++)n.push(t.slice(0,s));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!te.isAncestor(e,t)&&!te.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var n=[...t],{affinity:s="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{var{path:a}=e;(te.equals(a,n)||te.endsBefore(a,n)||te.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:o}=e;if(te.equals(o,n)||te.isAncestor(o,n))return null;te.endsBefore(o,n)&&(n[o.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;te.equals(l,n)||te.endsBefore(l,n)?n[l.length-1]-=1:te.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:d,position:f}=e;if(te.equals(d,n)){if(s==="forward")n[n.length-1]+=1;else if(s!=="backward")return null}else te.endsBefore(d,n)?n[d.length-1]+=1:te.isAncestor(d,n)&&t[d.length]>=f&&(n[d.length-1]+=1,n[d.length]-=f);break}case"move_node":{var{path:p,newPath:g}=e;if(te.equals(p,g))return n;if(te.isAncestor(p,n)||te.equals(p,n)){var y=g.slice();return te.endsBefore(p,g)&&p.length<g.length&&(y[p.length-1]-=1),y.concat(n.slice(p.length))}else te.isSibling(p,g)&&(te.isAncestor(g,n)||te.equals(g,n))?te.endsBefore(p,n)?n[p.length-1]-=1:n[p.length-1]+=1:te.endsBefore(g,n)||te.equals(g,n)||te.isAncestor(g,n)?(te.endsBefore(p,n)&&(n[p.length-1]-=1),n[g.length-1]+=1):te.endsBefore(p,n)&&(te.equals(g,n)&&(n[g.length-1]+=1),n[p.length-1]-=1);break}}return n}};function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function EOe(t,e){if(gy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SOe(t){var e=EOe(t,"string");return gy(e)==="symbol"?e:String(e)}function Ui(t,e,r){return e=SOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var COe=(t,e,r)=>{switch(r.type){case"insert_node":{var{path:n,node:s}=r,a=Me.parent(t,n),o=n[n.length-1];if(o>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(o,0,s),e)for(var[l,c]of de.points(e))e[c]=zt.transform(l,r);break}case"insert_text":{var{path:d,offset:f,text:p}=r;if(p.length===0)break;var g=Me.leaf(t,d),y=g.text.slice(0,f),b=g.text.slice(f);if(g.text=y+p+b,e)for(var[_,u]of de.points(e))e[u]=zt.transform(_,r);break}case"merge_node":{var{path:h}=r,m=Me.get(t,h),v=te.previous(h),w=Me.get(t,v),x=Me.parent(t,h),S=h[h.length-1];if(Qe.isText(m)&&Qe.isText(w))w.text+=m.text;else if(!Qe.isText(m)&&!Qe.isText(w))w.children.push(...m.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(h,"] to nodes of different interfaces: ").concat(Wn.stringify(m)," ").concat(Wn.stringify(w)));if(x.children.splice(S,1),e)for(var[E,P]of de.points(e))e[P]=zt.transform(E,r);break}case"move_node":{var{path:T,newPath:A}=r;if(te.isAncestor(T,A))throw new Error("Cannot move a path [".concat(T,"] to new path [").concat(A,"] because the destination is inside itself."));var R=Me.get(t,T),D=Me.parent(t,T),O=T[T.length-1];D.children.splice(O,1);var I=te.transform(T,r),M=Me.get(t,te.parent(I)),G=I[I.length-1];if(M.children.splice(G,0,R),e)for(var[j,$]of de.points(e))e[$]=zt.transform(j,r);break}case"remove_node":{var{path:H}=r,K=H[H.length-1],re=Me.parent(t,H);if(re.children.splice(K,1),e)for(var[fe,ye]of de.points(e)){var he=zt.transform(fe,r);if(e!=null&&he!=null)e[ye]=he;else{var ue=void 0,Z=void 0;for(var[z,V]of Me.texts(t))if(te.compare(V,H)===-1)ue=[z,V];else{Z=[z,V];break}var Y=!1;ue&&Z&&(te.equals(Z[1],H)?Y=!te.hasPrevious(Z[1]):Y=te.common(ue[1],H).length<te.common(Z[1],H).length),ue&&!Y?(fe.path=ue[1],fe.offset=ue[0].text.length):Z?(fe.path=Z[1],fe.offset=0):e=null}}break}case"remove_text":{var{path:ne,offset:ie,text:me}=r;if(me.length===0)break;var xe=Me.leaf(t,ne),we=xe.text.slice(0,ie),Ee=xe.text.slice(ie+me.length);if(xe.text=we+Ee,e)for(var[tt,xt]of de.points(e))e[xt]=zt.transform(tt,r);break}case"set_node":{var{path:_t,properties:Gt,newProperties:X}=r;if(_t.length===0)throw new Error("Cannot set properties on the root node!");var oe=Me.get(t,_t);for(var le in X){if(le==="children"||le==="text")throw new Error('Cannot set the "'.concat(le,'" property of nodes!'));var Ae=X[le];Ae==null?delete oe[le]:oe[le]=Ae}for(var _e in Gt)X.hasOwnProperty(_e)||delete oe[_e];break}case"set_selection":{var{newProperties:ce}=r;if(ce==null)e=ce;else{if(e==null){if(!de.isRange(ce))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Wn.stringify(ce)," when there is no current selection."));e=Lm({},ce)}for(var be in ce){var Ye=ce[be];if(Ye==null){if(be==="anchor"||be==="focus")throw new Error('Cannot remove the "'.concat(be,'" selection property'));delete e[be]}else e[be]=Ye}}break}case"split_node":{var{path:Xe,position:Pe,properties:L}=r;if(Xe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Xe,"] because the root node cannot be split."));var B=Me.get(t,Xe),U=Me.parent(t,Xe),J=Xe[Xe.length-1],ae;if(Qe.isText(B)){var ke=B.text.slice(0,Pe),Ne=B.text.slice(Pe);B.text=ke,ae=Lm(Lm({},L),{},{text:Ne})}else{var at=B.children.slice(0,Pe),Ve=B.children.slice(Pe);B.children=at,ae=Lm(Lm({},L),{},{children:Ve})}if(U.children.splice(J+1,0,ae),e)for(var[ht,Ft]of de.points(e))e[Ft]=zt.transform(ht,r);break}}return e},AOe={transform(t,e){t.children=o$(t.children);var r=t.selection&&o$(t.selection);try{r=COe(t,r,e)}finally{t.children=l$(t.children),r?t.selection=jd(r)?l$(r):r:t.selection=null}}},TOe={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},POe={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},OQ=(t,e)=>{for(var r in t){var n=t[r],s=e[r];if(Hn(n)&&Hn(s)){if(!OQ(n,s))return!1}else if(Array.isArray(n)&&Array.isArray(s)){if(n.length!==s.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==s[a])return!1}else if(n!==s)return!1}for(var o in e)if(t[o]===void 0&&e[o]!==void 0)return!1;return!0};function DOe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function kl(t,e){if(t==null)return{};var r=DOe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var ROe=["anchor","focus"];function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function OOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var de={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:n,focus:s}=t;return de.isBackward(t)===r?[n,s]:[s,n]},end(t){var[,e]=de.edges(t);return e},equals(t,e){return zt.equals(t.anchor,e.anchor)&&zt.equals(t.focus,e.focus)},includes(t,e){if(de.isRange(e)){if(de.includes(t,e.anchor)||de.includes(t,e.focus))return!0;var[r,n]=de.edges(t),[s,a]=de.edges(e);return zt.isBefore(r,s)&&zt.isAfter(n,a)}var[o,l]=de.edges(t),c=!1,d=!1;return zt.isPoint(e)?(c=zt.compare(e,o)>=0,d=zt.compare(e,l)<=0):(c=te.compare(e,o.path)>=0,d=te.compare(e,l.path)<=0),c&&d},intersection(t,e){var r=kl(t,ROe),[n,s]=de.edges(t),[a,o]=de.edges(e),l=zt.isBefore(n,a)?a:n,c=zt.isBefore(s,o)?s:o;return zt.isBefore(c,l)?null:OOe({anchor:l,focus:c},r)},isBackward(t){var{anchor:e,focus:r}=t;return zt.isAfter(e,r)},isCollapsed(t){var{anchor:e,focus:r}=t;return zt.equals(e,r)},isExpanded(t){return!de.isCollapsed(t)},isForward(t){return!de.isBackward(t)},isRange(t){return Hn(t)&&zt.isPoint(t.anchor)&&zt.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=de.edges(t);return e},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return qy(t,n=>{if(n===null)return null;var{affinity:s="inward"}=r,a,o;if(s==="inward"){var l=de.isCollapsed(n);de.isForward(n)?(a="forward",o=l?a:"backward"):(a="backward",o=l?a:"forward")}else s==="outward"?de.isForward(n)?(a="backward",o="forward"):(a="forward",o="backward"):(a=s,o=s);var c=zt.transform(n.anchor,e,{affinity:a}),d=zt.transform(n.focus,e,{affinity:o});if(!c||!d)return null;n.anchor=c,n.focus=d})}},f8=t=>Hn(t)&&Me.isNodeList(t.children)&&!F.isEditor(t),it={isAncestor(t){return Hn(t)&&Me.isNodeList(t.children)},isElement:f8,isElementList(t){return Array.isArray(t)&&t.every(e=>it.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return f8(e)&&e[n]===r},matches(t,e){for(var r in e)if(r!=="children"&&t[r]!==e[r])return!1;return!0}},IOe=["children"],BOe=["text"],h8=new WeakMap,Me={ancestor(t,e){var r=Me.get(t,e);if(Qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Wn.stringify(r)));return r},ancestors(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of te.ancestors(e,r)){var s=Me.ancestor(t,n),a=[s,n];yield a}}()},child(t,e){if(Qe.isText(t))throw new Error("Cannot get the child of a text node: ".concat(Wn.stringify(t)));var r=t.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Wn.stringify(t)));return r},children(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,s=Me.ancestor(t,e),{children:a}=s,o=n?a.length-1:0;n?o>=0:o<a.length;){var l=Me.child(s,o),c=e.concat(o);yield[l,c],o=n?o-1:o+1}}()},common(t,e,r){var n=te.common(e,r),s=Me.get(t,n);return[s,n]},descendant(t,e){var r=Me.get(t,e);if(F.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Wn.stringify(r)));return r},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))n.length!==0&&(yield[r,n])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))it.isElement(r)&&(yield[r,n])}()},extractProps(t){if(it.isAncestor(t)){var e=kl(t,IOe);return e}else{var e=kl(t,BOe);return e}},first(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(Qe.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(t,e){if(Qe.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Wn.stringify(t)));var r=qy({children:t.children},n=>{var[s,a]=de.edges(e),o=Me.nodes(n,{reverse:!0,pass:g=>{var[,y]=g;return!de.includes(e,y)}});for(var[,l]of o){if(!de.includes(e,l)){var c=Me.parent(n,l),d=l[l.length-1];c.children.splice(d,1)}if(te.equals(l,a.path)){var f=Me.leaf(n,l);f.text=f.text.slice(0,a.offset)}if(te.equals(l,s.path)){var p=Me.leaf(n,l);p.text=p.text.slice(s.offset)}}F.isEditor(n)&&(n.selection=null)});return r.children},get(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(Qe.isText(r)||!r.children[s])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Wn.stringify(t)));r=r.children[s]}return r},has(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(Qe.isText(r)||!r.children[s])return!1;r=r.children[s]}return!0},isNode(t){return Qe.isText(t)||it.isElement(t)||F.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=h8.get(t);if(e!==void 0)return e;var r=t.every(n=>Me.isNode(n));return h8.set(t,r),r},last(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(Qe.isText(n)||n.children.length===0);){var s=n.children.length-1;n=n.children[s],r.push(s)}return[n,r]},leaf(t,e){var r=Me.get(t,e);if(!Qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Wn.stringify(r)));return r},levels(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of te.levels(e,r)){var s=Me.get(t,n);yield[s,n]}}()},matches(t,e){return it.isElement(t)&&it.isElementProps(e)&&it.matches(t,e)||Qe.isText(t)&&Qe.isTextProps(e)&&Qe.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=e,{from:s=[],to:a}=e,o=new Set,l=[],c=t;!(a&&(n?te.isBefore(l,a):te.isAfter(l,a)));){if(o.has(c)||(yield[c,l]),!o.has(c)&&!Qe.isText(c)&&c.children.length!==0&&(r==null||r([c,l])===!1)){o.add(c);var d=n?c.children.length-1:0;te.isAncestor(l,s)&&(d=s[l.length]),l=l.concat(d),c=Me.get(t,l);continue}if(l.length===0)break;if(!n){var f=te.next(l);if(Me.has(t,f)){l=f,c=Me.get(t,l);continue}}if(n&&l[l.length-1]!==0){var p=te.previous(l);l=p,c=Me.get(t,l);continue}l=te.parent(l),c=Me.get(t,l),o.add(c)}}()},parent(t,e){var r=te.parent(e),n=Me.get(t,r);if(Qe.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(t){return Qe.isText(t)?t.text:t.children.map(Me.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))Qe.isText(r)&&(yield[r,n])}()}};function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Iu={isNodeOperation(t){return Iu.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Hn(t))return!1;switch(t.type){case"insert_node":return te.isPath(t.path)&&Me.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&te.isPath(t.path);case"merge_node":return typeof t.position=="number"&&te.isPath(t.path)&&Hn(t.properties);case"move_node":return te.isPath(t.path)&&te.isPath(t.newPath);case"remove_node":return te.isPath(t.path)&&Me.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&te.isPath(t.path);case"set_node":return te.isPath(t.path)&&Hn(t.properties)&&Hn(t.newProperties);case"set_selection":return t.properties===null&&de.isRange(t.newProperties)||t.newProperties===null&&de.isRange(t.properties)||Hn(t.properties)&&Hn(t.newProperties);case"split_node":return te.isPath(t.path)&&typeof t.position=="number"&&Hn(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>Iu.isOperation(e))},isSelectionOperation(t){return Iu.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return Iu.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return kr(kr({},t),{},{type:"remove_node"});case"insert_text":return kr(kr({},t),{},{type:"remove_text"});case"merge_node":return kr(kr({},t),{},{type:"split_node",path:te.previous(t.path)});case"move_node":{var{newPath:e,path:r}=t;if(te.equals(e,r))return t;if(te.isSibling(r,e))return kr(kr({},t),{},{path:e,newPath:r});var n=te.transform(r,t),s=te.transform(te.next(r),t);return kr(kr({},t),{},{path:n,newPath:s})}case"remove_node":return kr(kr({},t),{},{type:"insert_node"});case"remove_text":return kr(kr({},t),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:o}=t;return kr(kr({},t),{},{properties:o,newProperties:a})}case"set_selection":{var{properties:l,newProperties:c}=t;return l==null?kr(kr({},t),{},{properties:c,newProperties:null}):c==null?kr(kr({},t),{},{properties:null,newProperties:l}):kr(kr({},t),{},{properties:c,newProperties:l})}case"split_node":return kr(kr({},t),{},{type:"merge_node",path:te.next(t.path)})}}},m8=new WeakMap,FOe=t=>{var e=m8.get(t);if(e!==void 0)return e;if(!Hn(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Hn(t.marks))&&(t.selection===null||de.isRange(t.selection))&&Me.isNodeList(t.children)&&Iu.isOperationList(t.operations);return m8.set(t,r),r},F={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return FOe(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)},shouldMergeNodesRemovePrevNode:(t,e,r)=>t.shouldMergeNodesRemovePrevNode(e,r)},MOe={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(te.isPath)}};function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function v8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zt={compare(t,e){var r=te.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return zt.compare(t,e)===1},isBefore(t,e){return zt.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&te.equals(t.path,e.path)},isPoint(t){return Hn(t)&&typeof t.offset=="number"&&te.isPath(t.path)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return qy(t,n=>{if(n===null)return null;var{affinity:s="forward"}=r,{path:a,offset:o}=n;switch(e.type){case"insert_node":case"move_node":{n.path=te.transform(a,e,r);break}case"insert_text":{te.equals(e.path,a)&&(e.offset<o||e.offset===o&&s==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{te.equals(e.path,a)&&(n.offset+=e.position),n.path=te.transform(a,e,r);break}case"remove_text":{te.equals(e.path,a)&&e.offset<=o&&(n.offset-=Math.min(o-e.offset,e.text.length));break}case"remove_node":{if(te.equals(e.path,a)||te.isAncestor(e.path,a))return null;n.path=te.transform(a,e,r);break}case"split_node":{if(te.equals(e.path,a)){if(e.position===o&&s==null)return null;(e.position<o||e.position===o&&s==="forward")&&(n.offset-=e.position,n.path=te.transform(a,e,v8(v8({},r),{},{affinity:"forward"})))}else n.path=te.transform(a,e,r);break}}})}},y8=void 0,Wn={setScrubber(t){y8=t},stringify(t){return JSON.stringify(t,y8)}},kOe=["text"],NOe=["anchor","focus"];function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Qe={equals(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function s(a){var o=kl(a,kOe);return o}return OQ(n?s(t):t,n?s(e):e)},isText(t){return Hn(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>Qe.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var r in e)if(r!=="text"&&(!t.hasOwnProperty(r)||t[r]!==e[r]))return!1;return!0},decorations(t,e){var r=[qo({},t)];for(var n of e){var s=kl(n,NOe),[a,o]=de.edges(n),l=[],c=0,d=a.offset,f=o.offset;for(var p of r){var{length:g}=p.text,y=c;if(c+=g,d<=y&&c<=f){Object.assign(p,s),l.push(p);continue}if(d!==f&&(d===c||f===y)||d>c||f<y||f===y&&y!==0){l.push(p);continue}var b=p,_=void 0,u=void 0;if(f<c){var h=f-y;u=qo(qo({},b),{},{text:b.text.slice(h)}),b=qo(qo({},b),{},{text:b.text.slice(0,h)})}if(d>y){var m=d-y;_=qo(qo({},b),{},{text:b.text.slice(0,m)}),b=qo(qo({},b),{},{text:b.text.slice(m)})}Object.assign(b,s),_&&l.push(_),l.push(b),u&&l.push(u)}r=l}return r}},bM=t=>t.selection?t.selection:t.children.length>0?F.end(t,[]):[0],Qp=(t,e)=>{var[r]=F.node(t,e);return n=>n===r},wM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,s=r?VOe(e):e,a=Rt.None,o=Rt.None,l=0,c=null,d=null;for(var f of s){var p=f.codePointAt(0);if(!p)break;var g=tIe(f,p);if([a,o]=n?[o,g]:[g,a],xh(a,Rt.ZWJ)&&xh(o,Rt.ExtPict)&&(n?c=b8(e.substring(0,l)):c=b8(e.substring(0,e.length-l)),!c)||xh(a,Rt.RI)&&xh(o,Rt.RI)&&(d!==null?d=!d:n?d=!0:d=aIe(e.substring(0,e.length-l)),!d)||a!==Rt.None&&o!==Rt.None&&nIe(a,o))break;l+=f.length}return l||1},LOe=/\s/,UOe=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,$Oe=/['\u2018\u2019]/,jOe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,s=!1;e.length>0;){var a=wM(e,r),[o,l]=xM(e,a,r);if(zOe(o,l,r))s=!0,n+=a;else if(!s)n+=a;else break;e=l}return n},xM=(t,e,r)=>{if(r){var n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},zOe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(LOe.test(e))return!1;if($Oe.test(e)){var s=wM(r,n),[a,o]=xM(r,s,n);if(t(a,o,n))return!0}return!UOe.test(e)},VOe=function*(e){for(var r=e.length-1,n=0;n<e.length;n++){var s=e.charAt(r-n);if(HOe(s.charCodeAt(0))){var a=e.charAt(r-n-1);if(GOe(a.charCodeAt(0))){yield a+s,n++;continue}}yield s}},GOe=t=>t>=55296&&t<=56319,HOe=t=>t>=56320&&t<=57343,Rt;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(Rt||(Rt={}));var WOe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,KOe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,XOe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,YOe=/^[\u1100-\u115F\uA960-\uA97C]$/,qOe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ZOe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,JOe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,QOe=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,eIe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,tIe=(t,e)=>{var r=Rt.Any;return t.search(WOe)!==-1&&(r|=Rt.Extend),e===8205&&(r|=Rt.ZWJ),e>=127462&&e<=127487&&(r|=Rt.RI),t.search(KOe)!==-1&&(r|=Rt.Prepend),t.search(XOe)!==-1&&(r|=Rt.SpacingMark),t.search(YOe)!==-1&&(r|=Rt.L),t.search(qOe)!==-1&&(r|=Rt.V),t.search(ZOe)!==-1&&(r|=Rt.T),t.search(JOe)!==-1&&(r|=Rt.LV),t.search(QOe)!==-1&&(r|=Rt.LVT),t.search(eIe)!==-1&&(r|=Rt.ExtPict),r};function xh(t,e){return(t&e)!==0}var rIe=[[Rt.L,Rt.L|Rt.V|Rt.LV|Rt.LVT],[Rt.LV|Rt.V,Rt.V|Rt.T],[Rt.LVT|Rt.T,Rt.T],[Rt.Any,Rt.Extend|Rt.ZWJ],[Rt.Any,Rt.SpacingMark],[Rt.Prepend,Rt.Any],[Rt.ZWJ,Rt.ExtPict],[Rt.RI,Rt.RI]];function nIe(t,e){return rIe.findIndex(r=>xh(t,r[0])&&xh(e,r[1]))===-1}var iIe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,b8=t=>t.search(iIe)!==-1,sIe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,aIe=t=>{var e=t.match(sIe);if(e===null)return!1;var r=e[0].length/2;return r%2===1},oIe={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{voids:n=!1}=r,{at:s=bM(t)}=r;if(te.isPath(s)&&(s=F.range(t,s)),de.isRange(s))if(de.isCollapsed(s))s=s.anchor;else{var a=de.end(s);if(!n&&F.void(t,{at:a}))return;var o=de.start(s),l=F.pointRef(t,o),c=F.pointRef(t,a);Se.delete(t,{at:s,voids:n});var d=l.unref(),f=c.unref();s=d||f,Se.setSelection(t,{anchor:s,focus:s})}if(!(!n&&F.void(t,{at:s})||F.elementReadOnly(t,{at:s}))){var{path:p,offset:g}=s;e.length>0&&t.apply({type:"insert_text",path:p,offset:g,text:e})}})}};function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function n1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Se=n1(n1(n1(n1({},AOe),TOe),POe),oIe),lb=new WeakMap,lIe=t=>lb.get(t)||!1,uIe=(t,e,r)=>{var n=lb.get(t)||!1;lb.set(t,!0);try{e(),r()}finally{lb.set(t,n)}};function IQ(t,e,r){var n=wx.get(t)||[],s=xx.get(t)||new Set,a,o,l=p=>{if(p){var g=p.join(",");o.has(g)||(o.add(g),a.push(p))}};if(r){a=[],o=new Set;for(var c of n){var d=r(c);l(d)}}else a=n,o=s;for(var f of e)l(f);wx.set(t,a),xx.set(t,o)}var cIe=(t,e)=>{for(var r of F.pathRefs(t))bOe.transform(r,e);for(var n of F.pointRefs(t))wOe.transform(n,e);for(var s of F.rangeRefs(t))xOe.transform(s,e);if(!lIe(t)){var a=te.operationCanTransformPath(e)?o=>te.transform(o,e):void 0;IQ(t,t.getDirtyPaths(e),a)}Se.transform(t,e),t.operations.push(e),F.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Wg.get(t)||(Wg.set(t,!0),Promise.resolve().then(()=>{Wg.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},dIe=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return te.levels(r)}case"insert_node":{var{node:n,path:s}=e,a=te.levels(s),o=Qe.isText(n)?[]:Array.from(Me.nodes(n),A=>{var[,R]=A;return s.concat(R)});return[...a,...o]}case"merge_node":{var{path:l}=e,c=te.ancestors(l),d=te.previous(l);return[...c,d]}case"move_node":{var{path:f,newPath:p}=e;if(te.equals(f,p))return[];var g=[],y=[];for(var b of te.ancestors(f)){var _=te.transform(b,e);g.push(_)}for(var u of te.ancestors(p)){var h=te.transform(u,e);y.push(h)}var m=y[y.length-1],v=p[p.length-1],w=m.concat(v);return[...g,...y,w]}case"remove_node":{var{path:x}=e,S=te.ancestors(x);return[...S]}case"split_node":{var{path:E}=e,P=te.levels(E),T=te.next(E);return[...P,T]}default:return[]}},fIe=t=>{var{selection:e}=t;return e?Me.fragment(t,e):[]},hIe=(t,e)=>{var[r,n]=e;if(!Qe.isText(r)){if(it.isElement(r)&&r.children.length===0){var s={text:""};Se.insertNodes(t,s,{at:n.concat(0),voids:!0});return}for(var a=F.isEditor(r)?!1:it.isElement(r)&&(t.isInline(r)||r.children.length===0||Qe.isText(r.children[0])||t.isInline(r.children[0])),o=0,l=0;l<r.children.length;l++,o++){var c=Me.get(t,n);if(!Qe.isText(c)){var d=c.children[o],f=c.children[o-1],p=l===r.children.length-1,g=Qe.isText(d)||it.isElement(d)&&t.isInline(d);if(g!==a)Se.removeNodes(t,{at:n.concat(o),voids:!0}),o--;else if(it.isElement(d)){if(t.isInline(d)){if(f==null||!Qe.isText(f)){var y={text:""};Se.insertNodes(t,y,{at:n.concat(o),voids:!0}),o++}else if(p){var b={text:""};Se.insertNodes(t,b,{at:n.concat(o+1),voids:!0}),o++}}}else{if(!Qe.isText(d)&&!("children"in d)){var _=d;_.children=[]}f!=null&&Qe.isText(f)&&(Qe.equals(d,f,{loose:!0})?(Se.mergeNodes(t,{at:n.concat(o),voids:!0}),o--):f.text===""?(Se.removeNodes(t,{at:n.concat(o-1),voids:!0}),o--):d.text===""&&(Se.removeNodes(t,{at:n.concat(o),voids:!0}),o--))}}}}},pIe=(t,e)=>{var{iteration:r,initialDirtyPathsLength:n}=e,s=n*42;if(r>s)throw new Error("Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},mIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:s="lowest",at:a=e.selection,match:o}=r;if(a){var l=F.path(e,a),c=s==="lowest";for(var[d,f]of F.levels(e,{at:l,voids:n,match:o,reverse:c}))if(!Qe.isText(d)){if(de.isRange(a)){if(te.isAncestor(f,a.anchor.path)&&te.isAncestor(f,a.focus.path))return[d,f]}else if(!te.equals(l,f))return[d,f]}}};function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function E8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gIe=(t,e,r)=>{var{selection:n}=t;if(n){var s=(p,g)=>{if(!Qe.isText(p))return!1;var[y,b]=F.parent(t,g);return!t.isVoid(y)||t.markableVoid(y)},a=de.isExpanded(n),o=!1;if(!a){var[l,c]=F.node(t,n);if(l&&s(l,c)){var[d]=F.parent(t,c);o=d&&t.markableVoid(d)}}if(a||o)Se.setNodes(t,{[e]:r},{match:s,split:!0,voids:!0});else{var f=E8(E8({},F.marks(t)||{}),{},{[e]:r});t.marks=f,Wg.get(t)||t.onChange()}}};function S8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function C8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.point(e,r,{edge:"end"}),a=F.end(e,[]),o={anchor:s,focus:a},{distance:l=1}=n,c=0,d;for(var f of F.positions(e,C8(C8({},n),{},{at:o}))){if(c>l)break;c!==0&&(d=f),c++}return d};function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function T8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.start(e,[]),a=F.point(e,r,{edge:"start"}),o={anchor:s,focus:a},{distance:l=1}=n,c=0,d;for(var f of F.positions(e,T8(T8({},n),{},{at:o,reverse:!0}))){if(c>l)break;c!==0&&(d=f),c++}return d},_Ie=(t,e)=>{var{selection:r}=t;r&&de.isCollapsed(r)&&Se.delete(t,{unit:e,reverse:!0})},bIe=(t,e)=>{var{selection:r}=t;r&&de.isCollapsed(r)&&Se.delete(t,{unit:e})},wIe=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&de.isExpanded(n)&&Se.delete(e,{reverse:r==="backward"})},xIe=(t,e)=>[F.start(t,e),F.end(t,e)];function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function D8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var EIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(e,D8(D8({},r),{},{match:n=>it.isElement(n)&&F.isElementReadOnly(e,n)}))},SIe=(t,e)=>F.point(t,e,{edge:"end"}),CIe=(t,e)=>{var r=F.path(t,e,{edge:"start"});return F.node(t,r)},AIe=(t,e)=>{var r=F.range(t,e);return Me.fragment(t,r)};function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function O8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(e,O8(O8({},r),{},{match:n=>it.isElement(n)&&F.isVoid(e,n)}))},PIe=(t,e)=>e.children.some(r=>it.isElement(r)&&F.isBlock(t,r)),DIe=(t,e)=>e.children.some(r=>Qe.isText(r)||F.isInline(t,r)),RIe=(t,e)=>Me.has(t,e),OIe=(t,e)=>e.children.every(r=>Qe.isText(r)),IIe=t=>{Se.splitNodes(t,{always:!0})},BIe=(t,e,r)=>{Se.insertNodes(t,e,r)},FIe=t=>{Se.splitNodes(t,{always:!0})};function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var kIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s,marks:a}=e;if(s){if(a){var o=MIe({text:r},a);Se.insertNodes(e,o,{at:n.at,voids:n.voids})}else Se.insertText(e,r,n);e.marks=null}},NIe=(t,e)=>!t.isInline(e),LIe=(t,e,r)=>F.isStart(t,e,r)||F.isEnd(t,e,r),UIe=(t,e)=>{var{children:r}=e,[n]=r;return r.length===0||r.length===1&&Qe.isText(n)&&n.text===""&&!t.isVoid(e)},$Ie=(t,e,r)=>{var n=F.end(t,r);return zt.equals(e,n)},jIe=t=>{var e=RQ.get(t);return e===void 0?!0:e},zIe=(t,e,r)=>{if(e.offset!==0)return!1;var n=F.start(t,r);return zt.equals(e,n)},VIe=(t,e)=>{var r=F.path(t,e,{edge:"end"});return F.node(t,r)},GIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.path(e,r,n),a=Me.leaf(e,s);return[a,s]};function HIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,reverse:n=!1,voids:s=!1}=e,{match:a}=e;if(a==null&&(a=()=>!0),!!r){var o=[],l=F.path(t,r);for(var[c,d]of Me.levels(t,l))if(a(c,d)&&(o.push([c,d]),!s&&it.isElement(c)&&F.isVoid(t,c)))break;n&&o.reverse(),yield*o}}()}var WIe=["text"],KIe=["text"],XIe=function(e){var{marks:r,selection:n}=e;if(!n)return null;var{anchor:s,focus:a}=n;if(r)return r;if(de.isExpanded(n)){var o=F.isEnd(e,s,s.path);if(o){var l=F.after(e,s);l&&(s=l)}var[c]=F.nodes(e,{match:Qe.isText,at:{anchor:s,focus:a}});if(c){var[d]=c,f=kl(d,WIe);return f}else return{}}var{path:p}=s,[g]=F.leaf(e,p);if(s.offset===0){var y=F.previous(e,{at:p,match:Qe.isText}),b=F.above(e,{match:w=>it.isElement(w)&&F.isVoid(e,w)&&e.markableVoid(w)});if(!b){var _=F.above(e,{match:w=>it.isElement(w)&&F.isBlock(e,w)});if(y&&_){var[u,h]=y,[,m]=_;te.isAncestor(m,h)&&(g=u)}}}var v=kl(g,KIe);return v},YIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:a,at:o=e.selection}=r;if(o){var l=F.after(e,o,{voids:s});if(l){var[,c]=F.last(e,[]),d=[l.path,c];if(te.isPath(o)&&o.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(te.isPath(o)){var[f]=F.parent(e,o);a=g=>f.children.includes(g)}else a=()=>!0;var[p]=F.nodes(e,{at:d,match:a,mode:n,voids:s});return p}}},qIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.path(e,r,n),a=Me.get(e,s);return[a,s]};function ZIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,mode:n="all",universal:s=!1,reverse:a=!1,voids:o=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var d,f;if(MOe.isSpan(r))d=r[0],f=r[1];else{var p=F.path(t,r,{edge:"start"}),g=F.path(t,r,{edge:"end"});d=a?g:p,f=a?p:g}var y=Me.nodes(t,{reverse:a,from:d,to:f,pass:w=>{var[x]=w;return it.isElement(x)?!!(!o&&(F.isVoid(t,x)||F.isElementReadOnly(t,x))||l&&!F.isSelectable(t,x)):!1}}),b=[],_;for(var[u,h]of y)if(!(l&&it.isElement(u)&&!F.isSelectable(t,u))){var m=_&&te.compare(h,_[1])===0;if(!(n==="highest"&&m)){if(!c(u,h)){if(s&&!m&&Qe.isText(u))return;continue}if(n==="lowest"&&m){_=[u,h];continue}var v=n==="lowest"?_:[u,h];v&&(s?b.push(v):yield v),_=[u,h]}}n==="lowest"&&_&&(s?b.push(_):yield _),s&&(yield*b)}}()}var JIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:s}=r,a=f=>wx.get(f)||[],o=f=>xx.get(f)||new Set,l=f=>{var p=a(f).pop(),g=p.join(",");return o(f).delete(g),p};if(F.isNormalizing(e)){if(n){var c=Array.from(Me.nodes(e),f=>{var[,p]=f;return p}),d=new Set(c.map(f=>f.join(",")));wx.set(e,c),xx.set(e,d)}a(e).length!==0&&F.withoutNormalizing(e,()=>{for(var f of a(e))if(Me.has(e,f)){var p=F.node(e,f),[g,y]=p;it.isElement(g)&&g.children.length===0&&e.normalizeNode(p,{operation:s})}for(var b=a(e),_=b.length,u=0;b.length!==0;){if(!e.shouldNormalize({dirtyPaths:b,iteration:u,initialDirtyPathsLength:_,operation:s}))return;var h=l(e);if(Me.has(e,h)){var m=F.node(e,h);e.normalizeNode(m,{operation:s})}u++,b=a(e)}})}},QIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.path(e,r,n),a=te.parent(s),o=F.node(e,a);return o},eBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,a={current:r,affinity:s,unref(){var{current:l}=a,c=F.pathRefs(e);return c.delete(a),a.current=null,l}},o=F.pathRefs(e);return o.add(a),a},tBe=t=>{var e=o8.get(t);return e||(e=new Set,o8.set(t,e)),e},rBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:s,edge:a}=n;if(te.isPath(r)){if(a==="start"){var[,o]=Me.first(e,r);r=o}else if(a==="end"){var[,l]=Me.last(e,r);r=l}}return de.isRange(r)&&(a==="start"?r=de.start(r):a==="end"?r=de.end(r):r=te.common(r.anchor.path,r.focus.path)),zt.isPoint(r)&&(r=r.path),s!=null&&(r=r.slice(0,s)),r},nBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,a={current:r,affinity:s,unref(){var{current:l}=a,c=F.pointRefs(e);return c.delete(a),a.current=null,l}},o=F.pointRefs(e);return o.add(a),a},iBe=t=>{var e=l8.get(t);return e||(e=new Set,l8.set(t,e)),e},sBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:s="start"}=n;if(te.isPath(r)){var a;if(s==="end"){var[,o]=Me.last(e,r);a=o}else{var[,l]=Me.first(e,r);a=l}var c=Me.get(e,a);if(!Qe.isText(c))throw new Error("Cannot get the ".concat(s," point in the node at path [").concat(r,"] because it has no ").concat(s," text node."));return{path:a,offset:s==="end"?c.text.length:0}}if(de.isRange(r)){var[d,f]=de.edges(r);return s==="start"?d:f}return r};function aBe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,unit:n="offset",reverse:s=!1,voids:a=!1,ignoreNonSelectable:o=!1}=e;if(!r)return;var l=F.range(t,r),[c,d]=de.edges(l),f=s?d:c,p=!1,g="",y=0,b=0,_=0;for(var[u,h]of F.nodes(t,{at:r,reverse:s,voids:a,ignoreNonSelectable:o})){if(it.isElement(u)){if(!a&&(t.isVoid(u)||t.isElementReadOnly(u))){yield F.start(t,h);continue}if(t.isInline(u))continue;if(F.hasInlines(t,u)){var m=te.isAncestor(h,d.path)?d:F.end(t,h),v=te.isAncestor(h,c.path)?c:F.start(t,h);g=F.string(t,{anchor:v,focus:m},{voids:a}),p=!0}}if(Qe.isText(u)){var w=te.equals(h,f.path);for(w?(b=s?f.offset:u.text.length-f.offset,_=f.offset):(b=u.text.length,_=s?b:0),(w||p||n==="offset")&&(yield{path:h,offset:_},p=!1);;){if(y===0){if(g==="")break;y=x(g,n,s),g=xM(g,y,s)[1]}if(_=s?_-y:_+y,b=b-y,b<0){y=-b;break}y=0,yield{path:h,offset:_}}}}function x(S,E,P){return E==="character"?wM(S,P):E==="word"?jOe(S,P):E==="line"||E==="block"?S.length:1}}()}var oBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:a,at:o=e.selection}=r;if(o){var l=F.before(e,o,{voids:s});if(l){var[,c]=F.first(e,[]),d=[l.path,c];if(te.isPath(o)&&o.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(te.isPath(o)){var[f]=F.parent(e,o);a=g=>f.children.includes(g)}else a=()=>!0;var[p]=F.nodes(e,{reverse:!0,at:d,match:a,mode:n,voids:s});return p}}},lBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,a={current:r,affinity:s,unref(){var{current:l}=a,c=F.rangeRefs(e);return c.delete(a),a.current=null,l}},o=F.rangeRefs(e);return o.add(a),a},uBe=t=>{var e=u8.get(t);return e||(e=new Set,u8.set(t,e)),e},cBe=(t,e,r)=>{if(de.isRange(e)&&!r)return e;var n=F.start(t,e),s=F.end(t,r||e);return{anchor:n,focus:s}};function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dBe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fBe=(t,e)=>{var{selection:r}=t;if(r){var n=(f,p)=>{if(!Qe.isText(f))return!1;var[g,y]=F.parent(t,p);return!t.isVoid(g)||t.markableVoid(g)},s=de.isExpanded(r),a=!1;if(!s){var[o,l]=F.node(t,r);if(o&&n(o,l)){var[c]=F.parent(t,l);a=c&&t.markableVoid(c)}}if(s||a)Se.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{var d=dBe({},F.marks(t)||{});delete d[e],t.marks=d,Wg.get(t)||t.onChange()}}},hBe=(t,e)=>{RQ.set(t,e)},pBe=(t,e)=>F.point(t,e,{edge:"start"}),mBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,a=F.range(e,r),[o,l]=de.edges(a),c="";for(var[d,f]of F.nodes(e,{at:a,match:Qe.isText,voids:s})){var p=d.text;te.equals(f,l.path)&&(p=p.slice(0,l.offset)),te.equals(f,o.path)&&(p=p.slice(o.offset)),c+=p}return c},gBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,[a,o]=de.edges(r);if(a.offset!==0||o.offset!==0||de.isCollapsed(r)||te.hasPrevious(o.path))return r;var l=F.above(e,{at:o,match:b=>it.isElement(b)&&F.isBlock(e,b),voids:s}),c=l?l[1]:[],d=F.start(e,a),f={anchor:d,focus:o},p=!0;for(var[g,y]of F.nodes(e,{at:f,match:Qe.isText,reverse:!0,voids:s})){if(p){p=!1;continue}if(g.text!==""||te.isBefore(y,c)){o={path:y,offset:g.text.length};break}}return{anchor:a,focus:o}},BQ=(t,e)=>{var r=F.isNormalizing(t);F.setNormalizing(t,!1);try{e()}finally{F.setNormalizing(t,r)}F.normalize(t)},vBe=(t,e,r)=>{var[n,s]=e;return it.isElement(n)&&F.isEmpty(t,n)||Qe.isText(n)&&n.text===""&&s[s.length-1]!==0},yBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var n,s,{reverse:a=!1,unit:o="character",distance:l=1,voids:c=!1}=r,{at:d=e.selection,hanging:f=!1}=r;if(d){var p=!1;if(de.isRange(d)&&de.isCollapsed(d)&&(p=!0,d=d.anchor),zt.isPoint(d)){var g=F.void(e,{at:d,mode:"highest"});if(!c&&g){var[,y]=g;d=y}else{var b={unit:o,distance:l},_=a?F.before(e,d,b)||F.start(e,[]):F.after(e,d,b)||F.end(e,[]);d={anchor:d,focus:_},f=!0}}if(te.isPath(d)){Se.removeNodes(e,{at:d,voids:c});return}if(!de.isCollapsed(d)){if(!f){var[,u]=de.edges(d),h=F.end(e,[]);zt.equals(u,h)||(d=F.unhangRange(e,d,{voids:c}))}var[m,v]=de.edges(d),w=F.above(e,{match:we=>it.isElement(we)&&F.isBlock(e,we),at:m,voids:c}),x=F.above(e,{match:we=>it.isElement(we)&&F.isBlock(e,we),at:v,voids:c}),S=w&&x&&!te.equals(w[1],x[1]),E=te.equals(m.path,v.path),P=c?null:(n=F.void(e,{at:m,mode:"highest"}))!==null&&n!==void 0?n:F.elementReadOnly(e,{at:m,mode:"highest"}),T=c?null:(s=F.void(e,{at:v,mode:"highest"}))!==null&&s!==void 0?s:F.elementReadOnly(e,{at:v,mode:"highest"});if(P){var A=F.before(e,m);A&&w&&te.isAncestor(w[1],A.path)&&(m=A)}if(T){var R=F.after(e,v);R&&x&&te.isAncestor(x[1],R.path)&&(v=R)}var D=[],O;for(var I of F.nodes(e,{at:d,voids:c})){var[M,G]=I;O&&te.compare(G,O)===0||(!c&&it.isElement(M)&&(F.isVoid(e,M)||F.isElementReadOnly(e,M))||!te.isCommon(G,m.path)&&!te.isCommon(G,v.path))&&(D.push(I),O=G)}var j=Array.from(D,we=>{var[,Ee]=we;return F.pathRef(e,Ee)}),$=F.pointRef(e,m),H=F.pointRef(e,v),K="";if(!E&&!P){var re=$.current,[fe]=F.leaf(e,re),{path:ye}=re,{offset:he}=m,ue=fe.text.slice(he);ue.length>0&&(e.apply({type:"remove_text",path:ye,offset:he,text:ue}),K=ue)}if(j.reverse().map(we=>we.unref()).filter(we=>we!==null).forEach(we=>Se.removeNodes(e,{at:we,voids:c})),!T){var Z=H.current,[z]=F.leaf(e,Z),{path:V}=Z,Y=E?m.offset:0,ne=z.text.slice(Y,v.offset);ne.length>0&&(e.apply({type:"remove_text",path:V,offset:Y,text:ne}),K=ne)}!E&&S&&H.current&&$.current&&Se.mergeNodes(e,{at:H.current,hanging:!0,voids:c}),p&&a&&o==="character"&&K.length>1&&K.match(/[\u0E00-\u0E7F]+/)&&Se.insertText(e,K.slice(0,K.length-l));var ie=$.unref(),me=H.unref(),xe=a?ie||me:me||ie;r.at==null&&xe&&Se.select(e,xe)}}})},_Be=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:a=!1}=n,{at:o=bM(e),batchDirty:l=!0}=n;if(r.length){if(de.isRange(o))if(s||(o=F.unhangRange(e,o,{voids:a})),de.isCollapsed(o))o=o.anchor;else{var[,c]=de.edges(o);if(!a&&F.void(e,{at:c}))return;var d=F.pointRef(e,c);Se.delete(e,{at:o}),o=d.unref()}else te.isPath(o)&&(o=F.start(e,o));if(!(!a&&F.void(e,{at:o}))){var f=F.above(e,{at:o,match:ue=>it.isElement(ue)&&F.isInline(e,ue),mode:"highest",voids:a});if(f){var[,p]=f;if(F.isEnd(e,o,p)){var g=F.after(e,p);o=g}else if(F.isStart(e,o,p)){var y=F.before(e,p);o=y}}var b=F.above(e,{match:ue=>it.isElement(ue)&&F.isBlock(e,ue),at:o,voids:a}),[,_]=b,u=F.isStart(e,o,_),h=F.isEnd(e,o,_),m=u&&h,v=!u||u&&h,w=!h,[,x]=Me.first({children:r},[]),[,S]=Me.last({children:r},[]),E=[],P=ue=>{var[Z,z]=ue,V=z.length===0;return V?!1:m?!0:!(v&&te.isAncestor(z,x)&&it.isElement(Z)&&!e.isVoid(Z)&&!e.isInline(Z)||w&&te.isAncestor(z,S)&&it.isElement(Z)&&!e.isVoid(Z)&&!e.isInline(Z))};for(var T of Me.nodes({children:r},{pass:P}))P(T)&&E.push(T);var A=[],R=[],D=[],O=!0,I=!1;for(var[M]of E)it.isElement(M)&&!e.isInline(M)?(O=!1,I=!0,R.push(M)):O?A.push(M):D.push(M);var[G]=F.nodes(e,{at:o,match:ue=>Qe.isText(ue)||F.isInline(e,ue),mode:"highest",voids:a}),[,j]=G,$=F.isStart(e,o,j),H=F.isEnd(e,o,j),K=F.pathRef(e,h&&!D.length?te.next(_):_),re=F.pathRef(e,H?te.next(j):j);Se.splitNodes(e,{at:o,match:ue=>I?it.isElement(ue)&&F.isBlock(e,ue):Qe.isText(ue)||F.isInline(e,ue),mode:I?"lowest":"highest",always:I&&(!u||A.length>0)&&(!h||D.length>0),voids:a});var fe=F.pathRef(e,!$||$&&H?te.next(j):j);if(Se.insertNodes(e,A,{at:fe.current,match:ue=>Qe.isText(ue)||F.isInline(e,ue),mode:"highest",voids:a,batchDirty:l}),m&&!A.length&&R.length&&!D.length&&Se.delete(e,{at:_,voids:a}),Se.insertNodes(e,R,{at:K.current,match:ue=>it.isElement(ue)&&F.isBlock(e,ue),mode:"lowest",voids:a,batchDirty:l}),Se.insertNodes(e,D,{at:re.current,match:ue=>Qe.isText(ue)||F.isInline(e,ue),mode:"highest",voids:a,batchDirty:l}),!n.at){var ye;if(D.length>0&&re.current?ye=te.previous(re.current):R.length>0&&K.current?ye=te.previous(K.current):fe.current&&(ye=te.previous(fe.current)),ye){var he=F.end(e,ye);Se.select(e,he)}}fe.unref(),K.unref(),re.unref()}}})},bBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:s}=e;if(s){if(n==="anchor")Se.select(e,s.anchor);else if(n==="focus")Se.select(e,s.focus);else if(n==="start"){var[a]=de.edges(s);Se.select(e,a)}else if(n==="end"){var[,o]=de.edges(s);Se.select(e,o)}}else return},wBe=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},xBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:s=1,unit:a="character",reverse:o=!1}=r,{edge:l=null}=r;if(n){l==="start"&&(l=de.isBackward(n)?"focus":"anchor"),l==="end"&&(l=de.isBackward(n)?"anchor":"focus");var{anchor:c,focus:d}=n,f={distance:s,unit:a,ignoreNonSelectable:!0},p={};if(l==null||l==="anchor"){var g=o?F.before(e,c,f):F.after(e,c,f);g&&(p.anchor=g)}if(l==null||l==="focus"){var y=o?F.before(e,d,f):F.after(e,d,f);y&&(p.focus=y)}Se.setSelection(e,p)}},EBe=(t,e)=>{var{selection:r}=t;if(e=F.range(t,e),r){Se.setSelection(t,e);return}if(!de.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Wn.stringify(e)));t.apply({type:"set_selection",properties:r,newProperties:e})};function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function M8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var SBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s}=e,{edge:a="both"}=n;if(s){a==="start"&&(a=de.isBackward(s)?"focus":"anchor"),a==="end"&&(a=de.isBackward(s)?"anchor":"focus");var{anchor:o,focus:l}=s,c=a==="anchor"?o:l;Se.setSelection(e,{[a==="anchor"?"anchor":"focus"]:M8(M8({},c),r)})}},CBe=(t,e)=>{var{selection:r}=t,n={},s={};if(r){for(var a in e)(a==="anchor"&&e.anchor!=null&&!zt.equals(e.anchor,r.anchor)||a==="focus"&&e.focus!=null&&!zt.equals(e.focus,r.focus)||a!=="anchor"&&a!=="focus"&&e[a]!==r[a])&&(n[a]=r[a],s[a]=e[a]);Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:s})}},ABe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:a=!1,mode:o="lowest",batchDirty:l=!0}=n,{at:c,match:d,select:f}=n;if(Me.isNode(r)&&(r=[r]),r.length!==0){var[p]=r;if(c||(c=bM(e),f!==!1&&(f=!0)),f==null&&(f=!1),de.isRange(c))if(s||(c=F.unhangRange(e,c,{voids:a})),de.isCollapsed(c))c=c.anchor;else{var[,g]=de.edges(c),y=F.pointRef(e,g);Se.delete(e,{at:c}),c=y.unref()}if(zt.isPoint(c)){d==null&&(Qe.isText(p)?d=A=>Qe.isText(A):e.isInline(p)?d=A=>Qe.isText(A)||F.isInline(e,A):d=A=>it.isElement(A)&&F.isBlock(e,A));var[b]=F.nodes(e,{at:c.path,match:d,mode:o,voids:a});if(b){var[,_]=b,u=F.pathRef(e,_),h=F.isEnd(e,c,_);Se.splitNodes(e,{at:c,match:d,mode:o,voids:a});var m=u.unref();c=h?te.next(m):m}else return}var v=te.parent(c),w=c[c.length-1];if(!(!a&&F.void(e,{at:v}))){if(l){var x=[],S=te.levels(v);uIe(e,()=>{var A=function(){var O=v.concat(w);w++;var I={type:"insert_node",path:O,node:R};e.apply(I),c=te.next(c),x.push(I),Qe.isText?S.push(...Array.from(Me.nodes(R),M=>{var[,G]=M;return O.concat(G)})):S.push(O)};for(var R of r)A()},()=>{IQ(e,S,A=>{var R=A;for(var D of x)if(te.operationCanTransformPath(D)&&(R=te.transform(R,D),!R))return null;return R})})}else for(var E of r){var P=v.concat(w);w++,e.apply({type:"insert_node",path:P,node:E}),c=te.next(c)}if(c=te.previous(c),f){var T=F.end(e,c);T&&Se.select(e,T)}}}})},TBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:s="lowest",voids:a=!1}=r,{match:o}=r;if(o==null&&(o=te.isPath(n)?Qp(e,n):w=>it.isElement(w)&&F.isBlock(e,w)),!!n){var l=F.nodes(e,{at:n,match:o,mode:s,voids:a}),c=Array.from(l,w=>{var[,x]=w;return F.pathRef(e,x)});for(var d of c){var f=d.unref();if(f.length<2)throw new Error("Cannot lift node at a path [".concat(f,"] because it has a depth of less than `2`."));var p=F.node(e,te.parent(f)),[g,y]=p,b=f[f.length-1],{length:_}=g.children;if(_===1){var u=te.next(y);Se.moveNodes(e,{at:f,to:u,voids:a}),Se.removeNodes(e,{at:y,voids:a})}else if(b===0)Se.moveNodes(e,{at:f,to:y,voids:a});else if(b===_-1){var h=te.next(y);Se.moveNodes(e,{at:f,to:h,voids:a})}else{var m=te.next(f),v=te.next(y);Se.splitNodes(e,{at:m,voids:a}),Se.moveNodes(e,{at:f,to:v,voids:a})}}}})},PBe=["text"],DBe=["children"],FQ=(t,e)=>{if(it.isElement(e)){var r=e;return F.isVoid(t,e)?!0:r.children.length===1?FQ(t,r.children[0]):!1}else return!F.isEditor(e)},RBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{match:n,at:s=e.selection}=r,{hanging:a=!1,voids:o=!1,mode:l="lowest"}=r;if(s){if(n==null)if(te.isPath(s)){var[c]=F.parent(e,s);n=A=>c.children.includes(A)}else n=A=>it.isElement(A)&&F.isBlock(e,A);if(!a&&de.isRange(s)&&(s=F.unhangRange(e,s,{voids:o})),de.isRange(s))if(de.isCollapsed(s))s=s.anchor;else{var[,d]=de.edges(s),f=F.pointRef(e,d);Se.delete(e,{at:s}),s=f.unref(),r.at==null&&Se.select(e,s)}var[p]=F.nodes(e,{at:s,match:n,voids:o,mode:l}),g=F.previous(e,{at:s,match:n,voids:o,mode:l});if(!(!p||!g)){var[y,b]=p,[_,u]=g;if(!(b.length===0||u.length===0)){var h=te.next(u),m=te.common(b,u),v=te.isSibling(b,u),w=Array.from(F.levels(e,{at:b}),A=>{var[R]=A;return R}).slice(m.length).slice(0,-1),x=F.above(e,{at:b,mode:"highest",match:A=>w.includes(A)&&FQ(e,A)}),S=x&&F.pathRef(e,x[1]),E,P;if(Qe.isText(y)&&Qe.isText(_)){var T=kl(y,PBe);P=_.text.length,E=T}else if(it.isElement(y)&&it.isElement(_)){var T=kl(y,DBe);P=_.children.length,E=T}else throw new Error("Cannot merge the node at path [".concat(b,"] with the previous sibling because it is not the same kind: ").concat(Wn.stringify(y)," ").concat(Wn.stringify(_)));v||Se.moveNodes(e,{at:b,to:h,voids:o}),S&&Se.removeNodes(e,{at:S.current,voids:o}),F.shouldMergeNodesRemovePrevNode(e,g,p)?Se.removeNodes(e,{at:u,voids:o}):e.apply({type:"merge_node",path:h,position:P,properties:E}),S&&S.unref()}}}})},OBe=(t,e)=>{F.withoutNormalizing(t,()=>{var{to:r,at:n=t.selection,mode:s="lowest",voids:a=!1}=e,{match:o}=e;if(n){o==null&&(o=te.isPath(n)?Qp(t,n):y=>it.isElement(y)&&F.isBlock(t,y));var l=F.pathRef(t,r),c=F.nodes(t,{at:n,match:o,mode:s,voids:a}),d=Array.from(c,y=>{var[,b]=y;return F.pathRef(t,b)});for(var f of d){var p=f.unref(),g=l.current;p.length!==0&&t.apply({type:"move_node",path:p,newPath:g}),l.current&&te.isSibling(g,p)&&te.isAfter(g,p)&&(l.current=te.next(l.current))}l.unref()}})},MQ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:s=!1,mode:a="lowest"}=r,{at:o=e.selection,match:l}=r;if(o){l==null&&(l=te.isPath(o)?Qp(e,o):y=>it.isElement(y)&&F.isBlock(e,y)),!n&&de.isRange(o)&&(o=F.unhangRange(e,o,{voids:s}));var c=F.nodes(e,{at:o,match:l,mode:a,voids:s}),d=Array.from(c,y=>{var[,b]=y;return F.pathRef(e,b)});for(var f of d){var p=f.unref();if(p){var[g]=F.node(e,p);e.apply({type:"remove_node",path:p,node:g})}}}})},IBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{match:s,at:a=e.selection,compare:o,merge:l}=n,{hanging:c=!1,mode:d="lowest",split:f=!1,voids:p=!1}=n;if(a){if(s==null&&(s=te.isPath(a)?Qp(e,a):P=>it.isElement(P)&&F.isBlock(e,P)),!c&&de.isRange(a)&&(a=F.unhangRange(e,a,{voids:p})),f&&de.isRange(a)){if(de.isCollapsed(a)&&F.leaf(e,a.anchor)[0].text.length>0)return;var g=F.rangeRef(e,a,{affinity:"inward"}),[y,b]=de.edges(a),_=d==="lowest"?"lowest":"highest",u=F.isEnd(e,b,b.path);Se.splitNodes(e,{at:b,match:s,mode:_,voids:p,always:!u});var h=F.isStart(e,y,y.path);Se.splitNodes(e,{at:y,match:s,mode:_,voids:p,always:!h}),a=g.unref(),n.at==null&&Se.select(e,a)}o||(o=(P,T)=>P!==T);for(var[m,v]of F.nodes(e,{at:a,match:s,mode:d,voids:p})){var w={},x={};if(v.length!==0){var S=!1;for(var E in r)E==="children"||E==="text"||o(r[E],m[E])&&(S=!0,m.hasOwnProperty(E)&&(w[E]=m[E]),l?r[E]!=null&&(x[E]=l(m[E],r[E])):r[E]!=null&&(x[E]=r[E]));S&&e.apply({type:"set_node",path:v,properties:w,newProperties:x})}}}})},BBe=(t,e)=>{if(de.isCollapsed(e))return e.anchor;var[,r]=de.edges(e),n=F.pointRef(t,r);return Se.delete(t,{at:e}),n.unref()},FBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:s=!1}=r,{match:a,at:o=e.selection,height:l=0,always:c=!1}=r;if(a==null&&(a=H=>it.isElement(H)&&F.isBlock(e,H)),de.isRange(o)&&(o=BBe(e,o)),te.isPath(o)){var d=o,f=F.point(e,d),[p]=F.parent(e,d);a=H=>H===p,l=f.path.length-d.length+1,o=f,c=!0}if(o){var g=F.pointRef(e,o,{affinity:"backward"}),y;try{var[b]=F.nodes(e,{at:o,match:a,mode:n,voids:s});if(!b)return;var _=F.void(e,{at:o,mode:"highest"}),u=0;if(!s&&_){var[h,m]=_;if(it.isElement(h)&&e.isInline(h)){var v=F.after(e,m);if(!v){var w={text:""},x=te.next(m);Se.insertNodes(e,w,{at:x,voids:s}),v=F.point(e,x)}o=v,c=!0}var S=o.path.length-m.length;l=S+1,c=!0}y=F.pointRef(e,o);var E=o.path.length-l,[,P]=b,T=o.path.slice(0,E),A=l===0?o.offset:o.path[E]+u;for(var[R,D]of F.levels(e,{at:T,reverse:!0,voids:s})){var O=!1;if(D.length<P.length||D.length===0||!s&&it.isElement(R)&&F.isVoid(e,R))break;var I=g.current,M=F.isEnd(e,I,D);if(c||!g||!F.isEdge(e,I,D)){O=!0;var G=Me.extractProps(R);e.apply({type:"split_node",path:D,position:A,properties:G})}A=D[D.length-1]+(O||M?1:0)}if(r.at==null){var j=y.current||F.end(e,[]);Se.select(e,j)}}finally{var $;g.unref(),($=y)===null||$===void 0||$.unref()}}})},MBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var s={};for(var a of r)s[a]=null;Se.setNodes(e,s,n)},kBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{mode:n="lowest",split:s=!1,voids:a=!1}=r,{at:o=e.selection,match:l}=r;if(o){l==null&&(l=te.isPath(o)?Qp(e,o):y=>it.isElement(y)&&F.isBlock(e,y)),te.isPath(o)&&(o=F.range(e,o));var c=de.isRange(o)?F.rangeRef(e,o):null,d=F.nodes(e,{at:o,match:l,mode:n,voids:a}),f=Array.from(d,y=>{var[,b]=y;return F.pathRef(e,b)}).reverse(),p=function(){var b=g.unref(),[_]=F.node(e,b),u=F.range(e,b);s&&c&&(u=de.intersection(c.current,u)),Se.liftNodes(e,{at:u,match:h=>it.isAncestor(_)&&_.children.includes(h),voids:a})};for(var g of f)p();c&&c.unref()}})};function k8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function N8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var NBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{mode:s="lowest",split:a=!1,voids:o=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(te.isPath(c)?l=Qp(e,c):e.isInline(r)?l=u=>it.isElement(u)&&F.isInline(e,u)||Qe.isText(u):l=u=>it.isElement(u)&&F.isBlock(e,u)),a&&de.isRange(c)){var[d,f]=de.edges(c),p=F.rangeRef(e,c,{affinity:"inward"});Se.splitNodes(e,{at:f,match:l,voids:o}),Se.splitNodes(e,{at:d,match:l,voids:o}),c=p.unref(),n.at==null&&Se.select(e,c)}var g=Array.from(F.nodes(e,{at:c,match:e.isInline(r)?u=>it.isElement(u)&&F.isBlock(e,u):u=>F.isEditor(u),mode:"lowest",voids:o})),y=function(){var h=de.isRange(c)?de.intersection(c,F.range(e,_)):c;if(!h)return 0;var m=Array.from(F.nodes(e,{at:h,match:l,mode:s,voids:o}));if(m.length>0){var[v]=m,w=m[m.length-1],[,x]=v,[,S]=w;if(x.length===0&&S.length===0)return 0;var E=te.equals(x,S)?te.parent(x):te.common(x,S),P=F.range(e,x,S),T=F.node(e,E),[A]=T,R=E.length+1,D=te.next(S.slice(0,R)),O=N8(N8({},r),{},{children:[]});Se.insertNodes(e,O,{at:D,voids:o}),Se.moveNodes(e,{at:P,match:I=>it.isAncestor(A)&&A.children.includes(I),to:D.concat(0),voids:o})}},b;for(var[,_]of g)b=y()}})},kQ=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return cIe(t,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gIe(t,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Ie(t,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bIe(t,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wIe(t,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fIe(t,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IIe(t,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FIe(t,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Be(t,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BIe(t,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kIe(t,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return hIe(t,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fBe(t,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return dIe(t,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pIe(t,...n)},above:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mIe(t,...n)},after:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vIe(t,...n)},before:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yIe(t,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bBe(t,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yBe(t,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wBe(t,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xIe(t,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EIe(t,...n)},end:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SIe(t,...n)},first:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CIe(t,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return AIe(t,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return XIe(t,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PIe(t,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DIe(t,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RIe(t,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OIe(t,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ABe(t,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NIe(t,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LIe(t,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UIe(t,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $Ie(t,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jIe(t,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zIe(t,...n)},last:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return VIe(t,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return GIe(t,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HIe(t,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TBe(t,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RBe(t,...n)},move:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xBe(t,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OBe(t,...n)},next:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return YIe(t,...n)},node:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qIe(t,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZIe(t,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return JIe(t,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QIe(t,...n)},path:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rBe(t,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return eBe(t,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return tBe(t,...n)},point:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return sBe(t,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return nBe(t,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return iBe(t,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return aBe(t,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return oBe(t,...n)},range:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return cBe(t,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return lBe(t,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return uBe(t,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MQ(t,...n)},select:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EBe(t,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IBe(t,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return hBe(t,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SBe(t,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CBe(t,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FBe(t,...n)},start:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pBe(t,...n)},string:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mBe(t,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gBe(t,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MBe(t,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kBe(t,...n)},void:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TIe(t,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BQ(t,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NBe(t,...n)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vBe(t,...n)}};return t},LBe={isHistory(t){return Hn(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||Iu.isOperationList(t.redos[0].operations))&&(t.undos.length===0||Iu.isOperationList(t.undos[0].operations))}},DT=new WeakMap,Um=new WeakMap,fd={isHistoryEditor(t){return LBe.isHistory(t.history)&&F.isEditor(t)},isMerging(t){return Um.get(t)},isSaving(t){return DT.get(t)},redo(t){t.redo()},undo(t){t.undo()},withMerging(t,e){var r=fd.isMerging(t);Um.set(t,!0),e(),Um.set(t,r)},withoutMerging(t,e){var r=fd.isMerging(t);Um.set(t,!1),e(),Um.set(t,r)},withoutSaving(t,e){var r=fd.isSaving(t);DT.set(t,!1),e(),DT.set(t,r)}},NQ=t=>{var e=t,{apply:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:s}=n;if(s.length>0){var a=s[s.length-1];a.selectionBefore&&Se.setSelection(e,a.selectionBefore),fd.withoutSaving(e,()=>{F.withoutNormalizing(e,()=>{for(var o of a.operations)e.apply(o)})}),n.redos.pop(),e.writeHistory("undos",a)}},e.undo=()=>{var{history:n}=e,{undos:s}=n;if(s.length>0){var a=s[s.length-1];fd.withoutSaving(e,()=>{F.withoutNormalizing(e,()=>{var o=a.operations.map(Iu.inverse).reverse();for(var l of o)e.apply(l);a.selectionBefore&&Se.setSelection(e,a.selectionBefore)})}),e.writeHistory("redos",a),n.undos.pop()}},e.apply=n=>{var{operations:s,history:a}=e,{undos:o}=a,l=o[o.length-1],c=l&&l.operations[l.operations.length-1],d=fd.isSaving(e),f=fd.isMerging(e);if(d==null&&(d=$Be(n)),d){if(f==null&&(l==null?f=!1:s.length!==0?f=!0:f=UBe(n,c)),l&&f)l.operations.push(n);else{var p={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",p)}for(;o.length>100;)o.shift();a.redos=[]}r(n)},e.writeHistory=(n,s)=>{e.history[n].push(s)},e},UBe=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&te.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&te.equals(t.path,e.path)),$Be=(t,e)=>t.type!=="set_selection",jBe=Object.defineProperty,zBe=Object.defineProperties,VBe=Object.getOwnPropertyDescriptors,Ex=Object.getOwnPropertySymbols,LQ=Object.prototype.hasOwnProperty,UQ=Object.prototype.propertyIsEnumerable,L8=(t,e,r)=>e in t?jBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$Q=(t,e)=>{for(var r in e||(e={}))LQ.call(e,r)&&L8(t,r,e[r]);if(Ex)for(var r of Ex(e))UQ.call(e,r)&&L8(t,r,e[r]);return t},GBe=(t,e)=>zBe(t,VBe(e)),HBe=(t,e)=>{var r={};for(var n in t)LQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ex)for(var n of Ex(t))e.indexOf(n)<0&&UQ.call(t,n)&&(r[n]=t[n]);return r},js=(t,e)=>()=>(console.warn("[OVERRIDE_MISSING] The method editor.".concat(t,"() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.")),e),WBe=()=>{const t=kQ();return t.hasEditableTarget=js("hasEditableTarget",!1),t.hasRange=js("hasRange",!1),t.hasSelectableTarget=js("hasSelectableTarget",!1),t.hasTarget=js("hasTarget",!1),t.insertData=js("insertData"),t.insertFragmentData=js("insertFragmentData"),t.insertTextData=js("insertTextData",!1),t.isTargetInsideNonReadonlyVoid=js("isTargetInsideNonReadonlyVoid",!1),t.setFragmentData=js("setFragmentData"),t.history={redos:[],undos:[]},t.undo=js("undo"),t.redo=js("redo"),t.writeHistory=js("writeHistory"),t},Gl=t=>it.isElement(t),KBe=(t,e)=>Gl(e)&&F.isBlock(t,e);function XBe(t){return Array.isArray(t)?t:[t]}var YBe=(t,e,r)=>r?typeof r=="object"?Object.entries(r).every(([n,s])=>XBe(s).includes(t[n])):r(t,e):!0,EM=(t,e={})=>{const{block:r,match:n}=e;return GBe($Q({},e),{match:n||r?(s,a)=>YBe(s,a,n)&&(!r||KBe(t,s)):void 0})},Sx=(t,e)=>F.above(t,EM(t,e)),qBe=(t,e,r={})=>{const{unhang:n=!0,voids:s}=r;return de.isRange(e)&&n?F.unhangRange(t,e,{voids:s}):e},jQ=(t,e)=>(qBe(t,e==null?void 0:e.at,e),F.nodes(t,EM(t,e))),Rc=(t,e)=>{let r=!1;return F.withoutNormalizing(t,()=>{r=!!e()}),r},fc=t=>Qe.isText(t),SM=(t,e)=>Se.removeNodes(t,e),CM=(t,e)=>{Se.select(t,e)},AM=(t,e)=>F.end(t,e),ZBe=(t,e,r)=>F.before(t,e,r),zQ=(t,e)=>F.start(t,e),VQ=(t,e,r)=>{if(!e)return"";try{return F.string(t,e,r)}catch(n){return""}},TM=t=>F.marks(t),JBe=(t,e,r)=>F.point(t,e,r),GQ=(t,e)=>Gl(e)&&F.isInline(t,e),U8=(t,e,r)=>!!e&&F.isStart(t,e,r),QBe=(t,e)=>F.normalize(t,e),eFe=(t,e)=>F.removeMark(t,e),tFe=(t,e)=>{try{for(let r=0;r<e.length;r++){const n=e[r];if(fc(t)||!t.children[n])return null;t=t.children[n]}return t}catch(r){return null}},rFe=(t,e,r)=>Me.children(t,e,r),PM=t=>Me.string(t),HQ=t=>it.isAncestor(t),nFe=t=>!!t&&de.isCollapsed(t),WQ=t=>!!t&&de.isExpanded(t),iFe=t=>{Se.deselect(t)};function RT(t){return Array.isArray(t)?t:[t]}var w_=(t,{allow:e,exclude:r,filter:n,level:s,maxLevel:a}={})=>{if(!t)return!1;const[o,l]=t;if(s&&!RT(s).includes(l.length)||a&&l.length>a||n&&!n(t))return!1;if(e){const c=RT(e);if(c.length>0&&!c.includes(o.type))return!1}if(r){const c=RT(r);if(c.length>0&&c.includes(o.type))return!1}return!0},sFe=(t,e,r={})=>{var n=r,{nextBlock:s,removeEmpty:a}=n,o=HBe(n,["nextBlock","removeEmpty"]);BQ(t,()=>{if(a){const l=Sx(t,{at:o.at});if(l){const c=a===!0?{allow:["p"]}:a,{filter:d}=c;c.filter=([f,p])=>PM(f)||f.children.some(y=>GQ(t,y))?!1:!d||d([f,p]),w_(l,c)&&(MQ(t,{at:l[1]}),s=!1)}}if(s){const{at:l=t.selection}=o;if(l){const c=AM(t,l),d=Sx(t,{at:c,block:!0});d&&(o.at=te.next(d[1]))}}Se.insertNodes(t,e,o)})},VQe=(t,e)=>{Se.move(t,e)},GQe=(t,e,r)=>Se.setNodes(t,e,r),aFe=(t,e,r)=>Se.unsetNodes(t,e,r),oFe=(t,e={})=>{try{const r=jQ(t,$Q({at:t.selection||[]},EM(t,e)));for(const[n,s]of r)return[n,s]}catch(r){return}},KQ=(t,e)=>!!oFe(t,e);function lFe(){this.__data__=[],this.size=0}var uFe=lFe;function cFe(t,e){return t===e||t!==t&&e!==e}var x_=cFe,dFe=x_;function fFe(t,e){for(var r=t.length;r--;)if(dFe(t[r][0],e))return r;return-1}var SS=fFe,hFe=SS,pFe=Array.prototype,mFe=pFe.splice;function gFe(t){var e=this.__data__,r=hFe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mFe.call(e,r,1),--this.size,!0}var vFe=gFe,yFe=SS;function _Fe(t){var e=this.__data__,r=yFe(e,t);return r<0?void 0:e[r][1]}var bFe=_Fe,wFe=SS;function xFe(t){return wFe(this.__data__,t)>-1}var EFe=xFe,SFe=SS;function CFe(t,e){var r=this.__data__,n=SFe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var AFe=CFe,TFe=uFe,PFe=vFe,DFe=bFe,RFe=EFe,OFe=AFe;function em(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}em.prototype.clear=TFe;em.prototype.delete=PFe;em.prototype.get=DFe;em.prototype.has=RFe;em.prototype.set=OFe;var CS=em,IFe=CS;function BFe(){this.__data__=new IFe,this.size=0}var FFe=BFe;function MFe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var kFe=MFe;function NFe(t){return this.__data__.get(t)}var LFe=NFe;function UFe(t){return this.__data__.has(t)}var $Fe=UFe,jFe=typeof Yi=="object"&&Yi&&Yi.Object===Object&&Yi,XQ=jFe,zFe=XQ,VFe=typeof self=="object"&&self&&self.Object===Object&&self,GFe=zFe||VFe||Function("return this")(),Za=GFe,HFe=Za,WFe=HFe.Symbol,tm=WFe,$8=tm,YQ=Object.prototype,KFe=YQ.hasOwnProperty,XFe=YQ.toString,$m=$8?$8.toStringTag:void 0;function YFe(t){var e=KFe.call(t,$m),r=t[$m];try{t[$m]=void 0;var n=!0}catch(a){}var s=XFe.call(t);return n&&(e?t[$m]=r:delete t[$m]),s}var qFe=YFe,ZFe=Object.prototype,JFe=ZFe.toString;function QFe(t){return JFe.call(t)}var eMe=QFe,j8=tm,tMe=qFe,rMe=eMe,nMe="[object Null]",iMe="[object Undefined]",z8=j8?j8.toStringTag:void 0;function sMe(t){return t==null?t===void 0?iMe:nMe:z8&&z8 in Object(t)?tMe(t):rMe(t)}var rm=sMe;function aMe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ns=aMe,oMe=rm,lMe=Ns,uMe="[object AsyncFunction]",cMe="[object Function]",dMe="[object GeneratorFunction]",fMe="[object Proxy]";function hMe(t){if(!lMe(t))return!1;var e=oMe(t);return e==cMe||e==dMe||e==uMe||e==fMe}var DM=hMe,pMe=Za,mMe=pMe["__core-js_shared__"],gMe=mMe,OT=gMe,V8=function(){var t=/[^.]+$/.exec(OT&&OT.keys&&OT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vMe(t){return!!V8&&V8 in t}var yMe=vMe,_Me=Function.prototype,bMe=_Me.toString;function wMe(t){if(t!=null){try{return bMe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var qQ=wMe,xMe=DM,EMe=yMe,SMe=Ns,CMe=qQ,AMe=/[\\^$.*+?()[\]{}|]/g,TMe=/^\[object .+?Constructor\]$/,PMe=Function.prototype,DMe=Object.prototype,RMe=PMe.toString,OMe=DMe.hasOwnProperty,IMe=RegExp("^"+RMe.call(OMe).replace(AMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BMe(t){if(!SMe(t)||EMe(t))return!1;var e=xMe(t)?IMe:TMe;return e.test(CMe(t))}var FMe=BMe;function MMe(t,e){return t==null?void 0:t[e]}var kMe=MMe,NMe=FMe,LMe=kMe;function UMe(t,e){var r=LMe(t,e);return NMe(r)?r:void 0}var yf=UMe,$Me=yf,jMe=Za,zMe=$Me(jMe,"Map"),RM=zMe,VMe=yf,GMe=VMe(Object,"create"),AS=GMe,G8=AS;function HMe(){this.__data__=G8?G8(null):{},this.size=0}var WMe=HMe;function KMe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var XMe=KMe,YMe=AS,qMe="__lodash_hash_undefined__",ZMe=Object.prototype,JMe=ZMe.hasOwnProperty;function QMe(t){var e=this.__data__;if(YMe){var r=e[t];return r===qMe?void 0:r}return JMe.call(e,t)?e[t]:void 0}var eke=QMe,tke=AS,rke=Object.prototype,nke=rke.hasOwnProperty;function ike(t){var e=this.__data__;return tke?e[t]!==void 0:nke.call(e,t)}var ske=ike,ake=AS,oke="__lodash_hash_undefined__";function lke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ake&&e===void 0?oke:e,this}var uke=lke,cke=WMe,dke=XMe,fke=eke,hke=ske,pke=uke;function nm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nm.prototype.clear=cke;nm.prototype.delete=dke;nm.prototype.get=fke;nm.prototype.has=hke;nm.prototype.set=pke;var mke=nm,H8=mke,gke=CS,vke=RM;function yke(){this.size=0,this.__data__={hash:new H8,map:new(vke||gke),string:new H8}}var _ke=yke;function bke(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var wke=bke,xke=wke;function Eke(t,e){var r=t.__data__;return xke(e)?r[typeof e=="string"?"string":"hash"]:r.map}var TS=Eke,Ske=TS;function Cke(t){var e=Ske(this,t).delete(t);return this.size-=e?1:0,e}var Ake=Cke,Tke=TS;function Pke(t){return Tke(this,t).get(t)}var Dke=Pke,Rke=TS;function Oke(t){return Rke(this,t).has(t)}var Ike=Oke,Bke=TS;function Fke(t,e){var r=Bke(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Mke=Fke,kke=_ke,Nke=Ake,Lke=Dke,Uke=Ike,$ke=Mke;function im(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}im.prototype.clear=kke;im.prototype.delete=Nke;im.prototype.get=Lke;im.prototype.has=Uke;im.prototype.set=$ke;var OM=im,jke=CS,zke=RM,Vke=OM,Gke=200;function Hke(t,e){var r=this.__data__;if(r instanceof jke){var n=r.__data__;if(!zke||n.length<Gke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vke(n)}return r.set(t,e),this.size=r.size,this}var Wke=Hke,Kke=CS,Xke=FFe,Yke=kFe,qke=LFe,Zke=$Fe,Jke=Wke;function sm(t){var e=this.__data__=new Kke(t);this.size=e.size}sm.prototype.clear=Xke;sm.prototype.delete=Yke;sm.prototype.get=qke;sm.prototype.has=Zke;sm.prototype.set=Jke;var IM=sm,Qke=yf,eNe=function(){try{var t=Qke(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),ZQ=eNe,W8=ZQ;function tNe(t,e,r){e=="__proto__"&&W8?W8(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var BM=tNe,rNe=BM,nNe=x_;function iNe(t,e,r){(r!==void 0&&!nNe(t[e],r)||r===void 0&&!(e in t))&&rNe(t,e,r)}var JQ=iNe;function sNe(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var aNe=sNe,oNe=aNe,lNe=oNe(),uNe=lNe,Cx={exports:{}};Cx.exports;(function(t,e){var r=Za,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var p=d.length,g=l?l(p):new d.constructor(p);return d.copy(g),g}t.exports=c})(Cx,Cx.exports);var QQ=Cx.exports,cNe=Za,dNe=cNe.Uint8Array,eee=dNe,K8=eee;function fNe(t){var e=new t.constructor(t.byteLength);return new K8(e).set(new K8(t)),e}var FM=fNe,hNe=FM;function pNe(t,e){var r=e?hNe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var tee=pNe;function mNe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var ree=mNe,gNe=Ns,X8=Object.create,vNe=function(){function t(){}return function(e){if(!gNe(e))return{};if(X8)return X8(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),yNe=vNe;function _Ne(t,e){return function(r){return t(e(r))}}var nee=_Ne,bNe=nee,wNe=bNe(Object.getPrototypeOf,Object),MM=wNe,xNe=Object.prototype;function ENe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||xNe;return t===r}var kM=ENe,SNe=yNe,CNe=MM,ANe=kM;function TNe(t){return typeof t.constructor=="function"&&!ANe(t)?SNe(CNe(t)):{}}var iee=TNe;function PNe(t){return t!=null&&typeof t=="object"}var Hl=PNe,DNe=rm,RNe=Hl,ONe="[object Arguments]";function INe(t){return RNe(t)&&DNe(t)==ONe}var BNe=INe,Y8=BNe,FNe=Hl,see=Object.prototype,MNe=see.hasOwnProperty,kNe=see.propertyIsEnumerable,NNe=Y8(function(){return arguments}())?Y8:function(t){return FNe(t)&&MNe.call(t,"callee")&&!kNe.call(t,"callee")},PS=NNe,LNe=Array.isArray,Ja=LNe,UNe=9007199254740991;function $Ne(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=UNe}var NM=$Ne,jNe=DM,zNe=NM;function VNe(t){return t!=null&&zNe(t.length)&&!jNe(t)}var DS=VNe,GNe=DS,HNe=Hl;function WNe(t){return HNe(t)&&GNe(t)}var KNe=WNe,Ax={exports:{}};function XNe(){return!1}var YNe=XNe;Ax.exports;(function(t,e){var r=Za,n=YNe,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Ax,Ax.exports);var RS=Ax.exports,qNe=rm,ZNe=MM,JNe=Hl,QNe="[object Object]",e3e=Function.prototype,t3e=Object.prototype,aee=e3e.toString,r3e=t3e.hasOwnProperty,n3e=aee.call(Object);function i3e(t){if(!JNe(t)||qNe(t)!=QNe)return!1;var e=ZNe(t);if(e===null)return!0;var r=r3e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&aee.call(r)==n3e}var oee=i3e,s3e=rm,a3e=NM,o3e=Hl,l3e="[object Arguments]",u3e="[object Array]",c3e="[object Boolean]",d3e="[object Date]",f3e="[object Error]",h3e="[object Function]",p3e="[object Map]",m3e="[object Number]",g3e="[object Object]",v3e="[object RegExp]",y3e="[object Set]",_3e="[object String]",b3e="[object WeakMap]",w3e="[object ArrayBuffer]",x3e="[object DataView]",E3e="[object Float32Array]",S3e="[object Float64Array]",C3e="[object Int8Array]",A3e="[object Int16Array]",T3e="[object Int32Array]",P3e="[object Uint8Array]",D3e="[object Uint8ClampedArray]",R3e="[object Uint16Array]",O3e="[object Uint32Array]",Or={};Or[E3e]=Or[S3e]=Or[C3e]=Or[A3e]=Or[T3e]=Or[P3e]=Or[D3e]=Or[R3e]=Or[O3e]=!0;Or[l3e]=Or[u3e]=Or[w3e]=Or[c3e]=Or[x3e]=Or[d3e]=Or[f3e]=Or[h3e]=Or[p3e]=Or[m3e]=Or[g3e]=Or[v3e]=Or[y3e]=Or[_3e]=Or[b3e]=!1;function I3e(t){return o3e(t)&&a3e(t.length)&&!!Or[s3e(t)]}var B3e=I3e;function F3e(t){return function(e){return t(e)}}var LM=F3e,Tx={exports:{}};Tx.exports;(function(t,e){var r=XQ,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(d){}}();t.exports=l})(Tx,Tx.exports);var UM=Tx.exports,M3e=B3e,k3e=LM,q8=UM,Z8=q8&&q8.isTypedArray,N3e=Z8?k3e(Z8):M3e,$M=N3e;function L3e(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var lee=L3e,U3e=BM,$3e=x_,j3e=Object.prototype,z3e=j3e.hasOwnProperty;function V3e(t,e,r){var n=t[e];(!(z3e.call(t,e)&&$3e(n,r))||r===void 0&&!(e in t))&&U3e(t,e,r)}var jM=V3e,G3e=jM,H3e=BM;function W3e(t,e,r,n){var s=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?H3e(r,l,c):G3e(r,l,c)}return r}var am=W3e;function K3e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var X3e=K3e,Y3e=9007199254740991,q3e=/^(?:0|[1-9]\d*)$/;function Z3e(t,e){var r=typeof t;return e=e==null?Y3e:e,!!e&&(r=="number"||r!="symbol"&&q3e.test(t))&&t>-1&&t%1==0&&t<e}var OS=Z3e,J3e=X3e,Q3e=PS,eLe=Ja,tLe=RS,rLe=OS,nLe=$M,iLe=Object.prototype,sLe=iLe.hasOwnProperty;function aLe(t,e){var r=eLe(t),n=!r&&Q3e(t),s=!r&&!n&&tLe(t),a=!r&&!n&&!s&&nLe(t),o=r||n||s||a,l=o?J3e(t.length,String):[],c=l.length;for(var d in t)(e||sLe.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||rLe(d,c)))&&l.push(d);return l}var uee=aLe;function oLe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var lLe=oLe,uLe=Ns,cLe=kM,dLe=lLe,fLe=Object.prototype,hLe=fLe.hasOwnProperty;function pLe(t){if(!uLe(t))return dLe(t);var e=cLe(t),r=[];for(var n in t)n=="constructor"&&(e||!hLe.call(t,n))||r.push(n);return r}var mLe=pLe,gLe=uee,vLe=mLe,yLe=DS;function _Le(t){return yLe(t)?gLe(t,!0):vLe(t)}var E_=_Le,bLe=am,wLe=E_;function xLe(t){return bLe(t,wLe(t))}var ELe=xLe,J8=JQ,SLe=QQ,CLe=tee,ALe=ree,TLe=iee,Q8=PS,e6=Ja,PLe=KNe,DLe=RS,RLe=DM,OLe=Ns,ILe=oee,BLe=$M,t6=lee,FLe=ELe;function MLe(t,e,r,n,s,a,o){var l=t6(t,r),c=t6(e,r),d=o.get(c);if(d){J8(t,r,d);return}var f=a?a(l,c,r+"",t,e,o):void 0,p=f===void 0;if(p){var g=e6(c),y=!g&&DLe(c),b=!g&&!y&&BLe(c);f=c,g||y||b?e6(l)?f=l:PLe(l)?f=ALe(l):y?(p=!1,f=SLe(c,!0)):b?(p=!1,f=CLe(c,!0)):f=[]:ILe(c)||Q8(c)?(f=l,Q8(l)?f=FLe(l):(!OLe(l)||RLe(l))&&(f=TLe(c))):p=!1}p&&(o.set(c,f),s(f,c,n,a,o),o.delete(c)),J8(t,r,f)}var kLe=MLe,NLe=IM,LLe=JQ,ULe=uNe,$Le=kLe,jLe=Ns,zLe=E_,VLe=lee;function cee(t,e,r,n,s){t!==e&&ULe(e,function(a,o){if(s||(s=new NLe),jLe(a))$Le(t,e,o,r,cee,n,s);else{var l=n?n(VLe(t,o),a,o+"",t,e,s):void 0;l===void 0&&(l=a),LLe(t,o,l)}},zLe)}var zM=cee;function GLe(t){return t}var dee=GLe;function HLe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var fee=HLe,WLe=fee,r6=Math.max;function KLe(t,e,r){return e=r6(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=r6(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),WLe(t,this,l)}}var hee=KLe;function XLe(t){return function(){return t}}var YLe=XLe,qLe=YLe,n6=ZQ,ZLe=dee,JLe=n6?function(t,e){return n6(t,"toString",{configurable:!0,enumerable:!1,value:qLe(e),writable:!0})}:ZLe,QLe=JLe,eUe=800,tUe=16,rUe=Date.now;function nUe(t){var e=0,r=0;return function(){var n=rUe(),s=tUe-(n-r);if(r=n,s>0){if(++e>=eUe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var iUe=nUe,sUe=QLe,aUe=iUe,oUe=aUe(sUe),pee=oUe,lUe=dee,uUe=hee,cUe=pee;function dUe(t,e){return cUe(uUe(t,e,lUe),t+"")}var mee=dUe,fUe=x_,hUe=DS,pUe=OS,mUe=Ns;function gUe(t,e,r){if(!mUe(r))return!1;var n=typeof e;return(n=="number"?hUe(r)&&pUe(e,r.length):n=="string"&&e in r)?fUe(r[e],t):!1}var vUe=gUe,yUe=mee,_Ue=vUe;function bUe(t){return yUe(function(e,r){var n=-1,s=r.length,a=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,o&&_Ue(r[0],r[1],o)&&(a=s<3?void 0:a,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,a)}return e})}var gee=bUe,wUe=zM,xUe=gee,EUe=xUe(function(t,e,r,n){wUe(t,e,r,n)}),vee=EUe;const yee=ui(vee);var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});var SUe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),IT={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},_ee={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:SUe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},VM={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var i1=1;i1<20;i1++)VM["f"+i1]=111+i1;function IS(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map(function(o){return bee(o,e)}),s=function(l){return n.some(function(c){return wee(c,l)})},a=r==null?s:s(r);return a}function CUe(t,e){return IS(t,e)}function AUe(t,e){return IS(t,{byKey:!0},e)}function bee(t,e){var r=e&&e.byKey,n={};t=t.replace("++","+add");var s=t.split("+"),a=s.length;for(var o in IT)n[IT[o]]=!1;var l=!0,c=!1,d=void 0;try{for(var f=s[Symbol.iterator](),p;!(l=(p=f.next()).done);l=!0){var g=p.value,y=g.endsWith("?")&&g.length>1;y&&(g=g.slice(0,-1));var b=GM(g),_=IT[b];if(g.length>1&&!_&&!_ee[g]&&!VM[b])throw new TypeError('Unknown modifier: "'+g+'"');(a===1||!_)&&(r?n.key=b:n.which=xee(g)),_&&(n[_]=y?null:!0)}}catch(u){c=!0,d=u}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}return n}function wee(t,e){for(var r in t){var n=t[r],s=void 0;if(n!=null&&(r==="key"&&e.key!=null?s=e.key.toLowerCase():r==="which"?s=n===91&&e.which===93?91:e.which:s=e[r],!(s==null&&n===!1)&&s!==n))return!1}return!0}function xee(t){t=GM(t);var e=VM[t]||t.toUpperCase().charCodeAt(0);return e}function GM(t){return t=t.toLowerCase(),t=_ee[t]||t,t}Wl.default=IS;var BT=Wl.isHotkey=IS;Wl.isCodeHotkey=CUe;var Kh=Wl.isKeyHotkey=AUe;Wl.parseHotkey=bee;Wl.compareHotkey=wee;Wl.toKeyCode=xee;Wl.toKeyName=GM;var TUe=zM,PUe=gee,DUe=PUe(function(t,e,r){TUe(t,e,r)}),RUe=DUe;const Ta=ui(RUe);var OUe=Ja;function IUe(){if(!arguments.length)return[];var t=arguments[0];return OUe(t)?t:[t]}var BUe=IUe;const Ku=ui(BUe);function FUe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var Eee=FUe,MUe="__lodash_hash_undefined__";function kUe(t){return this.__data__.set(t,MUe),this}var NUe=kUe;function LUe(t){return this.__data__.has(t)}var UUe=LUe,$Ue=OM,jUe=NUe,zUe=UUe;function Px(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new $Ue;++e<r;)this.add(t[e])}Px.prototype.add=Px.prototype.push=jUe;Px.prototype.has=zUe;var VUe=Px;function GUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var HUe=GUe;function WUe(t,e){return t.has(e)}var KUe=WUe,XUe=VUe,YUe=HUe,qUe=KUe,ZUe=1,JUe=2;function QUe(t,e,r,n,s,a){var o=r&ZUe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var p=-1,g=!0,y=r&JUe?new XUe:void 0;for(a.set(t,e),a.set(e,t);++p<l;){var b=t[p],_=e[p];if(n)var u=o?n(_,b,p,e,t,a):n(b,_,p,t,e,a);if(u!==void 0){if(u)continue;g=!1;break}if(y){if(!YUe(e,function(h,m){if(!qUe(y,m)&&(b===h||s(b,h,r,n,a)))return y.push(m)})){g=!1;break}}else if(!(b===_||s(b,_,r,n,a))){g=!1;break}}return a.delete(t),a.delete(e),g}var See=QUe;function e$e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var t$e=e$e;function r$e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var n$e=r$e,i6=tm,s6=eee,i$e=x_,s$e=See,a$e=t$e,o$e=n$e,l$e=1,u$e=2,c$e="[object Boolean]",d$e="[object Date]",f$e="[object Error]",h$e="[object Map]",p$e="[object Number]",m$e="[object RegExp]",g$e="[object Set]",v$e="[object String]",y$e="[object Symbol]",_$e="[object ArrayBuffer]",b$e="[object DataView]",a6=i6?i6.prototype:void 0,FT=a6?a6.valueOf:void 0;function w$e(t,e,r,n,s,a,o){switch(r){case b$e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _$e:return!(t.byteLength!=e.byteLength||!a(new s6(t),new s6(e)));case c$e:case d$e:case p$e:return i$e(+t,+e);case f$e:return t.name==e.name&&t.message==e.message;case m$e:case v$e:return t==e+"";case h$e:var l=a$e;case g$e:var c=n&l$e;if(l||(l=o$e),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=u$e,o.set(t,e);var f=s$e(l(t),l(e),n,s,a,o);return o.delete(t),f;case y$e:if(FT)return FT.call(t)==FT.call(e)}return!1}var x$e=w$e;function E$e(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var HM=E$e,S$e=HM,C$e=Ja;function A$e(t,e,r){var n=e(t);return C$e(t)?n:S$e(n,r(t))}var Cee=A$e;function T$e(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}var P$e=T$e;function D$e(){return[]}var Aee=D$e,R$e=P$e,O$e=Aee,I$e=Object.prototype,B$e=I$e.propertyIsEnumerable,o6=Object.getOwnPropertySymbols,F$e=o6?function(t){return t==null?[]:(t=Object(t),R$e(o6(t),function(e){return B$e.call(t,e)}))}:O$e,WM=F$e,M$e=nee,k$e=M$e(Object.keys,Object),N$e=k$e,L$e=kM,U$e=N$e,$$e=Object.prototype,j$e=$$e.hasOwnProperty;function z$e(t){if(!L$e(t))return U$e(t);var e=[];for(var r in Object(t))j$e.call(t,r)&&r!="constructor"&&e.push(r);return e}var V$e=z$e,G$e=uee,H$e=V$e,W$e=DS;function K$e(t){return W$e(t)?G$e(t):H$e(t)}var KM=K$e,X$e=Cee,Y$e=WM,q$e=KM;function Z$e(t){return X$e(t,q$e,Y$e)}var Tee=Z$e,l6=Tee,J$e=1,Q$e=Object.prototype,e4e=Q$e.hasOwnProperty;function t4e(t,e,r,n,s,a){var o=r&J$e,l=l6(t),c=l.length,d=l6(e),f=d.length;if(c!=f&&!o)return!1;for(var p=c;p--;){var g=l[p];if(!(o?g in e:e4e.call(e,g)))return!1}var y=a.get(t),b=a.get(e);if(y&&b)return y==e&&b==t;var _=!0;a.set(t,e),a.set(e,t);for(var u=o;++p<c;){g=l[p];var h=t[g],m=e[g];if(n)var v=o?n(m,h,g,e,t,a):n(h,m,g,t,e,a);if(!(v===void 0?h===m||s(h,m,r,n,a):v)){_=!1;break}u||(u=g=="constructor")}if(_&&!u){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(_=!1)}return a.delete(t),a.delete(e),_}var r4e=t4e,n4e=yf,i4e=Za,s4e=n4e(i4e,"DataView"),a4e=s4e,o4e=yf,l4e=Za,u4e=o4e(l4e,"Promise"),c4e=u4e,d4e=yf,f4e=Za,h4e=d4e(f4e,"Set"),p4e=h4e,m4e=yf,g4e=Za,v4e=m4e(g4e,"WeakMap"),y4e=v4e,kR=a4e,NR=RM,LR=c4e,UR=p4e,$R=y4e,Pee=rm,om=qQ,u6="[object Map]",_4e="[object Object]",c6="[object Promise]",d6="[object Set]",f6="[object WeakMap]",h6="[object DataView]",b4e=om(kR),w4e=om(NR),x4e=om(LR),E4e=om(UR),S4e=om($R),Zc=Pee;(kR&&Zc(new kR(new ArrayBuffer(1)))!=h6||NR&&Zc(new NR)!=u6||LR&&Zc(LR.resolve())!=c6||UR&&Zc(new UR)!=d6||$R&&Zc(new $R)!=f6)&&(Zc=function(t){var e=Pee(t),r=e==_4e?t.constructor:void 0,n=r?om(r):"";if(n)switch(n){case b4e:return h6;case w4e:return u6;case x4e:return c6;case E4e:return d6;case S4e:return f6}return e});var BS=Zc,MT=IM,C4e=See,A4e=x$e,T4e=r4e,p6=BS,m6=Ja,g6=RS,P4e=$M,D4e=1,v6="[object Arguments]",y6="[object Array]",s1="[object Object]",R4e=Object.prototype,_6=R4e.hasOwnProperty;function O4e(t,e,r,n,s,a){var o=m6(t),l=m6(e),c=o?y6:p6(t),d=l?y6:p6(e);c=c==v6?s1:c,d=d==v6?s1:d;var f=c==s1,p=d==s1,g=c==d;if(g&&g6(t)){if(!g6(e))return!1;o=!0,f=!1}if(g&&!f)return a||(a=new MT),o||P4e(t)?C4e(t,e,r,n,s,a):A4e(t,e,c,r,n,s,a);if(!(r&D4e)){var y=f&&_6.call(t,"__wrapped__"),b=p&&_6.call(e,"__wrapped__");if(y||b){var _=y?t.value():t,u=b?e.value():e;return a||(a=new MT),s(_,u,r,n,a)}}return g?(a||(a=new MT),T4e(t,e,r,n,s,a)):!1}var I4e=O4e,B4e=I4e,b6=Hl;function Dee(t,e,r,n,s){return t===e?!0:t==null||e==null||!b6(t)&&!b6(e)?t!==t&&e!==e:B4e(t,e,r,n,Dee,s)}var F4e=Dee,M4e=rm,k4e=Hl,N4e="[object Symbol]";function L4e(t){return typeof t=="symbol"||k4e(t)&&M4e(t)==N4e}var FS=L4e,U4e=Ja,$4e=FS,j4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z4e=/^\w*$/;function V4e(t,e){if(U4e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||$4e(t)?!0:z4e.test(t)||!j4e.test(t)||e!=null&&t in Object(e)}var G4e=V4e,Ree=OM,H4e="Expected a function";function XM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(H4e);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(XM.Cache||Ree),r}XM.Cache=Ree;var W4e=XM,K4e=W4e,X4e=500;function Y4e(t){var e=K4e(t,function(n){return r.size===X4e&&r.clear(),n}),r=e.cache;return e}var q4e=Y4e,Z4e=q4e,J4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q4e=/\\(\\)?/g,e8e=Z4e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(J4e,function(r,n,s,a){e.push(s?a.replace(Q4e,"$1"):n||r)}),e}),t8e=e8e,w6=tm,r8e=Eee,n8e=Ja,i8e=FS,s8e=1/0,x6=w6?w6.prototype:void 0,E6=x6?x6.toString:void 0;function Oee(t){if(typeof t=="string")return t;if(n8e(t))return r8e(t,Oee)+"";if(i8e(t))return E6?E6.call(t):"";var e=t+"";return e=="0"&&1/t==-s8e?"-0":e}var a8e=Oee,o8e=a8e;function l8e(t){return t==null?"":o8e(t)}var u8e=l8e,c8e=Ja,d8e=G4e,f8e=t8e,h8e=u8e;function p8e(t,e){return c8e(t)?t:d8e(t,e)?[t]:f8e(h8e(t))}var lm=p8e,m8e=FS,g8e=1/0;function v8e(t){if(typeof t=="string"||m8e(t))return t;var e=t+"";return e=="0"&&1/t==-g8e?"-0":e}var MS=v8e,y8e=lm,_8e=MS;function b8e(t,e){e=y8e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[_8e(e[r++])];return r&&r==n?t:void 0}var Iee=b8e;function w8e(t,e){return t!=null&&e in Object(t)}var x8e=w8e,E8e=lm,S8e=PS,C8e=Ja,A8e=OS,T8e=NM,P8e=MS;function D8e(t,e,r){e=E8e(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var o=P8e(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&T8e(s)&&A8e(o,s)&&(C8e(t)||S8e(t)))}var R8e=D8e,O8e=x8e,I8e=R8e;function B8e(t,e){return t!=null&&I8e(t,e,O8e)}var F8e=B8e;function M8e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var k8e=M8e,N8e=Object.defineProperty,L8e=Object.defineProperties,U8e=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,Bee=Object.prototype.hasOwnProperty,Fee=Object.prototype.propertyIsEnumerable,S6=(t,e,r)=>e in t?N8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kS=(t,e)=>{for(var r in e||(e={}))Bee.call(e,r)&&S6(t,r,e[r]);if(Dx)for(var r of Dx(e))Fee.call(e,r)&&S6(t,r,e[r]);return t},YM=(t,e)=>L8e(t,U8e(e)),$8e=(t,e)=>{var r={};for(var n in t)Bee.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Dx)for(var n of Dx(t))e.indexOf(n)<0&&Fee.call(t,n)&&(r[n]=t[n]);return r},Mee=(t,e={})=>Sx(t,YM(kS({},e),{block:!0})),j8e=(t,e)=>{if(!t)return;const r=TM(t);return r==null?void 0:r[e]},z8e=(t,e)=>!PM(e)&&!e.children.some(r=>GQ(t,r)),V8e=t=>{var e;const r=(e=Mee(t))==null?void 0:e[0];return r?z8e(t,r):!1},G8e=(t,e)=>vf(j8e(t,e)),kee=(t,e)=>{var r;const{selection:n}=t;if(!n)return!1;const s=(r=Mee(t,e))==null?void 0:r[1];return s?U8(t,n.focus,s)||WQ(t.selection)&&U8(t,n.anchor,s):!1},H8e=t=>WQ(t.selection),W8e=(t,e)=>{var r=e,{key:n,at:s,shouldChange:a=!0}=r,o=$8e(r,["key","at","shouldChange"]),l;const c=s!=null?s:t.selection;if(n=Ku(n),c){if(de.isRange(c)&&de.isExpanded(c))aFe(t,n,kS({at:c,match:fc,split:!0},o));else if(t.selection){const d=(l=TM(t))!=null?l:{};n.forEach(f=>{delete d[f]}),t.marks=d,a&&t.onChange()}}},K8e=(t,e,r)=>{Rc(t,()=>{for(const[,n]of rFe(t,e,{reverse:!0}))SM(t,YM(kS({},r),{at:n}))})},Nee=t=>{const e=TM(t);e&&Object.keys(e).forEach(r=>{eFe(t,r)})},NS=(t,{at:e,insertOptions:r,nodes:n,removeOptions:s})=>{Rc(t,()=>{K8e(t,e,s),sFe(t,n,YM(kS({},r),{at:e.concat([0])}))})},Lee=(t,{key:e,clear:r})=>{t.selection&&Rc(t,()=>{if(G8e(t,e)){t.removeMark(e);return}if(r){const s=Ku(r);W8e(t,{key:s})}t.addMark(e,!0)})};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function X8e(t,e){if(vy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y8e(t){var e=X8e(t,"string");return vy(e)==="symbol"?e:String(e)}function Tp(t,e,r){return e=Y8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Uee=new WeakMap,$ee=new WeakMap;class qM{}class LS extends qM{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Tp(this,"offset",void 0),Tp(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}class US extends qM{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Tp(this,"offset",void 0),Tp(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}var q8e=(t,e)=>{var r=t.text.length;Uee.set(t,[r,e])},Z8e=t=>Uee.get(t),J8e=(t,e)=>{var r=t.text.length;$ee.set(t,[r,e])},Q8e=t=>$ee.get(t);function C6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(r),!0).forEach(function(n){Tp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ub=new WeakSet,$S=t=>{var e=[],r=s=>{if(s!=null){var a=e[e.length-1];if(typeof s=="string"){var o={text:s};ub.add(o),s=o}if(Qe.isText(s)){var l=s;Qe.isText(a)&&ub.has(a)&&ub.has(l)&&Qe.equals(a,l,{loose:!0})?a.text+=l.text:e.push(l)}else if(it.isElement(s))e.push(s);else if(s instanceof qM){var c=e[e.length-1];Qe.isText(c)||(r(""),c=e[e.length-1]),s instanceof LS?q8e(c,s):s instanceof US&&J8e(c,s)}else throw new Error("Unexpected hyperscript child object: ".concat(s))}};for(var n of t.flat(1/0))r(n);return e};function e6e(t,e,r){return new LS(e)}function t6e(t,e,r){return[new LS(e),new US(e)]}function jee(t,e,r){return jR(jR({},e),{},{children:$S(r)})}function r6e(t,e,r){return new US(e)}function n6e(t,e,r){return $S(r)}function i6e(t,e,r){var n=r.find(a=>a instanceof LS),s=r.find(a=>a instanceof US);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!s||s.offset==null||s.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return jR({anchor:{offset:n.offset,path:n.path},focus:{offset:s.offset,path:s.path}},e)}function s6e(t,e,r){var n=$S(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[s]=n;if(s==null&&(s={text:""}),!Qe.isText(s))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return ub.delete(s),Object.assign(s,e),s}var a6e=t=>(e,r,n)=>{var s=[],a;for(var o of n)de.isRange(o)?a=o:s.push(o);var l=$S(s),c={},d=t();Object.assign(d,r),d.children=l;for(var[f,p]of Me.texts(d)){var g=Z8e(f),y=Q8e(f);if(g!=null){var[b]=g;c.anchor={path:p,offset:b}}if(y!=null){var[_]=y;c.focus={path:p,offset:_}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return a!=null?d.selection=a:de.isRange(c)&&(d.selection=c),d};function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){Tp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var o6e={anchor:e6e,cursor:t6e,editor:a6e(kQ),element:jee,focus:r6e,fragment:n6e,selection:i6e,text:s6e},l6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:r={}}=e,n=c6e(r),s=Kg(Kg(Kg({},o6e),n),e.creators),a=u6e(s);return a},u6e=t=>{var e=function(n,s){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];var c=t[n];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));s==null&&(s={}),Hn(s)||(o=[s].concat(o),s={}),o=o.filter(f=>!!f).flat();var d=c(n,s,o);return d};return e},c6e=t=>{var e={},r=function(){var a=t[n];if(typeof a!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(a));e[n]=(o,l,c)=>jee("element",Kg(Kg({},a),l),c)};for(var n in t)r();return e},um=l6e();function d6e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var f6e=d6e,h6e=am,p6e=KM;function m6e(t,e){return t&&h6e(e,p6e(e),t)}var g6e=m6e,v6e=am,y6e=E_;function _6e(t,e){return t&&v6e(e,y6e(e),t)}var b6e=_6e,w6e=am,x6e=WM;function E6e(t,e){return w6e(t,x6e(t),e)}var S6e=E6e,C6e=HM,A6e=MM,T6e=WM,P6e=Aee,D6e=Object.getOwnPropertySymbols,R6e=D6e?function(t){for(var e=[];t;)C6e(e,T6e(t)),t=A6e(t);return e}:P6e,zee=R6e,O6e=am,I6e=zee;function B6e(t,e){return O6e(t,I6e(t),e)}var F6e=B6e,M6e=Cee,k6e=zee,N6e=E_;function L6e(t){return M6e(t,N6e,k6e)}var Vee=L6e,U6e=Object.prototype,$6e=U6e.hasOwnProperty;function j6e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&$6e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var z6e=j6e,V6e=FM;function G6e(t,e){var r=e?V6e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var H6e=G6e,W6e=/\w*$/;function K6e(t){var e=new t.constructor(t.source,W6e.exec(t));return e.lastIndex=t.lastIndex,e}var X6e=K6e,T6=tm,P6=T6?T6.prototype:void 0,D6=P6?P6.valueOf:void 0;function Y6e(t){return D6?Object(D6.call(t)):{}}var q6e=Y6e,Z6e=FM,J6e=H6e,Q6e=X6e,eje=q6e,tje=tee,rje="[object Boolean]",nje="[object Date]",ije="[object Map]",sje="[object Number]",aje="[object RegExp]",oje="[object Set]",lje="[object String]",uje="[object Symbol]",cje="[object ArrayBuffer]",dje="[object DataView]",fje="[object Float32Array]",hje="[object Float64Array]",pje="[object Int8Array]",mje="[object Int16Array]",gje="[object Int32Array]",vje="[object Uint8Array]",yje="[object Uint8ClampedArray]",_je="[object Uint16Array]",bje="[object Uint32Array]";function wje(t,e,r){var n=t.constructor;switch(e){case cje:return Z6e(t);case rje:case nje:return new n(+t);case dje:return J6e(t,r);case fje:case hje:case pje:case mje:case gje:case vje:case yje:case _je:case bje:return tje(t,r);case ije:return new n;case sje:case lje:return new n(t);case aje:return Q6e(t);case oje:return new n;case uje:return eje(t)}}var xje=wje,Eje=BS,Sje=Hl,Cje="[object Map]";function Aje(t){return Sje(t)&&Eje(t)==Cje}var Tje=Aje,Pje=Tje,Dje=LM,R6=UM,O6=R6&&R6.isMap,Rje=O6?Dje(O6):Pje,Oje=Rje,Ije=BS,Bje=Hl,Fje="[object Set]";function Mje(t){return Bje(t)&&Ije(t)==Fje}var kje=Mje,Nje=kje,Lje=LM,I6=UM,B6=I6&&I6.isSet,Uje=B6?Lje(B6):Nje,$je=Uje,jje=IM,zje=f6e,Vje=jM,Gje=g6e,Hje=b6e,Wje=QQ,Kje=ree,Xje=S6e,Yje=F6e,qje=Tee,Zje=Vee,Jje=BS,Qje=z6e,e5e=xje,t5e=iee,r5e=Ja,n5e=RS,i5e=Oje,s5e=Ns,a5e=$je,o5e=KM,l5e=E_,u5e=1,c5e=2,d5e=4,Gee="[object Arguments]",f5e="[object Array]",h5e="[object Boolean]",p5e="[object Date]",m5e="[object Error]",Hee="[object Function]",g5e="[object GeneratorFunction]",v5e="[object Map]",y5e="[object Number]",Wee="[object Object]",_5e="[object RegExp]",b5e="[object Set]",w5e="[object String]",x5e="[object Symbol]",E5e="[object WeakMap]",S5e="[object ArrayBuffer]",C5e="[object DataView]",A5e="[object Float32Array]",T5e="[object Float64Array]",P5e="[object Int8Array]",D5e="[object Int16Array]",R5e="[object Int32Array]",O5e="[object Uint8Array]",I5e="[object Uint8ClampedArray]",B5e="[object Uint16Array]",F5e="[object Uint32Array]",Er={};Er[Gee]=Er[f5e]=Er[S5e]=Er[C5e]=Er[h5e]=Er[p5e]=Er[A5e]=Er[T5e]=Er[P5e]=Er[D5e]=Er[R5e]=Er[v5e]=Er[y5e]=Er[Wee]=Er[_5e]=Er[b5e]=Er[w5e]=Er[x5e]=Er[O5e]=Er[I5e]=Er[B5e]=Er[F5e]=!0;Er[m5e]=Er[Hee]=Er[E5e]=!1;function cb(t,e,r,n,s,a){var o,l=e&u5e,c=e&c5e,d=e&d5e;if(r&&(o=s?r(t,n,s,a):r(t)),o!==void 0)return o;if(!s5e(t))return t;var f=r5e(t);if(f){if(o=Qje(t),!l)return Kje(t,o)}else{var p=Jje(t),g=p==Hee||p==g5e;if(n5e(t))return Wje(t,l);if(p==Wee||p==Gee||g&&!s){if(o=c||g?{}:t5e(t),!l)return c?Yje(t,Hje(o,t)):Xje(t,Gje(o,t))}else{if(!Er[p])return s?t:{};o=e5e(t,p,l)}}a||(a=new jje);var y=a.get(t);if(y)return y;a.set(t,o),a5e(t)?t.forEach(function(u){o.add(cb(u,e,r,u,t,a))}):i5e(t)&&t.forEach(function(u,h){o.set(h,cb(u,e,r,h,t,a))});var b=d?c?Zje:qje:c?l5e:o5e,_=f?void 0:b(t);return zje(_||t,function(u,h){_&&(h=u,u=t[h]),Vje(o,h,cb(u,e,r,h,t,a))}),o}var Kee=cb,M5e=Kee,k5e=1,N5e=4;function L5e(t){return M5e(t,k5e|N5e)}var U5e=L5e;const $5e=ui(U5e);var j5e=F4e;function z5e(t,e){return j5e(t,e)}var V5e=z5e;const G5e=ui(V5e),H5e=Symbol(),Xee=Symbol(),jm="a",db="w";let W5e=(t,e)=>new Proxy(t,e);const zR=Object.getPrototypeOf,F6=new WeakMap,K5e=t=>t&&(F6.has(t)?F6.get(t):zR(t)===Object.prototype||zR(t)===Array.prototype),M6=t=>typeof t=="object"&&t!==null,X5e=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(zR(t),e)},Yee=t=>t[Xee]||t,qee=(t,e,r,n)=>{if(!K5e(t))return t;let s=n&&n.get(t);if(!s){const c=Yee(t);s=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(f=>!f.configurable&&!f.writable))(c)?[c,X5e(c)]:[c],n==null||n.set(t,s)}const[a,o]=s;let l=r&&r.get(a);return l&&l[1].f===!!o||(l=((c,d)=>{const f={f:d};let p=!1;const g=(b,_)=>{if(!p){let u=f[jm].get(c);if(u||(u={},f[jm].set(c,u)),b===db)u[db]=!0;else{let h=u[b];h||(h=new Set,u[b]=h),h.add(_)}}},y={get:(b,_)=>_===Xee?c:(g("k",_),qee(Reflect.get(b,_),f[jm],f.c,f.t)),has:(b,_)=>_===H5e?(p=!0,f[jm].delete(c),!0):(g("h",_),Reflect.has(b,_)),getOwnPropertyDescriptor:(b,_)=>(g("o",_),Reflect.getOwnPropertyDescriptor(b,_)),ownKeys:b=>(g(db),Reflect.ownKeys(b))};return d&&(y.set=y.deleteProperty=()=>!1),[y,f]})(a,!!o),l[1].p=W5e(o||a,l[0]),r&&r.set(a,l)),l[1][jm]=e,l[1].c=r,l[1].t=n,l[1].p},VR=(t,e,r,n,s=Object.is)=>{if(s(t,e))return!1;if(!M6(t)||!M6(e))return!0;const a=r.get(Yee(t));if(!a)return!0;if(n){const l=n.get(t);if(l&&l.n===e)return l.g;n.set(t,{n:e,g:!1})}let o=null;try{for(const l of a.h||[])if(o=Reflect.has(t,l)!==Reflect.has(e,l),o)return o;if(a[db]===!0){if(o=((l,c)=>{const d=Reflect.ownKeys(l),f=Reflect.ownKeys(c);return d.length!==f.length||d.some((p,g)=>p!==f[g])})(t,e),o)return o}else for(const l of a.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,l)!=!!Reflect.getOwnPropertyDescriptor(e,l),o)return o;for(const l of a.k||[])if(o=VR(t[l],e[l],r,n,s),o)return o;return o===null&&(o=!0),o}finally{n&&n.set(t,{n:e,g:o})}};const Y5e=t=>()=>{const[,r]=C.useReducer(f=>f+1,0),n=new WeakMap,s=C.useRef(),a=C.useRef(),o=C.useRef();C.useEffect(()=>{s.current=n,a.current!==o.current&&VR(a.current,o.current,n,new WeakMap)&&(a.current=o.current,r())});const l=C.useCallback(f=>(o.current=f,a.current&&a.current!==f&&s.current&&!VR(a.current,f,s.current,new WeakMap)?a.current:(a.current=f,f)),[]),c=t(l),d=C.useMemo(()=>new WeakMap,[]);return qee(c,n,d)},{useDebugValue:q5e}=q,{useSyncExternalStoreWithSelector:Z5e}=B7,J5e=t=>t;function Q5e(t,e=J5e,r){const n=Z5e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return q5e(n),n}var Rx={exports:{}};Rx.exports;(function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",a=1,o=2,l=1/0,c=9007199254740991,d="[object Arguments]",f="[object Array]",p="[object Boolean]",g="[object Date]",y="[object Error]",b="[object Function]",_="[object GeneratorFunction]",u="[object Map]",h="[object Number]",m="[object Object]",v="[object Promise]",w="[object RegExp]",x="[object Set]",S="[object String]",E="[object Symbol]",P="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",M="[object Int32Array]",G="[object Uint8Array]",j="[object Uint8ClampedArray]",$="[object Uint16Array]",H="[object Uint32Array]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,fe=/^\./,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,he=/[\\^$.*+?()[\]{}|]/g,ue=/\\(\\)?/g,Z=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,V={};V[R]=V[D]=V[O]=V[I]=V[M]=V[G]=V[j]=V[$]=V[H]=!0,V[d]=V[f]=V[T]=V[p]=V[A]=V[g]=V[y]=V[b]=V[u]=V[h]=V[m]=V[w]=V[x]=V[S]=V[P]=!1;var Y=typeof Yi=="object"&&Yi&&Yi.Object===Object&&Yi,ne=typeof self=="object"&&self&&self.Object===Object&&self,ie=Y||ne||Function("return this")(),me=e&&!e.nodeType&&e,xe=me&&!0&&t&&!t.nodeType&&t,we=xe&&xe.exports===me,Ee=we&&Y.process,tt=function(){try{return Ee&&Ee.binding("util")}catch(N){}}(),xt=tt&&tt.isTypedArray;function _t(N,ee){for(var ve=-1,Ue=N?N.length:0;++ve<Ue;)if(ee(N[ve],ve,N))return!0;return!1}function Gt(N){return function(ee){return ee==null?void 0:ee[N]}}function X(N,ee){for(var ve=-1,Ue=Array(N);++ve<N;)Ue[ve]=ee(ve);return Ue}function oe(N){return function(ee){return N(ee)}}function le(N,ee){return N==null?void 0:N[ee]}function Ae(N){var ee=!1;if(N!=null&&typeof N.toString!="function")try{ee=!!(N+"")}catch(ve){}return ee}function _e(N){var ee=-1,ve=Array(N.size);return N.forEach(function(Ue,kt){ve[++ee]=[kt,Ue]}),ve}function ce(N,ee){return function(ve){return N(ee(ve))}}function be(N){var ee=-1,ve=Array(N.size);return N.forEach(function(Ue){ve[++ee]=Ue}),ve}var Ye=Array.prototype,Xe=Function.prototype,Pe=Object.prototype,L=ie["__core-js_shared__"],B=function(){var N=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),U=Xe.toString,J=Pe.hasOwnProperty,ae=Pe.toString,ke=RegExp("^"+U.call(J).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=ie.Symbol,at=ie.Uint8Array,Ve=Pe.propertyIsEnumerable,ht=Ye.splice,Ft=ce(Object.keys,Object),Mt=bf(ie,"DataView"),jt=bf(ie,"Map"),Ht=bf(ie,"Promise"),Ut=bf(ie,"Set"),ar=bf(ie,"WeakMap"),Jt=bf(Object,"create"),Ct=Fc(Mt),Fr=Fc(jt),ot=Fc(Ht),$e=Fc(Ut),W=Fc(ar),Q=Ne?Ne.prototype:void 0,se=Q?Q.valueOf:void 0,pe=Q?Q.toString:void 0;function Te(N){var ee=-1,ve=N?N.length:0;for(this.clear();++ee<ve;){var Ue=N[ee];this.set(Ue[0],Ue[1])}}function He(){this.__data__=Jt?Jt(null):{}}function ut(N){return this.has(N)&&delete this.__data__[N]}function We(N){var ee=this.__data__;if(Jt){var ve=ee[N];return ve===s?void 0:ve}return J.call(ee,N)?ee[N]:void 0}function Ie(N){var ee=this.__data__;return Jt?ee[N]!==void 0:J.call(ee,N)}function Ge(N,ee){var ve=this.__data__;return ve[N]=Jt&&ee===void 0?s:ee,this}Te.prototype.clear=He,Te.prototype.delete=ut,Te.prototype.get=We,Te.prototype.has=Ie,Te.prototype.set=Ge;function Re(N){var ee=-1,ve=N?N.length:0;for(this.clear();++ee<ve;){var Ue=N[ee];this.set(Ue[0],Ue[1])}}function gt(){this.__data__=[]}function bt(N){var ee=this.__data__,ve=Bc(ee,N);if(ve<0)return!1;var Ue=ee.length-1;return ve==Ue?ee.pop():ht.call(ee,ve,1),!0}function ur(N){var ee=this.__data__,ve=Bc(ee,N);return ve<0?void 0:ee[ve][1]}function $t(N){return Bc(this.__data__,N)>-1}function Wt(N,ee){var ve=this.__data__,Ue=Bc(ve,N);return Ue<0?ve.push([N,ee]):ve[Ue][1]=ee,this}Re.prototype.clear=gt,Re.prototype.delete=bt,Re.prototype.get=ur,Re.prototype.has=$t,Re.prototype.set=Wt;function Kt(N){var ee=-1,ve=N?N.length:0;for(this.clear();++ee<ve;){var Ue=N[ee];this.set(Ue[0],Ue[1])}}function Ei(){this.__data__={hash:new Te,map:new(jt||Re),string:new Te}}function ya(N){return P_(this,N).delete(N)}function gn(N){return P_(this,N).get(N)}function mr(N){return P_(this,N).has(N)}function Si(N,ee){return P_(this,N).set(N,ee),this}Kt.prototype.clear=Ei,Kt.prototype.delete=ya,Kt.prototype.get=gn,Kt.prototype.has=mr,Kt.prototype.set=Si;function Fn(N){var ee=-1,ve=N?N.length:0;for(this.__data__=new Kt;++ee<ve;)this.add(N[ee])}function $i(N){return this.__data__.set(N,s),this}function _f(N){return this.__data__.has(N)}Fn.prototype.add=Fn.prototype.push=$i,Fn.prototype.has=_f;function ji(N){this.__data__=new Re(N)}function tr(){this.__data__=new Re}function Mr(N){return this.__data__.delete(N)}function Kl(N){return this.__data__.get(N)}function Ic(N){return this.__data__.has(N)}function nn(N,ee){var ve=this.__data__;if(ve instanceof Re){var Ue=ve.__data__;if(!jt||Ue.length<r-1)return Ue.push([N,ee]),this;ve=this.__data__=new Kt(Ue)}return ve.set(N,ee),this}ji.prototype.clear=tr,ji.prototype.delete=Mr,ji.prototype.get=Kl,ji.prototype.has=Ic,ji.prototype.set=nn;function Xl(N,ee){var ve=Mc(N)||Ok(N)?X(N.length,String):[],Ue=ve.length,kt=!!Ue;for(var pt in N)(ee||J.call(N,pt))&&!(kt&&(pt=="length"||Tk(pt,Ue)))&&ve.push(pt);return ve}function Bc(N,ee){for(var ve=N.length;ve--;)if(Rk(N[ve][0],ee))return ve;return-1}var qS=Cne();function fne(N,ee){return N&&qS(N,ee,B_)}function Sk(N,ee){ee=D_(ee,N)?[ee]:Ck(ee);for(var ve=0,Ue=ee.length;N!=null&&ve<Ue;)N=N[R_(ee[ve++])];return ve&&ve==Ue?N:void 0}function hne(N){return ae.call(N)}function pne(N,ee){return N!=null&&ee in Object(N)}function ZS(N,ee,ve,Ue,kt){return N===ee?!0:N==null||ee==null||!O_(N)&&!I_(ee)?N!==N&&ee!==ee:mne(N,ee,ZS,ve,Ue,kt)}function mne(N,ee,ve,Ue,kt,pt){var dr=Mc(N),wr=Mc(ee),Wr=f,Mn=f;dr||(Wr=Yl(N),Wr=Wr==d?m:Wr),wr||(Mn=Yl(ee),Mn=Mn==d?m:Mn);var Ci=Wr==m&&!Ae(N),zi=Mn==m&&!Ae(ee),kn=Wr==Mn;if(kn&&!Ci)return pt||(pt=new ji),dr||Mne(N)?Ak(N,ee,ve,Ue,kt,pt):Ane(N,ee,Wr,ve,Ue,kt,pt);if(!(kt&o)){var Us=Ci&&J.call(N,"__wrapped__"),$s=zi&&J.call(ee,"__wrapped__");if(Us||$s){var ql=Us?N.value():N,Vo=$s?ee.value():ee;return pt||(pt=new ji),ve(ql,Vo,Ue,kt,pt)}}return kn?(pt||(pt=new ji),Tne(N,ee,ve,Ue,kt,pt)):!1}function gne(N,ee,ve,Ue){var kt=ve.length,pt=kt,dr=!Ue;if(N==null)return!pt;for(N=Object(N);kt--;){var wr=ve[kt];if(dr&&wr[2]?wr[1]!==N[wr[0]]:!(wr[0]in N))return!1}for(;++kt<pt;){wr=ve[kt];var Wr=wr[0],Mn=N[Wr],Ci=wr[1];if(dr&&wr[2]){if(Mn===void 0&&!(Wr in N))return!1}else{var zi=new ji;if(Ue)var kn=Ue(Mn,Ci,Wr,N,ee,zi);if(!(kn===void 0?ZS(Ci,Mn,Ue,a|o,zi):kn))return!1}}return!0}function vne(N){if(!O_(N)||One(N))return!1;var ee=Bk(N)||Ae(N)?ke:Z;return ee.test(Fc(N))}function yne(N){return I_(N)&&QS(N.length)&&!!V[ae.call(N)]}function _ne(N){return typeof N=="function"?N:N==null?$ne:typeof N=="object"?Mc(N)?xne(N[0],N[1]):wne(N):jne(N)}function bne(N){if(!Ine(N))return Ft(N);var ee=[];for(var ve in Object(N))J.call(N,ve)&&ve!="constructor"&&ee.push(ve);return ee}function wne(N){var ee=Pne(N);return ee.length==1&&ee[0][2]?Dk(ee[0][0],ee[0][1]):function(ve){return ve===N||gne(ve,N,ee)}}function xne(N,ee){return D_(N)&&Pk(ee)?Dk(R_(N),ee):function(ve){var Ue=Nne(ve,N);return Ue===void 0&&Ue===ee?Lne(ve,N):ZS(ee,Ue,void 0,a|o)}}function Ene(N){return function(ee){return Sk(ee,N)}}function Sne(N){if(typeof N=="string")return N;if(eC(N))return pe?pe.call(N):"";var ee=N+"";return ee=="0"&&1/N==-l?"-0":ee}function Ck(N){return Mc(N)?N:Bne(N)}function Cne(N){return function(ee,ve,Ue){for(var kt=-1,pt=Object(ee),dr=Ue(ee),wr=dr.length;wr--;){var Wr=dr[N?wr:++kt];if(ve(pt[Wr],Wr,pt)===!1)break}return ee}}function Ak(N,ee,ve,Ue,kt,pt){var dr=kt&o,wr=N.length,Wr=ee.length;if(wr!=Wr&&!(dr&&Wr>wr))return!1;var Mn=pt.get(N);if(Mn&&pt.get(ee))return Mn==ee;var Ci=-1,zi=!0,kn=kt&a?new Fn:void 0;for(pt.set(N,ee),pt.set(ee,N);++Ci<wr;){var Us=N[Ci],$s=ee[Ci];if(Ue)var ql=dr?Ue($s,Us,Ci,ee,N,pt):Ue(Us,$s,Ci,N,ee,pt);if(ql!==void 0){if(ql)continue;zi=!1;break}if(kn){if(!_t(ee,function(Vo,kc){if(!kn.has(kc)&&(Us===Vo||ve(Us,Vo,Ue,kt,pt)))return kn.add(kc)})){zi=!1;break}}else if(!(Us===$s||ve(Us,$s,Ue,kt,pt))){zi=!1;break}}return pt.delete(N),pt.delete(ee),zi}function Ane(N,ee,ve,Ue,kt,pt,dr){switch(ve){case A:if(N.byteLength!=ee.byteLength||N.byteOffset!=ee.byteOffset)return!1;N=N.buffer,ee=ee.buffer;case T:return!(N.byteLength!=ee.byteLength||!Ue(new at(N),new at(ee)));case p:case g:case h:return Rk(+N,+ee);case y:return N.name==ee.name&&N.message==ee.message;case w:case S:return N==ee+"";case u:var wr=_e;case x:var Wr=pt&o;if(wr||(wr=be),N.size!=ee.size&&!Wr)return!1;var Mn=dr.get(N);if(Mn)return Mn==ee;pt|=a,dr.set(N,ee);var Ci=Ak(wr(N),wr(ee),Ue,kt,pt,dr);return dr.delete(N),Ci;case E:if(se)return se.call(N)==se.call(ee)}return!1}function Tne(N,ee,ve,Ue,kt,pt){var dr=kt&o,wr=B_(N),Wr=wr.length,Mn=B_(ee),Ci=Mn.length;if(Wr!=Ci&&!dr)return!1;for(var zi=Wr;zi--;){var kn=wr[zi];if(!(dr?kn in ee:J.call(ee,kn)))return!1}var Us=pt.get(N);if(Us&&pt.get(ee))return Us==ee;var $s=!0;pt.set(N,ee),pt.set(ee,N);for(var ql=dr;++zi<Wr;){kn=wr[zi];var Vo=N[kn],kc=ee[kn];if(Ue)var Fk=dr?Ue(kc,Vo,kn,ee,N,pt):Ue(Vo,kc,kn,N,ee,pt);if(!(Fk===void 0?Vo===kc||ve(Vo,kc,Ue,kt,pt):Fk)){$s=!1;break}ql||(ql=kn=="constructor")}if($s&&!ql){var F_=N.constructor,M_=ee.constructor;F_!=M_&&"constructor"in N&&"constructor"in ee&&!(typeof F_=="function"&&F_ instanceof F_&&typeof M_=="function"&&M_ instanceof M_)&&($s=!1)}return pt.delete(N),pt.delete(ee),$s}function P_(N,ee){var ve=N.__data__;return Rne(ee)?ve[typeof ee=="string"?"string":"hash"]:ve.map}function Pne(N){for(var ee=B_(N),ve=ee.length;ve--;){var Ue=ee[ve],kt=N[Ue];ee[ve]=[Ue,kt,Pk(kt)]}return ee}function bf(N,ee){var ve=le(N,ee);return vne(ve)?ve:void 0}var Yl=hne;(Mt&&Yl(new Mt(new ArrayBuffer(1)))!=A||jt&&Yl(new jt)!=u||Ht&&Yl(Ht.resolve())!=v||Ut&&Yl(new Ut)!=x||ar&&Yl(new ar)!=P)&&(Yl=function(N){var ee=ae.call(N),ve=ee==m?N.constructor:void 0,Ue=ve?Fc(ve):void 0;if(Ue)switch(Ue){case Ct:return A;case Fr:return u;case ot:return v;case $e:return x;case W:return P}return ee});function Dne(N,ee,ve){ee=D_(ee,N)?[ee]:Ck(ee);for(var Ue,kt=-1,dr=ee.length;++kt<dr;){var pt=R_(ee[kt]);if(!(Ue=N!=null&&ve(N,pt)))break;N=N[pt]}if(Ue)return Ue;var dr=N?N.length:0;return!!dr&&QS(dr)&&Tk(pt,dr)&&(Mc(N)||Ok(N))}function Tk(N,ee){return ee=ee==null?c:ee,!!ee&&(typeof N=="number"||z.test(N))&&N>-1&&N%1==0&&N<ee}function D_(N,ee){if(Mc(N))return!1;var ve=typeof N;return ve=="number"||ve=="symbol"||ve=="boolean"||N==null||eC(N)?!0:re.test(N)||!K.test(N)||ee!=null&&N in Object(ee)}function Rne(N){var ee=typeof N;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?N!=="__proto__":N===null}function One(N){return!!B&&B in N}function Ine(N){var ee=N&&N.constructor,ve=typeof ee=="function"&&ee.prototype||Pe;return N===ve}function Pk(N){return N===N&&!O_(N)}function Dk(N,ee){return function(ve){return ve==null?!1:ve[N]===ee&&(ee!==void 0||N in Object(ve))}}var Bne=JS(function(N){N=kne(N);var ee=[];return fe.test(N)&&ee.push(""),N.replace(ye,function(ve,Ue,kt,pt){ee.push(kt?pt.replace(ue,"$1"):Ue||ve)}),ee});function R_(N){if(typeof N=="string"||eC(N))return N;var ee=N+"";return ee=="0"&&1/N==-l?"-0":ee}function Fc(N){if(N!=null){try{return U.call(N)}catch(ee){}try{return N+""}catch(ee){}}return""}function JS(N,ee){if(typeof N!="function"||ee&&typeof ee!="function")throw new TypeError(n);var ve=function(){var Ue=arguments,kt=ee?ee.apply(this,Ue):Ue[0],pt=ve.cache;if(pt.has(kt))return pt.get(kt);var dr=N.apply(this,Ue);return ve.cache=pt.set(kt,dr),dr};return ve.cache=new(JS.Cache||Kt),ve}JS.Cache=Kt;function Rk(N,ee){return N===ee||N!==N&&ee!==ee}function Ok(N){return Fne(N)&&J.call(N,"callee")&&(!Ve.call(N,"callee")||ae.call(N)==d)}var Mc=Array.isArray;function Ik(N){return N!=null&&QS(N.length)&&!Bk(N)}function Fne(N){return I_(N)&&Ik(N)}function Bk(N){var ee=O_(N)?ae.call(N):"";return ee==b||ee==_}function QS(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=c}function O_(N){var ee=typeof N;return!!N&&(ee=="object"||ee=="function")}function I_(N){return!!N&&typeof N=="object"}function eC(N){return typeof N=="symbol"||I_(N)&&ae.call(N)==E}var Mne=xt?oe(xt):yne;function kne(N){return N==null?"":Sne(N)}function Nne(N,ee,ve){var Ue=N==null?void 0:Sk(N,ee);return Ue===void 0?ve:Ue}function Lne(N,ee){return N!=null&&Dne(N,ee,pne)}function B_(N){return Ik(N)?Xl(N):bne(N)}function Une(N,ee){var ve={};return ee=_ne(ee),fne(N,function(Ue,kt,pt){ve[kt]=ee(Ue,kt,pt)}),ve}function $ne(N){return N}function jne(N){return D_(N)?Gt(R_(N)):Ene(N)}t.exports=Une})(Rx,Rx.exports);Rx.exports;var eze=Object.defineProperty,tze=Object.defineProperties,rze=Object.getOwnPropertyDescriptors,k6=Object.getOwnPropertySymbols,nze=Object.prototype.hasOwnProperty,ize=Object.prototype.propertyIsEnumerable,N6=(t,e,r)=>e in t?eze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oa=(t,e)=>{for(var r in e||(e={}))nze.call(e,r)&&N6(t,r,e[r]);if(k6)for(var r of k6(e))ize.call(e,r)&&N6(t,r,e[r]);return t},yy=(t,e)=>tze(t,rze(e)),sze=t=>(e,r,n)=>{const s=(a,o)=>e(qy(a),!0,o);return n.setState=s,t(s,r,n)},aze=(t,e)=>{const r={};return Object.keys(t.getState()).forEach(n=>{r[n]=s=>{if(t.getState()[n]===s)return;const o=n.replace(/^\S/,l=>l.toUpperCase());t.setState(l=>{l[n]=s},"@@".concat(e,"/set").concat(o))}}),r},oze=t=>{const e={};return Object.keys(t.getState()).forEach(r=>{e[r]=()=>t.getState()[r]}),e},lze=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=s=>t(a=>a[n],s)}),r},uze=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=()=>t()[n]}),r};function cze(t,...e){return e.reduce((r,n)=>n(r),t)}var dze=(t,e)=>{const r=t(e.set,e.get,e);return yy(oa({},e),{set:oa(oa({},e.set),r)})},fze=(t,e)=>{const r=oa({},e.use),n=oa({},e.useTracked),s=oa({},e.get);return Object.keys(t(e.store.getState(),e.get,e)).forEach(a=>{r[a]=(...o)=>e.useStore(l=>{const d=t(l,e.get,e)[a];return d(...o)}),n[a]=(...o)=>{const l=e.useTrackedStore(),d=t(l,e.get,e)[a];return d(...o)},s[a]=(...o)=>{const c=t(e.store.getState(),e.get,e)[a];return c(...o)}}),yy(oa({},e),{get:s,use:r,useTracked:n})},GR=t=>yy(oa({},t),{extendSelectors:e=>GR(fze(e,t)),extendActions:e=>GR(dze(e,t))}),hze=t=>(e,r={})=>{var n,s;const{middlewares:a=[],devtools:o,persist:l,immer:c}=r;Hbe((n=c==null?void 0:c.enabledAutoFreeze)!=null?n:!1),c!=null&&c.enableMapSet&&Gbe();const d=[sze,...a];if(l!=null&&l.enabled){const x=yy(oa({},l),{name:(s=l.name)!=null?s:t});d.push(S=>$Pe(S,x))}o!=null&&o.enabled&&d.push(x=>MPe(x,yy(oa({},o),{name:t}))),d.push(P7);const p=(x=>cze(x,...d))(()=>e),g=(x,S)=>Q5e(p,x,S),y=aze(p,t),b=(x,S)=>{p.setState(E=>{Object.assign(E,x)},S||"@@".concat(t,"/mergeState"))},_=(x,S)=>{p.setState(x,S||"@@".concat(t,"/setState"))},u=lze(g,p),h=oze(p),m=Y5e(g),v=uze(m,p),w={get:oa({state:p.getState},h),name:t,set:oa({state:_,mergeState:b},y),store:p,use:u,useTracked:v,useStore:g,useTrackedStore:m,extendSelectors:()=>w,extendActions:()=>w};return GR(w)},Zee=hze,pze=vze,Jee="---",Qee="A-Za-z--------",mze=new RegExp("^[^"+Qee+"]*["+Jee+"]"),gze=new RegExp("^[^"+Jee+"]*["+Qee+"]");function vze(t){return t=String(t||""),mze.test(t)?"rtl":gze.test(t)?"ltr":"neutral"}const ete=ui(pze);var yze=Za,_ze=function(){return yze.Date.now()},bze=_ze,wze=/\s/;function xze(t){for(var e=t.length;e--&&wze.test(t.charAt(e)););return e}var Eze=xze,Sze=Eze,Cze=/^\s+/;function Aze(t){return t&&t.slice(0,Sze(t)+1).replace(Cze,"")}var Tze=Aze,Pze=Tze,L6=Ns,Dze=FS,U6=0/0,Rze=/^[-+]0x[0-9a-f]+$/i,Oze=/^0b[01]+$/i,Ize=/^0o[0-7]+$/i,Bze=parseInt;function Fze(t){if(typeof t=="number")return t;if(Dze(t))return U6;if(L6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=L6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pze(t);var r=Oze.test(t);return r||Ize.test(t)?Bze(t.slice(2),r?2:8):Rze.test(t)?U6:+t}var Mze=Fze,kze=Ns,kT=bze,$6=Mze,Nze="Expected a function",Lze=Math.max,Uze=Math.min;function $ze(t,e,r){var n,s,a,o,l,c,d=0,f=!1,p=!1,g=!0;if(typeof t!="function")throw new TypeError(Nze);e=$6(e)||0,kze(r)&&(f=!!r.leading,p="maxWait"in r,a=p?Lze($6(r.maxWait)||0,e):a,g="trailing"in r?!!r.trailing:g);function y(S){var E=n,P=s;return n=s=void 0,d=S,o=t.apply(P,E),o}function b(S){return d=S,l=setTimeout(h,e),f?y(S):o}function _(S){var E=S-c,P=S-d,T=e-E;return p?Uze(T,a-P):T}function u(S){var E=S-c,P=S-d;return c===void 0||E>=e||E<0||p&&P>=a}function h(){var S=kT();if(u(S))return m(S);l=setTimeout(h,_(S))}function m(S){return l=void 0,g&&n?y(S):(n=s=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function w(){return l===void 0?o:m(kT())}function x(){var S=kT(),E=u(S);if(n=arguments,s=this,c=S,E){if(l===void 0)return b(c);if(p)return clearTimeout(l),l=setTimeout(h,e),y(c)}return l===void 0&&(l=setTimeout(h,e)),o}return x.cancel=v,x.flush=w,x}var tte=$ze;const jze=ui(tte);var zze=tte,Vze=Ns,Gze="Expected a function";function Hze(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(Gze);return Vze(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),zze(t,e,{leading:n,maxWait:e,trailing:s})}var Wze=Hze;const Kze=ui(Wze),j6=t=>typeof t=="object"&&t!=null&&t.nodeType===1,z6=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",a1=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return z6(r.overflowY,e)||z6(r.overflowX,e)||(n=>{const s=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch(o){return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(t)}return!1},o1=(t,e,r,n,s,a,o,l)=>a<t&&o>e||a>t&&o<e?0:a<=t&&l<=r||o>=e&&l>=r?a-t-n:o>e&&l<r||a<t&&l>r?o-e+s:0,Xze=t=>{const e=t.parentElement;return e==null?t.getRootNode().host||null:e},V6=(t,e)=>{var r,n,s,a;if(typeof document>"u")return[];const{scrollMode:o,block:l,inline:c,boundary:d,skipOverflowHiddenElements:f}=e,p=typeof d=="function"?d:G=>G!==d;if(!j6(t))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,y=[];let b=t;for(;j6(b)&&p(b);){if(b=Xze(b),b===g){y.push(b);break}b!=null&&b===document.body&&a1(b)&&!a1(document.documentElement)||b!=null&&a1(b,f)&&y.push(b)}const _=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,u=(a=(s=window.visualViewport)==null?void 0:s.height)!=null?a:innerHeight,{scrollX:h,scrollY:m}=window,{height:v,width:w,top:x,right:S,bottom:E,left:P}=t.getBoundingClientRect(),{top:T,right:A,bottom:R,left:D}=(G=>{const j=window.getComputedStyle(G);return{top:parseFloat(j.scrollMarginTop)||0,right:parseFloat(j.scrollMarginRight)||0,bottom:parseFloat(j.scrollMarginBottom)||0,left:parseFloat(j.scrollMarginLeft)||0}})(t);let O=l==="start"||l==="nearest"?x-T:l==="end"?E+R:x+v/2-T+R,I=c==="center"?P+w/2-D+A:c==="end"?S+A:P-D;const M=[];for(let G=0;G<y.length;G++){const j=y[G],{height:$,width:H,top:K,right:re,bottom:fe,left:ye}=j.getBoundingClientRect();if(o==="if-needed"&&x>=0&&P>=0&&E<=u&&S<=_&&(j===g&&!a1(j)||x>=K&&E<=fe&&P>=ye&&S<=re))return M;const he=getComputedStyle(j),ue=parseInt(he.borderLeftWidth,10),Z=parseInt(he.borderTopWidth,10),z=parseInt(he.borderRightWidth,10),V=parseInt(he.borderBottomWidth,10);let Y=0,ne=0;const ie="offsetWidth"in j?j.offsetWidth-j.clientWidth-ue-z:0,me="offsetHeight"in j?j.offsetHeight-j.clientHeight-Z-V:0,xe="offsetWidth"in j?j.offsetWidth===0?0:H/j.offsetWidth:0,we="offsetHeight"in j?j.offsetHeight===0?0:$/j.offsetHeight:0;if(g===j)Y=l==="start"?O:l==="end"?O-u:l==="nearest"?o1(m,m+u,u,Z,V,m+O,m+O+v,v):O-u/2,ne=c==="start"?I:c==="center"?I-_/2:c==="end"?I-_:o1(h,h+_,_,ue,z,h+I,h+I+w,w),Y=Math.max(0,Y+m),ne=Math.max(0,ne+h);else{Y=l==="start"?O-K-Z:l==="end"?O-fe+V+me:l==="nearest"?o1(K,fe,$,Z,V+me,O,O+v,v):O-(K+$/2)+me/2,ne=c==="start"?I-ye-ue:c==="center"?I-(ye+H/2)+ie/2:c==="end"?I-re+z+ie:o1(ye,re,H,ue,z+ie,I,I+w,w);const{scrollLeft:Ee,scrollTop:tt}=j;Y=we===0?0:Math.max(0,Math.min(tt+Y/we,j.scrollHeight-$/we+me)),ne=xe===0?0:Math.max(0,Math.min(Ee+ne/xe,j.scrollWidth-H/xe+ie)),O+=tt-Y,I+=Ee-ne}M.push({el:j,top:Y,left:ne})}return M},Yze=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function qze(t,e){if(!t.isConnected||!(s=>{let a=s;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(t))return;const r=(s=>{const a=window.getComputedStyle(s);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(e))return e.behavior(V6(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:s,top:a,left:o}of V6(t,Yze(e))){const l=a-r.top+r.bottom,c=o-r.left+r.right;s.scroll({top:l,left:c,behavior:n})}}var Dd=[],Zze=function(){return Dd.some(function(t){return t.activeTargets.length>0})},Jze=function(){return Dd.some(function(t){return t.skippedTargets.length>0})},G6="ResizeObserver loop completed with undelivered notifications.",Qze=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:G6}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=G6),window.dispatchEvent(t)},_y;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(_y||(_y={}));var Rd=function(t){return Object.freeze(t)},e7e=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,Rd(this)}return t}(),rte=function(){function t(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Rd(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,s=e.top,a=e.right,o=e.bottom,l=e.left,c=e.width,d=e.height;return{x:r,y:n,top:s,right:a,bottom:o,left:l,width:c,height:d}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),ZM=function(t){return t instanceof SVGElement&&"getBBox"in t},nte=function(t){if(ZM(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var s=t,a=s.offsetWidth,o=s.offsetHeight;return!(a||o||t.getClientRects().length)},H6=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},t7e=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Xg=typeof window<"u"?window:{},l1=new WeakMap,W6=/auto|scroll/,r7e=/^tb|vertical/,n7e=/msie|trident/i.test(Xg.navigator&&Xg.navigator.userAgent),no=function(t){return parseFloat(t||"0")},Xh=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new e7e((r?e:t)||0,(r?t:e)||0)},K6=Rd({devicePixelContentBoxSize:Xh(),borderBoxSize:Xh(),contentBoxSize:Xh(),contentRect:new rte(0,0,0,0)}),ite=function(t,e){if(e===void 0&&(e=!1),l1.has(t)&&!e)return l1.get(t);if(nte(t))return l1.set(t,K6),K6;var r=getComputedStyle(t),n=ZM(t)&&t.ownerSVGElement&&t.getBBox(),s=!n7e&&r.boxSizing==="border-box",a=r7e.test(r.writingMode||""),o=!n&&W6.test(r.overflowY||""),l=!n&&W6.test(r.overflowX||""),c=n?0:no(r.paddingTop),d=n?0:no(r.paddingRight),f=n?0:no(r.paddingBottom),p=n?0:no(r.paddingLeft),g=n?0:no(r.borderTopWidth),y=n?0:no(r.borderRightWidth),b=n?0:no(r.borderBottomWidth),_=n?0:no(r.borderLeftWidth),u=p+d,h=c+f,m=_+y,v=g+b,w=l?t.offsetHeight-v-t.clientHeight:0,x=o?t.offsetWidth-m-t.clientWidth:0,S=s?u+m:0,E=s?h+v:0,P=n?n.width:no(r.width)-S-x,T=n?n.height:no(r.height)-E-w,A=P+u+x+m,R=T+h+w+v,D=Rd({devicePixelContentBoxSize:Xh(Math.round(P*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:Xh(A,R,a),contentBoxSize:Xh(P,T,a),contentRect:new rte(p,c,P,T)});return l1.set(t,D),D},ste=function(t,e,r){var n=ite(t,r),s=n.borderBoxSize,a=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(e){case _y.DEVICE_PIXEL_CONTENT_BOX:return o;case _y.BORDER_BOX:return s;default:return a}},i7e=function(){function t(e){var r=ite(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Rd([r.borderBoxSize]),this.contentBoxSize=Rd([r.contentBoxSize]),this.devicePixelContentBoxSize=Rd([r.devicePixelContentBoxSize])}return t}(),ate=function(t){if(nte(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},s7e=function(){var t=1/0,e=[];Dd.forEach(function(o){if(o.activeTargets.length!==0){var l=[];o.activeTargets.forEach(function(d){var f=new i7e(d.target),p=ate(d.target);l.push(f),d.lastReportedSize=ste(d.target,d.observedBox),p<t&&(t=p)}),e.push(function(){o.callback.call(o.observer,l,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var s=n[r];s()}return t},X6=function(t){Dd.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(s){s.isActive()&&(ate(s.target)>t?r.activeTargets.push(s):r.skippedTargets.push(s))})})},a7e=function(){var t=0;for(X6(t);Zze();)t=s7e(),X6(t);return Jze()&&Qze(),t>0},NT,ote=[],o7e=function(){return ote.splice(0).forEach(function(t){return t()})},l7e=function(t){if(!NT){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return o7e()}).observe(r,n),NT=function(){r.textContent="".concat(e?e--:e++)}}ote.push(t),NT()},u7e=function(t){l7e(function(){requestAnimationFrame(t)})},fb=0,c7e=function(){return!!fb},d7e=250,f7e={attributes:!0,characterData:!0,childList:!0,subtree:!0},Y6=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],q6=function(t){return t===void 0&&(t=0),Date.now()+t},LT=!1,h7e=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=d7e),!LT){LT=!0;var n=q6(e);u7e(function(){var s=!1;try{s=a7e()}finally{if(LT=!1,e=n-q6(),!c7e())return;s?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,f7e)};document.body?r():Xg.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Y6.forEach(function(r){return Xg.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Y6.forEach(function(r){return Xg.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),HR=new h7e,Z6=function(t){!fb&&t>0&&HR.start(),fb+=t,!fb&&HR.stop()},p7e=function(t){return!ZM(t)&&!t7e(t)&&getComputedStyle(t).display==="inline"},m7e=function(){function t(e,r){this.target=e,this.observedBox=r||_y.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=ste(this.target,this.observedBox,!0);return p7e(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),g7e=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),u1=new WeakMap,J6=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},c1=function(){function t(){}return t.connect=function(e,r){var n=new g7e(e,r);u1.set(e,n)},t.observe=function(e,r,n){var s=u1.get(e),a=s.observationTargets.length===0;J6(s.observationTargets,r)<0&&(a&&Dd.push(s),s.observationTargets.push(new m7e(r,n&&n.box)),Z6(1),HR.schedule())},t.unobserve=function(e,r){var n=u1.get(e),s=J6(n.observationTargets,r),a=n.observationTargets.length===1;s>=0&&(a&&Dd.splice(Dd.indexOf(n),1),n.observationTargets.splice(s,1),Z6(-1))},t.disconnect=function(e){var r=this,n=u1.get(e);n.observationTargets.slice().forEach(function(s){return r.unobserve(e,s.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),v7e=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");c1.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!H6(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");c1.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!H6(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");c1.unobserve(this,e)},t.prototype.disconnect=function(){c1.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function y7e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Pp(t,e){if(t==null)return{};var r=y7e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function _7e(t,e){if(by(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(by(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b7e(t){var e=_7e(t,"string");return by(e)==="symbol"?e:String(e)}function fa(t,e,r){return e=b7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var JM=C.createContext(null),Oc=()=>{var t=C.useContext(JM);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},UT,$T,lte=parseInt(q.version.split(".")[0],10),ute=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Q6=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Oi=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Eh=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Jc=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),w7e=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),cte=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),x7e=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),E7e=Oi&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),S7e=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),C7e=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),A7e=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((UT=navigator.userAgent.match(/Version\/(\d+)/))!==null&&UT!==void 0&&UT[1]&&parseInt(($T=navigator.userAgent.match(/Version\/(\d+)/))===null||$T===void 0?void 0:$T[1],10)<17);var iu=(!x7e||!E7e)&&!w7e&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Yh=new WeakMap,QM=new WeakMap,ek=new WeakMap,dte=new WeakMap,pb=new WeakMap,WR=new WeakMap,wy=new WeakMap,Od=new WeakMap,Ox=new WeakMap,jS=new WeakMap,KR=new WeakMap,Bu=new WeakMap,hd=new WeakMap,Yg=new WeakMap,XR=new WeakMap,tk=new WeakMap,Ua=new WeakMap,ml=new WeakMap,Ki=new WeakMap,mu=new WeakMap,gu=new WeakMap,fte=new WeakMap,Dp=Symbol("placeholder"),hte=Symbol("mark-placeholder"),pte=globalThis.Node,T7e=globalThis.Text,rk=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,P7e=t=>hc(t)&&t.nodeType===8,ta=t=>hc(t)&&t.nodeType===1,hc=t=>{var e=rk(t);return!!e&&t instanceof e.Node},YR=t=>{var e=t&&t.anchorNode&&rk(t.anchorNode);return!!e&&t instanceof e.Selection},mte=t=>hc(t)&&t.nodeType===3,D7e=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,R7e=t=>{var[e,r]=t;if(ta(e)&&e.childNodes.length){var n=r===e.childNodes.length,s=n?r-1:r;for([e,s]=gte(e,s,n?"backward":"forward"),n=s<r;ta(e)&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=I7e(e,a,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},O7e=t=>{for(var e=t&&t.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},gte=(t,e,r)=>{for(var{childNodes:n}=t,s=n[e],a=e,o=!1,l=!1;(P7e(s)||ta(s)&&s.childNodes.length===0||ta(s)&&s.getAttribute("contenteditable")==="false")&&!(o&&l);){if(a>=n.length){o=!0,a=e-1,r="backward";continue}if(a<0){l=!0,a=e+1,r="forward";continue}s=n[a],e=a,a+=r==="forward"?1:-1}return[s,e]},I7e=(t,e,r)=>{var[n]=gte(t,e,r);return n},vte=t=>{var e="";if(mte(t)&&t.nodeValue)return t.nodeValue;if(ta(t)){for(var r of Array.from(t.childNodes))e+=vte(r);var n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+="\n")}return e},B7e=/data-slate-fragment="(.+?)"/m,F7e=t=>{var e=t.getData("text/html"),[,r]=e.match(B7e)||[];return r},qg=t=>t.getSelection!=null?t.getSelection():document.getSelection(),nk=(t,e,r)=>{var{target:n}=e;if(ta(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:s}=ge.getWindow(t);if(s.contains(n))return ge.hasDOMNode(t,n,{editable:!0});var a=r.find(o=>{var{addedNodes:l,removedNodes:c}=o;for(var d of l)if(d===n||d.contains(n))return!0;for(var f of c)if(f===n||f.contains(n))return!0});return!a||a===e?!1:nk(t,a,r)},M7e=()=>{for(var t=document.activeElement;(e=t)!==null&&e!==void 0&&e.shadowRoot&&(r=t.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var e,r,n;t=(n=t)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return t},ej=(t,e)=>!!(t.compareDocumentPosition(e)&pte.DOCUMENT_POSITION_PRECEDING),k7e=(t,e)=>!!(t.compareDocumentPosition(e)&pte.DOCUMENT_POSITION_FOLLOWING),N7e=0;class L7e{constructor(){fa(this,"id",void 0),this.id="".concat(N7e++)}}var ge={androidPendingDiffs:t=>Ki.get(t),androidScheduleFlush:t=>{var e;(e=tk.get(t))===null||e===void 0||e()},blur:t=>{var e=ge.toDOMNode(t,t),r=ge.findDocumentOrShadowRoot(t);Bu.set(t,!1),r.activeElement===e&&e.blur()},deselect:t=>{var{selection:e}=t,r=ge.findDocumentOrShadowRoot(t),n=qg(r);n&&n.rangeCount>0&&n.removeAllRanges(),e&&Se.deselect(t)},findDocumentOrShadowRoot:t=>{var e=ge.toDOMNode(t,t),r=e.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:e.ownerDocument},findEventRange:(t,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:n,target:s}=e;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a=ge.toSlateNode(t,e.target),o=ge.findPath(t,a);if(it.isElement(a)&&F.isVoid(t,a)){var l=s.getBoundingClientRect(),c=t.isInline(a)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,d=F.point(t,o,{edge:c?"start":"end"}),f=c?F.before(t,d):F.after(t,d);if(f){var p=F.range(t,f);return p}}var g,{document:y}=ge.getWindow(t);if(y.caretRangeFromPoint)g=y.caretRangeFromPoint(r,n);else{var b=y.caretPositionFromPoint(r,n);b&&(g=y.createRange(),g.setStart(b.offsetNode,b.offset),g.setEnd(b.offsetNode,b.offset))}if(!g)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var _=ge.toSlateRange(t,g,{exactMatch:!1,suppressThrow:!1});return _},findKey:(t,e)=>{var r=Ox.get(e);return r||(r=new L7e,Ox.set(e,r)),r},findPath:(t,e)=>{for(var r=[],n=e;;){var s=ek.get(n);if(s==null){if(F.isEditor(n))return r;break}var a=QM.get(n);if(a==null)break;r.unshift(a),n=s}throw new Error("Unable to find the path for Slate node: ".concat(Wn.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Bu.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{ge.focus(e,{retries:r.retries-1})},10);return}var n=ge.toDOMNode(e,e),s=ge.findDocumentOrShadowRoot(e);if(s.activeElement!==n){if(e.selection&&s instanceof Document){var a=qg(s),o=ge.toDOMRange(e,e.selection);a==null||a.removeAllRanges(),a==null||a.addRange(o)}e.selection||Se.select(e,F.start(e,[])),Bu.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:t=>{var e=dte.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:s=!1}=n,a=ge.toDOMNode(e,e),o;try{o=ta(r)?r:r.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return o?o.closest("[data-slate-editor]")===a&&(!s||o.isContentEditable?!0:typeof o.isContentEditable=="boolean"&&o.closest('[contenteditable="false"]')===a||!!o.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(t,e)=>hc(e)&&ge.hasDOMNode(t,e,{editable:!0}),hasRange:(t,e)=>{var{anchor:r,focus:n}=e;return F.hasPath(t,r.path)&&F.hasPath(t,n.path)},hasSelectableTarget:(t,e)=>ge.hasEditableTarget(t,e)||ge.isTargetInsideNonReadonlyVoid(t,e),hasTarget:(t,e)=>hc(e)&&ge.hasDOMNode(t,e),insertData:(t,e)=>{t.insertData(e)},insertFragmentData:(t,e)=>t.insertFragmentData(e),insertTextData:(t,e)=>t.insertTextData(e),isComposing:t=>!!hd.get(t),isFocused:t=>!!Bu.get(t),isReadOnly:t=>!!KR.get(t),isTargetInsideNonReadonlyVoid:(t,e)=>{if(KR.get(t))return!1;var r=ge.hasTarget(t,e)&&ge.toSlateNode(t,e);return it.isElement(r)&&F.isVoid(t,r)},setFragmentData:(t,e,r)=>t.setFragmentData(e,r),toDOMNode:(t,e)=>{var r=jS.get(t),n=F.isEditor(e)?pb.get(t):r==null?void 0:r.get(ge.findKey(t,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Wn.stringify(e)));return n},toDOMPoint:(t,e)=>{var[r]=F.node(t,e.path),n=ge.toDOMNode(t,r),s;F.void(t,{at:e})&&(e={path:e.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",o=Array.from(n.querySelectorAll(a)),l=0,c=0;c<o.length;c++){var d=o[c],f=d.childNodes[0];if(!(f==null||f.textContent==null)){var{length:p}=f.textContent,g=d.getAttribute("data-slate-length"),y=g==null?p:parseInt(g,10),b=l+y,_=o[c+1];if(e.offset===b&&_!==null&&_!==void 0&&_.hasAttribute("data-slate-mark-placeholder")){var u,h=_.childNodes[0];s=[h instanceof T7e?h:_,(u=_.textContent)!==null&&u!==void 0&&u.startsWith("\uFEFF")?1:0];break}if(e.offset<=b){var m=Math.min(p,Math.max(0,e.offset-l));s=[f,m];break}l=b}}if(!s)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Wn.stringify(e)));return s},toDOMRange:(t,e)=>{var{anchor:r,focus:n}=e,s=de.isBackward(e),a=ge.toDOMPoint(t,r),o=de.isCollapsed(e)?a:ge.toDOMPoint(t,n),l=ge.getWindow(t),c=l.document.createRange(),[d,f]=s?o:a,[p,g]=s?a:o,y=ta(d)?d:d.parentElement,b=!!y.getAttribute("data-slate-zero-width"),_=ta(p)?p:p.parentElement,u=!!_.getAttribute("data-slate-zero-width");return c.setStart(d,b?1:f),c.setEnd(p,u?1:g),c},toSlateNode:(t,e)=>{var r=ta(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?wy.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(t,e,r)=>{var{exactMatch:n,suppressThrow:s,searchDirection:a="backward"}=r,[o,l]=n?e:R7e(e),c=o.parentNode,d=null,f=0;if(c){var p,g,y=ge.toDOMNode(t,t),b=c.closest('[data-slate-void="true"]'),_=b&&y.contains(b)?b:null,u=c.closest('[contenteditable="false"]'),h=u&&y.contains(u)?u:null,m=c.closest("[data-slate-leaf]"),v=null;if(m){if(d=m.closest('[data-slate-node="text"]'),d){var w=ge.getWindow(t),x=w.document.createRange();x.setStart(d,0),x.setEnd(o,l);var S=x.cloneContents(),E=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];E.forEach(ye=>{if(Oi&&!n&&ye.hasAttribute("data-slate-zero-width")&&ye.textContent.length>0&&ye.textContext!=="\uFEFF"){ye.textContent.startsWith("\uFEFF")&&(ye.textContent=ye.textContent.slice(1));return}ye.parentNode.removeChild(ye)}),f=S.textContent.length,v=d}}else if(_){for(var P=_.querySelectorAll("[data-slate-leaf]"),T=0;T<P.length;T++){var A=P[T];if(ge.hasDOMNode(t,A)){m=A;break}}m?(d=m.closest('[data-slate-node="text"]'),v=m,f=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(ye=>{f-=ye.textContent.length})):f=1}else if(h){var R=ye=>ye?ye.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],D=h.closest('[data-slate-node="element"]');if(a==="forward"){var O,I=[...R(D),...R(D==null?void 0:D.nextElementSibling)];m=(O=I.find(ye=>k7e(h,ye)))!==null&&O!==void 0?O:null}else{var M,G=[...R(D==null?void 0:D.previousElementSibling),...R(D)];m=(M=G.findLast(ye=>ej(h,ye)))!==null&&M!==void 0?M:null}m&&(d=m.closest('[data-slate-node="text"]'),v=m,a==="forward"?f=0:(f=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(ye=>{f-=ye.textContent.length})))}v&&f===v.textContent.length&&Oi&&v.getAttribute("data-slate-zero-width")==="z"&&(p=v.textContent)!==null&&p!==void 0&&p.startsWith("\uFEFF")&&(c.hasAttribute("data-slate-zero-width")||Eh&&(g=v.textContent)!==null&&g!==void 0&&g.endsWith("\n\n"))&&f--}if(Oi&&!d&&!n){var j=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(j&&ge.hasDOMNode(t,j,{editable:!0})){var $=ge.toSlateNode(t,j),{path:H,offset:K}=F.start(t,ge.findPath(t,$));return j.querySelector("[data-slate-leaf]")||(K=l),{path:H,offset:K}}}if(!d){if(s)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var re=ge.toSlateNode(t,d),fe=ge.findPath(t,re);return{path:fe,offset:f}},toSlateRange:(t,e,r)=>{var n,{exactMatch:s,suppressThrow:a}=r,o=YR(e)?e.anchorNode:e.startContainer,l,c,d,f,p;if(o)if(YR(e)){if(Eh&&e.rangeCount>1){d=e.focusNode;var g=e.getRangeAt(0),y=e.getRangeAt(e.rangeCount-1);if(d instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement&&y.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var b=g.startContainer,_=y.startContainer,u=S(b.children[g.startOffset]),h=S(_.children[y.startOffset]);f=0,h.childNodes.length>0?l=h.childNodes[0]:l=h,u.childNodes.length>0?d=u.childNodes[0]:d=u,h instanceof HTMLElement?c=h.innerHTML.length:c=0}else g.startContainer===d?(l=y.endContainer,c=y.endOffset,f=g.startOffset):(l=g.startContainer,c=g.endOffset,f=y.startOffset)}else l=e.anchorNode,c=e.anchorOffset,d=e.focusNode,f=e.focusOffset;cte&&O7e(l)||Eh?p=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:p=e.isCollapsed}else l=e.startContainer,c=e.startOffset,d=e.endContainer,f=e.endOffset,p=e.collapsed;if(l==null||d==null||c==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));Eh&&(n=d.textContent)!==null&&n!==void 0&&n.endsWith("\n\n")&&f===d.textContent.length&&f--;var m=ge.toSlatePoint(t,[l,c],{exactMatch:s,suppressThrow:a});if(!m)return null;var v=ej(l,d)||l===d&&f<c,w=p?m:ge.toSlatePoint(t,[d,f],{exactMatch:s,suppressThrow:a,searchDirection:v?"forward":"backward"});if(!w)return null;var x={anchor:m,focus:w};return de.isExpanded(x)&&de.isForward(x)&&ta(d)&&F.void(t,{at:x.focus,mode:"highest"})&&(x=F.unhangRange(t,x,{voids:!0})),x}};function U7e(t,e){var{path:r,diff:n}=e;if(!F.hasPath(t,r))return!1;var s=Me.get(t,r);if(!Qe.isText(s))return!1;if(n.start!==s.text.length||n.text.length===0)return s.text.slice(n.start,n.start+n.text.length)===n.text;var a=te.next(r);if(!F.hasPath(t,a))return!1;var o=Me.get(t,a);return Qe.isText(o)&&o.text.startsWith(n.text)}function yte(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((s,a)=>s.slice(0,a.start)+a.text+s.slice(a.end),t)}function $7e(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n))return n;return r}function j7e(t,e,r){for(var n=Math.min(t.length,e.length,r),s=0;s<n;s++)if(t.charAt(t.length-s-1)!==e.charAt(e.length-s-1))return s;return n}function _te(t,e){var{start:r,end:n,text:s}=e,a=t.slice(r,n),o=$7e(a,s),l=Math.min(a.length-o,s.length-o),c=j7e(a,s,l),d={start:r+o,end:n-c,text:s.slice(o,s.length-c)};return d.start===d.end&&d.text.length===0?null:d}function z7e(t,e,r){var n=Math.min(e.start,r.start),s=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),a=yte(t,e,r),o=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-s),l=a.slice(n,o),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return _te(t,{start:n,end:c,text:l})}function V7e(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function qR(t,e){var{path:r,offset:n}=e;if(!F.hasPath(t,r))return null;var s=Me.get(t,r);if(!Qe.isText(s))return null;var a=F.above(t,{match:l=>it.isElement(l)&&F.isBlock(t,l),at:r});if(!a)return null;for(;n>s.text.length;){var o=F.next(t,{at:r,match:Qe.isText});if(!o||!te.isDescendant(o[1],a[1]))return null;n-=s.text.length,s=o[0],r=o[1]}return{path:r,offset:n}}function tj(t,e){var r=qR(t,e.anchor);if(!r)return null;if(de.isCollapsed(e))return{anchor:r,focus:r};var n=qR(t,e.focus);return n?{anchor:r,focus:n}:null}function ZR(t,e,r){var n=Ki.get(t),s=n==null?void 0:n.find(f=>{var{path:p}=f;return te.equals(p,e.path)});if(!s||e.offset<=s.diff.start)return zt.transform(e,r,{affinity:"backward"});var{diff:a}=s;if(e.offset<=a.start+a.text.length){var o={path:e.path,offset:a.start},l=zt.transform(o,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-a.start}:null}var c={path:e.path,offset:e.offset-a.text.length+a.end-a.start},d=zt.transform(c,r,{affinity:"backward"});return d?r.type==="split_node"&&te.equals(r.path,e.path)&&c.offset<r.position&&a.start<r.position?d:{path:d.path,offset:d.offset+a.text.length-a.end+a.start}:null}function rj(t,e,r){var n=ZR(t,e.anchor,r);if(!n)return null;if(de.isCollapsed(e))return{anchor:n,focus:n};var s=ZR(t,e.focus,r);return s?{anchor:n,focus:s}:null}function G7e(t,e){var{path:r,diff:n,id:s}=t;switch(e.type){case"insert_text":return!te.equals(e.path,r)||e.offset>=n.end?t:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:s,path:r};case"remove_text":return!te.equals(e.path,r)||e.offset>=n.end?t:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:s,path:r};case"split_node":return!te.equals(e.path,r)||e.position>=n.end?{diff:n,id:s,path:te.transform(r,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:s,path:r}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:s,path:te.transform(r,e,{affinity:"forward"})};case"merge_node":return te.equals(e.path,r)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:s,path:te.transform(r,e)}:{diff:n,id:s,path:te.transform(r,e)}}var a=te.transform(r,e);return a?{diff:n,path:a,id:s}:null}function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var H7e=25,W7e=200,K7e=function(){},X7e=t=>(t==null?void 0:t.constructor.name)==="DataTransfer";function Y7e(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=t,s=!1,a=null,o=null,l=null,c=0,d=!1,f=()=>{var D=gu.get(e);if(gu.delete(e),D){var{selection:O}=e,I=tj(e,D);I&&(!O||!de.equals(I,O))&&Se.select(e,I)}},p=()=>{var D=mu.get(e);if(mu.delete(e),!!D){if(D.at){var O=zt.isPoint(D.at)?qR(e,D.at):tj(e,D.at);if(!O)return;var I=F.range(e,O);(!e.selection||!de.equals(e.selection,I))&&Se.select(e,O)}D.run()}},g=()=>{if(o&&(clearTimeout(o),o=null),l&&(clearTimeout(l),l=null),!w()&&!v()){f();return}s||(s=!0,setTimeout(()=>s=!1)),v()&&(s="action");var D=e.selection&&F.rangeRef(e,e.selection,{affinity:"forward"});ml.set(e,e.marks),K7e("flush",mu.get(e),Ki.get(e));for(var O=w(),I;I=(M=Ki.get(e))===null||M===void 0?void 0:M[0];){var M,G,j=Ua.get(e);j!==void 0&&(Ua.delete(e),e.marks=j),j&&d===!1&&(d=null);var $=V7e(I);(!e.selection||!de.equals(e.selection,$))&&Se.select(e,$),I.diff.text?F.insertText(e,I.diff.text):F.deleteFragment(e),Ki.set(e,(G=Ki.get(e))===null||G===void 0?void 0:G.filter(re=>{var{id:fe}=re;return fe!==I.id})),U7e(e,I)||(O=!1,mu.delete(e),ml.delete(e),s="action",gu.delete(e),r.cancel(),n.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!gu.get(e)&&(!e.selection||!de.equals(H,e.selection))&&Se.select(e,H),v()){p();return}O&&r(),r.flush(),n.flush(),f();var K=ml.get(e);ml.delete(e),K!==void 0&&(e.marks=K,e.onChange())},y=D=>{a&&clearTimeout(a),a=setTimeout(()=>{hd.set(e,!1),g()},H7e)},b=D=>{hd.set(e,!0),a&&(clearTimeout(a),a=null)},_=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=WR.get(e);if(I){if(w()||O){I.style.display="none";return}I.style.removeProperty("display")}},u=(D,O)=>{var I,M=(I=Ki.get(e))!==null&&I!==void 0?I:[];Ki.set(e,M);var G=Me.leaf(e,D),j=M.findIndex(K=>te.equals(K.path,D));if(j<0){var $=_te(G.text,O);$&&M.push({path:D,diff:O,id:c++}),_();return}var H=z7e(G.text,M[j].diff,O);if(!H){M.splice(j,1),_();return}M[j]=d1(d1({},M[j]),{},{diff:H})},h=function(O){var{at:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d=!1,gu.delete(e),r.cancel(),n.cancel(),v()&&g(),mu.set(e,{at:I,run:O}),l=setTimeout(g)},m=D=>{var O;if(o&&(clearTimeout(o),o=null),!Yh.get(e)){var{inputType:I}=D,M=null,G=D.dataTransfer||D.data||void 0;d!==!1&&I!=="insertText"&&I!=="insertCompositionText"&&(d=!1);var[j]=D.getTargetRanges();j&&(M=ge.toSlateRange(e,j,{exactMatch:!1,suppressThrow:!0}));var $=ge.getWindow(e),H=$.getSelection();if(!M&&H&&(j=H,M=ge.toSlateRange(e,H,{exactMatch:!1,suppressThrow:!0})),M=(O=M)!==null&&O!==void 0?O:e.selection,!!M){var K=!0;if(I.startsWith("delete")){if(de.isExpanded(M)){var[re,fe]=de.edges(M),ye=Me.leaf(e,re.path);if(ye.text.length===re.offset&&fe.offset===0){var he=F.next(e,{at:re.path,match:Qe.isText});he&&te.equals(he[1],fe.path)&&(M={anchor:fe,focus:fe})}}var ue=I.endsWith("Backward")?"backward":"forward",[Z,z]=de.edges(M),[V,Y]=F.leaf(e,Z.path),ne={text:"",start:Z.offset,end:z.offset},ie=Ki.get(e),me=ie==null?void 0:ie.find(Xe=>te.equals(Xe.path,Y)),xe=me?[me.diff,ne]:[ne],we=yte(V.text,...xe);if(we.length===0&&(K=!1),de.isExpanded(M)){if(K&&te.equals(M.anchor.path,M.focus.path)){var Ee={path:M.anchor.path,offset:Z.offset},tt=F.range(e,Ee,Ee);return E(tt),u(M.anchor.path,{text:"",end:z.offset,start:Z.offset})}return h(()=>F.deleteFragment(e,{direction:ue}),{at:M})}}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return h(()=>F.deleteFragment(e),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:xt}=M;if(K&&de.isCollapsed(M)){var _t=Me.leaf(e,xt.path);if(xt.offset<_t.text.length)return u(xt.path,{text:"",start:xt.offset,end:xt.offset+1})}return h(()=>F.deleteForward(e),{at:M})}case"deleteContentBackward":{var Gt,{anchor:X}=M,oe=YR(j)?j.isCollapsed:!!((Gt=j)!==null&&Gt!==void 0&&Gt.collapsed);return K&&oe&&de.isCollapsed(M)&&X.offset>0?u(X.path,{text:"",start:X.offset-1,end:X.offset}):h(()=>F.deleteBackward(e),{at:M})}case"deleteEntireSoftLine":return h(()=>{F.deleteBackward(e,{unit:"line"}),F.deleteForward(e,{unit:"line"})},{at:M});case"deleteHardLineBackward":return h(()=>F.deleteBackward(e,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return h(()=>F.deleteBackward(e,{unit:"line"}),{at:M});case"deleteHardLineForward":return h(()=>F.deleteForward(e,{unit:"block"}),{at:M});case"deleteSoftLineForward":return h(()=>F.deleteForward(e,{unit:"line"}),{at:M});case"deleteWordBackward":return h(()=>F.deleteBackward(e,{unit:"word"}),{at:M});case"deleteWordForward":return h(()=>F.deleteForward(e,{unit:"word"}),{at:M});case"insertLineBreak":return h(()=>F.insertSoftBreak(e),{at:M});case"insertParagraph":return h(()=>F.insertBreak(e),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(X7e(G))return h(()=>ge.insertData(e,G),{at:M});var le=G!=null?G:"";if(Ua.get(e)&&(le=le.replace("\uFEFF","")),I==="insertText"&&/.*\n.*\n$/.test(le)&&(le=le.slice(0,-1)),le.includes("\n"))return h(()=>{var Xe=le.split("\n");Xe.forEach((Pe,L)=>{Pe&&F.insertText(e,Pe),L!==Xe.length-1&&F.insertSoftBreak(e)})},{at:M});if(te.equals(M.anchor.path,M.focus.path)){var[Ae,_e]=de.edges(M),ce={start:Ae.offset,end:_e.offset,text:le};if(le&&d&&I==="insertCompositionText"){var be=d.start+d.text.search(/\S|$/),Ye=ce.start+ce.text.search(/\S|$/);Ye===be+1&&ce.end===d.start+d.text.length?(ce.start-=1,d=null,A()):d=!1}else I==="insertText"?d===null?d=ce:d&&de.isCollapsed(M)&&d.end+d.text.length===Ae.offset?d=d1(d1({},d),{},{text:d.text+le}):d=!1:d=!1;if(K){u(Ae.path,ce);return}}return h(()=>F.insertText(e,le),{at:M})}}}}},v=()=>!!mu.get(e),w=()=>{var D;return!!((D=Ki.get(e))!==null&&D!==void 0&&D.length)},x=()=>v()||w(),S=()=>s,E=D=>{gu.set(e,D),o&&(clearTimeout(o),o=null);var{selection:O}=e;if(D){var I=!O||!te.equals(O.anchor.path,D.anchor.path),M=!O||!te.equals(O.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(I&&d||M)&&(d=!1),(I||w())&&(o=setTimeout(g,W7e))}},P=()=>{(v()||!w())&&g()},T=D=>{w()||(_(!0),setTimeout(_))},A=()=>{v()||(l=setTimeout(g))},R=D=>{if(!(w()||v())&&D.some(I=>nk(e,I,D))){var O;(O=fte.get(e))===null||O===void 0||O()}};return{flush:g,scheduleFlush:A,hasPendingDiffs:w,hasPendingAction:v,hasPendingChanges:x,isFlushing:S,handleUserSelect:E,handleCompositionEnd:y,handleCompositionStart:b,handleDOMBeforeInput:m,handleKeyDown:T,handleDomMutations:R,handleInput:P}}function q7e(){var t=C.useRef(!1);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}var xy=hb?C.useLayoutEffect:C.useEffect;function Z7e(t,e,r){var[n]=C.useState(()=>new MutationObserver(e));xy(()=>{n.takeRecords()}),C.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(t.current,r),()=>n.disconnect()},[n,t,r])}var J7e=["node"];function ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Q7e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var e9e={subtree:!0,childList:!0,characterData:!0},t9e=Oi?t=>{var{node:e}=t,r=Pp(t,J7e);if(!Oi)return null;var n=Oc(),s=q7e(),[a]=C.useState(()=>Y7e(Q7e({editor:n},r)));return Z7e(e,a.handleDomMutations,e9e),tk.set(n,a.scheduleFlush),s&&a.flush(),a}:()=>null,r9e=["anchor","focus"],n9e=["anchor","focus"],i9e=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),bte=(t,e)=>{var r=Pp(t,r9e),n=Pp(e,n9e);return t[Dp]===e[Dp]&&i9e(r,n)},s9e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(!de.equals(n,s)||!bte(n,s))return!1}return!0},a9e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(n.anchor.offset!==s.anchor.offset||n.focus.offset!==s.focus.offset||!bte(n,s))return!1}return!0};function sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function o9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var l9e=t=>{var{isLast:e,leaf:r,parent:n,text:s}=t,a=Oc(),o=ge.findPath(a,s),l=te.parent(o),c=!!r[hte];return a.isVoid(n)?q.createElement(jT,{length:Me.string(n).length}):r.text===""&&n.children[n.children.length-1]===s&&!a.isInline(n)&&F.string(a,l)===""?q.createElement(jT,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?q.createElement(jT,{isMarkPlaceholder:c}):e&&r.text.slice(-1)==="\n"?q.createElement(aj,{isTrailing:!0,text:r.text}):q.createElement(aj,{text:r.text})},aj=t=>{var{text:e,isTrailing:r=!1}=t,n=C.useRef(null),s=()=>"".concat(e!=null?e:"").concat(r?"\n":""),[a]=C.useState(s);return xy(()=>{var o=s();n.current&&n.current.textContent!==o&&(n.current.textContent=o)}),q.createElement(u9e,{ref:n},a)},u9e=C.memo(C.forwardRef((t,e)=>q.createElement("span",{"data-slate-string":!0,ref:e},t.children))),jT=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=t,s={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return n&&(s["data-slate-mark-placeholder"]=!0),q.createElement("span",o9e({},s),!(Oi||ute)||!r?"\uFEFF":null,r?q.createElement("br",null):null)};function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var c9e=Oi?300:0;function d9e(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}function lj(t){t.current&&(clearTimeout(t.current),t.current=null)}var f9e=t=>{var{leaf:e,isLast:r,text:n,parent:s,renderPlaceholder:a,renderLeaf:o=m=>q.createElement(p9e,wte({},m))}=t,l=Oc(),c=C.useRef(null),d=C.useRef(null),[f,p]=C.useState(!1),g=C.useRef(null),y=C.useCallback(m=>{if(d9e(c,m==null),m==null){var v;WR.delete(l),(v=e.onPlaceholderResize)===null||v===void 0||v.call(e,null)}else{if(WR.set(l,m),!c.current){var w=window.ResizeObserver||v7e;c.current=new w(()=>{var x;(x=e.onPlaceholderResize)===null||x===void 0||x.call(e,m)})}c.current.observe(m),d.current=m}},[d,e,l]),b=q.createElement(l9e,{isLast:r,leaf:e,parent:s,text:n}),_=!!e[Dp];if(C.useEffect(()=>(_?g.current||(g.current=setTimeout(()=>{p(!0),g.current=null},c9e)):(lj(g),p(!1)),()=>lj(g)),[_,p]),_&&f){var u={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Jc?"inherit":void 0},contentEditable:!1,ref:y}};b=q.createElement(q.Fragment,null,a(u),b)}var h={"data-slate-leaf":!0};return o({attributes:h,children:b,leaf:e,text:n})},h9e=q.memo(f9e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&Qe.equals(e.leaf,t.leaf)&&e.leaf[Dp]===t.leaf[Dp]),p9e=t=>{var{attributes:e,children:r}=t;return q.createElement("span",wte({},e),r)},m9e=t=>{for(var{decorations:e,isLast:r,parent:n,renderPlaceholder:s,renderLeaf:a,text:o}=t,l=Oc(),c=C.useRef(null),d=Qe.decorations(o,e),f=ge.findKey(l,o),p=[],g=0;g<d.length;g++){var y=d[g];p.push(q.createElement(h9e,{isLast:r&&g===d.length-1,key:"".concat(f.id,"-").concat(g),renderPlaceholder:s,leaf:y,text:o,parent:n,renderLeaf:a}))}var b=C.useCallback(_=>{var u=jS.get(l);_?(u==null||u.set(f,_),Od.set(o,_),wy.set(_,o)):(u==null||u.delete(f),Od.delete(o),c.current&&wy.delete(c.current)),c.current=_},[c,l,f,o]);return q.createElement("span",{"data-slate-node":"text",ref:b},p)},xte=q.memo(m9e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&a9e(e.decorations,t.decorations));function uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var g9e=t=>{var{decorations:e,element:r,renderElement:n=m=>q.createElement(ik,JR({},m)),renderPlaceholder:s,renderLeaf:a,selection:o}=t,l=Oc(),c=_9e(),d=l.isInline(r),f=ge.findKey(l,r),p=C.useCallback(m=>{var v=jS.get(l);m?(v==null||v.set(f,m),Od.set(r,m),wy.set(m,r)):(v==null||v.delete(f),Od.delete(r))},[l,f,r]),g=Cte({decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:a,selection:o}),y={"data-slate-node":"element",ref:p};if(d&&(y["data-slate-inline"]=!0),!d&&F.hasInlines(l,r)){var b=Me.string(r),_=ete(b);_==="rtl"&&(y.dir=_)}if(F.isVoid(l,r)){y["data-slate-void"]=!0,!c&&d&&(y.contentEditable=!1);var u=d?"span":"div",[[h]]=Me.texts(r);g=q.createElement(u,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},q.createElement(xte,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:h})),QM.set(h,0),ek.set(h,r)}return n({attributes:y,children:g,element:r})},v9e=q.memo(g9e,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&s9e(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&de.equals(t.selection,e.selection))),ik=t=>{var{attributes:e,children:r,element:n}=t,s=Oc(),a=s.isInline(n)?"span":"div";return q.createElement(a,JR(JR({},e),{},{style:{position:"relative"}}),r)},Ete=C.createContext(()=>[]),y9e=()=>C.useContext(Ete),Ste=C.createContext(!1),HQe=()=>C.useContext(Ste),Cte=t=>{var{decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:a,selection:o}=t,l=y9e(),c=Oc();Yh.set(c,!1);for(var d=ge.findPath(c,r),f=[],p=it.isElement(r)&&!c.isInline(r)&&F.hasInlines(c,r),g=0;g<r.children.length;g++){var y=d.concat(g),b=r.children[g],_=ge.findKey(c,b),u=F.range(c,y),h=o&&de.intersection(u,o),m=l([b,y]);for(var v of e){var w=de.intersection(v,u);w&&m.push(w)}it.isElement(b)?f.push(q.createElement(Ste.Provider,{key:"provider-".concat(_.id),value:!!h},q.createElement(v9e,{decorations:m,element:b,key:_.id,renderElement:n,renderPlaceholder:s,renderLeaf:a,selection:h}))):f.push(q.createElement(xte,{decorations:m,key:_.id,isLast:p&&g===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:a,text:b})),QM.set(b,g),ek.set(b,r)}return f},Ate=C.createContext(!1),_9e=()=>C.useContext(Ate),Tte=C.createContext(null),Pte=()=>{var t=C.useContext(Tte);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e};function b9e(){var t=Oc(),e=C.useRef(!1),r=C.useRef(0),n=C.useCallback(()=>{if(!e.current){e.current=!0;var s=ge.getWindow(t);s.cancelAnimationFrame(r.current),r.current=s.requestAnimationFrame(()=>{e.current=!1})}},[t]);return C.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:n}}var w9e=3,x9e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},E9e={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},S9e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Nr=t=>{var e=x9e[t],r=E9e[t],n=S9e[t],s=e&&BT(e),a=r&&BT(r),o=n&&BT(n);return l=>!!(s&&s(l)||Q6&&a&&a(l)||!Q6&&o&&o(l))},Xr={isBold:Nr("bold"),isCompose:Nr("compose"),isMoveBackward:Nr("moveBackward"),isMoveForward:Nr("moveForward"),isDeleteBackward:Nr("deleteBackward"),isDeleteForward:Nr("deleteForward"),isDeleteLineBackward:Nr("deleteLineBackward"),isDeleteLineForward:Nr("deleteLineForward"),isDeleteWordBackward:Nr("deleteWordBackward"),isDeleteWordForward:Nr("deleteWordForward"),isExtendBackward:Nr("extendBackward"),isExtendForward:Nr("extendForward"),isExtendLineBackward:Nr("extendLineBackward"),isExtendLineForward:Nr("extendLineForward"),isItalic:Nr("italic"),isMoveLineBackward:Nr("moveLineBackward"),isMoveLineForward:Nr("moveLineForward"),isMoveWordBackward:Nr("moveWordBackward"),isMoveWordForward:Nr("moveWordForward"),isRedo:Nr("redo"),isSoftBreak:Nr("insertSoftBreak"),isSplitBlock:Nr("splitBlock"),isTransposeCharacter:Nr("transposeCharacter"),isUndo:Nr("undo")},C9e=(t,e)=>{var r=[],n=()=>{r=[]},s=o=>{if(e.current){var l=o.filter(c=>nk(t,c,o));r.push(...l)}};function a(){r.length>0&&(r.reverse().forEach(o=>{o.type!=="characterData"&&(o.removedNodes.forEach(l=>{o.target.insertBefore(l,o.nextSibling)}),o.addedNodes.forEach(l=>{o.target.removeChild(l)}))}),n())}return{registerMutations:s,restoreDOM:a,clear:n}},A9e={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Dte extends C.Component{constructor(){super(...arguments),fa(this,"context",null),fa(this,"manager",null),fa(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,A9e)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=C9e(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,n,s=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(s!=null&&s.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(s)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}fa(Dte,"contextType",JM);var T9e=Oi?Dte:t=>{var{children:e}=t;return q.createElement(q.Fragment,null,e)},P9e=C.createContext(!1),D9e=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],R9e=["text"];function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var O9e=t=>q.createElement(q.Fragment,null,Cte(t)),I9e=C.forwardRef((t,e)=>{var r=C.useCallback(Z=>q.createElement(B9e,lo({},Z)),[]),{autoFocus:n,decorate:s=F9e,onDOMBeforeInput:a,placeholder:o,readOnly:l=!1,renderElement:c,renderLeaf:d,renderPlaceholder:f=r,scrollSelectionIntoView:p=M9e,style:g={},as:y="div",disableDefaultStyles:b=!1}=t,_=Pp(t,D9e),u=Pte(),[h,m]=C.useState(!1),v=C.useRef(null),w=C.useRef([]),[x,S]=C.useState(),E=C.useRef(!1),{onUserInput:P,receivedUserInput:T}=b9e(),[,A]=C.useReducer(Z=>Z+1,0);fte.set(u,A),KR.set(u,l);var R=C.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);C.useEffect(()=>{v.current&&n&&v.current.focus()},[n]);var D=C.useRef(),O=C.useMemo(()=>Kze(()=>{if(Yh.get(u)){O();return}var Z=ge.toDOMNode(u,u),z=Z.getRootNode();if(!E.current&&Jc&&z instanceof ShadowRoot){E.current=!0;var V=M7e();V?document.execCommand("indent"):Se.deselect(u),E.current=!1;return}var Y=D.current;if((Oi||!ge.isComposing(u))&&(!R.isUpdatingSelection||Y!=null&&Y.isFlushing())&&!R.isDraggingInternally){var ne=ge.findDocumentOrShadowRoot(u),{activeElement:ie}=ne,me=ge.toDOMNode(u,u),xe=qg(ne);if(ie===me?(R.latestElement=ie,Bu.set(u,!0)):Bu.delete(u),!xe)return Se.deselect(u);var{anchorNode:we,focusNode:Ee}=xe,tt=ge.hasEditableTarget(u,we)||ge.isTargetInsideNonReadonlyVoid(u,we),xt=ge.hasTarget(u,Ee);if(tt&&xt){var _t=ge.toSlateRange(u,xe,{exactMatch:!1,suppressThrow:!0});_t&&(!ge.isComposing(u)&&!(Y!=null&&Y.hasPendingChanges())&&!(Y!=null&&Y.isFlushing())?Se.select(u,_t):Y==null||Y.handleUserSelect(_t))}l&&(!tt||!xt)&&Se.deselect(u)}},100),[u,l,R]),I=C.useMemo(()=>jze(O,0),[O]);D.current=t9e({node:v,onDOMSelectionChange:O,scheduleOnDOMSelectionChange:I}),xy(()=>{var Z,z,V;v.current&&(V=rk(v.current))?(dte.set(u,V),pb.set(u,v.current),Od.set(u,v.current),wy.set(v.current,u)):Od.delete(u);var{selection:Y}=u,ne=ge.findDocumentOrShadowRoot(u),ie=qg(ne);if(!(!ie||!ge.isFocused(u)||(Z=D.current)!==null&&Z!==void 0&&Z.hasPendingAction())){var me=tt=>{var xt=ie.type!=="None";if(!(!Y&&!xt)){var _t=ie.focusNode,Gt;if(Eh&&ie.rangeCount>1){var X=ie.getRangeAt(0),oe=ie.getRangeAt(ie.rangeCount-1);X.startContainer===_t?Gt=oe.endContainer:Gt=X.startContainer}else Gt=ie.anchorNode;var le=pb.get(u),Ae=!1;if(le.contains(Gt)&&le.contains(_t)&&(Ae=!0),xt&&Ae&&Y&&!tt){var _e=ge.toSlateRange(u,ie,{exactMatch:!0,suppressThrow:!0});if(_e&&de.equals(_e,Y)){var ce;if(!R.hasMarkPlaceholder||(ce=Gt)!==null&&ce!==void 0&&(ce=ce.parentElement)!==null&&ce!==void 0&&ce.hasAttribute("data-slate-mark-placeholder"))return}}if(Y&&!ge.hasRange(u,Y)){u.selection=ge.toSlateRange(u,ie,{exactMatch:!1,suppressThrow:!0});return}R.isUpdatingSelection=!0;var be=Y&&ge.toDOMRange(u,Y);return be?(ge.isComposing(u)&&!Oi?ie.collapseToEnd():de.isBackward(Y)?ie.setBaseAndExtent(be.endContainer,be.endOffset,be.startContainer,be.startOffset):ie.setBaseAndExtent(be.startContainer,be.startOffset,be.endContainer,be.endOffset),p(u,be)):ie.removeAllRanges(),be}};ie.rangeCount<=1&&me();var xe=((z=D.current)===null||z===void 0?void 0:z.isFlushing())==="action";if(!Oi||!xe){setTimeout(()=>{R.isUpdatingSelection=!1});return}var we=null,Ee=requestAnimationFrame(()=>{if(xe){var tt=xt=>{try{var _t=ge.toDOMNode(u,u);_t.focus(),me(xt)}catch(Gt){}};tt(),we=setTimeout(()=>{tt(!0),R.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Ee),we&&clearTimeout(we)}}});var M=C.useCallback(Z=>{var z=ge.toDOMNode(u,u),V=z.getRootNode();if(E!=null&&E.current&&Jc&&V instanceof ShadowRoot){var Y=Z.getTargetRanges(),ne=Y[0],ie=new window.Range;ie.setStart(ne.startContainer,ne.startOffset),ie.setEnd(ne.endContainer,ne.endOffset);var me=ge.toSlateRange(u,ie,{exactMatch:!1,suppressThrow:!1});Se.select(u,me),Z.preventDefault(),Z.stopImmediatePropagation();return}if(P(),!l&&ge.hasEditableTarget(u,Z.target)&&!k9e(Z,a)){var xe;if(D.current)return D.current.handleDOMBeforeInput(Z);I.flush(),O.flush();var{selection:we}=u,{inputType:Ee}=Z,tt=Z.dataTransfer||Z.data||void 0,xt=Ee==="insertCompositionText"||Ee==="deleteCompositionText";if(xt&&ge.isComposing(u))return;var _t=!1;if(Ee==="insertText"&&we&&de.isCollapsed(we)&&Z.data&&Z.data.length===1&&/[a-z ]/i.test(Z.data)&&we.anchor.offset!==0&&(_t=!0,u.marks&&(_t=!1),!Yh.get(u))){var Gt,X,{anchor:oe}=we,[le,Ae]=ge.toDOMPoint(u,oe),_e=(Gt=le.parentElement)===null||Gt===void 0?void 0:Gt.closest("a"),ce=ge.getWindow(u);if(_t&&_e&&ge.hasDOMNode(u,_e)){var be,Ye=ce==null?void 0:ce.document.createTreeWalker(_e,NodeFilter.SHOW_TEXT).lastChild();Ye===le&&((be=Ye.textContent)===null||be===void 0?void 0:be.length)===Ae&&(_t=!1)}if(_t&&le.parentElement&&(ce==null||(X=ce.getComputedStyle(le.parentElement))===null||X===void 0?void 0:X.whiteSpace)==="pre"){var Xe=F.above(u,{at:oe.path,match:ae=>it.isElement(ae)&&F.isBlock(u,ae)});Xe&&Me.string(Xe[0]).includes("	")&&(_t=!1)}}if((!Ee.startsWith("delete")||Ee.startsWith("deleteBy"))&&!Yh.get(u)){var[Pe]=Z.getTargetRanges();if(Pe){var L=ge.toSlateRange(u,Pe,{exactMatch:!1,suppressThrow:!1});if(!we||!de.equals(we,L)){_t=!1;var B=!xt&&u.selection&&F.rangeRef(u,u.selection);Se.select(u,L),B&&Yg.set(u,B)}}}if(xt)return;if(_t||Z.preventDefault(),we&&de.isExpanded(we)&&Ee.startsWith("delete")){var U=Ee.endsWith("Backward")?"backward":"forward";F.deleteFragment(u,{direction:U});return}switch(Ee){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(u);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(u);break}case"deleteContentBackward":{F.deleteBackward(u);break}case"deleteEntireSoftLine":{F.deleteBackward(u,{unit:"line"}),F.deleteForward(u,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(u,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(u,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(u,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(u,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(u,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(u,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(u);break;case"insertParagraph":{F.insertBreak(u);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Ee==="insertFromComposition"&&ge.isComposing(u)&&(m(!1),hd.set(u,!1)),(tt==null?void 0:tt.constructor.name)==="DataTransfer"?ge.insertData(u,tt):typeof tt=="string"&&(_t?w.current.push(()=>F.insertText(u,tt)):F.insertText(u,tt));break}}var J=(xe=Yg.get(u))===null||xe===void 0?void 0:xe.unref();Yg.delete(u),J&&(!u.selection||!de.equals(u.selection,J))&&Se.select(u,J)}},[u,O,P,a,l,I]),G=C.useCallback(Z=>{Z==null?(O.cancel(),I.cancel(),pb.delete(u),Od.delete(u),v.current&&iu&&v.current.removeEventListener("beforeinput",M)):iu&&Z.addEventListener("beforeinput",M),v.current=Z,typeof e=="function"?e(Z):e&&(e.current=Z)},[O,I,u,M,e]);xy(()=>{var Z=ge.getWindow(u);Z.document.addEventListener("selectionchange",I);var z=()=>{R.isDraggingInternally=!1};return Z.document.addEventListener("dragend",z),Z.document.addEventListener("drop",z),()=>{Z.document.removeEventListener("selectionchange",I),Z.document.removeEventListener("dragend",z),Z.document.removeEventListener("drop",z)}},[I,R]);var j=s([u,[]]),$=o&&u.children.length===1&&Array.from(Me.texts(u)).length===1&&Me.string(u)===""&&!h,H=C.useCallback(Z=>{if(Z&&$){var z;S((z=Z.getBoundingClientRect())===null||z===void 0?void 0:z.height)}else S(void 0)},[$]);if($){var K=F.start(u,[]);j.push({[Dp]:!0,placeholder:o,onPlaceholderResize:H,anchor:K,focus:K})}var{marks:re}=u;if(R.hasMarkPlaceholder=!1,u.selection&&de.isCollapsed(u.selection)&&re){var{anchor:fe}=u.selection,ye=Me.leaf(u,fe.path),he=Pp(ye,R9e);if(!Qe.equals(ye,re,{loose:!0})){R.hasMarkPlaceholder=!0;var ue=Object.fromEntries(Object.keys(he).map(Z=>[Z,null]));j.push(lo(lo(lo({[hte]:!0},ue),re),{},{anchor:fe,focus:fe}))}}return C.useEffect(()=>{setTimeout(()=>{var{selection:Z}=u;if(Z){var{anchor:z}=Z,V=Me.leaf(u,z.path);if(re&&!Qe.equals(V,re,{loose:!0})){Ua.set(u,re);return}}Ua.delete(u)})}),q.createElement(Ate.Provider,{value:l},q.createElement(P9e.Provider,{value:h},q.createElement(Ete.Provider,{value:s},q.createElement(T9e,{node:v,receivedUserInput:T},q.createElement(y,lo(lo({role:l?void 0:"textbox","aria-multiline":l?void 0:!0},_),{},{spellCheck:iu||!hb?_.spellCheck:!1,autoCorrect:iu||!hb?_.autoCorrect:"false",autoCapitalize:iu||!hb?_.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:G,style:lo(lo({},b?{}:lo({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},x?{minHeight:x}:{})),g),onBeforeInput:C.useCallback(Z=>{if(!iu&&!l&&!Ai(Z,_.onBeforeInput)&&ge.hasSelectableTarget(u,Z.target)&&(Z.preventDefault(),!ge.isComposing(u))){var z=Z.data;F.insertText(u,z)}},[_.onBeforeInput,u,l]),onInput:C.useCallback(Z=>{if(!Ai(Z,_.onInput)){if(D.current){D.current.handleInput();return}for(var z of w.current)z();if(w.current=[],!ge.isFocused(u)){var V=Z.nativeEvent,Y=u;if(V.inputType==="historyUndo"&&typeof Y.undo=="function"){Y.undo();return}if(V.inputType==="historyRedo"&&typeof Y.redo=="function"){Y.redo();return}}}},[_.onInput,u]),onBlur:C.useCallback(Z=>{if(!(l||R.isUpdatingSelection||!ge.hasSelectableTarget(u,Z.target)||Ai(Z,_.onBlur))){var z=ge.findDocumentOrShadowRoot(u);if(R.latestElement!==z.activeElement){var{relatedTarget:V}=Z,Y=ge.toDOMNode(u,u);if(V!==Y&&!(ta(V)&&V.hasAttribute("data-slate-spacer"))){if(V!=null&&hc(V)&&ge.hasDOMNode(u,V)){var ne=ge.toSlateNode(u,V);if(it.isElement(ne)&&!u.isVoid(ne))return}if(Jc){var ie=qg(z);ie==null||ie.removeAllRanges()}Bu.delete(u)}}}},[l,R.isUpdatingSelection,R.latestElement,u,_.onBlur]),onClick:C.useCallback(Z=>{if(ge.hasTarget(u,Z.target)&&!Ai(Z,_.onClick)&&hc(Z.target)){var z=ge.toSlateNode(u,Z.target),V=ge.findPath(u,z);if(!F.hasPath(u,V)||Me.get(u,V)!==z)return;if(Z.detail===w9e&&V.length>=1){var Y=V;if(!(it.isElement(z)&&F.isBlock(u,z))){var ne,ie=F.above(u,{match:_t=>it.isElement(_t)&&F.isBlock(u,_t),at:V});Y=(ne=ie==null?void 0:ie[1])!==null&&ne!==void 0?ne:V.slice(0,1)}var me=F.range(u,Y);Se.select(u,me);return}if(l)return;var xe=F.start(u,V),we=F.end(u,V),Ee=F.void(u,{at:xe}),tt=F.void(u,{at:we});if(Ee&&tt&&te.equals(Ee[1],tt[1])){var xt=F.range(u,xe);Se.select(u,xt)}}},[u,_.onClick,l]),onCompositionEnd:C.useCallback(Z=>{if(ge.hasSelectableTarget(u,Z.target)){var z;if(ge.isComposing(u)&&Promise.resolve().then(()=>{m(!1),hd.set(u,!1)}),(z=D.current)===null||z===void 0||z.handleCompositionEnd(Z),Ai(Z,_.onCompositionEnd)||Oi)return;if(!Jc&&!S7e&&!ute&&!A7e&&!C7e&&Z.data){var V=Ua.get(u);Ua.delete(u),V!==void 0&&(ml.set(u,u.marks),u.marks=V),F.insertText(u,Z.data);var Y=ml.get(u);ml.delete(u),Y!==void 0&&(u.marks=Y)}}},[_.onCompositionEnd,u]),onCompositionUpdate:C.useCallback(Z=>{ge.hasSelectableTarget(u,Z.target)&&!Ai(Z,_.onCompositionUpdate)&&(ge.isComposing(u)||(m(!0),hd.set(u,!0)))},[_.onCompositionUpdate,u]),onCompositionStart:C.useCallback(Z=>{if(ge.hasSelectableTarget(u,Z.target)){var z;if((z=D.current)===null||z===void 0||z.handleCompositionStart(Z),Ai(Z,_.onCompositionStart)||Oi)return;m(!0);var{selection:V}=u;if(V&&de.isExpanded(V)){F.deleteFragment(u);return}}},[_.onCompositionStart,u]),onCopy:C.useCallback(Z=>{ge.hasSelectableTarget(u,Z.target)&&!Ai(Z,_.onCopy)&&!dj(Z)&&(Z.preventDefault(),ge.setFragmentData(u,Z.clipboardData,"copy"))},[_.onCopy,u]),onCut:C.useCallback(Z=>{if(!l&&ge.hasSelectableTarget(u,Z.target)&&!Ai(Z,_.onCut)&&!dj(Z)){Z.preventDefault(),ge.setFragmentData(u,Z.clipboardData,"cut");var{selection:z}=u;if(z)if(de.isExpanded(z))F.deleteFragment(u);else{var V=Me.parent(u,z.anchor.path);F.isVoid(u,V)&&Se.delete(u)}}},[l,u,_.onCut]),onDragOver:C.useCallback(Z=>{if(ge.hasTarget(u,Z.target)&&!Ai(Z,_.onDragOver)){var z=ge.toSlateNode(u,Z.target);it.isElement(z)&&F.isVoid(u,z)&&Z.preventDefault()}},[_.onDragOver,u]),onDragStart:C.useCallback(Z=>{if(!l&&ge.hasTarget(u,Z.target)&&!Ai(Z,_.onDragStart)){var z=ge.toSlateNode(u,Z.target),V=ge.findPath(u,z),Y=it.isElement(z)&&F.isVoid(u,z)||F.void(u,{at:V,voids:!0});if(Y){var ne=F.range(u,V);Se.select(u,ne)}R.isDraggingInternally=!0,ge.setFragmentData(u,Z.dataTransfer,"drag")}},[l,u,_.onDragStart,R]),onDrop:C.useCallback(Z=>{if(!l&&ge.hasTarget(u,Z.target)&&!Ai(Z,_.onDrop)){Z.preventDefault();var z=u.selection,V=ge.findEventRange(u,Z),Y=Z.dataTransfer;Se.select(u,V),R.isDraggingInternally&&z&&!de.equals(z,V)&&!F.void(u,{at:V,voids:!0})&&Se.delete(u,{at:z}),ge.insertData(u,Y),ge.isFocused(u)||ge.focus(u)}},[l,u,_.onDrop,R]),onDragEnd:C.useCallback(Z=>{!l&&R.isDraggingInternally&&_.onDragEnd&&ge.hasTarget(u,Z.target)&&_.onDragEnd(Z)},[l,R,_,u]),onFocus:C.useCallback(Z=>{if(!l&&!R.isUpdatingSelection&&ge.hasEditableTarget(u,Z.target)&&!Ai(Z,_.onFocus)){var z=ge.toDOMNode(u,u),V=ge.findDocumentOrShadowRoot(u);if(R.latestElement=V.activeElement,Eh&&Z.target!==z){z.focus();return}Bu.set(u,!0)}},[l,R,u,_.onFocus]),onKeyDown:C.useCallback(Z=>{if(!l&&ge.hasEditableTarget(u,Z.target)){var z;(z=D.current)===null||z===void 0||z.handleKeyDown(Z);var{nativeEvent:V}=Z;if(ge.isComposing(u)&&V.isComposing===!1&&(hd.set(u,!1),m(!1)),Ai(Z,_.onKeyDown)||ge.isComposing(u))return;var{selection:Y}=u,ne=u.children[Y!==null?Y.focus.path[0]:0],ie=ete(Me.string(ne))==="rtl";if(Xr.isRedo(V)){Z.preventDefault();var me=u;typeof me.redo=="function"&&me.redo();return}if(Xr.isUndo(V)){Z.preventDefault();var xe=u;typeof xe.undo=="function"&&xe.undo();return}if(Xr.isMoveLineBackward(V)){Z.preventDefault(),Se.move(u,{unit:"line",reverse:!0});return}if(Xr.isMoveLineForward(V)){Z.preventDefault(),Se.move(u,{unit:"line"});return}if(Xr.isExtendLineBackward(V)){Z.preventDefault(),Se.move(u,{unit:"line",edge:"focus",reverse:!0});return}if(Xr.isExtendLineForward(V)){Z.preventDefault(),Se.move(u,{unit:"line",edge:"focus"});return}if(Xr.isMoveBackward(V)){Z.preventDefault(),Y&&de.isCollapsed(Y)?Se.move(u,{reverse:!ie}):Se.collapse(u,{edge:ie?"end":"start"});return}if(Xr.isMoveForward(V)){Z.preventDefault(),Y&&de.isCollapsed(Y)?Se.move(u,{reverse:ie}):Se.collapse(u,{edge:ie?"start":"end"});return}if(Xr.isMoveWordBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)&&Se.collapse(u,{edge:"focus"}),Se.move(u,{unit:"word",reverse:!ie});return}if(Xr.isMoveWordForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)&&Se.collapse(u,{edge:"focus"}),Se.move(u,{unit:"word",reverse:ie});return}if(iu){if((cte||Jc)&&Y&&(Xr.isDeleteBackward(V)||Xr.isDeleteForward(V))&&de.isCollapsed(Y)){var we=Me.parent(u,Y.anchor.path);if(it.isElement(we)&&F.isVoid(u,we)&&(F.isInline(u,we)||F.isBlock(u,we))){Z.preventDefault(),F.deleteBackward(u,{unit:"block"});return}}}else{if(Xr.isBold(V)||Xr.isItalic(V)||Xr.isTransposeCharacter(V)){Z.preventDefault();return}if(Xr.isSoftBreak(V)){Z.preventDefault(),F.insertSoftBreak(u);return}if(Xr.isSplitBlock(V)){Z.preventDefault(),F.insertBreak(u);return}if(Xr.isDeleteBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"backward"}):F.deleteBackward(u);return}if(Xr.isDeleteForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"forward"}):F.deleteForward(u);return}if(Xr.isDeleteLineBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"backward"}):F.deleteBackward(u,{unit:"line"});return}if(Xr.isDeleteLineForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"forward"}):F.deleteForward(u,{unit:"line"});return}if(Xr.isDeleteWordBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"backward"}):F.deleteBackward(u,{unit:"word"});return}if(Xr.isDeleteWordForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"forward"}):F.deleteForward(u,{unit:"word"});return}}}},[l,u,_.onKeyDown]),onPaste:C.useCallback(Z=>{!l&&ge.hasEditableTarget(u,Z.target)&&!Ai(Z,_.onPaste)&&(!iu||D7e(Z.nativeEvent)||Jc)&&(Z.preventDefault(),ge.insertData(u,Z.clipboardData))},[l,u,_.onPaste])}),q.createElement(O9e,{decorations:j,node:u,renderElement:c,renderPlaceholder:f,renderLeaf:d,selection:u.selection}))))))}),B9e=t=>{var{attributes:e,children:r}=t;return q.createElement("span",lo({},e),r,Oi&&q.createElement("br",null))},F9e=()=>[],M9e=(t,e)=>{if(e.getBoundingClientRect&&(!t.selection||t.selection&&de.isCollapsed(t.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),qze(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Ai=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.isDefaultPrevented()||t.isPropagationStopped()},dj=t=>hc(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement),k9e=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.defaultPrevented},Rte=C.createContext(!1),N9e=()=>C.useContext(Rte),L9e=C.createContext({});function U9e(t){var e=C.useRef([]).current,r=C.useRef({editor:t}).current,n=C.useCallback(a=>{r.editor=a,e.forEach(o=>o(a))},[e,r]),s=C.useMemo(()=>({getSlate:()=>r.editor,addEventListener:a=>(e.push(a),()=>{e.splice(e.indexOf(a),1)})}),[e,r]);return{selectorContext:s,onChange:n}}var $9e=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],j9e=t=>{var{editor:e,children:r,onChange:n,onSelectionChange:s,onValueChange:a,initialValue:o}=t,l=Pp(t,$9e),[c,d]=q.useState(()=>{if(!Me.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Wn.stringify(o)));if(!F.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Wn.stringify(e)));return e.children=o,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:f,onChange:p}=U9e(e),g=C.useCallback(_=>{var u;switch(n&&n(e.children),_==null||(u=_.operation)===null||u===void 0?void 0:u.type){case"set_selection":s==null||s(e.selection);break;default:a==null||a(e.children)}d(h=>({v:h.v+1,editor:e})),p(e)},[e,p,n,s,a]);C.useEffect(()=>(XR.set(e,g),()=>{XR.set(e,()=>{})}),[e,g]);var[y,b]=C.useState(ge.isFocused(e));return C.useEffect(()=>{b(ge.isFocused(e))},[e]),xy(()=>{var _=()=>b(ge.isFocused(e));return lte>=17?(document.addEventListener("focusin",_),document.addEventListener("focusout",_),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",_)}):(document.addEventListener("focus",_,!0),document.addEventListener("blur",_,!0),()=>{document.removeEventListener("focus",_,!0),document.removeEventListener("blur",_,!0)})},[]),q.createElement(L9e.Provider,{value:f},q.createElement(Tte.Provider,{value:c},q.createElement(JM.Provider,{value:c.editor},q.createElement(Rte.Provider,{value:y},r))))},fj=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},hj=(t,e,r)=>{var n=ge.toDOMRange(t,e).getBoundingClientRect(),s=ge.toDOMRange(t,r).getBoundingClientRect();return fj(n,s)&&fj(s,n)},z9e=(t,e)=>{var r=F.range(t,de.end(e)),n=Array.from(F.positions(t,{at:e})),s=0,a=n.length,o=Math.floor(a/2);if(hj(t,F.range(t,n[s]),r))return F.range(t,n[s],r);if(n.length<2)return F.range(t,n[n.length-1],r);for(;o!==n.length&&o!==s;)hj(t,F.range(t,n[o]),r)?a=o:s=o,o=Math.floor((s+a)/2);return F.range(t,n[a],r)};function pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var V9e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:s,onChange:a,deleteBackward:o,addMark:l,removeMark:c}=n;return jS.set(n,new WeakMap),n.addMark=(d,f)=>{var p,g;(p=tk.get(n))===null||p===void 0||p(),!Ua.get(n)&&(g=Ki.get(n))!==null&&g!==void 0&&g.length&&Ua.set(n,null),ml.delete(n),l(d,f)},n.removeMark=d=>{var f;!Ua.get(n)&&(f=Ki.get(n))!==null&&f!==void 0&&f.length&&Ua.set(n,null),ml.delete(n),c(d)},n.deleteBackward=d=>{if(d!=="line")return o(d);if(n.selection&&de.isCollapsed(n.selection)){var f=F.above(n,{match:b=>it.isElement(b)&&F.isBlock(n,b),at:n.selection});if(f){var[,p]=f,g=F.range(n,p,n.selection.anchor),y=z9e(n,g);de.isCollapsed(y)||Se.delete(n,{at:y})}}},n.apply=d=>{var f=[],p=[],g=Ki.get(n);if(g!=null&&g.length){var y=g.map(I=>G7e(I,d)).filter(Boolean);Ki.set(n,y)}var b=gu.get(n);b&&gu.set(n,rj(n,b,d));var _=mu.get(n);if(_!=null&&_.at){var u=zt.isPoint(_==null?void 0:_.at)?ZR(n,_.at,d):rj(n,_.at,d);mu.set(n,u?mj(mj({},_),{},{at:u}):null)}switch(d.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{f.push(...Vf(n,d.path));break}case"set_selection":{var h;(h=Yg.get(n))===null||h===void 0||h.unref(),Yg.delete(n);break}case"insert_node":case"remove_node":{f.push(...Vf(n,te.parent(d.path)));break}case"merge_node":{var m=te.previous(d.path);f.push(...Vf(n,m));break}case"move_node":{var v=te.common(te.parent(d.path),te.parent(d.newPath));f.push(...Vf(n,v));var w;te.isBefore(d.path,d.newPath)?(f.push(...Vf(n,te.parent(d.path))),w=d.newPath):(f.push(...Vf(n,te.parent(d.newPath))),w=d.path);var x=Me.get(e,te.parent(w)),S=ge.findKey(n,x),E=F.pathRef(n,te.parent(w));p.push([E,S]);break}}switch(s(d),d.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":Yh.set(n,!0)}for(var[P,T]of f){var[A]=F.node(n,P);Ox.set(A,T)}for(var[R,D]of p){if(R.current){var[O]=F.node(n,R.current);Ox.set(O,D)}R.unref()}},n.setFragmentData=d=>{var{selection:f}=n;if(f){var[p,g]=de.edges(f),y=F.void(n,{at:p.path}),b=F.void(n,{at:g.path});if(!(de.isCollapsed(f)&&!y)){var _=ge.toDOMRange(n,f),u=_.cloneContents(),h=u.childNodes[0];if(u.childNodes.forEach(A=>{A.textContent&&A.textContent.trim()!==""&&(h=A)}),b){var[m]=b,v=_.cloneRange(),w=ge.toDOMNode(n,m);v.setEndAfter(w),u=v.cloneContents()}if(y&&(h=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach(A=>{var R=A.getAttribute("data-slate-zero-width")==="n";A.textContent=R?"\n":""}),mte(h)){var x=h.ownerDocument.createElement("span");x.style.whiteSpace="pre",x.appendChild(h),u.appendChild(x),h=x}var S=n.getFragment(),E=JSON.stringify(S),P=window.btoa(encodeURIComponent(E));h.setAttribute("data-slate-fragment",P),d.setData("application/".concat(r),P);var T=u.ownerDocument.createElement("div");return T.appendChild(u),T.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(T),d.setData("text/html",T.innerHTML),d.setData("text/plain",vte(T)),u.ownerDocument.body.removeChild(T),d}}},n.insertData=d=>{n.insertFragmentData(d)||n.insertTextData(d)},n.insertFragmentData=d=>{var f=d.getData("application/".concat(r))||F7e(d);if(f){var p=decodeURIComponent(window.atob(f)),g=JSON.parse(p);return n.insertFragment(g),!0}return!1},n.insertTextData=d=>{var f=d.getData("text/plain");if(f){var p=f.split(/\r\n|\r|\n/),g=!1;for(var y of p)g&&Se.splitNodes(n,{always:!0}),n.insertText(y),g=!0;return!0}return!1},n.onChange=d=>{var f=lte<18?eI.unstable_batchedUpdates:p=>p();f(()=>{var p=XR.get(n);p&&p(d),a(d)})},n},Vf=(t,e)=>{var r=[];for(var[n,s]of F.levels(t,{at:e})){var a=ge.findKey(t,n);r.push([s,a])}return r},G9e=(t,e)=>{e&&Rc(t,()=>{iFe(t),CM(t,e)}),ge.focus(t)},H9e=t=>ge.isComposing(t),W9e=t=>ge.isFocused(t),K9e=(t,{edge:e="start"}={})=>{const r=e==="start"?zQ(t,[]):AM(t,[]);G9e(t,r)},X9e=jM,Y9e=lm,q9e=OS,gj=Ns,Z9e=MS;function J9e(t,e,r,n){if(!gj(t))return t;e=Y9e(e,t);for(var s=-1,a=e.length,o=a-1,l=t;l!=null&&++s<a;){var c=Z9e(e[s]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=o){var f=l[c];d=n?n(f,c,l):void 0,d===void 0&&(d=gj(f)?f:q9e(e[s+1])?[]:{})}X9e(l,c,d),l=l[c]}return t}var Q9e=J9e,eVe=Iee,tVe=Q9e,rVe=lm;function nVe(t,e,r){for(var n=-1,s=e.length,a={};++n<s;){var o=e[n],l=eVe(t,o);r(l,o)&&tVe(a,rVe(o,t),l)}return a}var iVe=nVe,sVe=iVe,aVe=F8e;function oVe(t,e){return sVe(t,e,function(r,n){return aVe(t,n)})}var lVe=oVe,vj=tm,uVe=PS,cVe=Ja,yj=vj?vj.isConcatSpreadable:void 0;function dVe(t){return cVe(t)||uVe(t)||!!(yj&&t&&t[yj])}var fVe=dVe,hVe=HM,pVe=fVe;function Ote(t,e,r,n,s){var a=-1,o=t.length;for(r||(r=pVe),s||(s=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?Ote(l,e-1,r,n,s):hVe(s,l):n||(s[s.length]=l)}return s}var mVe=Ote,gVe=mVe;function vVe(t){var e=t==null?0:t.length;return e?gVe(t,1):[]}var yVe=vVe,_Ve=yVe,bVe=hee,wVe=pee;function xVe(t){return wVe(bVe(t,void 0,_Ve),t+"")}var Ite=xVe,EVe=lVe,SVe=Ite,CVe=SVe(function(t,e){return t==null?{}:EVe(t,e)}),AVe=CVe;const TVe=ui(AVe);function PVe(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var DVe=PVe,RVe=Iee,OVe=DVe;function IVe(t,e){return e.length<2?t:RVe(t,OVe(e,0,-1))}var BVe=IVe,FVe=lm,MVe=k8e,kVe=BVe,NVe=MS;function LVe(t,e){return e=FVe(e,t),t=kVe(t,e),t==null||delete t[NVe(MVe(e))]}var UVe=LVe,$Ve=oee;function jVe(t){return $Ve(t)?void 0:t}var zVe=jVe,VVe=Eee,GVe=Kee,HVe=UVe,WVe=lm,KVe=am,XVe=zVe,YVe=Ite,qVe=Vee,ZVe=1,JVe=2,QVe=4,eGe=YVe(function(t,e){var r={};if(t==null)return r;var n=!1;e=VVe(e,function(a){return a=WVe(a,t),n||(n=a.length>1),a}),KVe(t,qVe(t),r),n&&(r=GVe(r,ZVe|JVe|QVe,XVe));for(var s=e.length;s--;)HVe(r,e[s]);return r}),tGe=eGe;const rGe=ui(tGe);var _j=Object.prototype.hasOwnProperty;function bj(t,e,r){for(r of t.keys())if(Zg(r,e))return r}function Zg(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&Zg(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=bj(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=bj(e,s),!s)||!Zg(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(_j.call(t,r)&&++n&&!_j.call(e,r)||!(r in e)||!Zg(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function nGe(t){const e=q.useRef(t),r=q.useRef(0);return Zg(t,e.current)||(e.current=t,r.current+=1),q.useMemo(()=>e.current,[r.current])}function wj(t,e){return q.useMemo(t,nGe(e))}globalThis&&globalThis.__rest;const Nl=t=>t,sk=t=>({_tag:"Left",value:t}),zS=t=>({_tag:"Right",value:t}),iGe=(t,e,r)=>r._tag==="Left"?t(r.value):e(r.value),Bte={dimap:(t,e,r)=>n=>e(r(t(n))),first:t=>([e,r])=>[t(e),r],right:t=>e=>e._tag==="Left"?e:zS(t(e.value)),wander:t=>e=>e.map(t)},sGe={empty:()=>{},foldMap:(t,e)=>{for(let r=0;r<e.length;r++){const n=t(e[r]);if(n!=null)return n}}},aGe={empty:()=>[],foldMap:(t,e)=>{let r=[];return e.forEach(n=>{r=r.concat(t(n))}),r}},ak=t=>({dimap:(e,r,n)=>s=>n(e(s)),first:e=>([r,n])=>e(r),right:e=>r=>r._tag==="Left"?t.empty():e(r.value),wander:e=>r=>t.foldMap(e,r)}),zT={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},cm=(t,e)=>{const r=e;return r._tag=t,r},Fte=t=>(t._removable=!0,t);function or(t,e,r){switch(arguments.length){case 2:{const n=(s,a)=>t(s,e(s,a));return n._tag=zT[t._tag][e._tag],n._removable=e._removable||!1,n}default:{const n=zT[t._tag][e._tag],s=(a,o)=>t(a,e(a,r(a,o)));return s._tag=zT[n][r._tag],s._removable=r._removable||!1,s}}}const oGe=cm("Equivalence",(t,e)=>e),VS=(t,e)=>cm("Iso",(r,n)=>r.dimap(t,e,n)),Ls=(t,e)=>cm("Lens",(r,n)=>r.dimap(s=>[t(s),s],e,r.first(n))),ok=(t,e)=>cm("Prism",(r,n)=>r.dimap(t,s=>iGe(Nl,e,s),r.right(n))),lk=cm("Traversal",(t,e)=>t.dimap(Nl,Nl,t.wander(e))),lGe=t=>cm("Getter",(e,r)=>e.dimap(t,Nl,r)),Mte=(t,e,r)=>t(Bte,e)(r),uGe=(t,e,r)=>t(Bte,()=>e)(r),cGe=(t,e)=>t(ak({}),Nl)(e),dGe=(t,e)=>t(ak(sGe),Nl)(e),kte=(t,e)=>t(ak(aGe),r=>[r])(e),fGe=VS(t=>t.map((e,r)=>[r,e]),t=>{const e=[...t].sort((n,s)=>n[0]-s[0]),r=[];for(let n=0;n<e.length;++n)(n===e.length-1||e[n][0]!==e[n+1][0])&&r.push(e[n][1]);return r}),xj=t=>Ls(e=>e[t],([e,r])=>Object.assign(Object.assign({},r),{[t]:e})),hGe=t=>Ls(e=>{const r={};for(const n of t)r[n]=e[n];return r},([e,r])=>{const n=Object.assign({},r);for(const s of t)delete n[s];return Object.assign(n,e)}),Nte=t=>Ls(e=>e[t],([e,r])=>{const n=r.slice();return n[t]=e,n}),uk=Nte(0),ck=t=>ok(e=>t(e)?zS(e):sk(e),Nl),Ey=Symbol("__no_match__"),Lte=ck(t=>t!==Ey),Ute=Symbol("__remove_me__"),VT=t=>Fte(or(Ls(e=>0<=t&&t<e.length?e[t]:Ey,([e,r])=>{if(e===Ey)return r;if(e===Ute)return typeof r=="string"?r.substring(0,t)+r.substring(t+1):[...r.slice(0,t),...r.slice(t+1)];if(typeof r=="string")return t===0?e+r.substring(1):t===r.length?r.substring(0,t-1)+e:r.substring(0,t)+e+r.substring(t+1);{const n=r.slice();return n[t]=e,n}}),Lte)),pGe=ok(t=>t===void 0?sk(void 0):zS(t),Nl),mGe=t=>ok(e=>t(e)?zS(e):sk(e),Nl),gGe=t=>Fte(or(Ls(e=>{const r=e.findIndex(t);return r===-1?[Ey,-1]:[e[r],r]},([[e,r],n])=>{if(e===Ey)return n;if(e===Ute)return[...n.slice(0,r),...n.slice(r+1)];const s=n.slice();return s[r]=e,s}),uk,Lte)),vGe=t=>or(Ls(e=>{const r=e.map((n,s)=>t(n)?s:null).filter(n=>n!=null);return[r.map(n=>e[n]),r]},([[e,r],n])=>{const s=n.length,a=e.length;let o=0,l=0,c=0;const d=[];for(;o<s;)r[l]===o?(++l,c<a&&(d.push(e[c]),++c)):d.push(n[o]),++o;for(;c<a;)d.push(e[c++]);return d}),uk),yGe=t=>Ls(e=>e===void 0?t:e,([e,r])=>e),_Ge=t=>or(Ls(e=>{const r=kte(t,e);return[r,r.length]},([[e,r],n])=>{if(e.length!==r)throw new Error("cannot add/remove elements through partsOf");let s=0;return Mte(t,()=>e[s++],n)}),uk),bGe=t=>Ls(e=>t(e),([e,r])=>e),wGe=t=>Ls(e=>e,([e,r])=>t(e)),xGe=Ls(t=>{},([t,e])=>t===void 0?e:[t,...e]),EGe=Ls(t=>{},([t,e])=>t===void 0?e:[...e,t]),SGe=or(VS(t=>t.split(""),t=>t.join("")),lk),CGe=or(VS(t=>t.split(/\b/),t=>t.join("")),lk,ck(t=>!/\s+/.test(t)));class vr{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new vr(or(this._ref,e._ref))}iso(e,r){return new vr(or(this._ref,VS(e,r)))}lens(e,r){return new vr(or(this._ref,Ls(e,([n,s])=>r(s,n))))}indexed(){return new vr(or(this._ref,fGe))}prop(e){return new vr(or(this._ref,xj(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new vr(e.reduce((r,n)=>or(r,xj(n)),this._ref))}pick(e){return new vr(or(this._ref,hGe(e)))}nth(e){return new vr(or(this._ref,Nte(e)))}filter(e){return new vr(or(this._ref,vGe(e)))}valueOr(e){return new vr(or(this._ref,yGe(e)))}partsOf(e){const r=typeof e=="function"?e($te):e;return new vr(or(this._ref,_Ge(r._ref)))}reread(e){return new vr(or(this._ref,bGe(e)))}rewrite(e){return new vr(or(this._ref,wGe(e)))}optional(){return new vr(or(this._ref,pGe))}guard_(){return e=>this.guard(e)}guard(e){return new vr(or(this._ref,mGe(e)))}at(e){return new vr(or(this._ref,VT(e)))}head(){return new vr(or(this._ref,VT(0)))}index(e){return new vr(or(this._ref,VT(e)))}find(e){return new vr(or(this._ref,gGe(e)))}elems(){return new vr(or(this._ref,lk))}to(e){return new vr(or(this._ref,lGe(e)))}when(e){return new vr(or(this._ref,ck(e)))}chars(){return new vr(or(this._ref,SGe))}words(){return new vr(or(this._ref,CGe))}prependTo(){return new vr(or(this._ref,xGe))}appendTo(){return new vr(or(this._ref,EGe))}}const $te=new vr(oGe);function AGe(){return $te}function TGe(t){return e=>cGe(t._ref,e)}function PGe(t){return e=>dGe(t._ref,e)}function DGe(t){return e=>kte(t._ref,e)}function RGe(t){return e=>r=>Mte(t._ref,e,r)}function OGe(t){return e=>r=>uGe(t._ref,e,r)}const Ej=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),IGe=new WeakMap,BGe=(t,e,r)=>{const n=Ej(()=>new WeakMap,IGe,e);return Ej(t,n,r)},FGe=t=>typeof t=="function";function MGe(t,e){return BGe(()=>{const r=e(AGe());return Ro(s=>{const a=s(t);return a instanceof Promise?a.then(o=>Sj(r,o)):Sj(r,a)},(s,a,o)=>{const l=FGe(o)?RGe(r)(o):OGe(r)(o),c=s(t);return a(t,c instanceof Promise?c.then(l):l(c))})},t,e)}const Sj=(t,e)=>t._tag==="Traversal"?DGe(t)(e):t._tag==="Prism"?PGe(t)(e):TGe(t)(e);var kGe=Object.defineProperty,NGe=Object.defineProperties,LGe=Object.getOwnPropertyDescriptors,Ix=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,Cj=(t,e,r)=>e in t?kGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Le=(t,e)=>{for(var r in e||(e={}))jte.call(e,r)&&Cj(t,r,e[r]);if(Ix)for(var r of Ix(e))zte.call(e,r)&&Cj(t,r,e[r]);return t},Zt=(t,e)=>NGe(t,LGe(e)),Qa=(t,e)=>{var r={};for(var n in t)jte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ix)for(var n of Ix(t))e.indexOf(n)<0&&zte.call(t,n)&&(r[n]=t[n]);return r};function Vte(t){var e=t,{attributes:r,children:n,editor:s,leaf:a,nodeProps:o,text:l}=e,c=Qa(e,["attributes","children","editor","leaf","nodeProps","text"]);return q.createElement("span",Le(Le({},r),c),n)}var UGe=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:WQe,plateControllerStore:mb,usePlateControllerStore:dk}=_M({activeId:Ro(null),editorStores:Ro({}),primaryEditorIds:Ro([])},{name:"plateController"}),$Ge=()=>dk().get,GT=()=>dk().set,jGe=()=>!!dk().store({warnIfNoStore:!1}),zGe=t=>{const e=q.useMemo(()=>Ro(r=>{const n=r(mb.atom.editorStores),s=o=>{var l;return o&&(l=n[o])!=null?l:null};if(t)return s(t);const a=[r(mb.atom.activeId),...r(mb.atom.primaryEditorIds)];for(const o of a){const l=s(o);if(l)return l}return null}),[t]);return $Ge().atom(e)},VGe=(t={})=>{var e=t,{id:r,decorate:n=null,editor:s,isMounted:a=!1,primary:o=!0,readOnly:l=null,renderElement:c=null,renderLeaf:d=null,versionDecorate:f=1,versionEditor:p=1,versionSelection:g=1,versionValue:y=1,onChange:b=null,onSelectionChange:_=null,onValueChange:u=null}=e,h=Qa(e,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return _M(Le({decorate:n,editor:s,isMounted:a,primary:o,readOnly:l,renderElement:c,renderLeaf:d,versionDecorate:f,versionEditor:p,versionSelection:g,versionValue:y,onChange:b,onSelectionChange:_,onValueChange:u},h),{extend:m=>({trackedEditor:Ro(v=>({editor:v(m.editor),version:v(m.versionEditor)})),trackedSelection:Ro(v=>({selection:v(m.editor).selection,version:v(m.versionSelection)})),trackedValue:Ro(v=>({value:v(m.editor).children,version:v(m.versionValue)}))}),name:"plate"})},{PlateProvider:GGe,plateStore:KQe,usePlateStore:S_}=VGe(),Gte=(t,{debugHookName:e="usePlateEditorStore"}={})=>{var r;const n=(r=S_(t).store({warnIfNoStore:!1}))!=null?r:null,[s]=q.useState(!!n),a=s?n:zGe(t),o=jGe(),l=q.useMemo(()=>BR(),[]);if(!a){if(o)return l;throw new Error("".concat(e," must be used inside a Plate or PlateController"))}return a},Xu=(t,e)=>{const r=Gte(t,Le({debugHookName:"usePlateSelectors"},e));return S_({store:r}).get},Hte=(t,e)=>{const r=Gte(t,Le({debugHookName:"usePlateActions"},e));return S_({store:r}).set},QR=(t,e,r={})=>{const n=q.useRef(1),s=Hte(e,Le({debugHookName:"useIncrementVersion"},r))[t]();return q.useCallback(()=>{const a=n.current+1;s(a),n.current=a},[s])},HGe=(t,e={})=>{const r=QR("versionDecorate",t,Le({debugHookName:"useRedecorate"},e));return q.useCallback(()=>{r()},[r])},WGe=()=>Xu(void 0,{debugHookName:"useEditorId"}).editor().id;function wl(t,...e){return yee({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return Le(Le({},r),n)})}function Gf(t){return typeof t=="function"}function $r(t={}){var e;let r,n;Gf(t)?(r={key:""},n=o=>t(o)):r=t;const s=(e=r.key)!=null?e:"",a=wl({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return a.configure=o=>{const l=Le({},a);return l.__configuration=c=>Gf(o)?o(c):o,$r(l)},a.configurePlugin=(o,l)=>{const c=Le({},a),d=p=>{let g=!1;const y=p.map(b=>{if(b.key===o.key)return g=!0,$r(Zt(Le({},b),{__configuration:_=>Gf(l)?l(_):l}));if(b.plugins&&b.plugins.length>0){const _=d(b.plugins);if(_.found)return g=!0,Zt(Le({},b),{plugins:_.plugins})}return b});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,$r(c)},a.extendEditorApi=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1}],$r(l)},a.extendOptions=o=>{const l=Le({},a);return l.__optionExtensions=[...l.__optionExtensions,o],$r(l)},a.extendApi=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0}],$r(l)},a.extendEditorTransforms=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1,isTransform:!0}],$r(l)},a.extendTransforms=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0,isTransform:!0}],$r(l)},a.extend=o=>{let l=Le({},a);return Gf(o)?l.__extensions=[...l.__extensions,o]:l=wl(l,o),$r(l)},a.clone=()=>wl(a),a.extendPlugin=(o,l)=>{const c=Le({},a),d=p=>{let g=!1;const y=p.map(b=>{if(b.key===o.key)return g=!0,$r(Zt(Le({},b),{__extensions:[...b.__extensions,_=>Gf(l)?l(_):l]}));if(b.plugins&&b.plugins.length>0){const _=d(b.plugins);if(_.found)return g=!0,Zt(Le({},b),{plugins:_.plugins})}return b});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,f.found||c.plugins.push($r({key:o.key,__extensions:[p=>Gf(l)?l(p):l]})),$r(c)},a}function fk(t={}){return $r(t)}var Wte=({apply:t,node:e,path:r=[],query:n,source:s})=>{w_([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),HQ(e)&&e.children.forEach((o,l)=>{Wte({apply:t,node:o,path:r.concat([l]),query:n,source:s})})},Kte=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const a=(s=n.inject.plugins)==null?void 0:s[e.key];a&&r.push(a)}),[e,...r]},KGe=(t,e)=>{var r;const n=Object.values(t.plugins).find(s=>s.node.type===e);return(r=n==null?void 0:n.key)!=null?r:e},XGe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},YGe={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},qGe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Pr=t=>{const e=XGe[t],r=YGe[t],n=qGe[t],s=e&&Kh(e),a=r&&Kh(r),o=n&&Kh(n);return l=>!!(s!=null&&s(l)||px&&(a!=null&&a(l))||!px&&(o!=null&&o(l)))},ZGe={isBold:Pr("bold"),isCompose:Pr("compose"),isDeleteBackward:Pr("deleteBackward"),isDeleteForward:Pr("deleteForward"),isDeleteLineBackward:Pr("deleteLineBackward"),isDeleteLineForward:Pr("deleteLineForward"),isDeleteWordBackward:Pr("deleteWordBackward"),isDeleteWordForward:Pr("deleteWordForward"),isExtendBackward:Pr("extendBackward"),isExtendForward:Pr("extendForward"),isExtendLineBackward:Pr("extendLineBackward"),isExtendLineForward:Pr("extendLineForward"),isItalic:Pr("italic"),isMoveBackward:Pr("moveBackward"),isMoveForward:Pr("moveForward"),isMoveLineBackward:Pr("moveLineBackward"),isMoveLineForward:Pr("moveLineForward"),isMoveWordBackward:Pr("moveWordBackward"),isMoveWordForward:Pr("moveWordForward"),isRedo:Pr("redo"),isSoftBreak:Pr("insertSoftBreak"),isSplitBlock:Pr("splitBlock"),isTransposeCharacter:Pr("transposeCharacter"),isUndo:Pr("undo")},JGe=t=>{Wte(Zt(Le({},t),{apply:Ta}))};function Yn(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}var QGe=$r({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}}),eHe=$r({key:"dom"}),tHe=({editor:t})=>NQ(t),rHe=$r({key:"history",extendEditor:tHe}),nHe=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],a=[],o=[];return t.pluginList.forEach(l=>{l.node.isInline&&a.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&o.push(l.node.type)}),t.isInline=l=>a.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>o.includes(l.type)?!0:n(l),t},iHe=$r({key:"inlineVoid",extendEditor:nHe}),sHe=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const a=s.parser;if(!a)return!1;const o=Kte(t,s),{deserialize:l,format:c,mimeTypes:d}=a;if(!c)return!1;const f=Array.isArray(c)?c:[c],p=d||f.map(g=>g.includes("/")?g:"text/".concat(g));for(const g of p){let y=r.getData(g);if(!y||!zHe(t,o,{data:y,dataTransfer:r}))continue;y=HHe(t,o,{data:y,dataTransfer:r});let b=l==null?void 0:l(Zt(Le({},Yn(t,s)),{data:y,dataTransfer:r}));if(b!=null&&b.length&&(b=WHe(t,o,{data:y,dataTransfer:r,fragment:b}),b.length!==0))return VHe(t,o,{data:y,dataTransfer:r,fragment:b}),!0}return!1})||e(r)},t},aHe=$r({key:"parser",extendEditor:sHe}),oHe=class extends Error{constructor(e,r="DEFAULT"){super("[".concat(r,"] ").concat(e)),this.type=r,this.name="PlateError"}},lHe=fk({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,a,o)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new oHe(s,a);(c=(l=d.logger)[n])==null||c.call(l,s,a,o)}};return{debug:{error:(n,s,a)=>r("error",n,s,a),info:(n,s,a)=>r("info",n,s,a),log:(n,s,a)=>r("log",n,s,a),warn:(n,s,a)=>r("warn",n,s,a)}}}),uHe=(t,e)=>{NS(t,Le({at:[],nodes:t.api.create.value()},e))},cHe=t=>{uHe(t),t.history.undos=[],t.history.redos=[],t.operations=[]},dHe=(t,e,r)=>{var n;const{defaultType:s=t.getType(C_),type:a}=e,o=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!a||!o)return;const l=KQ(t,Zt(Le({},r),{match:{type:a}}));l&&a===s||t.setNodes({type:l?s:a},{at:o})},C_=$r({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),fHe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const a=()=>{kee(t)&&Nee(t)};return t.deleteBackward=o=>{r(o),a()},t.deleteForward=o=>{n(o),a()},t.deleteFragment=o=>{s(o),a()},t.apply=o=>{if(o.type==="set_selection"){const{properties:l}=o;t.prevSelection=l,e(o),t.currentKeyboardEvent=null;return}e(o)},t},Xte=fk({key:"slateNext",extendEditor:fHe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>Le({children:[{text:""}],type:t.getType(C_)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{cHe(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),NS(t,{at:[],nodes:r})},toggle:{block:Cp(dHe,t),mark:Cp(Lee,t)}})),GS=t=>t.nodeType===Node.ELEMENT_NODE,Yte=t=>t.nodeType===Node.TEXT_NODE,hHe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),hk=t=>{if(!GS(t))return!1;const e=t,r=hHe.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?hk(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},Aj=t=>GS(t)?!hk(t):!1,pHe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),mHe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&Aj(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||Aj(e))return!0;if((e.textContent||"").length>0)return!1}},gHe=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},Tj=t=>{t.inlineFormattingContext=null},vHe=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&gHe(e);const{whiteSpaceRule:s}=e,a=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),o=(()=>s==="normal"?"collapse":mHe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=pHe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:o,trimStart:a,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},yHe=(t,e)=>{if(GS(t)){Zte(t,e);return}if(Yte(t)){vHe(t,e);return}qte(t,e)},qte=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)yHe(n,e)},_He=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},Zte=(t,e)=>{const r=hk(t),n=e.whiteSpaceRule,s=_He(t);s&&(e.whiteSpaceRule=s),r||Tj(e),qte(t,e),r||Tj(e),e.whiteSpaceRule=n},bHe=t=>{const e=t.cloneNode(!0);return Zte(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},pk=(t,e)=>Array.from(e.childNodes).flatMap(Qte(t)),wHe=(t,e)=>{if(e.nodeName==="BODY")return um("fragment",{},pk(t,e))},xHe=t=>{if(t.nodeName==="BR")return"\n"},Jte=(t,e,{deserializeLeaf:r,element:n})=>{var s,a;const{node:{isElement:o,isLeaf:l,type:c},parsers:d}=e,f=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!f)return;const{attributeNames:p,isElement:g,isLeaf:y,query:b,rules:_}=f;let{parse:u}=f;const h=g||o,m=y||l;if(!r&&!h||r&&!m||_&&!_.some(({validAttribute:S,validClassName:E,validNodeName:P="*",validStyle:T})=>{var A;if(P){const R=Ku(P);if(R.length>0&&!R.includes(n.nodeName)&&P!=="*")return!1}if(E&&!n.classList.contains(E))return!1;if(T)for(const[R,D]of Object.entries(T)){if(!Ku(D).includes(n.style[R])&&D!=="*"||D==="*"&&!n.style[R])return;const I=(A=e.inject.nodeProps)==null?void 0:A.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,D]of Object.entries(S)){const O=Ku(D),I=n.getAttribute(R);if(!vf(I)||!O.includes(I))return!1}return!0})||b&&!b(Zt(Le({},Yn(t,e)),{element:n})))return;if(!u)if(h)u=()=>({type:c});else if(m)u=()=>({[c]:!0});else return;let v=(a=u(Zt(Le({},Yn(t,e)),{element:n,node:{}})))!=null?a:{};if(Object.keys(v).length===0)return;if(Kte(t,e).forEach(x=>{var S,E,P,T;const A=(T=(P=(E=(S=x.parsers)==null?void 0:S.html)==null?void 0:E.deserializer)==null?void 0:P.parse)==null?void 0:T.call(P,Zt(Le({},Yn(t,e)),{element:n,node:v}));A&&(v=Le(Le({},v),A))}),p){const x={},S=n.getAttributeNames();for(const E of S)p.includes(E)&&(x[E]=n.getAttribute(E));Object.keys(x).length>0&&(v.attributes=x)}return Zt(Le({},f),{node:v})},EHe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=Jte(t,n,{element:e}),!!r)),r},SHe=(t,e)=>{var r;const n=EHe(t,e);if(n){const{node:s,withoutChildren:a}=n;let o=(r=s.children)!=null?r:pk(t,e);return(o.length===0||a)&&(o=[{text:""}]),um("element",s,o)}},CHe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=Jte(t,n,{deserializeLeaf:!0,element:e});s&&(r=Le(Le({},r),s.node))}),r},AHe=(t,e)=>{const r=CHe(t,e);return pk(t,e).reduce((n,s)=>{if(!s)return n;if(Gl(s))Object.keys(r).length>0&&JGe({node:s,query:{filter:([a])=>fc(a)},source:r}),n.push(s);else{const a=Le({},r);fc(s)&&s.text&&Object.keys(a).forEach(o=>{a[o]&&s[o]&&(a[o]=s[o])}),n.push(um("text",a,s))}return n},[])},THe=t=>{if(Yte(t))return t.textContent||""},Qte=t=>e=>{const r=THe(e);if(r)return r;if(!GS(e))return null;const n=xHe(e);if(n)return n;const s=wHe(t,e);if(s)return s;const a=SHe(t,e);return a||AHe(t,e)},PHe=(t,e)=>Qte(t)(e),DHe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},RHe=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=DHe(r)),e&&(r=bHe(r));const n=PHe(t,r);return $He(t,{descendants:n})},OHe=t=>new DOMParser().parseFromString(t,"text/html"),IHe=$r({key:"html"}).extendApi(({editor:t})=>({deserialize:Cp(RHe,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=OHe(e);return t.html.deserialize({element:r.body})},format:"text/html"}}),BHe=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Rc(t,()=>{r(n);const s=e();if(s.maxLength){const a=VQ(t,[]).length;if(a>s.maxLength){const o=a-s.maxLength;t.delete({distance:o,reverse:!0,unit:"character"})}}})},t},Pj=fk({key:"length",extendEditor:BHe}),FHe=({maxLength:t,plugins:e=[]})=>{let r=[lHe,Xte,eHe,rHe,iHe,aHe,t?Pj.configure({options:{maxLength:t}}):Pj,IHe,QGe,C_];const n=new Map(e.map(s=>[s.key,s]));return r=r.map(s=>{const a=n.get(s.key);if(a){const o=e.findIndex(l=>l.key===s.key);return o!==-1&&e.splice(o,1),a}return s}),r},MHe=t=>e=>fc(e)||Gl(e)&&t.isInline(e),kHe=t=>()=>({children:[],type:t}),NHe=(t,e)=>t.some((r,n,s)=>{const a=s[n-1];return n!==0?e(r)!==e(a):!1}),LHe=(t,e,r)=>{const n=NHe(t,e),{fragment:s}=t.reduce((a,o)=>{if(n&&e(o)){let l=a.precedingBlock;l||(l=r(),a.precedingBlock=l,a.fragment.push(l)),l.children.push(o)}else a.fragment.push(o),a.precedingBlock=null;return a},{fragment:[],precedingBlock:null});return s},UHe=t=>t.length===0?[{text:""}]:t,ere=(t,e,r)=>(t=UHe(t),t=LHe(t,e,r),t=t.map(n=>Gl(n)?Zt(Le({},n),{children:ere(n.children,e,r)}):n),t),$He=(t,{descendants:e})=>{const r=MHe(t),n=t.getType(C_),s=kHe(n);return ere(e,r,s)},jHe=(t,e,r)=>{var n,s,a,o;const{key:l,inject:{nodeProps:c,targetPlugins:d}}=e,{className:f,element:p,style:g,text:y}=r,b=p!=null?p:y;if(!b||!c)return;const{classNames:_,defaultNodeValue:u,nodeKey:h=l,query:m,styleKey:v=h,transformClassName:w,transformNodeValue:x,transformProps:S,transformStyle:E,validNodeValues:P}=c,T=m==null?void 0:m(Zt(Le(Le({},c),Yn(t,e)),{nodeProps:r}));if(!T&&d&&Gl(b)&&b.type&&!d.includes(KGe(t,b.type)))return;const A=b[h];if(!T&&(!vf(A)||P&&!P.includes(A)||A===u))return;const R=Zt(Le(Le({},r),Yn(t,e)),{nodeValue:A}),D=(n=x==null?void 0:x(R))!=null?n:A;R.value=D;let O={};return p&&(O.className=np(f,"slate-".concat(h,"-").concat(A))),(_!=null&&_[A]||w)&&(O.className=(s=w==null?void 0:w(R))!=null?s:np(f,_==null?void 0:_[D])),v&&(O.style=(a=E==null?void 0:E(R))!=null?a:Zt(Le({},g),{[v]:D})),S&&(O=(o=S(Zt(Le({},R),{props:O})))!=null?o:O),O},tre=(t,e)=>(t.pluginList.forEach(r=>{if(r.inject.nodeProps){const n=jHe(t,r,e);n&&(e=Le(Le({},e),n))}}),Zt(Le({},e),{editor:t})),zHe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var a;const o=(a=s.parser)==null?void 0:a.query;return!o||o(Zt(Le({},Yn(t,s)),{data:r,dataTransfer:n}))}),VHe=(t,e,r)=>{var n=r,{fragment:s}=n,a=Qa(n,["fragment"]);Rc(t,()=>{e.some(o=>{var l,c;return((c=(l=o.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,Le(Zt(Le({},Yn(t,o)),{fragment:s}),a)))===!0}),t.insertFragment(s)})},GHe=t=>{const e=t.children;let r=$5e(e);t.pluginList.forEach(n=>{var s;const a=(s=n.normalizeInitialValue)==null?void 0:s.call(n,Zt(Le({},Yn(t,n)),{value:r}));a&&(r=a)}),!G5e(e,r)&&r&&(t.children=r)},HHe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var a;const o=(a=s.parser)==null?void 0:a.transformData;o&&(r=o(Zt(Le({},Yn(t,s)),{data:r,dataTransfer:n})))}),r),WHe=(t,e,r)=>{var n=r,{fragment:s}=n,a=Qa(n,["fragment"]);return e.forEach(o=>{var l;const c=(l=o.parser)==null?void 0:l.transformFragment;c&&(s=c(Le(Le({fragment:s},a),Yn(t,o))))}),s},rre=(t,e)=>{var r,n,s,a;let o=wl({},e);if(o.__resolved=!0,o.__configuration){const d=o.__configuration(Yn(t,o));o=wl(o,d),delete o.__configuration}o.__extensions&&o.__extensions.length>0&&(o.__extensions.forEach(d=>{o=wl(o,d(Yn(t,o)))}),o.__extensions=[]);const l=(r=o.inject)==null?void 0:r.targetPluginToInject,c=(n=o.inject)==null?void 0:n.targetPlugins;return l&&c&&c.length>0&&(o.inject=o.inject||{},o.inject.plugins=Ta({},o.inject.plugins,Object.fromEntries(c.map(d=>{const f=l(Zt(Le({},Yn(t,o)),{targetPlugin:d}));return[d,f]})))),(s=o.node)!=null&&s.component&&(o.render.node=o.node.component),(a=o.render)!=null&&a.node&&(o.node.component=o.render.node),KHe(t,o),o},KHe=(t,e)=>{e.__extensions||t.api.debug.error("Invalid plugin '".concat(e.key,"', you should use createSlatePlugin."),"USE_CREATE_PLUGIN"),e.node.isElement&&e.node.isLeaf&&t.api.debug.error("Plugin ".concat(e.key," cannot be both an element and a leaf."),"PLUGIN_NODE_TYPE")},XHe=(t,e=[])=>{t.pluginList=[],t.plugins={},t.api={},t.transforms={},t.tf=t.transforms,t.shortcuts={};const r=JHe(t,e);return QHe(t,r),eWe(t),YHe(t),qHe(t),t.pluginList.forEach(n=>{n.extendEditor&&(t=n.extendEditor(Yn(t,n)))}),t},YHe=t=>{t.pluginList.forEach(e=>{let r=Zee(e.key)(e.options,{immer:{enableMapSet:!0}});e.__optionExtensions&&e.__optionExtensions.length>0&&e.__optionExtensions.forEach(n=>{const s=n(Yn(t,e));r=r.extendSelectors(()=>s)}),e.optionsStore=r})},qHe=t=>{const e=[];t.pluginList.forEach(r=>{Object.entries(r.api).forEach(([n,s])=>{t.api[n]=s}),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach(({extension:n,isPluginSpecific:s,isTransform:a})=>{const o=n(Yn(t,r));a?s?(t.transforms[r.key]||(t.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),Ta(t.transforms[r.key],o),Ta(r.transforms[r.key],o)):(Ta(t.transforms,o),Ta(r.transforms,o)):s?(t.api[r.key]||(t.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),Ta(t.api[r.key],o),Ta(r.api[r.key],o)):(Ta(t.api,o),Ta(r.api,o))}),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach(([n,s])=>{var a;if(s===null){const o=e.findIndex(l=>l.key===n);o!==-1&&e.splice(o,1)}else{const o=(a=s.priority)!=null?a:r.priority,l=e.findIndex(c=>c.key===n);(l===-1||o>=e[l].priority)&&(l!==-1&&e.splice(l,1),e.push({key:n,hotkey:s,priority:o}))}})}),e.sort((r,n)=>n.hotkey.priority-r.hotkey.priority),t.shortcuts=Object.fromEntries(e.map(({key:r,hotkey:n})=>{const s=n,a=Qa(s,["priority"]);return[r,a]}))},ZHe=(t,e)=>{const r=new Map,n=s=>{const a=rre(t,s),o=r.get(a.key);o?r.set(a.key,wl(o,a)):r.set(a.key,a),a.plugins&&a.plugins.length>0&&a.plugins.forEach(n)};return e.forEach(n),r},JHe=(t,e)=>{const r=ZHe(t,e),n=Array.from(r.values()).filter(l=>l.enabled!==!1);n.sort((l,c)=>c.priority-l.priority);const s=[],a=new Set,o=l=>{var c;a.has(l.key)||(a.add(l.key),(c=l.dependencies)==null||c.forEach(d=>{const f=r.get(d);f?o(f):t.api.debug.warn('Plugin "'.concat(l.key,'" depends on missing plugin "').concat(d,'"'),"PLUGIN_DEPENDENCY_MISSING")}),s.push(l))};return n.forEach(o),s},QHe=(t,e)=>{t.pluginList=e,t.plugins=Object.fromEntries(e.map(r=>[r.key,r]))},eWe=t=>{const e=r=>{let n=[...r];const s={},a={},o={};for(const l of r)l.override.enabled&&Object.assign(s,l.override.enabled),l.override.components&&Object.entries(l.override.components).forEach(([c,d])=>{(!a[c]||l.priority>a[c].priority)&&(a[c]={component:d,priority:l.priority})}),l.override.plugins&&Object.entries(l.override.plugins).forEach(([c,d])=>{o[c]=wl(o[c],d),d.enabled!==void 0&&(s[c]=d.enabled)});return n=n.map(l=>{var c;let d=Le({},l);o[l.key]&&(d=wl(d,o[l.key])),a[l.key]&&(!l.render.node&&!l.node.component||a[l.key].priority>l.priority)&&(d.render.node=a[l.key].component,d.node.component=a[l.key].component);const f=(c=s[l.key])!=null?c:d.enabled;return vf(f)&&(d.enabled=f),d}),n.filter(l=>l.enabled!==!1).map(l=>Zt(Le({},l),{plugins:e(l.plugins||[])}))};t.pluginList=e(t.pluginList),t.plugins=Object.fromEntries(t.pluginList.map(r=>[r.key,r]))},tWe=t=>"slate-".concat(t);function rWe(t,e){let r=e;const n=t.plugins[e.key];return n||(r.node||(r=$r(r)),r.__resolved?r:rre(t,r))}function nWe(t,e){var r,n;const s=t.getPlugin(e);return(n=(r=s.node.type)!=null?r:s.key)!=null?n:""}var iWe=(t,e={})=>{var r=e,{id:n,autoSelect:s,maxLength:a,plugins:o=[],rootPlugin:l,selection:c,shouldNormalizeEditor:d,value:f}=r,p=Qa(r,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]),g,y;const b=t;b.id=n!=null?n:b.id,b.key=(g=b.key)!=null?g:Math.random(),b.isFallback=!1,b.getApi=()=>b.api,b.getTransforms=()=>b.transforms,b.getPlugin=h=>rWe(b,h),b.getType=h=>nWe(b,h),b.getInjectProps=h=>{var m,v;return(v=(m=b.getPlugin(h).inject)==null?void 0:m.nodeProps)!=null?v:{}},b.getOptionsStore=h=>b.getPlugin(h).optionsStore,b.getOptions=h=>b.getOptionsStore(h)?b.getOptionsStore(h).get.state():b.getPlugin(h).options,b.getOption=(h,m,...v)=>{const w=b.getOptionsStore(h);if(!w)return b.getPlugin(h).options[m];const x=w.get[m];if(x)return x(...v);b.api.debug.error("editor.getOption: ".concat(m," option is not defined in plugin ").concat(h.key,"."),"OPTION_UNDEFINED")},b.setOption=(h,m,v)=>{const w=b.getOptionsStore(h);if(!w)return;const x=w.set[m];x?x(v):b.api.debug.error("editor.setOption: ".concat(m," option is not defined in plugin ").concat(h.key,"."),"OPTION_UNDEFINED")},b.setOptions=(h,m)=>{const v=b.getOptionsStore(h);v&&(typeof m=="object"?v.set.mergeState(m):typeof m=="function"&&v.set.state(m))};const _=FHe({maxLength:a,plugins:o});let u=$r(Zt(Le({key:"root",priority:1e4},p),{plugins:[..._,...o]}));if(l&&(u=l(u)),XHe(b,[u]),typeof f=="string"?b.children=b.api.html.deserialize({element:f}):f&&(b.children=f),((y=b.children)==null?void 0:y.length)===0&&(b.children=b.api.create.value()),c)b.selection=c;else if(s){const m=(s==="start"?"start":"end")==="start"?zQ(b,[]):AM(b,[]);CM(b,m)}return f&&GHe(b),d&&QBe(b,{force:!0}),b},sWe=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function HS(t,e){const r=Le({},t);return sWe.forEach(s=>{const a=r[s];r[s]=(...o)=>{const l=a(...o);return HS(l)}}),r.withComponent=s=>r.extend({node:{component:s},render:{node:s}}),e?r.extend(e):r}var nre=(t={})=>{const e=$r(t);return HS(e)};function aWe(t={}){return nre(t)}function dm(t,e){return Zt(Le({},Yn(t,e)),{useOption:(r,...n)=>t.useOption(e,r,...n)})}var ire=t=>Qa(t,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),oWe=aWe({key:"plateApi",dependencies:["debug"]}).extendEditorApi(({editor:t})=>({redecorate:()=>{t.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}})),lWe=HS(Xte,{handlers:{onKeyDown:({editor:t,event:e})=>{e.persist(),t.currentKeyboardEvent=e}}}),mk=Zee("event-editor")({blur:null,focus:null,last:null}),HT=mk.set,uWe=mk.get;mk.use;var cWe="focus-editor-event",dWe="blur-editor-event",fWe=nre({key:"eventEditor",handlers:{onBlur:({editor:t})=>{uWe.focus()===t.id&&HT.focus(null),HT.blur(t.id),document.dispatchEvent(new CustomEvent(dWe,{detail:{id:t.id}}))},onFocus:({editor:t})=>{HT.focus(t.id),document.dispatchEvent(new CustomEvent(cWe,{detail:{id:t.id}}))}}}),hWe=HS(C_,({editor:t,type:e})=>({shortcuts:{toggleParagraph:{keys:[[t1.Mod,t1.Alt,"0"],[t1.Mod,t1.Shift,"0"]],preventDefault:!0,handler:()=>{t.tf.toggle.block({type:e})}}}})),pWe=({editor:t})=>V9e(t),mWe=$r({key:"dom",extendEditor:pWe}).extendEditorTransforms(({editor:t})=>{const{reset:e}=t.tf;return{reset:()=>{const r=W9e(t);e(),r&&K9e(t,{edge:"start"})}}}),gWe=()=>[lWe,mWe,fWe,oWe,hWe],vWe=(t,e={})=>{var r=e,{plugins:n=[]}=r,s=Qa(r,["plugins"]);const a=iWe(t,Zt(Le({},s),{plugins:[...gWe(),...n]}));return a.useOptions=(o,l,c)=>{const d=a.getOptionsStore(o);return d||a.api.debug.error("editor.useOptions: ".concat(o.key," plugin is missing"),"PLUGIN_MISSING"),d.useStore(l,c)},a.useOption=(o,l,...c)=>{const d=a.getOptionsStore(o);d||a.api.debug.error("editor.useOption: ".concat(o.key," plugin is missing"),"PLUGIN_MISSING");const f=d==null?void 0:d.use[l];if(f)return f(...c);a.api.debug.error("editor.useOption: ".concat(l," option is not defined in plugin ").concat(o.key),"OPTION_UNDEFINED")},a},sre=(t={})=>{var e=t,{editor:r=WBe()}=e,n=Qa(e,["editor"]);return vWe(r,n)},yWe=(t={})=>{const e=sre(t);return e.isFallback=!0,e.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},e},Dj=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],are=({attributes:t,editor:e,plugin:r,props:n})=>{var s,a;let o={};r.node.props&&(o=(s=typeof r.node.props=="function"?r.node.props(n):r.node.props)!=null?s:{}),!o.nodeProps&&t&&(o.nodeProps=TVe(t,(a=r.node.dangerouslyAllowAttributes)!=null?a:[])),n=Le(Le({},n),o),n.nodeProps&&Object.keys(n.nodeProps).forEach(c=>{var d,f;((d=n.nodeProps)==null?void 0:d[c])===void 0&&((f=n.nodeProps)==null||delete f[c])});const{className:l}=n;return Le(Zt(Le({},n),{className:np(tWe(r.node.type),l)}),dm(e,r))},Rj=t=>(e,r,{composing:n}={})=>!(!Pr(t)(r)||!!n!==H9e(e));Zt(Le({},ZGe),{isTab:Rj("tab"),isUntab:Rj("untab")});var _We=(t,e)=>{const r=t.pluginList.filter(n=>n.decorate);if(!(r.length===0&&!e))return n=>{let s=[];const a=o=>{o!=null&&o.length&&(s=[...s,...o])};return r.forEach(o=>{a(o.decorate(Zt(Le({},dm(t,o)),{entry:n})))}),e&&a(e({editor:t,entry:n})),s}},bWe=t=>{let e=!1;return Zt(Le({},t),{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>e,isTrusted:t.isTrusted,nativeEvent:t,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>t.preventDefault(),stopPropagation:()=>{e=!0,t.stopPropagation()},target:t.target,timeStamp:t.timeStamp,type:t.type})},wWe=(t,e)=>{if(!e)return!1;const r=e(t);return r!=null?r:t.isPropagationStopped()},xWe=(t,{editableProps:e,handlerKey:r})=>{const n=e==null?void 0:e[r],s=t.pluginList.filter(a=>{var o;return(o=a.handlers)==null?void 0:o[r]});if(!(s.length===0&&!n))return a=>{const l=a instanceof Event?bWe(a):a;return s.some(d=>{const f=d.handlers[r],p=f(Zt(Le({},dm(t,d)),{event:l}));return p!=null?p:!1})?!0:wWe(l,n)}},EWe=(t,e)=>t.pluginList.some(r=>{const n=r.handlers.onChange;if(!n)return!1;const s=n(Zt(Le({},dm(t,r)),{value:e}));return s!=null?s:!1}),SWe="element",CWe={element:null},{ElementProvider:AWe,useElementStore:TWe}=_M(CWe,{name:"element"}),PWe=(t,e)=>function(n){const{key:s,render:{node:a}}=e,{children:o,element:l}=n;if(l.type===e.node.type){const c=a!=null?a:ik,d=t.pluginList.flatMap(y=>{var b,_;return(_=(b=y.render)==null?void 0:b.aboveNodes)!=null?_:[]}),f=t.pluginList.flatMap(y=>{var b,_;return(_=(b=y.render)==null?void 0:b.belowNodes)!=null?_:[]});n=are({attributes:l.attributes,editor:t,plugin:e,props:n});let p=o;f.forEach(y=>{const b=y(Zt(Le({},n),{key:s}));b&&(p=b(Zt(Le({},n),{children:p})))});let g=q.createElement(c,Le({},n),p);return d.forEach(y=>{const b=y(Zt(Le({},n),{key:s}));b&&(g=b(Zt(Le({},n),{children:g})))}),q.createElement(AWe,{element:l,scope:s},g)}},DWe=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isElement&&r.push(PWe(t,n))}),function(s){const a=tre(t,s);let o;return r.some(l=>(o=l(a),!!o)),o||(e?e(a):q.createElement(ik,Le({},a)))}},RWe=(t,e)=>function(n){var s;const{render:{node:a}}=e,{children:o,leaf:l}=n;if(l[(s=e.node.type)!=null?s:e.key]){const c=a!=null?a:Vte,d=are({attributes:l.attributes,editor:t,plugin:e,props:n});return q.createElement(c,Le({},d),o)}return o},OWe=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isLeaf&&n.key&&r.push(RWe(t,n))}),function(s){const a=tre(t,s);return r.forEach(o=>{const l=o(a);l!==void 0&&(a.children=l)}),e?e(a):q.createElement(Vte,Le({},a))}},zo=(t,e={})=>{var r;return(r=Xu(t,Le({debugHookName:"useEditorRef"},e)).editor())!=null?r:yWe()};function YQe(t,e){const r=zo(e);return dm(r,t)}var qQe=(t=SWe)=>{const e=zo(),r=TWe(t).get.element();return r||(e.api.debug.warn("useElement(".concat(t,") hook must be used inside the node component's context"),"USE_ELEMENT_CONTEXT"),{})};function IWe({id:t,editableRef:e}){const r=zo(t);return q.createElement(q.Fragment,null,Object.entries(r.shortcuts).map(([n,s])=>!s||!vf(s.keys)||!s.handler?null:q.createElement(BWe,{id:t,key:n,editableRef:e,hotkeyConfig:s})))}function BWe({id:t,editableRef:e,hotkeyConfig:r}){const n=zo(t),s=r,{keys:a,handler:o}=s,l=Qa(s,["keys","handler"]),c=HRe(a,(d,f)=>{o({editor:n,event:d,eventDetails:f})},Le({enableOnContentEditable:!0},l),[]);return C.useEffect(()=>{e.current&&c(e.current)},[c,e]),null}var FWe=({id:t})=>{const e=zo(t),r=HGe(t),n=S_(t),s=Object.fromEntries(UGe.map(o=>[o,n.set[o]()])),a=q.useMemo(()=>s,[]);return q.useEffect(()=>{e.api.redecorate=r,e.setPlateState=(o,l)=>{var c;const d=a;(c=d[o])==null||c.call(d,l)}},[e,r,a]),null};function MWe({id:t,plugin:e}){var r;const n=zo(t);return(r=e.useHooks)==null||r.call(e,dm(n,e)),null}function kWe({id:t}){const e=Xu(t).editor(),r=Hte(t).isMounted();return q.useEffect(()=>(r(!0),()=>{r(!1)}),[r]),q.createElement(q.Fragment,null,e.pluginList.map(n=>q.createElement(MWe,{id:t,key:n.key,plugin:n})))}var NWe=q.memo(({id:t})=>{const e=Pte(),r=QR("versionEditor",t);q.useEffect(()=>{r()});const n=QR("versionSelection",t),s=q.useRef(e.selection),a=LWe(s.current,e.selection);return q.useEffect(()=>{a||n(),s.current=e.selection},[e.selection,a,n]),null}),LWe=(t,e)=>!t&&!e?!0:!t||!e?!1:de.equals(t,e);function UWe({children:t,decorate:e,editor:r,primary:n,readOnly:s,renderElement:a,renderLeaf:o,onChange:l,onSelectionChange:c,onValueChange:d}){return q.createElement(GGe,{readOnly:s,onChange:l,onSelectionChange:c,onValueChange:d,decorate:e,editor:r,primary:n,renderElement:a,renderLeaf:o,scope:r.id},t)}function ZQe(t){return t.editor?q.createElement(UWe,Le({key:t.editor.key},t)):null}var $We=(t={})=>{const{id:e}=t,r=zo(e),n=Xu(e),s=n.versionDecorate(),a=n.readOnly(),o=n.decorate(),l=n.renderLeaf(),c=n.renderElement(),d=q.useMemo(()=>_We(r,o!=null?o:t==null?void 0:t.decorate),[t==null?void 0:t.decorate,r,o]),f=q.useMemo(()=>{if(!(!s||!d))return b=>d(b)},[d,s]),p=q.useMemo(()=>DWe(r,c!=null?c:t==null?void 0:t.renderElement),[t==null?void 0:t.renderElement,r,c]),g=q.useMemo(()=>OWe(r,l!=null?l:t==null?void 0:t.renderLeaf),[t==null?void 0:t.renderLeaf,r,l]),y=wj(()=>{const b={decorate:f,renderElement:p,renderLeaf:g};return vf(a)&&(b.readOnly=a),Dj.forEach(_=>{const u=xWe(r,{editableProps:t,handlerKey:_});u&&(b[_]=u)}),b},[f,t,p,g,a]);return wj(()=>Le(Le({},rGe(t,[...Dj,"renderElement","renderLeaf","decorate"])),y),[t,y])},jWe=({id:t})=>{const e=zo(t),r=Xu(t).onChange(),n=Xu(t).onValueChange(),s=Xu(t).onSelectionChange(),a=q.useCallback(c=>{EWe(e,c)||r==null||r({editor:e,value:c})},[e,r]),o=q.useMemo(()=>c=>{n==null||n({editor:e,value:c})},[e,n]),l=q.useMemo(()=>c=>{s==null||s({editor:e,selection:c})},[e,s]);return q.useMemo(()=>({key:e.key,editor:e,initialValue:e.children,value:e.children,onChange:a,onSelectionChange:l,onValueChange:o}),[e,a,l,o])},zWe=({id:t})=>{const e=WGe(),r=t!=null?t:e,n=q.useMemo(()=>MGe(mb.atom.editorStores,f=>f.prop(r)),[r]),s=GT().atom(n,{warnIfNoStore:!1}),a=S_(r).store(),o=Xu(r).primary(),l=GT().primaryEditorIds({warnIfNoStore:!1}),c=N9e(),d=GT().activeId({warnIfNoStore:!1});return q.useEffect(()=>(s(a!=null?a:null),()=>{s(null),d(f=>f===r?null:f)}),[a,s,d,r]),q.useEffect(()=>{if(o)return l(f=>[...f,r]),()=>{l(f=>f.filter(p=>p!==r))}},[r,o,l]),q.useEffect(()=>{r&&c&&d(r)},[r,c,d]),null};function VWe({id:t,children:e}){var r;const n=jWe({id:t}),s=zo(t);let a=q.createElement(j9e,Le({},n),e);return(r=s.pluginList)==null||r.forEach(o=>{const{render:{aboveSlate:l}}=o;l&&(a=q.createElement(l,null,a))}),a}var GWe=q.forwardRef((t,e)=>{var r=t,{renderEditable:n}=r,s=Qa(r,["renderEditable"]);const{id:a}=s,o=zo(a);if(!o)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const l=$We(s),c=C.useRef(null),d=mM(e,c),f=q.createElement(I9e,Le({ref:d},l));let p=null,g=null;o.pluginList.forEach(b=>{const{render:{afterEditable:_,beforeEditable:u}}=b;_&&(p=q.createElement(q.Fragment,null,p,q.createElement(_,Le({},l)))),u&&(g=q.createElement(q.Fragment,null,g,q.createElement(u,Le({},l))))});let y=q.createElement(q.Fragment,null,g,n?n(f):f,q.createElement(FWe,{id:a}),q.createElement(IWe,{id:a,editableRef:c}),q.createElement(NWe,{id:a}),q.createElement(kWe,{id:a}),q.createElement(zWe,{id:a}),p);return o.pluginList.forEach(b=>{const{render:{aboveEditable:_}}=b;_&&(y=q.createElement(_,null,y))}),q.createElement(VWe,{id:a},y)});GWe.displayName="PlateContent";function JQe(t={},e=[]){return q.useMemo(()=>t.enabled===!1?null:sre(t),[t.id,t.enabled,...e])}var HWe=Object.defineProperty,WWe=Object.defineProperties,KWe=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,ore=Object.prototype.hasOwnProperty,lre=Object.prototype.propertyIsEnumerable,Oj=(t,e,r)=>e in t?HWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,la=(t,e)=>{for(var r in e||(e={}))ore.call(e,r)&&Oj(t,r,e[r]);if(Bx)for(var r of Bx(e))lre.call(e,r)&&Oj(t,r,e[r]);return t},Rp=(t,e)=>WWe(t,KWe(e)),ure=(t,e)=>{var r={};for(var n in t)ore.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bx)for(var n of Bx(t))e.indexOf(n)<0&&lre.call(t,n)&&(r[n]=t[n]);return r},XWe=t=>{const e=ire(t),{attributes:r,element:n,elementToAttributes:s,nodeProps:a}=e,o=ure(e,["attributes","element","elementToAttributes","nodeProps"]);return{props:Rp(la(la(la(la({},r),o),a),s==null?void 0:s(n)),{className:np(t.className,a==null?void 0:a.className)}),ref:mM(t.ref,r.ref)}},YWe=q.forwardRef((t,e)=>{const{props:r,ref:n}=XWe(Rp(la({},t),{ref:e}));return q.createElement(cRe,Rp(la({},r),{ref:n}))});YWe.displayName="PlateElement";var qWe=t=>{const e=ire(t),{attributes:r,leaf:n,leafToAttributes:s,nodeProps:a,text:o}=e,l=ure(e,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:Rp(la(la(la(la({},r),l),a),s==null?void 0:s(n)),{className:np(t.className,a==null?void 0:a.className)}),ref:mM(t.ref,r.ref)}},ZWe=q.forwardRef((t,e)=>{const{props:r,ref:n}=qWe(Rp(la({},t),{ref:e}));return q.createElement(dRe,Rp(la({},r),{ref:n}))});ZWe.displayName="PlateLeaf";var QQe=t=>{if(!t)return{props:{}};const{preventDefaultOnEnterKeydown:e}=t,r=n=>{(n.key==="Enter"||n.keyCode===13)&&n.preventDefault()};return{props:{onKeyDownCapture:e?n=>r(n):void 0}}},JWe=zM,Ij=Ns;function cre(t,e,r,n,s,a){return Ij(t)&&Ij(e)&&(a.set(e,t),JWe(t,e,void 0,cre,a),a.delete(e)),t}var QWe=cre,eKe=fee,tKe=mee,rKe=QWe,nKe=vee;tKe(function(t){return t.push(void 0,rKe),eKe(nKe,void 0,t)});var iKe=Object.defineProperty,sKe=Object.defineProperties,aKe=Object.getOwnPropertyDescriptors,Fx=Object.getOwnPropertySymbols,dre=Object.prototype.hasOwnProperty,fre=Object.prototype.propertyIsEnumerable,Bj=(t,e,r)=>e in t?iKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qt=(t,e)=>{for(var r in e||(e={}))dre.call(e,r)&&Bj(t,r,e[r]);if(Fx)for(var r of Fx(e))fre.call(e,r)&&Bj(t,r,e[r]);return t},Bi=(t,e)=>sKe(t,aKe(e)),hre=(t,e)=>{var r={};for(var n in t)dre.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Fx)for(var n of Fx(t))e.indexOf(n)<0&&fre.call(t,n)&&(r[n]=t[n]);return r};function WT(t,...e){return yee({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return qt(qt({},r),n)})}function Hf(t){return typeof t=="function"}function yn(t={}){var e;let r,n;Hf(t)?(r={key:""},n=o=>t(o)):r=t;const s=(e=r.key)!=null?e:"",a=WT({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return a.configure=o=>{const l=qt({},a);return l.__configuration=c=>Hf(o)?o(c):o,yn(l)},a.configurePlugin=(o,l)=>{const c=qt({},a),d=p=>{let g=!1;const y=p.map(b=>{if(b.key===o.key)return g=!0,yn(Bi(qt({},b),{__configuration:_=>Hf(l)?l(_):l}));if(b.plugins&&b.plugins.length>0){const _=d(b.plugins);if(_.found)return g=!0,Bi(qt({},b),{plugins:_.plugins})}return b});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,yn(c)},a.extendEditorApi=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1}],yn(l)},a.extendOptions=o=>{const l=qt({},a);return l.__optionExtensions=[...l.__optionExtensions,o],yn(l)},a.extendApi=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0}],yn(l)},a.extendEditorTransforms=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1,isTransform:!0}],yn(l)},a.extendTransforms=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0,isTransform:!0}],yn(l)},a.extend=o=>{let l=qt({},a);return Hf(o)?l.__extensions=[...l.__extensions,o]:l=WT(l,o),yn(l)},a.clone=()=>WT(a),a.extendPlugin=(o,l)=>{const c=qt({},a),d=p=>{let g=!1;const y=p.map(b=>{if(b.key===o.key)return g=!0,yn(Bi(qt({},b),{__extensions:[...b.__extensions,_=>Hf(l)?l(_):l]}));if(b.plugins&&b.plugins.length>0){const _=d(b.plugins);if(_.found)return g=!0,Bi(qt({},b),{plugins:_.plugins})}return b});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,f.found||c.plugins.push(yn({key:o.key,__extensions:[p=>Hf(l)?l(p):l]})),yn(c)},a}function A_(t={}){return yn(t)}var pre=({apply:t,node:e,path:r=[],query:n,source:s})=>{w_([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),HQ(e)&&e.children.forEach((o,l)=>{pre({apply:t,node:o,path:r.concat([l]),query:n,source:s})})},mre=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const a=(s=n.inject.plugins)==null?void 0:s[e.key];a&&r.push(a)}),[e,...r]},oKe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},lKe={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},uKe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Lr=t=>{const e=oKe[t],r=lKe[t],n=uKe[t],s=e&&Kh(e),a=r&&Kh(r),o=n&&Kh(n);return l=>!!(s!=null&&s(l)||px&&(a!=null&&a(l))||!px&&(o!=null&&o(l)))};Lr("bold"),Lr("compose"),Lr("deleteBackward"),Lr("deleteForward"),Lr("deleteLineBackward"),Lr("deleteLineForward"),Lr("deleteWordBackward"),Lr("deleteWordForward"),Lr("extendBackward"),Lr("extendForward"),Lr("extendLineBackward"),Lr("extendLineForward"),Lr("italic"),Lr("moveBackward"),Lr("moveForward"),Lr("moveLineBackward"),Lr("moveLineForward"),Lr("moveWordBackward"),Lr("moveWordForward"),Lr("redo"),Lr("insertSoftBreak"),Lr("splitBlock"),Lr("transposeCharacter"),Lr("undo");var cKe=t=>{pre(Bi(qt({},t),{apply:Ta}))};function Yu(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}yn({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}});yn({key:"dom"});var dKe=({editor:t})=>NQ(t);yn({key:"history",extendEditor:dKe});var fKe=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],a=[],o=[];return t.pluginList.forEach(l=>{l.node.isInline&&a.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&o.push(l.node.type)}),t.isInline=l=>a.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>o.includes(l.type)?!0:n(l),t};yn({key:"inlineVoid",extendEditor:fKe});var hKe=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const a=s.parser;if(!a)return!1;const o=mre(t,s),{deserialize:l,format:c,mimeTypes:d}=a;if(!c)return!1;const f=Array.isArray(c)?c:[c],p=d||f.map(g=>g.includes("/")?g:"text/".concat(g));for(const g of p){let y=r.getData(g);if(!y||!HKe(t,o,{data:y,dataTransfer:r}))continue;y=KKe(t,o,{data:y,dataTransfer:r});let b=l==null?void 0:l(Bi(qt({},Yu(t,s)),{data:y,dataTransfer:r}));if(b!=null&&b.length&&(b=XKe(t,o,{data:y,dataTransfer:r,fragment:b}),b.length!==0))return WKe(t,o,{data:y,dataTransfer:r,fragment:b}),!0}return!1})||e(r)},t};yn({key:"parser",extendEditor:hKe});var pKe=class extends Error{constructor(t,e="DEFAULT"){super("[".concat(e,"] ").concat(t)),this.type=e,this.name="PlateError"}};A_({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,a,o)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new pKe(s,a);(c=(l=d.logger)[n])==null||c.call(l,s,a,o)}};return{debug:{error:(n,s,a)=>r("error",n,s,a),info:(n,s,a)=>r("info",n,s,a),log:(n,s,a)=>r("log",n,s,a),warn:(n,s,a)=>r("warn",n,s,a)}}});var mKe=(t,e)=>{NS(t,qt({at:[],nodes:t.api.create.value()},e))},gKe=t=>{mKe(t),t.history.undos=[],t.history.redos=[],t.operations=[]},vKe=(t,e,r)=>{var n;const{defaultType:s=t.getType(WS),type:a}=e,o=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!a||!o)return;const l=KQ(t,Bi(qt({},r),{match:{type:a}}));l&&a===s||t.setNodes({type:l?s:a},{at:o})},WS=yn({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),yKe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const a=()=>{kee(t)&&Nee(t)};return t.deleteBackward=o=>{r(o),a()},t.deleteForward=o=>{n(o),a()},t.deleteFragment=o=>{s(o),a()},t.apply=o=>{if(o.type==="set_selection"){const{properties:l}=o;t.prevSelection=l,e(o),t.currentKeyboardEvent=null;return}e(o)},t};A_({key:"slateNext",extendEditor:yKe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>qt({children:[{text:""}],type:t.getType(WS)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{gKe(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),NS(t,{at:[],nodes:r})},toggle:{block:Cp(vKe,t),mark:Cp(Lee,t)}}));var KS=t=>t.nodeType===Node.ELEMENT_NODE,gre=t=>t.nodeType===Node.TEXT_NODE,_Ke=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),gk=t=>{if(!KS(t))return!1;const e=t,r=_Ke.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?gk(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},Fj=t=>KS(t)?!gk(t):!1,bKe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),wKe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&Fj(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||Fj(e))return!0;if((e.textContent||"").length>0)return!1}},xKe=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},Mj=t=>{t.inlineFormattingContext=null},EKe=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&xKe(e);const{whiteSpaceRule:s}=e,a=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),o=(()=>s==="normal"?"collapse":wKe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=bKe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:o,trimStart:a,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},SKe=(t,e)=>{if(KS(t)){yre(t,e);return}if(gre(t)){EKe(t,e);return}vre(t,e)},vre=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)SKe(n,e)},CKe=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},yre=(t,e)=>{const r=gk(t),n=e.whiteSpaceRule,s=CKe(t);s&&(e.whiteSpaceRule=s),r||Mj(e),vre(t,e),r||Mj(e),e.whiteSpaceRule=n},AKe=t=>{const e=t.cloneNode(!0);return yre(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},vk=(t,e)=>Array.from(e.childNodes).flatMap(bre(t)),TKe=(t,e)=>{if(e.nodeName==="BODY")return um("fragment",{},vk(t,e))},PKe=t=>{if(t.nodeName==="BR")return"\n"},_re=(t,e,{deserializeLeaf:r,element:n})=>{var s,a;const{node:{isElement:o,isLeaf:l,type:c},parsers:d}=e,f=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!f)return;const{attributeNames:p,isElement:g,isLeaf:y,query:b,rules:_}=f;let{parse:u}=f;const h=g||o,m=y||l;if(!r&&!h||r&&!m||_&&!_.some(({validAttribute:S,validClassName:E,validNodeName:P="*",validStyle:T})=>{var A;if(P){const R=Ku(P);if(R.length>0&&!R.includes(n.nodeName)&&P!=="*")return!1}if(E&&!n.classList.contains(E))return!1;if(T)for(const[R,D]of Object.entries(T)){if(!Ku(D).includes(n.style[R])&&D!=="*"||D==="*"&&!n.style[R])return;const I=(A=e.inject.nodeProps)==null?void 0:A.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,D]of Object.entries(S)){const O=Ku(D),I=n.getAttribute(R);if(!vf(I)||!O.includes(I))return!1}return!0})||b&&!b(Bi(qt({},Yu(t,e)),{element:n})))return;if(!u)if(h)u=()=>({type:c});else if(m)u=()=>({[c]:!0});else return;let v=(a=u(Bi(qt({},Yu(t,e)),{element:n,node:{}})))!=null?a:{};if(Object.keys(v).length===0)return;if(mre(t,e).forEach(x=>{var S,E,P,T;const A=(T=(P=(E=(S=x.parsers)==null?void 0:S.html)==null?void 0:E.deserializer)==null?void 0:P.parse)==null?void 0:T.call(P,Bi(qt({},Yu(t,e)),{element:n,node:v}));A&&(v=qt(qt({},v),A))}),p){const x={},S=n.getAttributeNames();for(const E of S)p.includes(E)&&(x[E]=n.getAttribute(E));Object.keys(x).length>0&&(v.attributes=x)}return Bi(qt({},f),{node:v})},DKe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=_re(t,n,{element:e}),!!r)),r},RKe=(t,e)=>{var r;const n=DKe(t,e);if(n){const{node:s,withoutChildren:a}=n;let o=(r=s.children)!=null?r:vk(t,e);return(o.length===0||a)&&(o=[{text:""}]),um("element",s,o)}},OKe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=_re(t,n,{deserializeLeaf:!0,element:e});s&&(r=qt(qt({},r),s.node))}),r},IKe=(t,e)=>{const r=OKe(t,e);return vk(t,e).reduce((n,s)=>{if(!s)return n;if(Gl(s))Object.keys(r).length>0&&cKe({node:s,query:{filter:([a])=>fc(a)},source:r}),n.push(s);else{const a=qt({},r);fc(s)&&s.text&&Object.keys(a).forEach(o=>{a[o]&&s[o]&&(a[o]=s[o])}),n.push(um("text",a,s))}return n},[])},BKe=t=>{if(gre(t))return t.textContent||""},bre=t=>e=>{const r=BKe(e);if(r)return r;if(!KS(e))return null;const n=PKe(e);if(n)return n;const s=TKe(t,e);if(s)return s;const a=RKe(t,e);return a||IKe(t,e)},FKe=(t,e)=>bre(t)(e),MKe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},kKe=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=MKe(r)),e&&(r=AKe(r));const n=FKe(t,r);return GKe(t,{descendants:n})},NKe=t=>new DOMParser().parseFromString(t,"text/html");yn({key:"html"}).extendApi(({editor:t})=>({deserialize:Cp(kKe,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=NKe(e);return t.html.deserialize({element:r.body})},format:"text/html"}});var LKe=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Rc(t,()=>{r(n);const s=e();if(s.maxLength){const a=VQ(t,[]).length;if(a>s.maxLength){const o=a-s.maxLength;t.delete({distance:o,reverse:!0,unit:"character"})}}})},t};A_({key:"length",extendEditor:LKe});var UKe=t=>e=>fc(e)||Gl(e)&&t.isInline(e),$Ke=t=>()=>({children:[],type:t}),jKe=(t,e)=>t.some((r,n,s)=>{const a=s[n-1];return n!==0?e(r)!==e(a):!1}),zKe=(t,e,r)=>{const n=jKe(t,e),{fragment:s}=t.reduce((a,o)=>{if(n&&e(o)){let l=a.precedingBlock;l||(l=r(),a.precedingBlock=l,a.fragment.push(l)),l.children.push(o)}else a.fragment.push(o),a.precedingBlock=null;return a},{fragment:[],precedingBlock:null});return s},VKe=t=>t.length===0?[{text:""}]:t,wre=(t,e,r)=>(t=VKe(t),t=zKe(t,e,r),t=t.map(n=>Gl(n)?Bi(qt({},n),{children:wre(n.children,e,r)}):n),t),GKe=(t,{descendants:e})=>{const r=UKe(t),n=t.getType(WS),s=$Ke(n);return wre(e,r,s)},HKe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var a;const o=(a=s.parser)==null?void 0:a.query;return!o||o(Bi(qt({},Yu(t,s)),{data:r,dataTransfer:n}))}),WKe=(t,e,r)=>{var n=r,{fragment:s}=n,a=hre(n,["fragment"]);Rc(t,()=>{e.some(o=>{var l,c;return((c=(l=o.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,qt(Bi(qt({},Yu(t,o)),{fragment:s}),a)))===!0}),t.insertFragment(s)})},KKe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var a;const o=(a=s.parser)==null?void 0:a.transformData;o&&(r=o(Bi(qt({},Yu(t,s)),{data:r,dataTransfer:n})))}),r),XKe=(t,e,r)=>{var n=r,{fragment:s}=n,a=hre(n,["fragment"]);return e.forEach(o=>{var l;const c=(l=o.parser)==null?void 0:l.transformFragment;c&&(s=c(qt(qt({fragment:s},a),Yu(t,o))))}),s},YKe=({editor:t,getOptions:e})=>{const{deleteForward:r}=t;return t.deleteForward=n=>{if(!t.selection)return;const{query:s}=e(),a=!s||w_(Sx(t),s);!H8e(t)&&V8e(t)&&a?SM(t):r(n)},t},eet=A_({key:"delete",extendEditor:YKe,options:{query:{allow:[WS.key]}}}),qKe=({editor:t,getOptions:e})=>{const{deleteBackward:r}=t;return t.deleteBackward=n=>{const{selection:s}=t,{query:a,removeNodeIfEmpty:o}=e();if(n==="character"&&nFe(s)){const l=ZBe(t,s,{unit:n});if(l){const[c]=jQ(t,{at:l,match:d=>w_([d,l.path],a)});if(c&&l){const d=JBe(t,s),f=tFe(t,d.path);o&&f&&!PM(f)&&SM(t),CM(t,l)}else r(n)}else r(n)}else r(n)},t};A_({key:"selectOnBackspace",extendEditor:qKe,options:{removeNodeIfEmpty:!1}});var ZKe="Separator",kj="horizontal",JKe=["horizontal","vertical"],xre=C.forwardRef((t,e)=>{const{decorative:r,orientation:n=kj,...s}=t,a=QKe(n)?n:kj,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return k.jsx(rt.div,{"data-orientation":a,...l,...s,ref:e})});xre.displayName=ZKe;function QKe(t){return JKe.includes(t)}var eXe=xre,yk="Toolbar",[tXe,tet]=Qn(yk,[$o,JJ]),_k=$o(),Ere=JJ(),[rXe,Sre]=tXe(yk),Cre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:s,loop:a=!0,...o}=t,l=_k(r),c=zl(s);return k.jsx(rXe,{scope:r,orientation:n,dir:c,children:k.jsx(n_,{asChild:!0,...l,orientation:n,dir:c,loop:a,children:k.jsx(rt.div,{role:"toolbar","aria-orientation":n,dir:c,...o,ref:e})})})});Cre.displayName=yk;var Are="ToolbarSeparator",Tre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=Sre(Are,r);return k.jsx(eXe,{orientation:s.orientation==="horizontal"?"vertical":"horizontal",...n,ref:e})});Tre.displayName=Are;var nXe="ToolbarButton",bk=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=_k(r);return k.jsx(Hp,{asChild:!0,...s,focusable:!t.disabled,children:k.jsx(rt.button,{type:"button",...n,ref:e})})});bk.displayName=nXe;var iXe="ToolbarLink",Pre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=_k(r);return k.jsx(Hp,{asChild:!0,...s,focusable:!0,children:k.jsx(rt.a,{...n,ref:e,onKeyDown:Ce(t.onKeyDown,a=>{a.key===" "&&a.currentTarget.click()})})})});Pre.displayName=iXe;var Dre="ToolbarToggleGroup",sXe=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=Sre(Dre,r),a=Ere(r);return k.jsx(L2e,{"data-orientation":s.orientation,dir:s.dir,...a,...n,ref:e,rovingFocus:!1})});sXe.displayName=Dre;var aXe="ToolbarToggleItem",Rre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=Ere(r),a={__scopeToolbar:t.__scopeToolbar};return k.jsx(bk,{asChild:!0,...a,children:k.jsx(U2e,{...s,...n,ref:e})})});Rre.displayName=aXe;var net=Cre,iet=Tre,set=bk,aet=Pre,oet=Rre,oXe="Separator",Nj="horizontal",lXe=["horizontal","vertical"],Ore=C.forwardRef((t,e)=>{const{decorative:r,orientation:n=Nj,...s}=t,a=uXe(n)?n:Nj,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return k.jsx(eS.div,{"data-orientation":a,...l,...s,ref:e})});Ore.displayName=oXe;function uXe(t){return lXe.includes(t)}var uet=Ore;function cXe(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function dXe(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&g2(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function fXe(){return/apple/i.test(navigator.vendor)}function hXe(t){return(t==null?void 0:t.ownerDocument)||document}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var pXe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],eO=pXe.join(","),Ire=typeof Element>"u",Sy=Ire?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Mx=!Ire&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Cy=function(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=s===""||s==="true",o=a||r&&e&&Cy(e.parentNode);return o},mXe=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},gXe=function(e,r,n){if(Cy(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(eO));return r&&Sy.call(e,eO)&&s.unshift(e),s=s.filter(n),s},tO=function(e,r,n){for(var s=[],a=Array.from(e);a.length;){var o=a.shift();if(!Cy(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=tO(c,!0,n);n.flatten?s.push.apply(s,d):s.push({scopeParent:o,candidates:d})}else{var f=Sy.call(o,eO);f&&n.filter(o)&&(r||!e.includes(o))&&s.push(o);var p=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),g=!Cy(p,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(p&&g){var y=tO(p===!0?o.children:p.children,!0,n);n.flatten?s.push.apply(s,y):s.push({scopeParent:o,candidates:y})}else a.unshift.apply(a,o.children)}}return s},Bre=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Fre=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||mXe(e))&&!Bre(e)?0:e.tabIndex},vXe=function(e,r){var n=Fre(e);return n<0&&r&&!Bre(e)?0:n},yXe=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Mre=function(e){return e.tagName==="INPUT"},_Xe=function(e){return Mre(e)&&e.type==="hidden"},bXe=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},wXe=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},xXe=function(e){if(!e.name)return!0;var r=e.form||Mx(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=wXe(s,e.form);return!a||a===e},EXe=function(e){return Mre(e)&&e.type==="radio"},SXe=function(e){return EXe(e)&&!xXe(e)},CXe=function(e){var r,n=e&&Mx(e),s=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var o,l,c;for(a=!!((o=s)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(s)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!a&&s;){var d,f,p;n=Mx(s),s=(d=n)===null||d===void 0?void 0:d.host,a=!!((f=s)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(s))}}return a},Lj=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},AXe=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var a=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!a}if(getComputedStyle(e).visibility==="hidden")return!0;var o=Sy.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(Sy.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof s=="function"){for(var c=e;e;){var d=e.parentElement,f=Mx(e);if(d&&!d.shadowRoot&&s(d)===!0)return Lj(e);e.assignedSlot?e=e.assignedSlot:!d&&f!==e.ownerDocument?e=f.host:e=d}e=c}if(CXe(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Lj(e);return!1},TXe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return Sy.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},PXe=function(e,r){return!(r.disabled||Cy(r)||_Xe(r)||AXe(r,e)||bXe(r)||TXe(r))},Uj=function(e,r){return!(SXe(r)||Fre(r)<0||!PXe(e,r))},DXe=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},kre=function(e){var r=[],n=[];return e.forEach(function(s,a){var o=!!s.scopeParent,l=o?s.scopeParent:s,c=vXe(l,o),d=o?kre(s.candidates):l;c===0?o?r.push.apply(r,d):r.push(l):n.push({documentOrder:a,tabIndex:c,item:s,isScope:o,content:d})}),n.sort(yXe).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(r)},Nre=function(e,r){r=r||{};var n;return r.getShadowRoot?n=tO([e],r.includeContainer,{filter:Uj.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:DXe}):n=gXe(e,r.includeContainer,Uj.bind(null,r)),kre(n)};const Lre={...Ty},RXe=Lre.useInsertionEffect,OXe=RXe||(t=>t());function IXe(t){const e=C.useRef(()=>{});return OXe(()=>{e.current=t}),C.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}var Id=typeof document<"u"?C.useLayoutEffect:C.useEffect;function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rO.apply(this,arguments)}let $j=!1,BXe=0;const jj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+BXe++;function FXe(){const[t,e]=C.useState(()=>$j?jj():void 0);return Id(()=>{t==null&&e(jj())},[]),C.useEffect(()=>{$j=!0},[]),t}const MXe=Lre.useId,Ure=MXe||FXe;function kXe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const NXe=C.createContext(null),LXe=C.createContext(null),UXe=()=>{var t;return((t=C.useContext(NXe))==null?void 0:t.id)||null},$Xe=()=>C.useContext(LXe);function $re(t){return"data-floating-ui-"+t}const jre=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function zre(t,e){const r=Nre(t,jre());e==="prev"&&r.reverse();const n=r.indexOf(cXe(hXe(t)));return r.slice(n+1)[0]}function jXe(){return zre(document.body,"next")}function zXe(){return zre(document.body,"prev")}function KT(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!dXe(r,n)}function VXe(t){Nre(t,jre()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function zj(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Vre={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let GXe;function Vj(t){t.key==="Tab"&&(t.target,clearTimeout(GXe))}const Gj=C.forwardRef(function(e,r){const[n,s]=C.useState();Id(()=>(fXe()&&s("button"),document.addEventListener("keydown",Vj),()=>{document.removeEventListener("keydown",Vj)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[$re("focus-guard")]:"",style:Vre};return C.createElement("span",rO({},e,a))}),Gre=C.createContext(null),Hj=$re("portal");function HXe(t){t===void 0&&(t={});const{id:e,root:r}=t,n=Ure(),s=WXe(),[a,o]=C.useState(null),l=C.useRef(null);return Id(()=>()=>{a==null||a.remove(),queueMicrotask(()=>{l.current=null})},[a]),Id(()=>{if(!n||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=n,d.setAttribute(Hj,""),c.appendChild(d),l.current=d,o(d)},[e,n]),Id(()=>{if(r===null||!n||l.current)return;let c=r||(s==null?void 0:s.portalNode);c&&!vi(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=n,f.setAttribute(Hj,""),c=d||c,c.appendChild(f),l.current=f,o(f)},[e,r,n,s]),a}function cet(t){const{children:e,id:r,root:n,preserveTabOrder:s=!0}=t,a=HXe({id:r,root:n}),[o,l]=C.useState(null),c=C.useRef(null),d=C.useRef(null),f=C.useRef(null),p=C.useRef(null),g=o==null?void 0:o.modal,y=o==null?void 0:o.open,b=!!o&&!o.modal&&o.open&&s&&!!(n||a);return C.useEffect(()=>{if(!a||!s||g)return;function _(u){a&&KT(u)&&(u.type==="focusin"?zj:VXe)(a)}return a.addEventListener("focusin",_,!0),a.addEventListener("focusout",_,!0),()=>{a.removeEventListener("focusin",_,!0),a.removeEventListener("focusout",_,!0)}},[a,s,g]),C.useEffect(()=>{a&&(y||zj(a))},[y,a]),C.createElement(Gre.Provider,{value:C.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:p,portalNode:a,setFocusManagerState:l}),[s,a])},b&&a&&C.createElement(Gj,{"data-type":"outside",ref:c,onFocus:_=>{if(KT(_,a)){var u;(u=f.current)==null||u.focus()}else{const h=zXe()||(o==null?void 0:o.refs.domReference.current);h==null||h.focus()}}}),b&&a&&C.createElement("span",{"aria-owns":a.id,style:Vre}),a&&Ul.createPortal(e,a),b&&a&&C.createElement(Gj,{"data-type":"outside",ref:d,onFocus:_=>{if(KT(_,a)){var u;(u=p.current)==null||u.focus()}else{const h=jXe()||(o==null?void 0:o.refs.domReference.current);h==null||h.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,_.nativeEvent,"focus-out"))}}}))}const WXe=()=>C.useContext(Gre);function KXe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=Ure(),a=C.useRef({}),[o]=C.useState(()=>kXe()),l=UXe()!=null,[c,d]=C.useState(n.reference),f=IXe((y,b,_)=>{a.current.openEvent=y?b:void 0,o.emit("openchange",{open:y,event:b,reason:_,nested:l}),r==null||r(y,b,_)}),p=C.useMemo(()=>({setPositionReference:d}),[]),g=C.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return C.useMemo(()=>({dataRef:a,open:e,onOpenChange:f,elements:g,events:o,floatingId:s,refs:p}),[e,f,g,o,s,p])}function XXe(t){t===void 0&&(t={});const{nodeId:e}=t,r=KXe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[a,o]=C.useState(null),[l,c]=C.useState(null),f=(s==null?void 0:s.domReference)||a,p=C.useRef(null),g=$Xe();Id(()=>{f&&(p.current=f)},[f]);const y=KW({...t,elements:{...s,...l&&{reference:l}}}),b=C.useCallback(v=>{const w=vi(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;c(w),y.refs.setReference(w)},[y.refs]),_=C.useCallback(v=>{(vi(v)||v===null)&&(p.current=v,o(v)),(vi(y.refs.reference.current)||y.refs.reference.current===null||v!==null&&!vi(v))&&y.refs.setReference(v)},[y.refs]),u=C.useMemo(()=>({...y.refs,setReference:_,setPositionReference:b,domReference:p}),[y.refs,_,b]),h=C.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),m=C.useMemo(()=>({...y,...n,refs:u,elements:h,nodeId:e}),[y,u,h,e,n]);return Id(()=>{n.dataRef.current.floatingContext=m;const v=g==null?void 0:g.nodesRef.current.find(w=>w.id===e);v&&(v.context=m)}),C.useMemo(()=>({...y,context:m,refs:u,elements:h}),[y,u,h,m])}var YXe=Object.defineProperty,qXe=Object.defineProperties,ZXe=Object.getOwnPropertyDescriptors,kx=Object.getOwnPropertySymbols,Hre=Object.prototype.hasOwnProperty,Wre=Object.prototype.propertyIsEnumerable,Wj=(t,e,r)=>e in t?YXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kj=(t,e)=>{for(var r in e||(e={}))Hre.call(e,r)&&Wj(t,r,e[r]);if(kx)for(var r of kx(e))Wre.call(e,r)&&Wj(t,r,e[r]);return t},JXe=(t,e)=>qXe(t,ZXe(e)),QXe=(t,e)=>{var r={};for(var n in t)Hre.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&kx)for(var n of kx(t))e.indexOf(n)<0&&Wre.call(t,n)&&(r[n]=t[n]);return r},Kre=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),eYe=()=>({getBoundingClientRect:Kre}),tYe=()=>{const t=window.getSelection();return!t||t.rangeCount<1?Kre():t.getRangeAt(0).getBoundingClientRect()},det=t=>{var e=t,{getBoundingClientRect:r=tYe}=e,n=QXe(e,["getBoundingClientRect"]);const s=q.useRef(eYe()),[a,o]=q.useState(!0),l=XXe(Kj({whileElementsMounted:HW},n)),{middlewareData:c,refs:d,strategy:f,update:p,x:g,y}=l;return xT(()=>{s.current.getBoundingClientRect=r},[r,p]),xT(()=>{d.setReference(s.current)},[d]),xT(()=>{if(!(c!=null&&c.hide))return;const{referenceHidden:b}=c.hide;o(!b)},[c.hide]),JXe(Kj({},l),{style:{display:n.open===!1?"none":void 0,left:g!=null?g:0,position:f,top:y!=null?y:0,visibility:a?void 0:"hidden"},virtualElementRef:s})},XS="Switch",[rYe,fet]=Qn(XS),[nYe,iYe]=rYe(XS),Xre=C.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...p}=t,[g,y]=C.useState(null),b=Et(e,v=>y(v)),_=C.useRef(!1),u=g?f||!!g.closest("form"):!0,[h,m]=wi({prop:s,defaultProp:a!=null?a:!1,onChange:d,caller:XS});return k.jsxs(nYe,{scope:r,checked:h,disabled:l,children:[k.jsx(rt.button,{type:"button",role:"switch","aria-checked":h,"aria-required":o,"data-state":Jre(h),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onClick:Ce(t.onClick,v=>{m(w=>!w),u&&(_.current=v.isPropagationStopped(),_.current||v.stopPropagation())})}),u&&k.jsx(Zre,{control:g,bubbles:!_.current,name:n,value:c,checked:h,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Xre.displayName=XS;var Yre="SwitchThumb",qre=C.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=iYe(Yre,r);return k.jsx(rt.span,{"data-state":Jre(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});qre.displayName=Yre;var sYe="SwitchBubbleInput",Zre=C.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},a)=>{const o=C.useRef(null),l=Et(o,a),c=xF(r),d=NB(e);return C.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&y){const b=new Event("click",{bubbles:n});y.call(f,r),f.dispatchEvent(b)}},[c,r,n]),k.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Zre.displayName=sYe;function Jre(t){return t?"checked":"unchecked"}var het=Xre,pet=qre,wk="ToastProvider",[xk,aYe,oYe]=zp("Toast"),[Qre,met]=Qn("Toast",[oYe]),[lYe,YS]=Qre(wk),ene=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=C.useState(null),[d,f]=C.useState(0),p=C.useRef(!1),g=C.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat(wk,"`. Expected non-empty `string`.")),k.jsx(xk.Provider,{scope:e,children:k.jsx(lYe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:C.useCallback(()=>f(y=>y+1),[]),onToastRemove:C.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};ene.displayName=wk;var tne="ToastViewport",uYe=["F8"],nO="toast.viewportPause",iO="toast.viewportResume",rne=C.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=uYe,label:s="Notifications ({hotkey})",...a}=t,o=YS(tne,r),l=aYe(r),c=C.useRef(null),d=C.useRef(null),f=C.useRef(null),p=C.useRef(null),g=Et(e,p,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;C.useEffect(()=>{const u=h=>{var v;n.length!==0&&n.every(w=>h[w]||h.code===w)&&((v=p.current)==null||v.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n]),C.useEffect(()=>{const u=c.current,h=p.current;if(b&&u&&h){const m=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(nO);h.dispatchEvent(S),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(iO);h.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!u.contains(S.relatedTarget)&&v()},x=()=>{u.contains(document.activeElement)||v()};return u.addEventListener("focusin",m),u.addEventListener("focusout",w),u.addEventListener("pointermove",m),u.addEventListener("pointerleave",x),window.addEventListener("blur",m),window.addEventListener("focus",v),()=>{u.removeEventListener("focusin",m),u.removeEventListener("focusout",w),u.removeEventListener("pointermove",m),u.removeEventListener("pointerleave",x),window.removeEventListener("blur",m),window.removeEventListener("focus",v)}}},[b,o.isClosePausedRef]);const _=C.useCallback(({tabbingDirection:u})=>{const m=l().map(v=>{const w=v.ref.current,x=[w,...xYe(w)];return u==="forwards"?x:x.reverse()});return(u==="forwards"?m.reverse():m).flat()},[l]);return C.useEffect(()=>{const u=p.current;if(u){const h=m=>{var x,S,E;const v=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!v){const P=document.activeElement,T=m.shiftKey;if(m.target===u&&T){(x=d.current)==null||x.focus();return}const D=_({tabbingDirection:T?"backwards":"forwards"}),O=D.findIndex(I=>I===P);XT(D.slice(O+1))?m.preventDefault():T?(S=d.current)==null||S.focus():(E=f.current)==null||E.focus()}};return u.addEventListener("keydown",h),()=>u.removeEventListener("keydown",h)}},[l,_]),k.jsxs(Owe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&k.jsx(sO,{ref:d,onFocusFromOutsideViewport:()=>{const u=_({tabbingDirection:"forwards"});XT(u)}}),k.jsx(xk.Slot,{scope:r,children:k.jsx(rt.ol,{tabIndex:-1,...a,ref:g})}),b&&k.jsx(sO,{ref:f,onFocusFromOutsideViewport:()=>{const u=_({tabbingDirection:"backwards"});XT(u)}})]})});rne.displayName=tne;var nne="ToastFocusProxy",sO=C.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=YS(nne,r);return k.jsx(tS,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});sO.displayName=nne;var T_="Toast",cYe="toast.swipeStart",dYe="toast.swipeMove",fYe="toast.swipeCancel",hYe="toast.swipeEnd",ine=C.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l,c]=wi({prop:n,defaultProp:s!=null?s:!0,onChange:a,caller:T_});return k.jsx(Jn,{present:r||l,children:k.jsx(gYe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ln(t.onPause),onResume:ln(t.onResume),onSwipeStart:Ce(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(p,"px"))}),onSwipeCancel:Ce(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,d=>{const{x:f,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(p,"px")),c(!1)})})})});ine.displayName=T_;var[pYe,mYe]=Qre(T_,{onClose(){}}),gYe=C.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:y,...b}=t,_=YS(T_,r),[u,h]=C.useState(null),m=Et(e,I=>h(I)),v=C.useRef(null),w=C.useRef(null),x=s||_.duration,S=C.useRef(0),E=C.useRef(x),P=C.useRef(0),{onToastAdd:T,onToastRemove:A}=_,R=ln(()=>{var M;(u==null?void 0:u.contains(document.activeElement))&&((M=_.viewport)==null||M.focus()),o()}),D=C.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(R,I))},[R]);C.useEffect(()=>{const I=_.viewport;if(I){const M=()=>{D(E.current),d==null||d()},G=()=>{const j=new Date().getTime()-S.current;E.current=E.current-j,window.clearTimeout(P.current),c==null||c()};return I.addEventListener(nO,G),I.addEventListener(iO,M),()=>{I.removeEventListener(nO,G),I.removeEventListener(iO,M)}}},[_.viewport,x,c,d,D]),C.useEffect(()=>{a&&!_.isClosePausedRef.current&&D(x)},[a,x,_.isClosePausedRef,D]),C.useEffect(()=>(T(),()=>A()),[T,A]);const O=C.useMemo(()=>u?dne(u):null,[u]);return _.viewport?k.jsxs(k.Fragment,{children:[O&&k.jsx(vYe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:O}),k.jsx(pYe,{scope:r,onClose:R,children:Ul.createPortal(k.jsx(xk.ItemSlot,{scope:r,children:k.jsx(Rwe,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||R(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:k.jsx(rt.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...b,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ce(t.onPointerDown,I=>{I.button===0&&(v.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ce(t.onPointerMove,I=>{if(!v.current)return;const M=I.clientX-v.current.x,G=I.clientY-v.current.y,j=!!w.current,$=["left","right"].includes(_.swipeDirection),H=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,K=$?H(0,M):0,re=$?0:H(0,G),fe=I.pointerType==="touch"?10:2,ye={x:K,y:re},he={originalEvent:I,delta:ye};j?(w.current=ye,f1(dYe,p,he,{discrete:!1})):Xj(ye,_.swipeDirection,fe)?(w.current=ye,f1(cYe,f,he,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(M)>fe||Math.abs(G)>fe)&&(v.current=null)}),onPointerUp:Ce(t.onPointerUp,I=>{const M=w.current,G=I.target;if(G.hasPointerCapture(I.pointerId)&&G.releasePointerCapture(I.pointerId),w.current=null,v.current=null,M){const j=I.currentTarget,$={originalEvent:I,delta:M};Xj(M,_.swipeDirection,_.swipeThreshold)?f1(hYe,y,$,{discrete:!0}):f1(fYe,g,$,{discrete:!0}),j.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),vYe=t=>{const{__scopeToast:e,children:r,...n}=t,s=YS(T_,e),[a,o]=C.useState(!1),[l,c]=C.useState(!1);return bYe(()=>o(!0)),C.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:k.jsx(hf,{asChild:!0,children:k.jsx(tS,{...n,children:a&&k.jsxs(k.Fragment,{children:[s.label," ",r]})})})},yYe="ToastTitle",sne=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return k.jsx(rt.div,{...n,ref:e})});sne.displayName=yYe;var _Ye="ToastDescription",ane=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return k.jsx(rt.div,{...n,ref:e})});ane.displayName=_Ye;var one="ToastAction",lne=C.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?k.jsx(cne,{altText:r,asChild:!0,children:k.jsx(Ek,{...n,ref:e})}):(console.error("Invalid prop `altText` supplied to `".concat(one,"`. Expected non-empty `string`.")),null)});lne.displayName=one;var une="ToastClose",Ek=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=mYe(une,r);return k.jsx(cne,{asChild:!0,children:k.jsx(rt.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,s.onClose)})})});Ek.displayName=une;var cne=C.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return k.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function dne(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),wYe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...dne(n))}}),e}function f1(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?TB(s,a):s.dispatchEvent(a)}var Xj=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function bYe(t=()=>{}){const e=ln(t);Zn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function wYe(t){return t.nodeType===t.ELEMENT_NODE}function xYe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function XT(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var get=ene,vet=rne,yet=ine,_et=sne,bet=ane,wet=lne,xet=Ek;export{rZe as $,Zm as A,pV as B,nw as C,LYe as D,Ke as E,Vy as F,hl as G,$Ye as H,zYe as I,awe as J,fwe as K,gE as L,BYe as M,vV as N,tZe as O,cbe as P,HYe as Q,Bt as R,sf as S,KI as T,Bo as U,jYe as V,WYe as W,KYe as X,XYe as Y,iqe as Z,qqe as _,Gme as a,dqe as a$,eqe as a0,nqe as a1,sqe as a2,yqe as a3,aqe as a4,RZe as a5,lqe as a6,vqe as a7,QYe as a8,iZe as a9,sZe as aA,nZe as aB,aZe as aC,oZe as aD,hZe as aE,pZe as aF,vZe as aG,yZe as aH,_Ze as aI,wZe as aJ,$qe as aK,EZe as aL,Nqe as aM,mqe as aN,pqe as aO,Vqe as aP,zqe as aQ,xZe as aR,GYe as aS,tqe as aT,cqe as aU,ZYe as aV,YYe as aW,fZe as aX,wqe as aY,rqe as aZ,Wqe as a_,uqe as aa,SZe as ab,Hqe as ac,Gqe as ad,bZe as ae,xqe as af,Jqe as ag,lZe as ah,hqe as ai,Eqe as aj,Sqe as ak,Cqe as al,Aqe as am,Tqe as an,Pqe as ao,Dqe as ap,Iqe as aq,Bqe as ar,Fqe as as,DZe as at,Lqe as au,Kqe as av,fqe as aw,Uqe as ax,Oqe as ay,Qqe as az,sG as b,FJe as b$,dZe as b0,Mqe as b1,TZe as b2,Rqe as b3,Xqe as b4,kqe as b5,PZe as b6,uZe as b7,bqe as b8,Yqe as b9,oJe as bA,uJe as bB,lJe as bC,sJe as bD,cJe as bE,tJe as bF,OTe as bG,ITe as bH,QY as bI,qZe as bJ,BTe as bK,FTe as bL,PTe as bM,RTe as bN,AJe as bO,VYe as bP,NTe as bQ,pJe as bR,ZE as bS,hJe as bT,EJe as bU,_Je as bV,gJe as bW,vJe as bX,PJe as bY,DJe as bZ,BJe as b_,mZe as ba,VZe as bb,XZe as bc,GZe as bd,FZe as be,MZe as bf,NZe as bg,LZe as bh,$Ze as bi,WZe as bj,UZe as bk,ZZe as bl,kZe as bm,jZe as bn,IZe as bo,BZe as bp,zZe as bq,xn as br,JZe as bs,eJe as bt,rJe as bu,dJe as bv,fJe as bw,nJe as bx,iJe as by,aJe as bz,np as c,net as c$,NJe as c0,LJe as c1,MJe as c2,kJe as c3,IJe as c4,OJe as c5,jJe as c6,VJe as c7,HZe as c8,JJe as c9,xQe as cA,EQe as cB,SQe as cC,DQe as cD,RQe as cE,TQe as cF,PQe as cG,CQe as cH,OQe as cI,L2e as cJ,U2e as cK,NQe as cL,BQe as cM,FQe as cN,MQe as cO,$Qe as cP,gM as cQ,qYe as cR,gZe as cS,q as cT,GWe as cU,zQe as cV,ERe as cW,uet as cX,jQe as cY,kQe as cZ,set as c_,YZe as ca,QJe as cb,KZe as cc,GJe as cd,HJe as ce,WJe as cf,XJe as cg,YJe as ch,ZJe as ci,qJe as cj,eQe as ck,$Je as cl,KJe as cm,zJe as cn,nQe as co,iQe as cp,sQe as cq,rQe as cr,$Pe as cs,_Qe as ct,CZe as cu,cZe as cv,jqe as cw,Zqe as cx,eZe as cy,wQe as cz,Bv as d,sXe as d0,aet as d1,iet as d2,oet as d3,LQe as d4,HS as d5,yn as d6,sFe as d7,GQe as d8,Yu as d9,AZe as dA,gqe as dB,JYe as dC,JQe as dD,hWe as dE,eet as dF,ZQe as dG,_qe as dH,xJe as dI,yJe as dJ,mJe as dK,oqe as dL,vet as dM,yet as dN,wet as dO,xet as dP,_et as dQ,bet as dR,get as dS,EYe as dT,SYe as dU,Lk as dV,YQe as da,det as db,tYe as dc,UQe as dd,mM as de,G9e as df,VQe as dg,oFe as dh,zo as di,het as dj,pet as dk,bJe as dl,AAe as dm,qQe as dn,HQe as dp,N9e as dq,YWe as dr,px as ds,SJe as dt,CJe as du,wJe as dv,zxe as dw,Hxe as dx,cet as dy,QQe as dz,ma as e,Je as f,ct as g,bo as h,ige as i,k as j,En as k,OYe as l,ss as m,RYe as n,FYe as o,fge as p,J1e as q,C as r,MYe as s,vle as t,il as u,DYe as v,nV as w,xV as x,zs as y,CYe as z};
