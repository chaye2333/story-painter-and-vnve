function Hj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ui(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nne(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Wj={exports:{}},Nx={},Kj={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=Symbol.for("react.element"),Lne=Symbol.for("react.portal"),Une=Symbol.for("react.fragment"),$ne=Symbol.for("react.strict_mode"),jne=Symbol.for("react.profiler"),zne=Symbol.for("react.provider"),Vne=Symbol.for("react.context"),Gne=Symbol.for("react.forward_ref"),Hne=Symbol.for("react.suspense"),Wne=Symbol.for("react.memo"),Kne=Symbol.for("react.lazy"),Ik=Symbol.iterator;function Xne(t){return t===null||typeof t!="object"?null:(t=Ik&&t[Ik]||t["@@iterator"],typeof t=="function"?t:null)}var Xj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yj=Object.assign,qj={};function Op(t,e,r){this.props=t,this.context=e,this.refs=qj,this.updater=r||Xj}Op.prototype.isReactComponent={};Op.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Op.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zj(){}Zj.prototype=Op.prototype;function nO(t,e,r){this.props=t,this.context=e,this.refs=qj,this.updater=r||Xj}var iO=nO.prototype=new Zj;iO.constructor=nO;Yj(iO,Op.prototype);iO.isPureReactComponent=!0;var Bk=Array.isArray,Jj=Object.prototype.hasOwnProperty,sO={current:null},Qj={key:!0,ref:!0,__self:!0,__source:!0};function e5(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Jj.call(e,n)&&!Qj.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ay,type:t,key:a,ref:o,props:s,_owner:sO.current}}function Yne(t,e){return{$$typeof:Ay,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aO(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ay}function qne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Fk=/\/+/g;function tC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qne(""+t.key):e.toString(36)}function h1(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ay:case Lne:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+tC(o,0):n,Bk(s)?(r="",t!=null&&(r=t.replace(Fk,"$&/")+"/"),h1(s,e,r,"",function(d){return d})):s!=null&&(aO(s)&&(s=Yne(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fk,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Bk(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+tC(a,l);o+=h1(a,e,r,c,s)}else if(c=Xne(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+tC(a,l++),o+=h1(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function k_(t,e,r){if(t==null)return t;var n=[],s=0;return h1(t,n,"","",function(a){return e.call(r,a,s++)}),n}function Zne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ki={current:null},p1={transition:null},Jne={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:p1,ReactCurrentOwner:sO};function t5(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:k_,forEach:function(t,e,r){k_(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return k_(t,function(){e++}),e},toArray:function(t){return k_(t,function(e){return e})||[]},only:function(t){if(!aO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=Op;Yt.Fragment=Une;Yt.Profiler=jne;Yt.PureComponent=nO;Yt.StrictMode=$ne;Yt.Suspense=Hne;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jne;Yt.act=t5;Yt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yj({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=sO.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Jj.call(e,c)&&!Qj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ay,type:t.type,key:s,ref:a,props:n,_owner:o}};Yt.createContext=function(t){return t={$$typeof:Vne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zne,_context:t},t.Consumer=t};Yt.createElement=e5;Yt.createFactory=function(t){var e=e5.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:Gne,render:t}};Yt.isValidElement=aO;Yt.lazy=function(t){return{$$typeof:Kne,_payload:{_status:-1,_result:t},_init:Zne}};Yt.memo=function(t,e){return{$$typeof:Wne,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=p1.transition;p1.transition={};try{t()}finally{p1.transition=e}};Yt.unstable_act=t5;Yt.useCallback=function(t,e){return ki.current.useCallback(t,e)};Yt.useContext=function(t){return ki.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return ki.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return ki.current.useEffect(t,e)};Yt.useId=function(){return ki.current.useId()};Yt.useImperativeHandle=function(t,e,r){return ki.current.useImperativeHandle(t,e,r)};Yt.useInsertionEffect=function(t,e){return ki.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return ki.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return ki.current.useMemo(t,e)};Yt.useReducer=function(t,e,r){return ki.current.useReducer(t,e,r)};Yt.useRef=function(t){return ki.current.useRef(t)};Yt.useState=function(t){return ki.current.useState(t)};Yt.useSyncExternalStore=function(t,e,r){return ki.current.useSyncExternalStore(t,e,r)};Yt.useTransition=function(){return ki.current.useTransition()};Yt.version="18.3.1";Kj.exports=Yt;var C=Kj.exports;const q=ui(C),Ty=Hj({__proto__:null,default:q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qne=C,eie=Symbol.for("react.element"),tie=Symbol.for("react.fragment"),rie=Object.prototype.hasOwnProperty,nie=Qne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iie={key:!0,ref:!0,__self:!0,__source:!0};function r5(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)rie.call(e,n)&&!iie.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:eie,type:t,key:a,ref:o,props:s,_owner:nie.current}}Nx.Fragment=tie;Nx.jsx=r5;Nx.jsxs=r5;Wj.exports=Nx;var k=Wj.exports,Mk={},n5={exports:{}},Ms={},i5={exports:{}},s5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var K=$.length;$.push(H);e:for(;0<K;){var re=K-1>>>1,fe=$[re];if(0<s(fe,H))$[re]=H,$[K]=fe,K=re;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var H=$[0],K=$.pop();if(K!==H){$[0]=K;e:for(var re=0,fe=$.length,ye=fe>>>1;re<ye;){var he=2*(re+1)-1,ue=$[he],Z=he+1,z=$[Z];if(0>s(ue,K))Z<fe&&0>s(z,ue)?($[re]=z,$[Z]=K,re=Z):($[re]=ue,$[he]=K,re=he);else if(Z<fe&&0>s(z,K))$[re]=z,$[Z]=K,re=Z;else break e}}return H}function s($,H){var K=$.sortIndex-H.sortIndex;return K!==0?K:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,g=3,y=!1,_=!1,b=!1,u=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var H=r(d);H!==null;){if(H.callback===null)n(d);else if(H.startTime<=$)n(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(d)}}function w($){if(b=!1,v($),!_)if(r(c)!==null)_=!0,G(x);else{var H=r(d);H!==null&&j(w,H.startTime-$)}}function x($,H){_=!1,b&&(b=!1,h(P),P=-1),y=!0;var K=g;try{for(v(H),m=r(c);m!==null&&(!(m.expirationTime>H)||$&&!R());){var re=m.callback;if(typeof re=="function"){m.callback=null,g=m.priorityLevel;var fe=re(m.expirationTime<=H);H=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===r(c)&&n(c),v(H)}else n(c);m=r(c)}if(m!==null)var ye=!0;else{var he=r(d);he!==null&&j(w,he.startTime-H),ye=!1}return ye}finally{m=null,g=K,y=!1}}var S=!1,E=null,P=-1,T=5,A=-1;function R(){return!(t.unstable_now()-A<T)}function D(){if(E!==null){var $=t.unstable_now();A=$;var H=!0;try{H=E(!0,$)}finally{H?O():(S=!1,E=null)}}else S=!1}var O;if(typeof p=="function")O=function(){p(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=D,O=function(){M.postMessage(null)}}else O=function(){u(D,0)};function G($){E=$,S||(S=!0,O())}function j($,H){P=u(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,G(x))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var K=g;g=H;try{return $()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=g;g=$;try{return H()}finally{g=K}},t.unstable_scheduleCallback=function($,H,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,$){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,$={id:f++,callback:H,priorityLevel:$,startTime:K,expirationTime:fe,sortIndex:-1},K>re?($.sortIndex=K,e(d,$),r(c)===null&&$===r(d)&&(b?(h(P),P=-1):b=!0,j(w,K-re))):($.sortIndex=fe,e(c,$),_||y||(_=!0,G(x))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var H=g;return function(){var K=g;g=H;try{return $.apply(this,arguments)}finally{g=K}}}})(s5);i5.exports=s5;var sie=i5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aie=C,Rs=sie;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a5=new Set,Jg={};function tf(t,e){qh(t,e),qh(t+"Capture",e)}function qh(t,e){for(Jg[t]=e,t=0;t<e.length;t++)a5.add(e[t])}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WT=Object.prototype.hasOwnProperty,oie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kk={},Nk={};function lie(t){return WT.call(Nk,t)?!0:WT.call(kk,t)?!1:oie.test(t)?Nk[t]=!0:(kk[t]=!0,!1)}function uie(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cie(t,e,r,n){if(e===null||typeof e>"u"||uie(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ni(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oi[t]=new Ni(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oi[e]=new Ni(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oi[t]=new Ni(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oi[t]=new Ni(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oi[t]=new Ni(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oi[t]=new Ni(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oi[t]=new Ni(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oi[t]=new Ni(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oi[t]=new Ni(t,5,!1,t.toLowerCase(),null,!1,!1)});var oO=/[\-:]([a-z])/g;function lO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oO,lO);oi[e]=new Ni(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oO,lO);oi[e]=new Ni(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oO,lO);oi[e]=new Ni(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oi[t]=new Ni(t,1,!1,t.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oi[t]=new Ni(t,1,!1,t.toLowerCase(),null,!0,!0)});function uO(t,e,r,n){var s=oi.hasOwnProperty(e)?oi[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cie(e,r,s,n)&&(r=null),n||s===null?lie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ll=aie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N_=Symbol.for("react.element"),ih=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),cO=Symbol.for("react.strict_mode"),KT=Symbol.for("react.profiler"),o5=Symbol.for("react.provider"),l5=Symbol.for("react.context"),dO=Symbol.for("react.forward_ref"),XT=Symbol.for("react.suspense"),YT=Symbol.for("react.suspense_list"),fO=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),u5=Symbol.for("react.offscreen"),Lk=Symbol.iterator;function fm(t){return t===null||typeof t!="object"?null:(t=Lk&&t[Lk]||t["@@iterator"],typeof t=="function"?t:null)}var tn=Object.assign,rC;function zm(t){if(rC===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);rC=e&&e[1]||""}return"\n"+rC+t}var nC=!1;function iC(t,e){if(!t||nC)return"";nC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split("\n"),a=n.stack.split("\n"),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c="\n"+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{nC=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zm(t):""}function die(t){switch(t.tag){case 5:return zm(t.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return t=iC(t.type,!1),t;case 11:return t=iC(t.type.render,!1),t;case 1:return t=iC(t.type,!0),t;default:return""}}function qT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sh:return"Fragment";case ih:return"Portal";case KT:return"Profiler";case cO:return"StrictMode";case XT:return"Suspense";case YT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l5:return(t.displayName||"Context")+".Consumer";case o5:return(t._context.displayName||"Context")+".Provider";case dO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fO:return e=t.displayName||null,e!==null?e:qT(t.type)||"Memo";case uu:e=t._payload,t=t._init;try{return qT(t(e))}catch(r){}}return null}function fie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qT(e);case 8:return e===cO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hie(t){var e=c5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function L_(t){t._valueTracker||(t._valueTracker=hie(t))}function d5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=c5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function ZT(t,e){var r=e.checked;return tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function Uk(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f5(t,e){e=e.checked,e!=null&&uO(t,"checked",e,!1)}function JT(t,e){f5(t,e);var r=qu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?QT(t,e.type,r):e.hasOwnProperty("defaultValue")&&QT(t,e.type,qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $k(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function QT(t,e,r){(e!=="number"||gb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Vm=Array.isArray;function Sh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qu(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function eP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jk(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(Vm(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qu(r)}}function h5(t,e){var r=qu(e.value),n=qu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var U_,m5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(U_=U_||document.createElement("div"),U_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=U_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pie=["Webkit","ms","Moz","O"];Object.keys(yg).forEach(function(t){pie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yg[e]=yg[t]})});function g5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yg.hasOwnProperty(t)&&yg[t]?(""+e).trim():e+"px"}function v5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=g5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var mie=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rP(t,e){if(e){if(mie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function nP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iP=null;function hO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sP=null,Ch=null,Ah=null;function Vk(t){if(t=Ry(t)){if(typeof sP!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=zx(e),sP(t.stateNode,t.type,e))}}function y5(t){Ch?Ah?Ah.push(t):Ah=[t]:Ch=t}function _5(){if(Ch){var t=Ch,e=Ah;if(Ah=Ch=null,Vk(t),e)for(t=0;t<e.length;t++)Vk(e[t])}}function b5(t,e){return t(e)}function w5(){}var sC=!1;function x5(t,e,r){if(sC)return t(e,r);sC=!0;try{return b5(t,e,r)}finally{sC=!1,(Ch!==null||Ah!==null)&&(w5(),_5())}}function ev(t,e){var r=t.stateNode;if(r===null)return null;var n=zx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var aP=!1;if(xl)try{var hm={};Object.defineProperty(hm,"passive",{get:function(){aP=!0}}),window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch(t){aP=!1}function gie(t,e,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(f){this.onError(f)}}var _g=!1,vb=null,yb=!1,oP=null,vie={onError:function(t){_g=!0,vb=t}};function yie(t,e,r,n,s,a,o,l,c){_g=!1,vb=null,gie.apply(vie,arguments)}function _ie(t,e,r,n,s,a,o,l,c){if(yie.apply(this,arguments),_g){if(_g){var d=vb;_g=!1,vb=null}else throw Error(Oe(198));yb||(yb=!0,oP=d)}}function rf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function E5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gk(t){if(rf(t)!==t)throw Error(Oe(188))}function bie(t){var e=t.alternate;if(!e){if(e=rf(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Gk(s),t;if(a===n)return Gk(s),e;a=a.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function S5(t){return t=bie(t),t!==null?C5(t):null}function C5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C5(t);if(e!==null)return e;t=t.sibling}return null}var A5=Rs.unstable_scheduleCallback,Hk=Rs.unstable_cancelCallback,wie=Rs.unstable_shouldYield,xie=Rs.unstable_requestPaint,mn=Rs.unstable_now,Eie=Rs.unstable_getCurrentPriorityLevel,pO=Rs.unstable_ImmediatePriority,T5=Rs.unstable_UserBlockingPriority,_b=Rs.unstable_NormalPriority,Sie=Rs.unstable_LowPriority,P5=Rs.unstable_IdlePriority,Lx=null,Co=null;function Cie(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Lx,t,void 0,(t.current.flags&128)===128)}catch(e){}}var $a=Math.clz32?Math.clz32:Pie,Aie=Math.log,Tie=Math.LN2;function Pie(t){return t>>>=0,t===0?32:31-(Aie(t)/Tie|0)|0}var $_=64,j_=4194304;function Gm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Gm(l):(a&=o,a!==0&&(n=Gm(a)))}else o=r&~s,o!==0?n=Gm(o):a!==0&&(n=Gm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-$a(e),s=1<<r,n|=t[r],e&=~s;return n}function Die(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-$a(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Die(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function lP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D5(){var t=$_;return $_<<=1,!($_&4194240)&&($_=64),t}function aC(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Py(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$a(e),t[e]=r}function Oie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-$a(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function mO(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-$a(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var pr=0;function R5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O5,gO,I5,B5,F5,uP=!1,z_=[],Fu=null,Mu=null,ku=null,tv=new Map,rv=new Map,vu=[],Iie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wk(t,e){switch(t){case"focusin":case"focusout":Fu=null;break;case"dragenter":case"dragleave":Mu=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":tv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rv.delete(e.pointerId)}}function pm(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Ry(e),e!==null&&gO(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Bie(t,e,r,n,s){switch(e){case"focusin":return Fu=pm(Fu,t,e,r,n,s),!0;case"dragenter":return Mu=pm(Mu,t,e,r,n,s),!0;case"mouseover":return ku=pm(ku,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return tv.set(a,pm(tv.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,rv.set(a,pm(rv.get(a)||null,t,e,r,n,s)),!0}return!1}function M5(t){var e=nd(t.target);if(e!==null){var r=rf(e);if(r!==null){if(e=r.tag,e===13){if(e=E5(r),e!==null){t.blockedOn=e,F5(t.priority,function(){I5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function m1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=cP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iP=n,r.target.dispatchEvent(n),iP=null}else return e=Ry(r),e!==null&&gO(e),t.blockedOn=r,!1;e.shift()}return!0}function Kk(t,e,r){m1(t)&&r.delete(e)}function Fie(){uP=!1,Fu!==null&&m1(Fu)&&(Fu=null),Mu!==null&&m1(Mu)&&(Mu=null),ku!==null&&m1(ku)&&(ku=null),tv.forEach(Kk),rv.forEach(Kk)}function mm(t,e){t.blockedOn===e&&(t.blockedOn=null,uP||(uP=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,Fie)))}function nv(t){function e(s){return mm(s,t)}if(0<z_.length){mm(z_[0],t);for(var r=1;r<z_.length;r++){var n=z_[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fu!==null&&mm(Fu,t),Mu!==null&&mm(Mu,t),ku!==null&&mm(ku,t),tv.forEach(e),rv.forEach(e),r=0;r<vu.length;r++)n=vu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)M5(r),r.blockedOn===null&&vu.shift()}var Th=Ll.ReactCurrentBatchConfig,wb=!0;function Mie(t,e,r,n){var s=pr,a=Th.transition;Th.transition=null;try{pr=1,vO(t,e,r,n)}finally{pr=s,Th.transition=a}}function kie(t,e,r,n){var s=pr,a=Th.transition;Th.transition=null;try{pr=4,vO(t,e,r,n)}finally{pr=s,Th.transition=a}}function vO(t,e,r,n){if(wb){var s=cP(t,e,r,n);if(s===null)gC(t,e,n,xb,r),Wk(t,n);else if(Bie(s,t,e,r,n))n.stopPropagation();else if(Wk(t,n),e&4&&-1<Iie.indexOf(t)){for(;s!==null;){var a=Ry(s);if(a!==null&&O5(a),a=cP(t,e,r,n),a===null&&gC(t,e,n,xb,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else gC(t,e,n,null,r)}}var xb=null;function cP(t,e,r,n){if(xb=null,t=hO(n),t=nd(t),t!==null)if(e=rf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=E5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xb=t,null}function k5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eie()){case pO:return 1;case T5:return 4;case _b:case Sie:return 16;case P5:return 536870912;default:return 16}default:return 16}}var xu=null,yO=null,g1=null;function N5(){if(g1)return g1;var t,e=yO,r=e.length,n,s="value"in xu?xu.value:xu.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return g1=s.slice(t,1<n?1-n:void 0)}function v1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function V_(){return!0}function Xk(){return!1}function ks(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?V_:Xk,this.isPropagationStopped=Xk,this}return tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=V_)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=V_)},persist:function(){},isPersistent:V_}),e}var Ip={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_O=ks(Ip),Dy=tn({},Ip,{view:0,detail:0}),Nie=ks(Dy),oC,lC,gm,Ux=tn({},Dy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gm&&(gm&&t.type==="mousemove"?(oC=t.screenX-gm.screenX,lC=t.screenY-gm.screenY):lC=oC=0,gm=t),oC)},movementY:function(t){return"movementY"in t?t.movementY:lC}}),Yk=ks(Ux),Lie=tn({},Ux,{dataTransfer:0}),Uie=ks(Lie),$ie=tn({},Dy,{relatedTarget:0}),uC=ks($ie),jie=tn({},Ip,{animationName:0,elapsedTime:0,pseudoElement:0}),zie=ks(jie),Vie=tn({},Ip,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gie=ks(Vie),Hie=tn({},Ip,{data:0}),qk=ks(Hie),Wie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xie[t])?!!e[t]:!1}function bO(){return Yie}var qie=tn({},Dy,{key:function(t){if(t.key){var e=Wie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=v1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bO,charCode:function(t){return t.type==="keypress"?v1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?v1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zie=ks(qie),Jie=tn({},Ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zk=ks(Jie),Qie=tn({},Dy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bO}),ese=ks(Qie),tse=tn({},Ip,{propertyName:0,elapsedTime:0,pseudoElement:0}),rse=ks(tse),nse=tn({},Ux,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ise=ks(nse),sse=[9,13,27,32],wO=xl&&"CompositionEvent"in window,bg=null;xl&&"documentMode"in document&&(bg=document.documentMode);var ase=xl&&"TextEvent"in window&&!bg,L5=xl&&(!wO||bg&&8<bg&&11>=bg),Jk=String.fromCharCode(32),Qk=!1;function U5(t,e){switch(t){case"keyup":return sse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ah=!1;function ose(t,e){switch(t){case"compositionend":return $5(e);case"keypress":return e.which!==32?null:(Qk=!0,Jk);case"textInput":return t=e.data,t===Jk&&Qk?null:t;default:return null}}function lse(t,e){if(ah)return t==="compositionend"||!wO&&U5(t,e)?(t=N5(),g1=yO=xu=null,ah=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L5&&e.locale!=="ko"?null:e.data;default:return null}}var use={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!use[t.type]:e==="textarea"}function j5(t,e,r,n){y5(n),e=Eb(e,"onChange"),0<e.length&&(r=new _O("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wg=null,iv=null;function cse(t){J5(t,0)}function $x(t){var e=uh(t);if(d5(e))return t}function dse(t,e){if(t==="change")return e}var z5=!1;if(xl){var cC;if(xl){var dC="oninput"in document;if(!dC){var tN=document.createElement("div");tN.setAttribute("oninput","return;"),dC=typeof tN.oninput=="function"}cC=dC}else cC=!1;z5=cC&&(!document.documentMode||9<document.documentMode)}function rN(){wg&&(wg.detachEvent("onpropertychange",V5),iv=wg=null)}function V5(t){if(t.propertyName==="value"&&$x(iv)){var e=[];j5(e,iv,t,hO(t)),x5(cse,e)}}function fse(t,e,r){t==="focusin"?(rN(),wg=e,iv=r,wg.attachEvent("onpropertychange",V5)):t==="focusout"&&rN()}function hse(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $x(iv)}function pse(t,e){if(t==="click")return $x(e)}function mse(t,e){if(t==="input"||t==="change")return $x(e)}function gse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wa=typeof Object.is=="function"?Object.is:gse;function sv(t,e){if(Wa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!WT.call(e,s)||!Wa(t[s],e[s]))return!1}return!0}function nN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iN(t,e){var r=nN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nN(r)}}function G5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H5(){for(var t=window,e=gb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch(n){r=!1}if(r)t=e.contentWindow;else break;e=gb(t.document)}return e}function xO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vse(t){var e=H5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&G5(r.ownerDocument.documentElement,r)){if(n!==null&&xO(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=iN(r,a);var o=iN(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yse=xl&&"documentMode"in document&&11>=document.documentMode,oh=null,dP=null,xg=null,fP=!1;function sN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fP||oh==null||oh!==gb(n)||(n=oh,"selectionStart"in n&&xO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xg&&sv(xg,n)||(xg=n,n=Eb(dP,"onSelect"),0<n.length&&(e=new _O("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=oh)))}function G_(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lh={animationend:G_("Animation","AnimationEnd"),animationiteration:G_("Animation","AnimationIteration"),animationstart:G_("Animation","AnimationStart"),transitionend:G_("Transition","TransitionEnd")},fC={},W5={};xl&&(W5=document.createElement("div").style,"AnimationEvent"in window||(delete lh.animationend.animation,delete lh.animationiteration.animation,delete lh.animationstart.animation),"TransitionEvent"in window||delete lh.transitionend.transition);function jx(t){if(fC[t])return fC[t];if(!lh[t])return t;var e=lh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in W5)return fC[t]=e[r];return t}var K5=jx("animationend"),X5=jx("animationiteration"),Y5=jx("animationstart"),q5=jx("transitionend"),Z5=new Map,aN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(t,e){Z5.set(t,e),tf(e,[t])}for(var hC=0;hC<aN.length;hC++){var pC=aN[hC],_se=pC.toLowerCase(),bse=pC[0].toUpperCase()+pC.slice(1);pc(_se,"on"+bse)}pc(K5,"onAnimationEnd");pc(X5,"onAnimationIteration");pc(Y5,"onAnimationStart");pc("dblclick","onDoubleClick");pc("focusin","onFocus");pc("focusout","onBlur");pc(q5,"onTransitionEnd");qh("onMouseEnter",["mouseout","mouseover"]);qh("onMouseLeave",["mouseout","mouseover"]);qh("onPointerEnter",["pointerout","pointerover"]);qh("onPointerLeave",["pointerout","pointerover"]);tf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tf("onBeforeInput",["compositionend","keypress","textInput","paste"]);tf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wse=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hm));function oN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_ie(n,e,void 0,t),t.currentTarget=null}function J5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;oN(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;oN(s,l,d),a=c}}}if(yb)throw t=oP,yb=!1,oP=null,t}function Tr(t,e){var r=e[vP];r===void 0&&(r=e[vP]=new Set);var n=t+"__bubble";r.has(n)||(Q5(e,t,2,!1),r.add(n))}function mC(t,e,r){var n=0;e&&(n|=4),Q5(r,t,n,e)}var H_="_reactListening"+Math.random().toString(36).slice(2);function av(t){if(!t[H_]){t[H_]=!0,a5.forEach(function(r){r!=="selectionchange"&&(wse.has(r)||mC(r,!1,t),mC(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H_]||(e[H_]=!0,mC("selectionchange",!1,e))}}function Q5(t,e,r,n){switch(k5(e)){case 1:var s=Mie;break;case 4:s=kie;break;default:s=vO}r=s.bind(null,e,r,t),s=void 0,!aP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function gC(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=nd(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}x5(function(){var d=a,f=hO(r),m=[];e:{var g=Z5.get(t);if(g!==void 0){var y=_O,_=t;switch(t){case"keypress":if(v1(r)===0)break e;case"keydown":case"keyup":y=Zie;break;case"focusin":_="focus",y=uC;break;case"focusout":_="blur",y=uC;break;case"beforeblur":case"afterblur":y=uC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Uie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ese;break;case K5:case X5:case Y5:y=zie;break;case q5:y=rse;break;case"scroll":y=Nie;break;case"wheel":y=ise;break;case"copy":case"cut":case"paste":y=Gie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Zk}var b=(e&4)!==0,u=!b&&t==="scroll",h=b?g!==null?g+"Capture":null:g;b=[];for(var p=d,v;p!==null;){v=p;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,h!==null&&(w=ev(p,h),w!=null&&b.push(ov(p,w,v)))),u)break;p=p.return}0<b.length&&(g=new y(g,_,null,r,f),m.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&r!==iP&&(_=r.relatedTarget||r.fromElement)&&(nd(_)||_[El]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=d,_=_?nd(_):null,_!==null&&(u=rf(_),_!==u||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=d),y!==_)){if(b=Yk,w="onMouseLeave",h="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Zk,w="onPointerLeave",h="onPointerEnter",p="pointer"),u=y==null?g:uh(y),v=_==null?g:uh(_),g=new b(w,p+"leave",y,r,f),g.target=u,g.relatedTarget=v,w=null,nd(f)===d&&(b=new b(h,p+"enter",_,r,f),b.target=v,b.relatedTarget=u,w=b),u=w,y&&_)t:{for(b=y,h=_,p=0,v=b;v;v=wf(v))p++;for(v=0,w=h;w;w=wf(w))v++;for(;0<p-v;)b=wf(b),p--;for(;0<v-p;)h=wf(h),v--;for(;p--;){if(b===h||h!==null&&b===h.alternate)break t;b=wf(b),h=wf(h)}b=null}else b=null;y!==null&&lN(m,g,y,b,!1),_!==null&&u!==null&&lN(m,u,_,b,!0)}}e:{if(g=d?uh(d):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var x=dse;else if(eN(g))if(z5)x=mse;else{x=hse;var S=fse}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(x=pse);if(x&&(x=x(t,d))){j5(m,x,r,f);break e}S&&S(t,g,d),t==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&QT(g,"number",g.value)}switch(S=d?uh(d):window,t){case"focusin":(eN(S)||S.contentEditable==="true")&&(oh=S,dP=d,xg=null);break;case"focusout":xg=dP=oh=null;break;case"mousedown":fP=!0;break;case"contextmenu":case"mouseup":case"dragend":fP=!1,sN(m,r,f);break;case"selectionchange":if(yse)break;case"keydown":case"keyup":sN(m,r,f)}var E;if(wO)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ah?U5(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(L5&&r.locale!=="ko"&&(ah||P!=="onCompositionStart"?P==="onCompositionEnd"&&ah&&(E=N5()):(xu=f,yO="value"in xu?xu.value:xu.textContent,ah=!0)),S=Eb(d,P),0<S.length&&(P=new qk(P,t,null,r,f),m.push({event:P,listeners:S}),E?P.data=E:(E=$5(r),E!==null&&(P.data=E)))),(E=ase?ose(t,r):lse(t,r))&&(d=Eb(d,"onBeforeInput"),0<d.length&&(f=new qk("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:d}),f.data=E))}J5(m,e)})}function ov(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Eb(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ev(t,r),a!=null&&n.unshift(ov(t,a,s)),a=ev(t,e),a!=null&&n.push(ov(t,a,s))),t=t.return}return n}function wf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lN(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=ev(r,a),c!=null&&o.unshift(ov(r,c,l))):s||(c=ev(r,a),c!=null&&o.push(ov(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var xse=/\r\n?/g,Ese=/\u0000|\uFFFD/g;function uN(t){return(typeof t=="string"?t:""+t).replace(xse,"\n").replace(Ese,"")}function W_(t,e,r){if(e=uN(e),uN(t)!==e&&r)throw Error(Oe(425))}function Sb(){}var hP=null,pP=null;function mP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gP=typeof setTimeout=="function"?setTimeout:void 0,Sse=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,Cse=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(t){return cN.resolve(null).then(t).catch(Ase)}:gP;function Ase(t){setTimeout(function(){throw t})}function vC(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),nv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);nv(e)}function Nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bp=Math.random().toString(36).slice(2),vo="__reactFiber$"+Bp,lv="__reactProps$"+Bp,El="__reactContainer$"+Bp,vP="__reactEvents$"+Bp,Tse="__reactListeners$"+Bp,Pse="__reactHandles$"+Bp;function nd(t){var e=t[vo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[El]||r[vo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dN(t);t!==null;){if(r=t[vo])return r;t=dN(t)}return e}t=r,r=t.parentNode}return null}function Ry(t){return t=t[vo]||t[El],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function zx(t){return t[lv]||null}var yP=[],ch=-1;function mc(t){return{current:t}}function Br(t){0>ch||(t.current=yP[ch],yP[ch]=null,ch--)}function Cr(t,e){ch++,yP[ch]=t.current,t.current=e}var Zu={},bi=mc(Zu),Ji=mc(!1),Bd=Zu;function Zh(t,e){var r=t.type.contextTypes;if(!r)return Zu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qi(t){return t=t.childContextTypes,t!=null}function Cb(){Br(Ji),Br(bi)}function fN(t,e,r){if(bi.current!==Zu)throw Error(Oe(168));Cr(bi,e),Cr(Ji,r)}function ez(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Oe(108,fie(t)||"Unknown",s));return tn({},r,n)}function Ab(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zu,Bd=bi.current,Cr(bi,t),Cr(Ji,Ji.current),!0}function hN(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=ez(t,e,Bd),n.__reactInternalMemoizedMergedChildContext=t,Br(Ji),Br(bi),Cr(bi,t)):Br(Ji),Cr(Ji,r)}var nl=null,Vx=!1,yC=!1;function tz(t){nl===null?nl=[t]:nl.push(t)}function Dse(t){Vx=!0,tz(t)}function gc(){if(!yC&&nl!==null){yC=!0;var t=0,e=pr;try{var r=nl;for(pr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nl=null,Vx=!1}catch(s){throw nl!==null&&(nl=nl.slice(t+1)),A5(pO,gc),s}finally{pr=e,yC=!1}}return null}var dh=[],fh=0,Tb=null,Pb=0,Ys=[],qs=0,Fd=null,ul=1,cl="";function Vc(t,e){dh[fh++]=Pb,dh[fh++]=Tb,Tb=t,Pb=e}function rz(t,e,r){Ys[qs++]=ul,Ys[qs++]=cl,Ys[qs++]=Fd,Fd=t;var n=ul;t=cl;var s=32-$a(n)-1;n&=~(1<<s),r+=1;var a=32-$a(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ul=1<<32-$a(e)+s|r<<s|n,cl=a+t}else ul=1<<a|r<<s|n,cl=t}function EO(t){t.return!==null&&(Vc(t,1),rz(t,1,0))}function SO(t){for(;t===Tb;)Tb=dh[--fh],dh[fh]=null,Pb=dh[--fh],dh[fh]=null;for(;t===Fd;)Fd=Ys[--qs],Ys[qs]=null,cl=Ys[--qs],Ys[qs]=null,ul=Ys[--qs],Ys[qs]=null}var As=null,xs=null,Vr=!1,Ra=null;function nz(t,e){var r=ra(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,As=t,xs=Nu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,As=t,xs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Fd!==null?{id:ul,overflow:cl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ra(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,As=t,xs=null,!0):!1;default:return!1}}function _P(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bP(t){if(Vr){var e=xs;if(e){var r=e;if(!pN(t,e)){if(_P(t))throw Error(Oe(418));e=Nu(r.nextSibling);var n=As;e&&pN(t,e)?nz(n,r):(t.flags=t.flags&-4097|2,Vr=!1,As=t)}}else{if(_P(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Vr=!1,As=t}}}function mN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;As=t}function K_(t){if(t!==As)return!1;if(!Vr)return mN(t),Vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mP(t.type,t.memoizedProps)),e&&(e=xs)){if(_P(t))throw iz(),Error(Oe(418));for(;e;)nz(t,e),e=Nu(e.nextSibling)}if(mN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xs=Nu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xs=null}}else xs=As?Nu(t.stateNode.nextSibling):null;return!0}function iz(){for(var t=xs;t;)t=Nu(t.nextSibling)}function Jh(){xs=As=null,Vr=!1}function CO(t){Ra===null?Ra=[t]:Ra.push(t)}var Rse=Ll.ReactCurrentBatchConfig;function vm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function X_(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gN(t){var e=t._init;return e(t._payload)}function sz(t){function e(h,p){if(t){var v=h.deletions;v===null?(h.deletions=[p],h.flags|=16):v.push(p)}}function r(h,p){if(!t)return null;for(;p!==null;)e(h,p),p=p.sibling;return null}function n(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function s(h,p){return h=ju(h,p),h.index=0,h.sibling=null,h}function a(h,p,v){return h.index=v,t?(v=h.alternate,v!==null?(v=v.index,v<p?(h.flags|=2,p):v):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,p,v,w){return p===null||p.tag!==6?(p=CC(v,h.mode,w),p.return=h,p):(p=s(p,v),p.return=h,p)}function c(h,p,v,w){var x=v.type;return x===sh?f(h,p,v.props.children,w,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===uu&&gN(x)===p.type)?(w=s(p,v.props),w.ref=vm(h,p,v),w.return=h,w):(w=S1(v.type,v.key,v.props,null,h.mode,w),w.ref=vm(h,p,v),w.return=h,w)}function d(h,p,v,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=AC(v,h.mode,w),p.return=h,p):(p=s(p,v.children||[]),p.return=h,p)}function f(h,p,v,w,x){return p===null||p.tag!==7?(p=md(v,h.mode,w,x),p.return=h,p):(p=s(p,v),p.return=h,p)}function m(h,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=CC(""+p,h.mode,v),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case N_:return v=S1(p.type,p.key,p.props,null,h.mode,v),v.ref=vm(h,null,p),v.return=h,v;case ih:return p=AC(p,h.mode,v),p.return=h,p;case uu:var w=p._init;return m(h,w(p._payload),v)}if(Vm(p)||fm(p))return p=md(p,h.mode,v,null),p.return=h,p;X_(h,p)}return null}function g(h,p,v,w){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:l(h,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case N_:return v.key===x?c(h,p,v,w):null;case ih:return v.key===x?d(h,p,v,w):null;case uu:return x=v._init,g(h,p,x(v._payload),w)}if(Vm(v)||fm(v))return x!==null?null:f(h,p,v,w,null);X_(h,v)}return null}function y(h,p,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(v)||null,l(p,h,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case N_:return h=h.get(w.key===null?v:w.key)||null,c(p,h,w,x);case ih:return h=h.get(w.key===null?v:w.key)||null,d(p,h,w,x);case uu:var S=w._init;return y(h,p,v,S(w._payload),x)}if(Vm(w)||fm(w))return h=h.get(v)||null,f(p,h,w,x,null);X_(p,w)}return null}function _(h,p,v,w){for(var x=null,S=null,E=p,P=p=0,T=null;E!==null&&P<v.length;P++){E.index>P?(T=E,E=null):T=E.sibling;var A=g(h,E,v[P],w);if(A===null){E===null&&(E=T);break}t&&E&&A.alternate===null&&e(h,E),p=a(A,p,P),S===null?x=A:S.sibling=A,S=A,E=T}if(P===v.length)return r(h,E),Vr&&Vc(h,P),x;if(E===null){for(;P<v.length;P++)E=m(h,v[P],w),E!==null&&(p=a(E,p,P),S===null?x=E:S.sibling=E,S=E);return Vr&&Vc(h,P),x}for(E=n(h,E);P<v.length;P++)T=y(E,h,P,v[P],w),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?P:T.key),p=a(T,p,P),S===null?x=T:S.sibling=T,S=T);return t&&E.forEach(function(R){return e(h,R)}),Vr&&Vc(h,P),x}function b(h,p,v,w){var x=fm(v);if(typeof x!="function")throw Error(Oe(150));if(v=x.call(v),v==null)throw Error(Oe(151));for(var S=x=null,E=p,P=p=0,T=null,A=v.next();E!==null&&!A.done;P++,A=v.next()){E.index>P?(T=E,E=null):T=E.sibling;var R=g(h,E,A.value,w);if(R===null){E===null&&(E=T);break}t&&E&&R.alternate===null&&e(h,E),p=a(R,p,P),S===null?x=R:S.sibling=R,S=R,E=T}if(A.done)return r(h,E),Vr&&Vc(h,P),x;if(E===null){for(;!A.done;P++,A=v.next())A=m(h,A.value,w),A!==null&&(p=a(A,p,P),S===null?x=A:S.sibling=A,S=A);return Vr&&Vc(h,P),x}for(E=n(h,E);!A.done;P++,A=v.next())A=y(E,h,P,A.value,w),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?P:A.key),p=a(A,p,P),S===null?x=A:S.sibling=A,S=A);return t&&E.forEach(function(D){return e(h,D)}),Vr&&Vc(h,P),x}function u(h,p,v,w){if(typeof v=="object"&&v!==null&&v.type===sh&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case N_:e:{for(var x=v.key,S=p;S!==null;){if(S.key===x){if(x=v.type,x===sh){if(S.tag===7){r(h,S.sibling),p=s(S,v.props.children),p.return=h,h=p;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===uu&&gN(x)===S.type){r(h,S.sibling),p=s(S,v.props),p.ref=vm(h,S,v),p.return=h,h=p;break e}r(h,S);break}else e(h,S);S=S.sibling}v.type===sh?(p=md(v.props.children,h.mode,w,v.key),p.return=h,h=p):(w=S1(v.type,v.key,v.props,null,h.mode,w),w.ref=vm(h,p,v),w.return=h,h=w)}return o(h);case ih:e:{for(S=v.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(h,p.sibling),p=s(p,v.children||[]),p.return=h,h=p;break e}else{r(h,p);break}else e(h,p);p=p.sibling}p=AC(v,h.mode,w),p.return=h,h=p}return o(h);case uu:return S=v._init,u(h,p,S(v._payload),w)}if(Vm(v))return _(h,p,v,w);if(fm(v))return b(h,p,v,w);X_(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(h,p.sibling),p=s(p,v),p.return=h,h=p):(r(h,p),p=CC(v,h.mode,w),p.return=h,h=p),o(h)):r(h,p)}return u}var Qh=sz(!0),az=sz(!1),Db=mc(null),Rb=null,hh=null,AO=null;function TO(){AO=hh=Rb=null}function PO(t){var e=Db.current;Br(Db),t._currentValue=e}function wP(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ph(t,e){Rb=t,AO=hh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qi=!0),t.firstContext=null)}function ha(t){var e=t._currentValue;if(AO!==t)if(t={context:t,memoizedValue:e,next:null},hh===null){if(Rb===null)throw Error(Oe(308));hh=t,Rb.dependencies={lanes:0,firstContext:t}}else hh=hh.next=t;return e}var id=null;function DO(t){id===null?id=[t]:id.push(t)}function oz(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,DO(e)):(r.next=s.next,s.next=r),e.interleaved=r,Sl(t,n)}function Sl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var cu=!1;function RO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lz(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,sr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Sl(t,r)}return s=n.interleaved,s===null?(e.next=e,DO(n)):(e.next=s.next,s.next=e),n.interleaved=e,Sl(t,r)}function y1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mO(t,r)}}function vN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ob(t,e,r,n){var s=t.updateQueue;cu=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var m=s.baseState;o=0,f=d=c=null,l=a;do{var g=l.lane,y=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,b=l;switch(g=e,y=r,b.tag){case 1:if(_=b.payload,typeof _=="function"){m=_.call(y,m,g);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,g=typeof _=="function"?_.call(y,m,g):_,g==null)break e;m=tn({},m,g);break e;case 2:cu=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,c=m):f=f.next=y,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);kd|=o,t.lanes=o,t.memoizedState=m}}function yN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Oe(191,s));s.call(n)}}}var Oy={},Ao=mc(Oy),uv=mc(Oy),cv=mc(Oy);function sd(t){if(t===Oy)throw Error(Oe(174));return t}function OO(t,e){switch(Cr(cv,e),Cr(uv,t),Cr(Ao,Oy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tP(e,t)}Br(Ao),Cr(Ao,e)}function ep(){Br(Ao),Br(uv),Br(cv)}function uz(t){sd(cv.current);var e=sd(Ao.current),r=tP(e,t.type);e!==r&&(Cr(uv,t),Cr(Ao,r))}function IO(t){uv.current===t&&(Br(Ao),Br(uv))}var qr=mc(0);function Ib(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _C=[];function BO(){for(var t=0;t<_C.length;t++)_C[t]._workInProgressVersionPrimary=null;_C.length=0}var _1=Ll.ReactCurrentDispatcher,bC=Ll.ReactCurrentBatchConfig,Md=0,en=null,Dn=null,Vn=null,Bb=!1,Eg=!1,dv=0,Ose=0;function ci(){throw Error(Oe(321))}function FO(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Wa(t[r],e[r]))return!1;return!0}function MO(t,e,r,n,s,a){if(Md=a,en=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_1.current=t===null||t.memoizedState===null?Mse:kse,t=r(n,s),Eg){a=0;do{if(Eg=!1,dv=0,25<=a)throw Error(Oe(301));a+=1,Vn=Dn=null,e.updateQueue=null,_1.current=Nse,t=r(n,s)}while(Eg)}if(_1.current=Fb,e=Dn!==null&&Dn.next!==null,Md=0,Vn=Dn=en=null,Bb=!1,e)throw Error(Oe(300));return t}function kO(){var t=dv!==0;return dv=0,t}function uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?en.memoizedState=Vn=t:Vn=Vn.next=t,Vn}function pa(){if(Dn===null){var t=en.alternate;t=t!==null?t.memoizedState:null}else t=Dn.next;var e=Vn===null?en.memoizedState:Vn.next;if(e!==null)Vn=e,Dn=t;else{if(t===null)throw Error(Oe(310));Dn=t,t={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Vn===null?en.memoizedState=Vn=t:Vn=Vn.next=t}return Vn}function fv(t,e){return typeof e=="function"?e(t):e}function wC(t){var e=pa(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=Dn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((Md&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,en.lanes|=f,kd|=f}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Wa(n,e.memoizedState)||(qi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,en.lanes|=a,kd|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function xC(t){var e=pa(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Wa(a,e.memoizedState)||(qi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function cz(){}function dz(t,e){var r=en,n=pa(),s=e(),a=!Wa(n.memoizedState,s);if(a&&(n.memoizedState=s,qi=!0),n=n.queue,NO(pz.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Vn!==null&&Vn.memoizedState.tag&1){if(r.flags|=2048,hv(9,hz.bind(null,r,n,s,e),void 0,null),Xn===null)throw Error(Oe(349));Md&30||fz(r,e,s)}return s}function fz(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function hz(t,e,r,n){e.value=r,e.getSnapshot=n,mz(e)&&gz(t)}function pz(t,e,r){return r(function(){mz(e)&&gz(t)})}function mz(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Wa(t,r)}catch(n){return!0}}function gz(t){var e=Sl(t,1);e!==null&&ja(e,t,1,-1)}function _N(t){var e=uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:t},e.queue=t,t=t.dispatch=Fse.bind(null,en,t),[e.memoizedState,t]}function hv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function vz(){return pa().memoizedState}function b1(t,e,r,n){var s=uo();en.flags|=t,s.memoizedState=hv(1|e,r,void 0,n===void 0?null:n)}function Gx(t,e,r,n){var s=pa();n=n===void 0?null:n;var a=void 0;if(Dn!==null){var o=Dn.memoizedState;if(a=o.destroy,n!==null&&FO(n,o.deps)){s.memoizedState=hv(e,r,a,n);return}}en.flags|=t,s.memoizedState=hv(1|e,r,a,n)}function bN(t,e){return b1(8390656,8,t,e)}function NO(t,e){return Gx(2048,8,t,e)}function yz(t,e){return Gx(4,2,t,e)}function _z(t,e){return Gx(4,4,t,e)}function bz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wz(t,e,r){return r=r!=null?r.concat([t]):null,Gx(4,4,bz.bind(null,e,t),r)}function LO(){}function xz(t,e){var r=pa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FO(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ez(t,e){var r=pa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FO(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Sz(t,e,r){return Md&21?(Wa(r,e)||(r=D5(),en.lanes|=r,kd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qi=!0),t.memoizedState=r)}function Ise(t,e){var r=pr;pr=r!==0&&4>r?r:4,t(!0);var n=bC.transition;bC.transition={};try{t(!1),e()}finally{pr=r,bC.transition=n}}function Cz(){return pa().memoizedState}function Bse(t,e,r){var n=$u(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Az(t))Tz(e,r);else if(r=oz(t,e,r,n),r!==null){var s=Fi();ja(r,t,n,s),Pz(r,e,n)}}function Fse(t,e,r){var n=$u(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Az(t))Tz(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Wa(l,o)){var c=e.interleaved;c===null?(s.next=s,DO(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch(d){}finally{}r=oz(t,e,s,n),r!==null&&(s=Fi(),ja(r,t,n,s),Pz(r,e,n))}}function Az(t){var e=t.alternate;return t===en||e!==null&&e===en}function Tz(t,e){Eg=Bb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Pz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mO(t,r)}}var Fb={readContext:ha,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},Mse={readContext:ha,useCallback:function(t,e){return uo().memoizedState=[t,e===void 0?null:e],t},useContext:ha,useEffect:bN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,b1(4194308,4,bz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return b1(4194308,4,t,e)},useInsertionEffect:function(t,e){return b1(4,2,t,e)},useMemo:function(t,e){var r=uo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=uo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Bse.bind(null,en,t),[n.memoizedState,t]},useRef:function(t){var e=uo();return t={current:t},e.memoizedState=t},useState:_N,useDebugValue:LO,useDeferredValue:function(t){return uo().memoizedState=t},useTransition:function(){var t=_N(!1),e=t[0];return t=Ise.bind(null,t[1]),uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=en,s=uo();if(Vr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),Xn===null)throw Error(Oe(349));Md&30||fz(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,bN(pz.bind(null,n,a,t),[t]),n.flags|=2048,hv(9,hz.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=uo(),e=Xn.identifierPrefix;if(Vr){var r=cl,n=ul;r=(n&~(1<<32-$a(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=dv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ose++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kse={readContext:ha,useCallback:xz,useContext:ha,useEffect:NO,useImperativeHandle:wz,useInsertionEffect:yz,useLayoutEffect:_z,useMemo:Ez,useReducer:wC,useRef:vz,useState:function(){return wC(fv)},useDebugValue:LO,useDeferredValue:function(t){var e=pa();return Sz(e,Dn.memoizedState,t)},useTransition:function(){var t=wC(fv)[0],e=pa().memoizedState;return[t,e]},useMutableSource:cz,useSyncExternalStore:dz,useId:Cz,unstable_isNewReconciler:!1},Nse={readContext:ha,useCallback:xz,useContext:ha,useEffect:NO,useImperativeHandle:wz,useInsertionEffect:yz,useLayoutEffect:_z,useMemo:Ez,useReducer:xC,useRef:vz,useState:function(){return xC(fv)},useDebugValue:LO,useDeferredValue:function(t){var e=pa();return Dn===null?e.memoizedState=t:Sz(e,Dn.memoizedState,t)},useTransition:function(){var t=xC(fv)[0],e=pa().memoizedState;return[t,e]},useMutableSource:cz,useSyncExternalStore:dz,useId:Cz,unstable_isNewReconciler:!1};function Ca(t,e){if(t&&t.defaultProps){e=tn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function xP(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hx={isMounted:function(t){return(t=t._reactInternals)?rf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fi(),s=$u(t),a=gl(n,s);a.payload=e,r!=null&&(a.callback=r),e=Lu(t,a,s),e!==null&&(ja(e,t,s,n),y1(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fi(),s=$u(t),a=gl(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Lu(t,a,s),e!==null&&(ja(e,t,s,n),y1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fi(),n=$u(t),s=gl(r,n);s.tag=2,e!=null&&(s.callback=e),e=Lu(t,s,n),e!==null&&(ja(e,t,n,r),y1(e,t,n))}};function wN(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!sv(r,n)||!sv(s,a):!0}function Dz(t,e,r){var n=!1,s=Zu,a=e.contextType;return typeof a=="object"&&a!==null?a=ha(a):(s=Qi(e)?Bd:bi.current,n=e.contextTypes,a=(n=n!=null)?Zh(t,s):Zu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function xN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hx.enqueueReplaceState(e,e.state,null)}function EP(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},RO(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=ha(a):(a=Qi(e)?Bd:bi.current,s.context=Zh(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(xP(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hx.enqueueReplaceState(s,s.state,null),Ob(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tp(t,e){try{var r="",n=e;do r+=die(n),n=n.return;while(n);var s=r}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:t,source:e,stack:s,digest:null}}function EC(t,e,r){return{value:t,source:null,stack:r!=null?r:null,digest:e!=null?e:null}}function SP(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Lse=typeof WeakMap=="function"?WeakMap:Map;function Rz(t,e,r){r=gl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){kb||(kb=!0,FP=n),SP(t,e)},r}function Oz(t,e,r){r=gl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){SP(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){SP(t,e),typeof n!="function"&&(Uu===null?Uu=new Set([this]):Uu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function EN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Lse;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Jse.bind(null,t,e,r),e.then(t,t))}function SN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function CN(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gl(-1,1),e.tag=2,Lu(r,e,1))),r.lanes|=1),t)}var Use=Ll.ReactCurrentOwner,qi=!1;function Ti(t,e,r,n){e.child=t===null?az(e,null,r,n):Qh(e,t.child,r,n)}function AN(t,e,r,n,s){r=r.render;var a=e.ref;return Ph(e,s),n=MO(t,e,r,n,a,s),r=kO(),t!==null&&!qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cl(t,e,s)):(Vr&&r&&EO(e),e.flags|=1,Ti(t,e,n,s),e.child)}function TN(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!WO(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Iz(t,e,a,n,s)):(t=S1(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:sv,r(o,n)&&t.ref===e.ref)return Cl(t,e,s)}return e.flags|=1,t=ju(a,n),t.ref=e.ref,t.return=e,e.child=t}function Iz(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(sv(a,n)&&t.ref===e.ref)if(qi=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(qi=!0);else return e.lanes=t.lanes,Cl(t,e,s)}return CP(t,e,r,n,s)}function Bz(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(mh,hs),hs|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(mh,hs),hs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Cr(mh,hs),hs|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Cr(mh,hs),hs|=n;return Ti(t,e,s,r),e.child}function Fz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function CP(t,e,r,n,s){var a=Qi(r)?Bd:bi.current;return a=Zh(e,a),Ph(e,s),r=MO(t,e,r,n,a,s),n=kO(),t!==null&&!qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cl(t,e,s)):(Vr&&n&&EO(e),e.flags|=1,Ti(t,e,r,s),e.child)}function PN(t,e,r,n,s){if(Qi(r)){var a=!0;Ab(e)}else a=!1;if(Ph(e,s),e.stateNode===null)w1(t,e),Dz(e,r,n),EP(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ha(d):(d=Qi(r)?Bd:bi.current,d=Zh(e,d));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&xN(e,o,n,d),cu=!1;var g=e.memoizedState;o.state=g,Ob(e,n,o,s),c=e.memoizedState,l!==n||g!==c||Ji.current||cu?(typeof f=="function"&&(xP(e,r,f,n),c=e.memoizedState),(l=cu||wN(e,r,l,n,g,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,lz(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ca(e.type,l),o.props=d,m=e.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ha(c):(c=Qi(r)?Bd:bi.current,c=Zh(e,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&xN(e,o,n,c),cu=!1,g=e.memoizedState,o.state=g,Ob(e,n,o,s);var _=e.memoizedState;l!==m||g!==_||Ji.current||cu?(typeof y=="function"&&(xP(e,r,y,n),_=e.memoizedState),(d=cu||wN(e,r,d,n,g,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return AP(t,e,r,n,a,s)}function AP(t,e,r,n,s,a){Fz(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&hN(e,r,!1),Cl(t,e,a);n=e.stateNode,Use.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Qh(e,t.child,null,a),e.child=Qh(e,null,l,a)):Ti(t,e,l,a),e.memoizedState=n.state,s&&hN(e,r,!0),e.child}function Mz(t){var e=t.stateNode;e.pendingContext?fN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fN(t,e.context,!1),OO(t,e.containerInfo)}function DN(t,e,r,n,s){return Jh(),CO(s),e.flags|=256,Ti(t,e,r,n),e.child}var TP={dehydrated:null,treeContext:null,retryLane:0};function PP(t){return{baseLanes:t,cachePool:null,transitions:null}}function kz(t,e,r){var n=e.pendingProps,s=qr.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Cr(qr,s&1),t===null)return bP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xx(o,n,0,null),t=md(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=PP(r),e.memoizedState=TP,t):UO(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $se(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ju(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ju(l,a):(a=md(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?PP(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=TP,n}return a=t.child,t=a.sibling,n=ju(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function UO(t,e){return e=Xx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Y_(t,e,r,n){return n!==null&&CO(n),Qh(e,t.child,null,r),t=UO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $se(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=EC(Error(Oe(422))),Y_(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=Xx({mode:"visible",children:n.children},s,0,null),a=md(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Qh(e,t.child,null,o),e.child.memoizedState=PP(o),e.memoizedState=TP,a);if(!(e.mode&1))return Y_(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Oe(419)),n=EC(a,n,void 0),Y_(t,e,o,n)}if(l=(o&t.childLanes)!==0,qi||l){if(n=Xn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Sl(t,s),ja(n,t,s,-1))}return HO(),n=EC(Error(Oe(421))),Y_(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Qse.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,xs=Nu(s.nextSibling),As=e,Vr=!0,Ra=null,t!==null&&(Ys[qs++]=ul,Ys[qs++]=cl,Ys[qs++]=Fd,ul=t.id,cl=t.overflow,Fd=e),e=UO(e,n.children),e.flags|=4096,e)}function RN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),wP(t.return,e,r)}function SC(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Nz(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(Ti(t,e,n.children,r),n=qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RN(t,r,e);else if(t.tag===19)RN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Cr(qr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ib(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),SC(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ib(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}SC(e,!0,r,null,a);break;case"together":SC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function w1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),kd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=ju(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ju(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jse(t,e,r){switch(e.tag){case 3:Mz(e),Jh();break;case 5:uz(e);break;case 1:Qi(e.type)&&Ab(e);break;case 4:OO(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Cr(Db,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cr(qr,qr.current&1),e.flags|=128,null):r&e.child.childLanes?kz(t,e,r):(Cr(qr,qr.current&1),t=Cl(t,e,r),t!==null?t.sibling:null);Cr(qr,qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Nz(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cr(qr,qr.current),n)break;return null;case 22:case 23:return e.lanes=0,Bz(t,e,r)}return Cl(t,e,r)}var Lz,DP,Uz,$z;Lz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};DP=function(){};Uz=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,sd(Ao.current);var a=null;switch(r){case"input":s=ZT(t,s),n=ZT(t,n),a=[];break;case"select":s=tn({},s,{value:void 0}),n=tn({},n,{value:void 0}),a=[];break;case"textarea":s=eP(t,s),n=eP(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Sb)}rP(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jg.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Tr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};$z=function(t,e,r,n){r!==n&&(e.flags|=4)};function ym(t,e){if(!Vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function di(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zse(t,e,r){var n=e.pendingProps;switch(SO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(e),null;case 1:return Qi(e.type)&&Cb(),di(e),null;case 3:return n=e.stateNode,ep(),Br(Ji),Br(bi),BO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(K_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ra!==null&&(NP(Ra),Ra=null))),DP(t,e),di(e),null;case 5:IO(e);var s=sd(cv.current);if(r=e.type,t!==null&&e.stateNode!=null)Uz(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return di(e),null}if(t=sd(Ao.current),K_(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[vo]=e,n[lv]=a,t=(e.mode&1)!==0,r){case"dialog":Tr("cancel",n),Tr("close",n);break;case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(s=0;s<Hm.length;s++)Tr(Hm[s],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"details":Tr("toggle",n);break;case"input":Uk(n,a),Tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",n);break;case"textarea":jk(n,a),Tr("invalid",n)}rP(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&W_(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&W_(n.textContent,l,t),s=["children",""+l]):Jg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Tr("scroll",n)}switch(r){case"input":L_(n),$k(n,a,!0);break;case"textarea":L_(n),zk(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sb)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[vo]=e,t[lv]=n,Lz(t,e,!1,!1),e.stateNode=t;e:{switch(o=nP(r,n),r){case"dialog":Tr("cancel",t),Tr("close",t),s=n;break;case"iframe":case"object":case"embed":Tr("load",t),s=n;break;case"video":case"audio":for(s=0;s<Hm.length;s++)Tr(Hm[s],t);s=n;break;case"source":Tr("error",t),s=n;break;case"img":case"image":case"link":Tr("error",t),Tr("load",t),s=n;break;case"details":Tr("toggle",t),s=n;break;case"input":Uk(t,n),s=ZT(t,n),Tr("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=tn({},n,{value:void 0}),Tr("invalid",t);break;case"textarea":jk(t,n),s=eP(t,n),Tr("invalid",t);break;default:s=n}rP(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?v5(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&m5(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qg(t,c):typeof c=="number"&&Qg(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jg.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Tr("scroll",t):c!=null&&uO(t,a,c,o))}switch(r){case"input":L_(t),$k(t,n,!1);break;case"textarea":L_(t),zk(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Sh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Sh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Sb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return di(e),null;case 6:if(t&&e.stateNode!=null)$z(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=sd(cv.current),sd(Ao.current),K_(e)){if(n=e.stateNode,r=e.memoizedProps,n[vo]=e,(a=n.nodeValue!==r)&&(t=As,t!==null))switch(t.tag){case 3:W_(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&W_(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vo]=e,e.stateNode=n}return di(e),null;case 13:if(Br(qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vr&&xs!==null&&e.mode&1&&!(e.flags&128))iz(),Jh(),e.flags|=98560,a=!1;else if(a=K_(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[vo]=e}else Jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;di(e),a=!1}else Ra!==null&&(NP(Ra),Ra=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||qr.current&1?Rn===0&&(Rn=3):HO())),e.updateQueue!==null&&(e.flags|=4),di(e),null);case 4:return ep(),DP(t,e),t===null&&av(e.stateNode.containerInfo),di(e),null;case 10:return PO(e.type._context),di(e),null;case 17:return Qi(e.type)&&Cb(),di(e),null;case 19:if(Br(qr),a=e.memoizedState,a===null)return di(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ym(a,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ib(t),o!==null){for(e.flags|=128,ym(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Cr(qr,qr.current&1|2),e.child}t=t.sibling}a.tail!==null&&mn()>rp&&(e.flags|=128,n=!0,ym(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ib(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ym(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Vr)return di(e),null}else 2*mn()-a.renderingStartTime>rp&&r!==1073741824&&(e.flags|=128,n=!0,ym(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=mn(),e.sibling=null,r=qr.current,Cr(qr,n?r&1|2:r&1),e):(di(e),null);case 22:case 23:return GO(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hs&1073741824&&(di(e),e.subtreeFlags&6&&(e.flags|=8192)):di(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function Vse(t,e){switch(SO(e),e.tag){case 1:return Qi(e.type)&&Cb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ep(),Br(Ji),Br(bi),BO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return IO(e),null;case 13:if(Br(qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Jh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Br(qr),null;case 4:return ep(),null;case 10:return PO(e.type._context),null;case 22:case 23:return GO(),null;case 24:return null;default:return null}}var q_=!1,pi=!1,Gse=typeof WeakSet=="function"?WeakSet:Set,st=null;function ph(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){on(t,e,n)}else r.current=null}function RP(t,e,r){try{r()}catch(n){on(t,e,n)}}var ON=!1;function Hse(t,e){if(hP=wb,t=H5(),xO(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=t,g=null;t:for(;;){for(var y;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==a||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===r&&++d===s&&(l=o),g===a&&++f===n&&(c=o),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pP={focusedElem:t,selectionRange:r},wb=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,u=_.memoizedState,h=e.stateNode,p=h.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ca(e.type,b),u);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(w){on(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return _=ON,ON=!1,_}function Sg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&RP(e,r,a)}s=s.next}while(s!==n)}}function Wx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function OP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jz(t){var e=t.alternate;e!==null&&(t.alternate=null,jz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vo],delete e[lv],delete e[vP],delete e[Tse],delete e[Pse])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zz(t){return t.tag===5||t.tag===3||t.tag===4}function IN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function IP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Sb));else if(n!==4&&(t=t.child,t!==null))for(IP(t,e,r),t=t.sibling;t!==null;)IP(t,e,r),t=t.sibling}function BP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(BP(t,e,r),t=t.sibling;t!==null;)BP(t,e,r),t=t.sibling}var ei=null,Pa=!1;function Zl(t,e,r){for(r=r.child;r!==null;)Vz(t,e,r),r=r.sibling}function Vz(t,e,r){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Lx,r)}catch(l){}switch(r.tag){case 5:pi||ph(r,e);case 6:var n=ei,s=Pa;ei=null,Zl(t,e,r),ei=n,Pa=s,ei!==null&&(Pa?(t=ei,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ei.removeChild(r.stateNode));break;case 18:ei!==null&&(Pa?(t=ei,r=r.stateNode,t.nodeType===8?vC(t.parentNode,r):t.nodeType===1&&vC(t,r),nv(t)):vC(ei,r.stateNode));break;case 4:n=ei,s=Pa,ei=r.stateNode.containerInfo,Pa=!0,Zl(t,e,r),ei=n,Pa=s;break;case 0:case 11:case 14:case 15:if(!pi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&RP(r,e,o),s=s.next}while(s!==n)}Zl(t,e,r);break;case 1:if(!pi&&(ph(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){on(r,e,l)}Zl(t,e,r);break;case 21:Zl(t,e,r);break;case 22:r.mode&1?(pi=(n=pi)||r.memoizedState!==null,Zl(t,e,r),pi=n):Zl(t,e,r);break;default:Zl(t,e,r)}}function BN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Gse),e.forEach(function(n){var s=eae.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _a(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ei=l.stateNode,Pa=!1;break e;case 3:ei=l.stateNode.containerInfo,Pa=!0;break e;case 4:ei=l.stateNode.containerInfo,Pa=!0;break e}l=l.return}if(ei===null)throw Error(Oe(160));Vz(a,o,s),ei=null,Pa=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){on(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gz(e,t),e=e.sibling}function Gz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_a(e,t),eo(t),n&4){try{Sg(3,t,t.return),Wx(3,t)}catch(b){on(t,t.return,b)}try{Sg(5,t,t.return)}catch(b){on(t,t.return,b)}}break;case 1:_a(e,t),eo(t),n&512&&r!==null&&ph(r,r.return);break;case 5:if(_a(e,t),eo(t),n&512&&r!==null&&ph(r,r.return),t.flags&32){var s=t.stateNode;try{Qg(s,"")}catch(b){on(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&f5(s,a),nP(l,o);var d=nP(l,a);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?v5(s,m):f==="dangerouslySetInnerHTML"?m5(s,m):f==="children"?Qg(s,m):uO(s,f,m,d)}switch(l){case"input":JT(s,a);break;case"textarea":h5(s,a);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Sh(s,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?Sh(s,!!a.multiple,a.defaultValue,!0):Sh(s,!!a.multiple,a.multiple?[]:"",!1))}s[lv]=a}catch(b){on(t,t.return,b)}}break;case 6:if(_a(e,t),eo(t),n&4){if(t.stateNode===null)throw Error(Oe(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(b){on(t,t.return,b)}}break;case 3:if(_a(e,t),eo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nv(e.containerInfo)}catch(b){on(t,t.return,b)}break;case 4:_a(e,t),eo(t);break;case 13:_a(e,t),eo(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(zO=mn())),n&4&&BN(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(pi=(d=pi)||f,_a(e,t),pi=d):_a(e,t),eo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(st=t,f=t.child;f!==null;){for(m=st=f;st!==null;){switch(g=st,y=g.child,g.tag){case 0:case 11:case 14:case 15:Sg(4,g,g.return);break;case 1:ph(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(b){on(n,r,b)}}break;case 5:ph(g,g.return);break;case 22:if(g.memoizedState!==null){MN(m);continue}}y!==null?(y.return=g,st=y):MN(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=g5("display",o))}catch(b){on(t,t.return,b)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){on(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:_a(e,t),eo(t),n&4&&BN(t);break;case 21:break;default:_a(e,t),eo(t)}}function eo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(zz(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qg(s,""),n.flags&=-33);var a=IN(t);BP(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=IN(t);IP(t,l,o);break;default:throw Error(Oe(161))}}catch(c){on(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wse(t,e,r){st=t,Hz(t)}function Hz(t,e,r){for(var n=(t.mode&1)!==0;st!==null;){var s=st,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||q_;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pi;l=q_;var d=pi;if(q_=o,(pi=c)&&!d)for(st=s;st!==null;)o=st,c=o.child,o.tag===22&&o.memoizedState!==null?kN(s):c!==null?(c.return=o,st=c):kN(s);for(;a!==null;)st=a,Hz(a),a=a.sibling;st=s,q_=l,pi=d}FN(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,st=a):FN(t)}}function FN(t){for(;st!==null;){var e=st;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pi||Wx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pi)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ca(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&yN(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}yN(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&nv(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}pi||e.flags&512&&OP(e)}catch(g){on(e,e.return,g)}}if(e===t){st=null;break}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}}function MN(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var r=e.sibling;if(r!==null){r.return=e.return,st=r;break}st=e.return}}function kN(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wx(4,e)}catch(c){on(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){on(e,s,c)}}var a=e.return;try{OP(e)}catch(c){on(e,a,c)}break;case 5:var o=e.return;try{OP(e)}catch(c){on(e,o,c)}}}catch(c){on(e,e.return,c)}if(e===t){st=null;break}var l=e.sibling;if(l!==null){l.return=e.return,st=l;break}st=e.return}}var Kse=Math.ceil,Mb=Ll.ReactCurrentDispatcher,$O=Ll.ReactCurrentOwner,ua=Ll.ReactCurrentBatchConfig,sr=0,Xn=null,wn=null,ii=0,hs=0,mh=mc(0),Rn=0,pv=null,kd=0,Kx=0,jO=0,Cg=null,Xi=null,zO=0,rp=1/0,Qo=null,kb=!1,FP=null,Uu=null,Z_=!1,Eu=null,Nb=0,Ag=0,MP=null,x1=-1,E1=0;function Fi(){return sr&6?mn():x1!==-1?x1:x1=mn()}function $u(t){return t.mode&1?sr&2&&ii!==0?ii&-ii:Rse.transition!==null?(E1===0&&(E1=D5()),E1):(t=pr,t!==0||(t=window.event,t=t===void 0?16:k5(t.type)),t):1}function ja(t,e,r,n){if(50<Ag)throw Ag=0,MP=null,Error(Oe(185));Py(t,r,n),(!(sr&2)||t!==Xn)&&(t===Xn&&(!(sr&2)&&(Kx|=r),Rn===4&&yu(t,ii)),es(t,n),r===1&&sr===0&&!(e.mode&1)&&(rp=mn()+500,Vx&&gc()))}function es(t,e){var r=t.callbackNode;Rie(t,e);var n=bb(t,t===Xn?ii:0);if(n===0)r!==null&&Hk(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Hk(r),e===1)t.tag===0?Dse(NN.bind(null,t)):tz(NN.bind(null,t)),Cse(function(){!(sr&6)&&gc()}),r=null;else{switch(R5(n)){case 1:r=pO;break;case 4:r=T5;break;case 16:r=_b;break;case 536870912:r=P5;break;default:r=_b}r=Qz(r,Wz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wz(t,e){if(x1=-1,E1=0,sr&6)throw Error(Oe(327));var r=t.callbackNode;if(Dh()&&t.callbackNode!==r)return null;var n=bb(t,t===Xn?ii:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lb(t,n);else{e=n;var s=sr;sr|=2;var a=Xz();(Xn!==t||ii!==e)&&(Qo=null,rp=mn()+500,pd(t,e));do try{qse();break}catch(l){Kz(t,l)}while(1);TO(),Mb.current=a,sr=s,wn!==null?e=0:(Xn=null,ii=0,e=Rn)}if(e!==0){if(e===2&&(s=lP(t),s!==0&&(n=s,e=kP(t,s))),e===1)throw r=pv,pd(t,0),yu(t,n),es(t,mn()),r;if(e===6)yu(t,n);else{if(s=t.current.alternate,!(n&30)&&!Xse(s)&&(e=Lb(t,n),e===2&&(a=lP(t),a!==0&&(n=a,e=kP(t,a))),e===1))throw r=pv,pd(t,0),yu(t,n),es(t,mn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:Gc(t,Xi,Qo);break;case 3:if(yu(t,n),(n&130023424)===n&&(e=zO+500-mn(),10<e)){if(bb(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Fi(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gP(Gc.bind(null,t,Xi,Qo),e);break}Gc(t,Xi,Qo);break;case 4:if(yu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-$a(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=mn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kse(n/1960))-n,10<n){t.timeoutHandle=gP(Gc.bind(null,t,Xi,Qo),n);break}Gc(t,Xi,Qo);break;case 5:Gc(t,Xi,Qo);break;default:throw Error(Oe(329))}}}return es(t,mn()),t.callbackNode===r?Wz.bind(null,t):null}function kP(t,e){var r=Cg;return t.current.memoizedState.isDehydrated&&(pd(t,e).flags|=256),t=Lb(t,e),t!==2&&(e=Xi,Xi=r,e!==null&&NP(e)),t}function NP(t){Xi===null?Xi=t:Xi.push.apply(Xi,t)}function Xse(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Wa(a(),s))return!1}catch(o){return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yu(t,e){for(e&=~jO,e&=~Kx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-$a(e),n=1<<r;t[r]=-1,e&=~n}}function NN(t){if(sr&6)throw Error(Oe(327));Dh();var e=bb(t,0);if(!(e&1))return es(t,mn()),null;var r=Lb(t,e);if(t.tag!==0&&r===2){var n=lP(t);n!==0&&(e=n,r=kP(t,n))}if(r===1)throw r=pv,pd(t,0),yu(t,e),es(t,mn()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gc(t,Xi,Qo),es(t,mn()),null}function VO(t,e){var r=sr;sr|=1;try{return t(e)}finally{sr=r,sr===0&&(rp=mn()+500,Vx&&gc())}}function Nd(t){Eu!==null&&Eu.tag===0&&!(sr&6)&&Dh();var e=sr;sr|=1;var r=ua.transition,n=pr;try{if(ua.transition=null,pr=1,t)return t()}finally{pr=n,ua.transition=r,sr=e,!(sr&6)&&gc()}}function GO(){hs=mh.current,Br(mh)}function pd(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sse(r)),wn!==null)for(r=wn.return;r!==null;){var n=r;switch(SO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cb();break;case 3:ep(),Br(Ji),Br(bi),BO();break;case 5:IO(n);break;case 4:ep();break;case 13:Br(qr);break;case 19:Br(qr);break;case 10:PO(n.type._context);break;case 22:case 23:GO()}r=r.return}if(Xn=t,wn=t=ju(t.current,null),ii=hs=e,Rn=0,pv=null,jO=Kx=kd=0,Xi=Cg=null,id!==null){for(e=0;e<id.length;e++)if(r=id[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}id=null}return t}function Kz(t,e){do{var r=wn;try{if(TO(),_1.current=Fb,Bb){for(var n=en.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bb=!1}if(Md=0,Vn=Dn=en=null,Eg=!1,dv=0,$O.current=null,r===null||r.return===null){Rn=1,pv=e,wn=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=ii,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=SN(o);if(y!==null){y.flags&=-257,CN(y,o,l,a,e),y.mode&1&&EN(a,d,e),e=y,c=d;var _=e.updateQueue;if(_===null){var b=new Set;b.add(c),e.updateQueue=b}else _.add(c);break e}else{if(!(e&1)){EN(a,d,e),HO();break e}c=Error(Oe(426))}}else if(Vr&&l.mode&1){var u=SN(o);if(u!==null){!(u.flags&65536)&&(u.flags|=256),CN(u,o,l,a,e),CO(tp(c,l));break e}}a=c=tp(c,l),Rn!==4&&(Rn=2),Cg===null?Cg=[a]:Cg.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var h=Rz(a,c,e);vN(a,h);break e;case 1:l=c;var p=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Uu===null||!Uu.has(v)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=Oz(a,l,e);vN(a,w);break e}}a=a.return}while(a!==null)}qz(r)}catch(x){e=x,wn===r&&r!==null&&(wn=r=r.return);continue}break}while(1)}function Xz(){var t=Mb.current;return Mb.current=Fb,t===null?Fb:t}function HO(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Xn===null||!(kd&268435455)&&!(Kx&268435455)||yu(Xn,ii)}function Lb(t,e){var r=sr;sr|=2;var n=Xz();(Xn!==t||ii!==e)&&(Qo=null,pd(t,e));do try{Yse();break}catch(s){Kz(t,s)}while(1);if(TO(),sr=r,Mb.current=n,wn!==null)throw Error(Oe(261));return Xn=null,ii=0,Rn}function Yse(){for(;wn!==null;)Yz(wn)}function qse(){for(;wn!==null&&!wie();)Yz(wn)}function Yz(t){var e=Jz(t.alternate,t,hs);t.memoizedProps=t.pendingProps,e===null?qz(t):wn=e,$O.current=null}function qz(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Vse(r,e),r!==null){r.flags&=32767,wn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,wn=null;return}}else if(r=zse(r,e,hs),r!==null){wn=r;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=t}while(e!==null);Rn===0&&(Rn=5)}function Gc(t,e,r){var n=pr,s=ua.transition;try{ua.transition=null,pr=1,Zse(t,e,r,n)}finally{ua.transition=s,pr=n}return null}function Zse(t,e,r,n){do Dh();while(Eu!==null);if(sr&6)throw Error(Oe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Oie(t,a),t===Xn&&(wn=Xn=null,ii=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Z_||(Z_=!0,Qz(_b,function(){return Dh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ua.transition,ua.transition=null;var o=pr;pr=1;var l=sr;sr|=4,$O.current=null,Hse(t,r),Gz(r,t),vse(pP),wb=!!hP,pP=hP=null,t.current=r,Wse(r),xie(),sr=l,pr=o,ua.transition=a}else t.current=r;if(Z_&&(Z_=!1,Eu=t,Nb=s),a=t.pendingLanes,a===0&&(Uu=null),Cie(r.stateNode),es(t,mn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(kb)throw kb=!1,t=FP,FP=null,t;return Nb&1&&t.tag!==0&&Dh(),a=t.pendingLanes,a&1?t===MP?Ag++:(Ag=0,MP=t):Ag=0,gc(),null}function Dh(){if(Eu!==null){var t=R5(Nb),e=ua.transition,r=pr;try{if(ua.transition=null,pr=16>t?16:t,Eu===null)var n=!1;else{if(t=Eu,Eu=null,Nb=0,sr&6)throw Error(Oe(331));var s=sr;for(sr|=4,st=t.current;st!==null;){var a=st,o=a.child;if(st.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(st=d;st!==null;){var f=st;switch(f.tag){case 0:case 11:case 15:Sg(8,f,a)}var m=f.child;if(m!==null)m.return=f,st=m;else for(;st!==null;){f=st;var g=f.sibling,y=f.return;if(jz(f),f===d){st=null;break}if(g!==null){g.return=y,st=g;break}st=y}}}var _=a.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var u=b.sibling;b.sibling=null,b=u}while(b!==null)}}st=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,st=o;else e:for(;st!==null;){if(a=st,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sg(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,st=h;break e}st=a.return}}var p=t.current;for(st=p;st!==null;){o=st;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,st=v;else e:for(o=p;st!==null;){if(l=st,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wx(9,l)}}catch(x){on(l,l.return,x)}if(l===o){st=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,st=w;break e}st=l.return}}if(sr=s,gc(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Lx,t)}catch(x){}n=!0}return n}finally{pr=r,ua.transition=e}}return!1}function LN(t,e,r){e=tp(r,e),e=Rz(t,e,1),t=Lu(t,e,1),e=Fi(),t!==null&&(Py(t,1,e),es(t,e))}function on(t,e,r){if(t.tag===3)LN(t,t,r);else for(;e!==null;){if(e.tag===3){LN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uu===null||!Uu.has(n))){t=tp(r,t),t=Oz(e,t,1),e=Lu(e,t,1),t=Fi(),e!==null&&(Py(e,1,t),es(e,t));break}}e=e.return}}function Jse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fi(),t.pingedLanes|=t.suspendedLanes&r,Xn===t&&(ii&r)===r&&(Rn===4||Rn===3&&(ii&130023424)===ii&&500>mn()-zO?pd(t,0):jO|=r),es(t,e)}function Zz(t,e){e===0&&(t.mode&1?(e=j_,j_<<=1,!(j_&130023424)&&(j_=4194304)):e=1);var r=Fi();t=Sl(t,e),t!==null&&(Py(t,e,r),es(t,r))}function Qse(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zz(t,r)}function eae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),Zz(t,r)}var Jz;Jz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)qi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return qi=!1,jse(t,e,r);qi=!!(t.flags&131072)}else qi=!1,Vr&&e.flags&1048576&&rz(e,Pb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;w1(t,e),t=e.pendingProps;var s=Zh(e,bi.current);Ph(e,r),s=MO(null,e,n,t,s,r);var a=kO();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qi(n)?(a=!0,Ab(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,RO(e),s.updater=Hx,e.stateNode=s,s._reactInternals=e,EP(e,n,t,r),e=AP(null,e,n,!0,a,r)):(e.tag=0,Vr&&a&&EO(e),Ti(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(w1(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=rae(n),t=Ca(n,t),s){case 0:e=CP(null,e,n,t,r);break e;case 1:e=PN(null,e,n,t,r);break e;case 11:e=AN(null,e,n,t,r);break e;case 14:e=TN(null,e,n,Ca(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),CP(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),PN(t,e,n,s,r);case 3:e:{if(Mz(e),t===null)throw Error(Oe(387));n=e.pendingProps,a=e.memoizedState,s=a.element,lz(t,e),Ob(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=tp(Error(Oe(423)),e),e=DN(t,e,n,r,s);break e}else if(n!==s){s=tp(Error(Oe(424)),e),e=DN(t,e,n,r,s);break e}else for(xs=Nu(e.stateNode.containerInfo.firstChild),As=e,Vr=!0,Ra=null,r=az(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jh(),n===s){e=Cl(t,e,r);break e}Ti(t,e,n,r)}e=e.child}return e;case 5:return uz(e),t===null&&bP(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,mP(n,s)?o=null:a!==null&&mP(n,a)&&(e.flags|=32),Fz(t,e),Ti(t,e,o,r),e.child;case 6:return t===null&&bP(e),null;case 13:return kz(t,e,r);case 4:return OO(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qh(e,null,n,r):Ti(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),AN(t,e,n,s,r);case 7:return Ti(t,e,e.pendingProps,r),e.child;case 8:return Ti(t,e,e.pendingProps.children,r),e.child;case 12:return Ti(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Cr(Db,n._currentValue),n._currentValue=o,a!==null)if(Wa(a.value,o)){if(a.children===s.children&&!Ji.current){e=Cl(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=gl(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),wP(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),wP(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ti(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ph(e,r),s=ha(s),n=n(s),e.flags|=1,Ti(t,e,n,r),e.child;case 14:return n=e.type,s=Ca(n,e.pendingProps),s=Ca(n.type,s),TN(t,e,n,s,r);case 15:return Iz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ca(n,s),w1(t,e),e.tag=1,Qi(n)?(t=!0,Ab(e)):t=!1,Ph(e,r),Dz(e,n,s),EP(e,n,s,r),AP(null,e,n,!0,t,r);case 19:return Nz(t,e,r);case 22:return Bz(t,e,r)}throw Error(Oe(156,e.tag))};function Qz(t,e){return A5(t,e)}function tae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(t,e,r,n){return new tae(t,e,r,n)}function WO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rae(t){if(typeof t=="function")return WO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dO)return 11;if(t===fO)return 14}return 2}function ju(t,e){var r=t.alternate;return r===null?(r=ra(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function S1(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")WO(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sh:return md(r.children,s,a,e);case cO:o=8,s|=8;break;case KT:return t=ra(12,r,e,s|2),t.elementType=KT,t.lanes=a,t;case XT:return t=ra(13,r,e,s),t.elementType=XT,t.lanes=a,t;case YT:return t=ra(19,r,e,s),t.elementType=YT,t.lanes=a,t;case u5:return Xx(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o5:o=10;break e;case l5:o=9;break e;case dO:o=11;break e;case fO:o=14;break e;case uu:o=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=ra(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function md(t,e,r,n){return t=ra(7,t,n,e),t.lanes=r,t}function Xx(t,e,r,n){return t=ra(22,t,n,e),t.elementType=u5,t.lanes=r,t.stateNode={isHidden:!1},t}function CC(t,e,r){return t=ra(6,t,null,e),t.lanes=r,t}function AC(t,e,r){return e=ra(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nae(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aC(0),this.expirationTimes=aC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aC(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function KO(t,e,r,n,s,a,o,l,c){return t=new nae(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ra(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},RO(a),t}function iae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ih,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function e7(t){if(!t)return Zu;t=t._reactInternals;e:{if(rf(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(Qi(r))return ez(t,r,e)}return e}function t7(t,e,r,n,s,a,o,l,c){return t=KO(r,n,!0,t,s,a,o,l,c),t.context=e7(null),r=t.current,n=Fi(),s=$u(r),a=gl(n,s),a.callback=e!=null?e:null,Lu(r,a,s),t.current.lanes=s,Py(t,s,n),es(t,n),t}function Yx(t,e,r,n){var s=e.current,a=Fi(),o=$u(s);return r=e7(r),e.context===null?e.context=r:e.pendingContext=r,e=gl(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Lu(s,e,o),t!==null&&(ja(t,s,o,a),y1(t,s,o)),o}function Ub(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function XO(t,e){UN(t,e),(t=t.alternate)&&UN(t,e)}function sae(){return null}var r7=typeof reportError=="function"?reportError:function(t){console.error(t)};function YO(t){this._internalRoot=t}qx.prototype.render=YO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));Yx(t,e,null,null)};qx.prototype.unmount=YO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nd(function(){Yx(null,t,null,null)}),e[El]=null}};function qx(t){this._internalRoot=t}qx.prototype.unstable_scheduleHydration=function(t){if(t){var e=B5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vu.length&&e!==0&&e<vu[r].priority;r++);vu.splice(r,0,t),r===0&&M5(t)}};function qO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $N(){}function aae(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=Ub(o);a.call(d)}}var o=t7(e,n,t,0,null,!1,!1,"",$N);return t._reactRootContainer=o,t[El]=o.current,av(t.nodeType===8?t.parentNode:t),Nd(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Ub(c);l.call(d)}}var c=KO(t,0,!1,null,null,!1,!1,"",$N);return t._reactRootContainer=c,t[El]=c.current,av(t.nodeType===8?t.parentNode:t),Nd(function(){Yx(e,c,r,n)}),c}function Jx(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Ub(o);l.call(c)}}Yx(e,o,t,s)}else o=aae(r,e,t,s,n);return Ub(o)}O5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gm(e.pendingLanes);r!==0&&(mO(e,r|1),es(e,mn()),!(sr&6)&&(rp=mn()+500,gc()))}break;case 13:Nd(function(){var n=Sl(t,1);if(n!==null){var s=Fi();ja(n,t,1,s)}}),XO(t,1)}};gO=function(t){if(t.tag===13){var e=Sl(t,134217728);if(e!==null){var r=Fi();ja(e,t,134217728,r)}XO(t,134217728)}};I5=function(t){if(t.tag===13){var e=$u(t),r=Sl(t,e);if(r!==null){var n=Fi();ja(r,t,e,n)}XO(t,e)}};B5=function(){return pr};F5=function(t,e){var r=pr;try{return pr=t,e()}finally{pr=r}};sP=function(t,e,r){switch(e){case"input":if(JT(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zx(n);if(!s)throw Error(Oe(90));d5(n),JT(n,s)}}}break;case"textarea":h5(t,r);break;case"select":e=r.value,e!=null&&Sh(t,!!r.multiple,e,!1)}};b5=VO;w5=Nd;var oae={usingClientEntryPoint:!1,Events:[Ry,uh,zx,y5,_5,VO]},_m={findFiberByHostInstance:nd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lae={bundleType:_m.bundleType,version:_m.version,rendererPackageName:_m.rendererPackageName,rendererConfig:_m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ll.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S5(t),t===null?null:t.stateNode},findFiberByHostInstance:_m.findFiberByHostInstance||sae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J_.isDisabled&&J_.supportsFiber)try{Lx=J_.inject(lae),Co=J_}catch(t){}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oae;Ms.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qO(e))throw Error(Oe(200));return iae(t,e,null,r)};Ms.createRoot=function(t,e){if(!qO(t))throw Error(Oe(299));var r=!1,n="",s=r7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=KO(t,1,!1,null,null,r,!1,n,s),t[El]=e.current,av(t.nodeType===8?t.parentNode:t),new YO(e)};Ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=S5(e),t=t===null?null:t.stateNode,t};Ms.flushSync=function(t){return Nd(t)};Ms.hydrate=function(t,e,r){if(!Zx(e))throw Error(Oe(200));return Jx(null,t,e,!0,r)};Ms.hydrateRoot=function(t,e,r){if(!qO(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=r7;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=t7(e,null,t,1,r!=null?r:null,s,!1,a,o),t[El]=e.current,av(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new qx(e)};Ms.render=function(t,e,r){if(!Zx(e))throw Error(Oe(200));return Jx(null,t,e,!1,r)};Ms.unmountComponentAtNode=function(t){if(!Zx(t))throw Error(Oe(40));return t._reactRootContainer?(Nd(function(){Jx(null,null,t,!1,function(){t._reactRootContainer=null,t[El]=null})}),!0):!1};Ms.unstable_batchedUpdates=VO;Ms.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zx(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return Jx(t,e,r,!1,n)};Ms.version="18.3.1-next-f1338f8080-20240426";function n7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n7)}catch(t){console.error(t)}}n7(),n5.exports=Ms;var Ul=n5.exports;const ZO=ui(Ul),uae=Hj({__proto__:null,default:ZO},[Ul]);var jN=Ul;Mk.createRoot=jN.createRoot,Mk.hydrateRoot=jN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jr.apply(this,arguments)}var dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dn||(dn={}));const zN="popstate";function cae(t){t===void 0&&(t={});function e(s,a){let{pathname:o="/",search:l="",hash:c=""}=ko(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),mv("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof a=="string"?a:Iy(a))}function n(s,a){Ju(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return fae(e,r,n,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ju(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function dae(){return Math.random().toString(36).substr(2,8)}function VN(t,e){return{usr:t.state,key:t.key,idx:e}}function mv(t,e,r,n){return r===void 0&&(r=null),jr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:r,key:e&&e.key||n||dae()})}function Iy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ko(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fae(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=dn.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(jr({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=dn.Pop;let u=f(),h=u==null?null:u-d;d=u,c&&c({action:l,location:b.location,delta:h})}function g(u,h){l=dn.Push;let p=mv(b.location,u,h);r&&r(p,u),d=f()+1;let v=VN(p,d),w=b.createHref(p);try{o.pushState(v,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(w)}a&&c&&c({action:l,location:b.location,delta:1})}function y(u,h){l=dn.Replace;let p=mv(b.location,u,h);r&&r(p,u),d=f();let v=VN(p,d),w=b.createHref(p);o.replaceState(v,"",w),a&&c&&c({action:l,location:b.location,delta:0})}function _(u){let h=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof u=="string"?u:Iy(u);return p=p.replace(/ $/,"%20"),rr(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let b={get action(){return l},get location(){return t(s,o)},listen(u){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zN,m),c=u,()=>{s.removeEventListener(zN,m),c=null}},createHref(u){return e(s,u)},createURL:_,encodeLocation(u){let h=_(u);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:y,go(u){return o.go(u)}};return b}var hr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hr||(hr={}));const hae=new Set(["lazy","caseSensitive","path","id","index","children"]);function pae(t){return t.index===!0}function $b(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,a)=>{let o=[...r,String(a)],l=typeof s.id=="string"?s.id:o.join("-");if(rr(s.index!==!0||!s.children,"Cannot specify children on an index route"),rr(!n[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),pae(s)){let c=jr({},s,e(s),{id:l});return n[l]=c,c}else{let c=jr({},s,e(s),{id:l,children:void 0});return n[l]=c,s.children&&(c.children=$b(s.children,e,o,n)),c}})}function Qc(t,e,r){return r===void 0&&(r="/"),C1(t,e,r,!1)}function C1(t,e,r,n){let s=typeof e=="string"?ko(e):e,a=By(s.pathname||"/",r);if(a==null)return null;let o=i7(t);gae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Tae(a);l=Cae(o[c],d,n)}return l}function mae(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function i7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(rr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=gd([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(rr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),i7(a.children,e,f,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:Eae(d,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of s7(a.path))s(a,o,c)}),e}function s7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=s7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function gae(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Sae(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vae=/^:[\w-]+$/,yae=3,_ae=2,bae=1,wae=10,xae=-2,GN=t=>t==="*";function Eae(t,e){let r=t.split("/"),n=r.length;return r.some(GN)&&(n+=xae),e&&(n+=_ae),r.filter(s=>!GN(s)).reduce((s,a)=>s+(vae.test(a)?yae:a===""?bae:wae),n)}function Sae(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Cae(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=HN({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=HN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:gd([a,m.pathname]),pathnameBase:Bae(gd([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=gd([a,m.pathnameBase]))}return o}function HN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Aae(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,m)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let b=l[m]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const _=l[m];return y&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function Aae(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ju(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Tae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ju(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function By(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Pae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dae=t=>Pae.test(t);function Rae(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ko(t):t,a;if(r)if(Dae(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ju(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=WN(r.substring(1),"/"):a=WN(r,e)}else a=e;return{pathname:a,search:Fae(n),hash:Mae(s)}}function WN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function TC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Oae(t,e){let r=a7(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Iae(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ko(t):(s=jr({},t),rr(!s.pathname||!s.pathname.includes("?"),TC("?","pathname","search",s)),rr(!s.pathname||!s.pathname.includes("#"),TC("#","pathname","hash",s)),rr(!s.search||!s.search.includes("#"),TC("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=Rae(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const gd=t=>t.join("/").replace(/\/\/+/g,"/"),Bae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Fae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Mae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class jb{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function gv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const o7=["post","put","patch","delete"],kae=new Set(o7),Nae=["get",...o7],Lae=new Set(Nae),Uae=new Set([301,302,303,307,308]),$ae=new Set([307,308]),PC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},JO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zae=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),l7="remix-router-transitions";function Vae(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;rr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let W=t.detectErrorBoundary;s=Q=>({hasErrorBoundary:W(Q)})}else s=zae;let a={},o=$b(t.routes,s,void 0,a),l,c=t.basename||"/",d=t.dataStrategy||Kae,f=t.patchRoutesOnNavigation,m=jr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,y=new Set,_=null,b=null,u=null,h=t.hydrationData!=null,p=Qc(o,t.history.location,c),v=!1,w=null;if(p==null&&!f){let W=Hi(404,{pathname:t.history.location.pathname}),{matches:Q,route:se}=n3(o);p=Q,w={[se.id]:W}}p&&!t.hydrationData&&Ct(p,o,t.history.location.pathname).active&&(p=null);let x;if(p)if(p.some(W=>W.route.lazy))x=!1;else if(!p.some(W=>W.route.loader))x=!0;else if(m.v7_partialHydration){let W=t.hydrationData?t.hydrationData.loaderData:null,Q=t.hydrationData?t.hydrationData.errors:null;if(Q){let se=p.findIndex(pe=>Q[pe.route.id]!==void 0);x=p.slice(0,se+1).every(pe=>!UP(pe.route,W,Q))}else x=p.every(se=>!UP(se.route,W,Q))}else x=t.hydrationData!=null;else if(x=!1,p=[],m.v7_partialHydration){let W=Ct(null,o,t.history.location.pathname);W.active&&W.matches&&(v=!0,p=W.matches)}let S,E={historyAction:t.history.action,location:t.history.location,matches:p,initialized:x,navigation:PC,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},P=dn.Pop,T=!1,A,R=!1,D=new Map,O=null,I=!1,M=!1,G=[],j=new Set,$=new Map,H=0,K=-1,re=new Map,fe=new Set,ye=new Map,he=new Map,ue=new Set,Z=new Map,z=new Map,V;function Y(){if(g=t.history.listen(W=>{let{action:Q,location:se,delta:pe}=W;if(V){V(),V=void 0;return}Ju(z.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Ft({currentLocation:E.location,nextLocation:se,historyAction:Q});if(Te&&pe!=null){let He=new Promise(ut=>{V=ut});t.history.go(pe*-1),ht(Te,{state:"blocked",location:se,proceed(){ht(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),He.then(()=>t.history.go(pe))},reset(){let ut=new Map(E.blockers);ut.set(Te,bm),me({blockers:ut})}});return}return tt(Q,se)}),r){ooe(e,D);let W=()=>loe(e,D);e.addEventListener("pagehide",W),O=()=>e.removeEventListener("pagehide",W)}return E.initialized||tt(dn.Pop,E.location,{initialHydration:!0}),S}function ne(){g&&g(),O&&O(),y.clear(),A&&A.abort(),E.fetchers.forEach((W,Q)=>B(Q)),E.blockers.forEach((W,Q)=>Ve(Q))}function ie(W){return y.add(W),()=>y.delete(W)}function me(W,Q){Q===void 0&&(Q={}),E=jr({},E,W);let se=[],pe=[];m.v7_fetcherPersist&&E.fetchers.forEach((Te,He)=>{Te.state==="idle"&&(ue.has(He)?pe.push(He):se.push(He))}),ue.forEach(Te=>{!E.fetchers.has(Te)&&!$.has(Te)&&pe.push(Te)}),[...y].forEach(Te=>Te(E,{deletedFetchers:pe,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),m.v7_fetcherPersist?(se.forEach(Te=>E.fetchers.delete(Te)),pe.forEach(Te=>B(Te))):pe.forEach(Te=>ue.delete(Te))}function xe(W,Q,se){var pe,Te;let{flushSync:He}=se===void 0?{}:se,ut=E.actionData!=null&&E.navigation.formMethod!=null&&Da(E.navigation.formMethod)&&E.navigation.state==="loading"&&((pe=W.state)==null?void 0:pe._isRedirect)!==!0,We;Q.actionData?Object.keys(Q.actionData).length>0?We=Q.actionData:We=null:ut?We=E.actionData:We=null;let Ie=Q.loaderData?t3(E.loaderData,Q.loaderData,Q.matches||[],Q.errors):E.loaderData,Ge=E.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((bt,ur)=>Ge.set(ur,bm)));let Re=T===!0||E.navigation.formMethod!=null&&Da(E.navigation.formMethod)&&((Te=W.state)==null?void 0:Te._isRedirect)!==!0;l&&(o=l,l=void 0),I||P===dn.Pop||(P===dn.Push?t.history.push(W,W.state):P===dn.Replace&&t.history.replace(W,W.state));let gt;if(P===dn.Pop){let bt=D.get(E.location.pathname);bt&&bt.has(W.pathname)?gt={currentLocation:E.location,nextLocation:W}:D.has(W.pathname)&&(gt={currentLocation:W,nextLocation:E.location})}else if(R){let bt=D.get(E.location.pathname);bt?bt.add(W.pathname):(bt=new Set([W.pathname]),D.set(E.location.pathname,bt)),gt={currentLocation:E.location,nextLocation:W}}me(jr({},Q,{actionData:We,loaderData:Ie,historyAction:P,location:W,initialized:!0,navigation:PC,revalidation:"idle",restoreScrollPosition:Jt(W,Q.matches||E.matches),preventScrollReset:Re,blockers:Ge}),{viewTransitionOpts:gt,flushSync:He===!0}),P=dn.Pop,T=!1,R=!1,I=!1,M=!1,G=[]}async function we(W,Q){if(typeof W=="number"){t.history.go(W);return}let se=LP(E.location,E.matches,c,m.v7_prependBasename,W,m.v7_relativeSplatPath,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:pe,submission:Te,error:He}=KN(m.v7_normalizeFormMethod,!1,se,Q),ut=E.location,We=mv(E.location,pe,Q&&Q.state);We=jr({},We,t.history.encodeLocation(We));let Ie=Q&&Q.replace!=null?Q.replace:void 0,Ge=dn.Push;Ie===!0?Ge=dn.Replace:Ie===!1||Te!=null&&Da(Te.formMethod)&&Te.formAction===E.location.pathname+E.location.search&&(Ge=dn.Replace);let Re=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,gt=(Q&&Q.flushSync)===!0,bt=Ft({currentLocation:ut,nextLocation:We,historyAction:Ge});if(bt){ht(bt,{state:"blocked",location:We,proceed(){ht(bt,{state:"proceeding",proceed:void 0,reset:void 0,location:We}),we(W,Q)},reset(){let ur=new Map(E.blockers);ur.set(bt,bm),me({blockers:ur})}});return}return await tt(Ge,We,{submission:Te,pendingError:He,preventScrollReset:Re,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:gt})}function Ee(){if(Ye(),me({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){tt(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}tt(P||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:R===!0})}}async function tt(W,Q,se){A&&A.abort(),A=null,P=W,I=(se&&se.startUninterruptedRevalidation)===!0,ar(E.location,E.matches),T=(se&&se.preventScrollReset)===!0,R=(se&&se.enableViewTransition)===!0;let pe=l||o,Te=se&&se.overrideNavigation,He=se!=null&&se.initialHydration&&E.matches&&E.matches.length>0&&!v?E.matches:Qc(pe,Q,c),ut=(se&&se.flushSync)===!0;if(He&&E.initialized&&!M&&Qae(E.location,Q)&&!(se&&se.submission&&Da(se.submission.formMethod))){xe(Q,{matches:He},{flushSync:ut});return}let We=Ct(He,pe,Q.pathname);if(We.active&&We.matches&&(He=We.matches),!He){let{error:$t,notFoundMatches:Wt,route:Kt}=Mt(Q.pathname);xe(Q,{matches:Wt,loaderData:{},errors:{[Kt.id]:$t}},{flushSync:ut});return}A=new AbortController;let Ie=xf(t.history,Q,A.signal,se&&se.submission),Ge;if(se&&se.pendingError)Ge=[ed(He).route.id,{type:hr.error,error:se.pendingError}];else if(se&&se.submission&&Da(se.submission.formMethod)){let $t=await xt(Ie,Q,se.submission,He,We.active,{replace:se.replace,flushSync:ut});if($t.shortCircuited)return;if($t.pendingActionResult){let[Wt,Kt]=$t.pendingActionResult;if(gs(Kt)&&gv(Kt.error)&&Kt.error.status===404){A=null,xe(Q,{matches:$t.matches,loaderData:{},errors:{[Wt]:Kt.error}});return}}He=$t.matches||He,Ge=$t.pendingActionResult,Te=DC(Q,se.submission),ut=!1,We.active=!1,Ie=xf(t.history,Ie.url,Ie.signal)}let{shortCircuited:Re,matches:gt,loaderData:bt,errors:ur}=await _t(Ie,Q,He,We.active,Te,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,ut,Ge);Re||(A=null,xe(Q,jr({matches:gt||He},r3(Ge),{loaderData:bt,errors:ur})))}async function xt(W,Q,se,pe,Te,He){He===void 0&&(He={}),Ye();let ut=soe(Q,se);if(me({navigation:ut},{flushSync:He.flushSync===!0}),Te){let Ge=await Fr(pe,Q.pathname,W.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let Re=ed(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,pendingActionResult:[Re,{type:hr.error,error:Ge.error}]}}else if(Ge.matches)pe=Ge.matches;else{let{notFoundMatches:Re,error:gt,route:bt}=Mt(Q.pathname);return{matches:Re,pendingActionResult:[bt.id,{type:hr.error,error:gt}]}}}let We,Ie=Wm(pe,Q);if(!Ie.route.action&&!Ie.route.lazy)We={type:hr.error,error:Hi(405,{method:W.method,pathname:Q.pathname,routeId:Ie.route.id})};else if(We=(await ce("action",E,W,[Ie],pe,null))[Ie.route.id],W.signal.aborted)return{shortCircuited:!0};if(ad(We)){let Ge;return He&&He.replace!=null?Ge=He.replace:Ge=JN(We.response.headers.get("Location"),new URL(W.url),c)===E.location.pathname+E.location.search,await _e(W,We,!0,{submission:se,replace:Ge}),{shortCircuited:!0}}if(Su(We))throw Hi(400,{type:"defer-action"});if(gs(We)){let Ge=ed(pe,Ie.route.id);return(He&&He.replace)!==!0&&(P=dn.Push),{matches:pe,pendingActionResult:[Ge.route.id,We]}}return{matches:pe,pendingActionResult:[Ie.route.id,We]}}async function _t(W,Q,se,pe,Te,He,ut,We,Ie,Ge,Re){let gt=Te||DC(Q,He),bt=He||ut||s3(gt),ur=!I&&(!m.v7_partialHydration||!Ie);if(pe){if(ur){let Mr=Gt(Re);me(jr({navigation:gt},Mr!==void 0?{actionData:Mr}:{}),{flushSync:Ge})}let tr=await Fr(se,Q.pathname,W.signal);if(tr.type==="aborted")return{shortCircuited:!0};if(tr.type==="error"){let Mr=ed(tr.partialMatches).route.id;return{matches:tr.partialMatches,loaderData:{},errors:{[Mr]:tr.error}}}else if(tr.matches)se=tr.matches;else{let{error:Mr,notFoundMatches:Kl,route:Ic}=Mt(Q.pathname);return{matches:Kl,loaderData:{},errors:{[Ic.id]:Mr}}}}let $t=l||o,[Wt,Kt]=YN(t.history,E,se,bt,Q,m.v7_partialHydration&&Ie===!0,m.v7_skipActionErrorRevalidation,M,G,j,ue,ye,fe,$t,c,Re);if(jt(tr=>!(se&&se.some(Mr=>Mr.route.id===tr))||Wt&&Wt.some(Mr=>Mr.route.id===tr)),K=++H,Wt.length===0&&Kt.length===0){let tr=ke();return xe(Q,jr({matches:se,loaderData:{},errors:Re&&gs(Re[1])?{[Re[0]]:Re[1].error}:null},r3(Re),tr?{fetchers:new Map(E.fetchers)}:{}),{flushSync:Ge}),{shortCircuited:!0}}if(ur){let tr={};if(!pe){tr.navigation=gt;let Mr=Gt(Re);Mr!==void 0&&(tr.actionData=Mr)}Kt.length>0&&(tr.fetchers=X(Kt)),me(tr,{flushSync:Ge})}Kt.forEach(tr=>{J(tr.key),tr.controller&&$.set(tr.key,tr.controller)});let Ei=()=>Kt.forEach(tr=>J(tr.key));A&&A.signal.addEventListener("abort",Ei);let{loaderResults:ya,fetcherResults:gn}=await be(E,se,Wt,Kt,W);if(W.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Ei),Kt.forEach(tr=>$.delete(tr.key));let mr=Q_(ya);if(mr)return await _e(W,mr.result,!0,{replace:We}),{shortCircuited:!0};if(mr=Q_(gn),mr)return fe.add(mr.key),await _e(W,mr.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:Si,errors:Fn}=e3(E,se,ya,Re,Kt,gn,Z);Z.forEach((tr,Mr)=>{tr.subscribe(Kl=>{(Kl||tr.done)&&Z.delete(Mr)})}),m.v7_partialHydration&&Ie&&E.errors&&(Fn=jr({},E.errors,Fn));let $i=ke(),_f=Ne(K),ji=$i||_f||Kt.length>0;return jr({matches:se,loaderData:Si,errors:Fn},ji?{fetchers:new Map(E.fetchers)}:{})}function Gt(W){if(W&&!gs(W[1]))return{[W[0]]:W[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function X(W){return W.forEach(Q=>{let se=E.fetchers.get(Q.key),pe=wm(void 0,se?se.data:void 0);E.fetchers.set(Q.key,pe)}),new Map(E.fetchers)}function oe(W,Q,se,pe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J(W);let Te=(pe&&pe.flushSync)===!0,He=l||o,ut=LP(E.location,E.matches,c,m.v7_prependBasename,se,m.v7_relativeSplatPath,Q,pe==null?void 0:pe.relative),We=Qc(He,ut,c),Ie=Ct(We,He,ut);if(Ie.active&&Ie.matches&&(We=Ie.matches),!We){Pe(W,Q,Hi(404,{pathname:ut}),{flushSync:Te});return}let{path:Ge,submission:Re,error:gt}=KN(m.v7_normalizeFormMethod,!0,ut,pe);if(gt){Pe(W,Q,gt,{flushSync:Te});return}let bt=Wm(We,Ge),ur=(pe&&pe.preventScrollReset)===!0;if(Re&&Da(Re.formMethod)){le(W,Q,Ge,bt,We,Ie.active,Te,ur,Re);return}ye.set(W,{routeId:Q,path:Ge}),Ae(W,Q,Ge,bt,We,Ie.active,Te,ur,Re)}async function le(W,Q,se,pe,Te,He,ut,We,Ie){Ye(),ye.delete(W);function Ge(nn){if(!nn.route.action&&!nn.route.lazy){let Xl=Hi(405,{method:Ie.formMethod,pathname:se,routeId:Q});return Pe(W,Q,Xl,{flushSync:ut}),!0}return!1}if(!He&&Ge(pe))return;let Re=E.fetchers.get(W);Xe(W,aoe(Ie,Re),{flushSync:ut});let gt=new AbortController,bt=xf(t.history,se,gt.signal,Ie);if(He){let nn=await Fr(Te,new URL(bt.url).pathname,bt.signal,W);if(nn.type==="aborted")return;if(nn.type==="error"){Pe(W,Q,nn.error,{flushSync:ut});return}else if(nn.matches){if(Te=nn.matches,pe=Wm(Te,se),Ge(pe))return}else{Pe(W,Q,Hi(404,{pathname:se}),{flushSync:ut});return}}$.set(W,gt);let ur=H,Wt=(await ce("action",E,bt,[pe],Te,W))[pe.route.id];if(bt.signal.aborted){$.get(W)===gt&&$.delete(W);return}if(m.v7_fetcherPersist&&ue.has(W)){if(ad(Wt)||gs(Wt)){Xe(W,su(void 0));return}}else{if(ad(Wt))if($.delete(W),K>ur){Xe(W,su(void 0));return}else return fe.add(W),Xe(W,wm(Ie)),_e(bt,Wt,!1,{fetcherSubmission:Ie,preventScrollReset:We});if(gs(Wt)){Pe(W,Q,Wt.error);return}}if(Su(Wt))throw Hi(400,{type:"defer-action"});let Kt=E.navigation.location||E.location,Ei=xf(t.history,Kt,gt.signal),ya=l||o,gn=E.navigation.state!=="idle"?Qc(ya,E.navigation.location,c):E.matches;rr(gn,"Didn't find any matches after fetcher action");let mr=++H;re.set(W,mr);let Si=wm(Ie,Wt.data);E.fetchers.set(W,Si);let[Fn,$i]=YN(t.history,E,gn,Ie,Kt,!1,m.v7_skipActionErrorRevalidation,M,G,j,ue,ye,fe,ya,c,[pe.route.id,Wt]);$i.filter(nn=>nn.key!==W).forEach(nn=>{let Xl=nn.key,Bc=E.fetchers.get(Xl),qS=wm(void 0,Bc?Bc.data:void 0);E.fetchers.set(Xl,qS),J(Xl),nn.controller&&$.set(Xl,nn.controller)}),me({fetchers:new Map(E.fetchers)});let _f=()=>$i.forEach(nn=>J(nn.key));gt.signal.addEventListener("abort",_f);let{loaderResults:ji,fetcherResults:tr}=await be(E,gn,Fn,$i,Ei);if(gt.signal.aborted)return;gt.signal.removeEventListener("abort",_f),re.delete(W),$.delete(W),$i.forEach(nn=>$.delete(nn.key));let Mr=Q_(ji);if(Mr)return _e(Ei,Mr.result,!1,{preventScrollReset:We});if(Mr=Q_(tr),Mr)return fe.add(Mr.key),_e(Ei,Mr.result,!1,{preventScrollReset:We});let{loaderData:Kl,errors:Ic}=e3(E,gn,ji,void 0,$i,tr,Z);if(E.fetchers.has(W)){let nn=su(Wt.data);E.fetchers.set(W,nn)}Ne(mr),E.navigation.state==="loading"&&mr>K?(rr(P,"Expected pending action"),A&&A.abort(),xe(E.navigation.location,{matches:gn,loaderData:Kl,errors:Ic,fetchers:new Map(E.fetchers)})):(me({errors:Ic,loaderData:t3(E.loaderData,Kl,gn,Ic),fetchers:new Map(E.fetchers)}),M=!1)}async function Ae(W,Q,se,pe,Te,He,ut,We,Ie){let Ge=E.fetchers.get(W);Xe(W,wm(Ie,Ge?Ge.data:void 0),{flushSync:ut});let Re=new AbortController,gt=xf(t.history,se,Re.signal);if(He){let Wt=await Fr(Te,new URL(gt.url).pathname,gt.signal,W);if(Wt.type==="aborted")return;if(Wt.type==="error"){Pe(W,Q,Wt.error,{flushSync:ut});return}else if(Wt.matches)Te=Wt.matches,pe=Wm(Te,se);else{Pe(W,Q,Hi(404,{pathname:se}),{flushSync:ut});return}}$.set(W,Re);let bt=H,$t=(await ce("loader",E,gt,[pe],Te,W))[pe.route.id];if(Su($t)&&($t=await QO($t,gt.signal,!0)||$t),$.get(W)===Re&&$.delete(W),!gt.signal.aborted){if(ue.has(W)){Xe(W,su(void 0));return}if(ad($t))if(K>bt){Xe(W,su(void 0));return}else{fe.add(W),await _e(gt,$t,!1,{preventScrollReset:We});return}if(gs($t)){Pe(W,Q,$t.error);return}rr(!Su($t),"Unhandled fetcher deferred data"),Xe(W,su($t.data))}}async function _e(W,Q,se,pe){let{submission:Te,fetcherSubmission:He,preventScrollReset:ut,replace:We}=pe===void 0?{}:pe;Q.response.headers.has("X-Remix-Revalidate")&&(M=!0);let Ie=Q.response.headers.get("Location");rr(Ie,"Expected a Location header on the redirect Response"),Ie=JN(Ie,new URL(W.url),c);let Ge=mv(E.location,Ie,{_isRedirect:!0});if(r){let Wt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))Wt=!0;else if(JO.test(Ie)){const Kt=t.history.createURL(Ie);Wt=Kt.origin!==e.location.origin||By(Kt.pathname,c)==null}if(Wt){We?e.location.replace(Ie):e.location.assign(Ie);return}}A=null;let Re=We===!0||Q.response.headers.has("X-Remix-Replace")?dn.Replace:dn.Push,{formMethod:gt,formAction:bt,formEncType:ur}=E.navigation;!Te&&!He&&gt&&bt&&ur&&(Te=s3(E.navigation));let $t=Te||He;if($ae.has(Q.response.status)&&$t&&Da($t.formMethod))await tt(Re,Ge,{submission:jr({},$t,{formAction:Ie}),preventScrollReset:ut||T,enableViewTransition:se?R:void 0});else{let Wt=DC(Ge,Te);await tt(Re,Ge,{overrideNavigation:Wt,fetcherSubmission:He,preventScrollReset:ut||T,enableViewTransition:se?R:void 0})}}async function ce(W,Q,se,pe,Te,He){let ut,We={};try{ut=await Xae(d,W,Q,se,pe,Te,He,a,s)}catch(Ie){return pe.forEach(Ge=>{We[Ge.route.id]={type:hr.error,error:Ie}}),We}for(let[Ie,Ge]of Object.entries(ut))if(eoe(Ge)){let Re=Ge.result;We[Ie]={type:hr.redirect,response:Zae(Re,se,Ie,Te,c,m.v7_relativeSplatPath)}}else We[Ie]=await qae(Ge);return We}async function be(W,Q,se,pe,Te){let He=W.matches,ut=ce("loader",W,Te,se,Q,null),We=Promise.all(pe.map(async Re=>{if(Re.matches&&Re.match&&Re.controller){let bt=(await ce("loader",W,xf(t.history,Re.path,Re.controller.signal),[Re.match],Re.matches,Re.key))[Re.match.route.id];return{[Re.key]:bt}}else return Promise.resolve({[Re.key]:{type:hr.error,error:Hi(404,{pathname:Re.path})}})})),Ie=await ut,Ge=(await We).reduce((Re,gt)=>Object.assign(Re,gt),{});return await Promise.all([noe(Q,Ie,Te.signal,He,W.loaderData),ioe(Q,Ge,pe)]),{loaderResults:Ie,fetcherResults:Ge}}function Ye(){M=!0,G.push(...jt()),ye.forEach((W,Q)=>{$.has(Q)&&j.add(Q),J(Q)})}function Xe(W,Q,se){se===void 0&&(se={}),E.fetchers.set(W,Q),me({fetchers:new Map(E.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Pe(W,Q,se,pe){pe===void 0&&(pe={});let Te=ed(E.matches,Q);B(W),me({errors:{[Te.route.id]:se},fetchers:new Map(E.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function L(W){return he.set(W,(he.get(W)||0)+1),ue.has(W)&&ue.delete(W),E.fetchers.get(W)||jae}function B(W){let Q=E.fetchers.get(W);$.has(W)&&!(Q&&Q.state==="loading"&&re.has(W))&&J(W),ye.delete(W),re.delete(W),fe.delete(W),m.v7_fetcherPersist&&ue.delete(W),j.delete(W),E.fetchers.delete(W)}function U(W){let Q=(he.get(W)||0)-1;Q<=0?(he.delete(W),ue.add(W),m.v7_fetcherPersist||B(W)):he.set(W,Q),me({fetchers:new Map(E.fetchers)})}function J(W){let Q=$.get(W);Q&&(Q.abort(),$.delete(W))}function ae(W){for(let Q of W){let se=L(Q),pe=su(se.data);E.fetchers.set(Q,pe)}}function ke(){let W=[],Q=!1;for(let se of fe){let pe=E.fetchers.get(se);rr(pe,"Expected fetcher: "+se),pe.state==="loading"&&(fe.delete(se),W.push(se),Q=!0)}return ae(W),Q}function Ne(W){let Q=[];for(let[se,pe]of re)if(pe<W){let Te=E.fetchers.get(se);rr(Te,"Expected fetcher: "+se),Te.state==="loading"&&(J(se),re.delete(se),Q.push(se))}return ae(Q),Q.length>0}function at(W,Q){let se=E.blockers.get(W)||bm;return z.get(W)!==Q&&z.set(W,Q),se}function Ve(W){E.blockers.delete(W),z.delete(W)}function ht(W,Q){let se=E.blockers.get(W)||bm;rr(se.state==="unblocked"&&Q.state==="blocked"||se.state==="blocked"&&Q.state==="blocked"||se.state==="blocked"&&Q.state==="proceeding"||se.state==="blocked"&&Q.state==="unblocked"||se.state==="proceeding"&&Q.state==="unblocked","Invalid blocker state transition: "+se.state+" -> "+Q.state);let pe=new Map(E.blockers);pe.set(W,Q),me({blockers:pe})}function Ft(W){let{currentLocation:Q,nextLocation:se,historyAction:pe}=W;if(z.size===0)return;z.size>1&&Ju(!1,"A router only supports one blocker at a time");let Te=Array.from(z.entries()),[He,ut]=Te[Te.length-1],We=E.blockers.get(He);if(!(We&&We.state==="proceeding")&&ut({currentLocation:Q,nextLocation:se,historyAction:pe}))return He}function Mt(W){let Q=Hi(404,{pathname:W}),se=l||o,{matches:pe,route:Te}=n3(se);return jt(),{notFoundMatches:pe,route:Te,error:Q}}function jt(W){let Q=[];return Z.forEach((se,pe)=>{(!W||W(pe))&&(se.cancel(),Q.push(pe),Z.delete(pe))}),Q}function Ht(W,Q,se){if(_=W,u=Q,b=se||null,!h&&E.navigation===PC){h=!0;let pe=Jt(E.location,E.matches);pe!=null&&me({restoreScrollPosition:pe})}return()=>{_=null,u=null,b=null}}function Ut(W,Q){return b&&b(W,Q.map(pe=>mae(pe,E.loaderData)))||W.key}function ar(W,Q){if(_&&u){let se=Ut(W,Q);_[se]=u()}}function Jt(W,Q){if(_){let se=Ut(W,Q),pe=_[se];if(typeof pe=="number")return pe}return null}function Ct(W,Q,se){if(f)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:C1(Q,se,c,!0)}}else return{active:!0,matches:C1(Q,se,c,!0)||[]};return{active:!1,matches:null}}async function Fr(W,Q,se,pe){if(!f)return{type:"success",matches:W};let Te=W;for(;;){let He=l==null,ut=l||o,We=a;try{await f({signal:se,path:Q,matches:Te,fetcherKey:pe,patch:(Re,gt)=>{se.aborted||ZN(Re,gt,ut,We,s)}})}catch(Re){return{type:"error",error:Re,partialMatches:Te}}finally{He&&!se.aborted&&(o=[...o])}if(se.aborted)return{type:"aborted"};let Ie=Qc(ut,Q,c);if(Ie)return{type:"success",matches:Ie};let Ge=C1(ut,Q,c,!0);if(!Ge||Te.length===Ge.length&&Te.every((Re,gt)=>Re.route.id===Ge[gt].route.id))return{type:"success",matches:null};Te=Ge}}function ot(W){a={},l=$b(W,s,void 0,a)}function $e(W,Q){let se=l==null;ZN(W,Q,l||o,a,s),se&&(o=[...o],me({}))}return S={get basename(){return c},get future(){return m},get state(){return E},get routes(){return o},get window(){return e},initialize:Y,subscribe:ie,enableScrollRestoration:Ht,navigate:we,fetch:oe,revalidate:Ee,createHref:W=>t.history.createHref(W),encodeLocation:W=>t.history.encodeLocation(W),getFetcher:L,deleteFetcher:U,dispose:ne,getBlocker:at,deleteBlocker:Ve,patchRoutes:$e,_internalFetchControllers:$,_internalActiveDeferreds:Z,_internalSetRoutes:ot},S}function Gae(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function LP(t,e,r,n,s,a,o,l){let c,d;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){d=m;break}}else c=e,d=e[e.length-1];let f=Iae(s||".",Oae(c,a),By(t.pathname,r)||t.pathname,l==="path");if(s==null&&(f.search=t.search,f.hash=t.hash),(s==null||s===""||s===".")&&d){let m=eI(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(b=>b).forEach(b=>g.append("index",b));let _=g.toString();f.search=_?"?"+_:""}}return n&&r!=="/"&&(f.pathname=f.pathname==="/"?r:gd([r,f.pathname])),Iy(f)}function KN(t,e,r,n){if(!n||!Gae(n))return{path:r};if(n.formMethod&&!roe(n.formMethod))return{path:r,error:Hi(405,{method:n.formMethod})};let s=()=>({path:r,error:Hi(400,{type:"invalid-body"})}),a=n.formMethod||"get",o=t?a.toUpperCase():a.toLowerCase(),l=d7(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Da(o))return s();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,_)=>{let[b,u]=_;return""+y+b+"="+u+"\n"},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Da(o))return s();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch(g){return s()}}}rr(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=$P(n.formData),d=n.formData;else if(n.body instanceof FormData)c=$P(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=QN(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=QN(c)}catch(g){return s()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Da(f.formMethod))return{path:r,submission:f};let m=ko(r);return e&&m.search&&eI(m.search)&&c.append("index",""),m.search="?"+c,{path:Iy(m),submission:f}}function XN(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(s=>s.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function YN(t,e,r,n,s,a,o,l,c,d,f,m,g,y,_,b){let u=b?gs(b[1])?b[1].error:b[1].data:void 0,h=t.createURL(e.location),p=t.createURL(s),v=r;a&&e.errors?v=XN(r,Object.keys(e.errors)[0],!0):b&&gs(b[1])&&(v=XN(r,b[0]));let w=b?b[1].statusCode:void 0,x=o&&w&&w>=400,S=v.filter((P,T)=>{let{route:A}=P;if(A.lazy)return!0;if(A.loader==null)return!1;if(a)return UP(A,e.loaderData,e.errors);if(Hae(e.loaderData,e.matches[T],P)||c.some(O=>O===P.route.id))return!0;let R=e.matches[T],D=P;return qN(P,jr({currentUrl:h,currentParams:R.params,nextUrl:p,nextParams:D.params},n,{actionResult:u,actionStatus:w,defaultShouldRevalidate:x?!1:l||h.pathname+h.search===p.pathname+p.search||h.search!==p.search||u7(R,D)}))}),E=[];return m.forEach((P,T)=>{if(a||!r.some(I=>I.route.id===P.routeId)||f.has(T))return;let A=Qc(y,P.path,_);if(!A){E.push({key:T,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(T),D=Wm(A,P.path),O=!1;g.has(T)?O=!1:d.has(T)?(d.delete(T),O=!0):R&&R.state!=="idle"&&R.data===void 0?O=l:O=qN(D,jr({currentUrl:h,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:r[r.length-1].params},n,{actionResult:u,actionStatus:w,defaultShouldRevalidate:x?!1:l})),O&&E.push({key:T,routeId:P.routeId,path:P.path,matches:A,match:D,controller:new AbortController})}),[S,E]}function UP(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function Hae(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function u7(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function qN(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function ZN(t,e,r,n,s){var a;let o;if(t){let d=n[t];rr(d,"No route found to patch children into: routeId = "+t),d.children||(d.children=[]),o=d.children}else o=r;let l=e.filter(d=>!o.some(f=>c7(d,f))),c=$b(l,s,[t||"_","patch",String(((a=o)==null?void 0:a.length)||"0")],n);o.push(...c)}function c7(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(a=>c7(r,a))}):!1}async function Wae(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];rr(s,"No route found in manifest");let a={};for(let o in n){let c=s[o]!==void 0&&o!=="hasErrorBoundary";Ju(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!hae.has(o)&&(a[o]=n[o])}Object.assign(s,a),Object.assign(s,jr({},e(s),{lazy:void 0}))}async function Kae(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,a,o)=>Object.assign(s,{[r[o].route.id]:a}),{})}async function Xae(t,e,r,n,s,a,o,l,c,d){let f=a.map(y=>y.route.lazy?Wae(y.route,c,l):void 0),m=a.map((y,_)=>{let b=f[_],u=s.some(p=>p.route.id===y.route.id);return jr({},y,{shouldLoad:u,resolve:async p=>(p&&n.method==="GET"&&(y.route.lazy||y.route.loader)&&(u=!0),u?Yae(e,n,y,b,p,d):Promise.resolve({type:hr.data,result:void 0}))})}),g=await t({matches:m,request:n,params:a[0].params,fetcherKey:o,context:d});try{await Promise.all(f)}catch(y){}return g}async function Yae(t,e,r,n,s,a){let o,l,c=d=>{let f,m=new Promise((_,b)=>f=b);l=()=>f(),e.signal.addEventListener("abort",l);let g=_=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):d({request:e,params:r.params,context:a},..._!==void 0?[_]:[]),y=(async()=>{try{return{type:"data",result:await(s?s(b=>g(b)):g())}}catch(_){return{type:"error",result:_}}})();return Promise.race([y,m])};try{let d=r.route[t];if(n)if(d){let f,[m]=await Promise.all([c(d).catch(g=>{f=g}),n]);if(f!==void 0)throw f;o=m}else if(await n,d=r.route[t],d)o=await c(d);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Hi(405,{method:e.method,pathname:m,routeId:r.route.id})}else return{type:hr.data,result:void 0};else if(d)o=await c(d);else{let f=new URL(e.url),m=f.pathname+f.search;throw Hi(404,{pathname:m})}rr(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:hr.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function qae(t){let{result:e,type:r}=t;if(f7(e)){let m;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(g){return{type:hr.error,error:g}}return r===hr.error?{type:hr.error,error:new jb(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:hr.data,data:m,statusCode:e.status,headers:e.headers}}if(r===hr.error){if(i3(e)){var n,s;if(e.data instanceof Error){var a,o;return{type:hr.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:hr.error,error:new jb(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:gv(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:hr.error,error:e,statusCode:gv(e)?e.status:void 0}}if(toe(e)){var l,c;return{type:hr.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(i3(e)){var d,f;return{type:hr.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:hr.data,data:e}}function Zae(t,e,r,n,s,a){let o=t.headers.get("Location");if(rr(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!JO.test(o)){let l=n.slice(0,n.findIndex(c=>c.route.id===r)+1);o=LP(new URL(e.url),l,s,!0,o,a),t.headers.set("Location",o)}return t}function JN(t,e,r){if(JO.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=By(s.pathname,r)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return t}function xf(t,e,r,n){let s=t.createURL(d7(e)).toString(),a={signal:r};if(n&&Da(n.formMethod)){let{formMethod:o,formEncType:l}=n;a.method=o.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=$P(n.formData):a.body=n.formData}return new Request(s,a)}function $P(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function QN(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Jae(t,e,r,n,s){let a={},o=null,l,c=!1,d={},f=r&&gs(r[1])?r[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,y=e[g];if(rr(!ad(y),"Cannot handle redirect results in processLoaderData"),gs(y)){let _=y.error;if(f!==void 0&&(_=f,f=void 0),o=o||{},s)o[g]=_;else{let b=ed(t,g);o[b.route.id]==null&&(o[b.route.id]=_)}a[g]=void 0,c||(c=!0,l=gv(y.error)?y.error.status:500),y.headers&&(d[g]=y.headers)}else Su(y)?(n.set(g,y.deferredData),a[g]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!c&&(l=y.statusCode),y.headers&&(d[g]=y.headers)):(a[g]=y.data,y.statusCode&&y.statusCode!==200&&!c&&(l=y.statusCode),y.headers&&(d[g]=y.headers))}),f!==void 0&&r&&(o={[r[0]]:f},a[r[0]]=void 0),{loaderData:a,errors:o,statusCode:l||200,loaderHeaders:d}}function e3(t,e,r,n,s,a,o){let{loaderData:l,errors:c}=Jae(e,r,n,o,!1);return s.forEach(d=>{let{key:f,match:m,controller:g}=d,y=a[f];if(rr(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(gs(y)){let _=ed(t.matches,m==null?void 0:m.route.id);c&&c[_.route.id]||(c=jr({},c,{[_.route.id]:y.error})),t.fetchers.delete(f)}else if(ad(y))rr(!1,"Unhandled fetcher revalidation redirect");else if(Su(y))rr(!1,"Unhandled fetcher deferred data");else{let _=su(y.data);t.fetchers.set(f,_)}}),{loaderData:l,errors:c}}function t3(t,e,r,n){let s=jr({},e);for(let a of r){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&a.route.loader&&(s[o]=t[o]),n&&n.hasOwnProperty(o))break}return s}function r3(t){return t?gs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ed(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function n3(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hi(t,e){let{pathname:r,routeId:n,method:s,type:a,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",s&&r&&n?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?c="defer() is not supported in actions":a==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):t===404?(l="Not Found",c='No route matches URL "'+r+'"'):t===405&&(l="Method Not Allowed",s&&r&&n?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new jb(t||500,l,new Error(c),!0)}function Q_(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(ad(s))return{key:n,result:s}}}function d7(t){let e=typeof t=="string"?ko(t):t;return Iy(jr({},e,{hash:""}))}function Qae(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function eoe(t){return f7(t.result)&&Uae.has(t.result.status)}function Su(t){return t.type===hr.deferred}function gs(t){return t.type===hr.error}function ad(t){return(t&&t.type)===hr.redirect}function i3(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function toe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function f7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function roe(t){return Lae.has(t.toLowerCase())}function Da(t){return kae.has(t.toLowerCase())}async function noe(t,e,r,n,s){let a=Object.entries(e);for(let o=0;o<a.length;o++){let[l,c]=a[o],d=t.find(g=>(g==null?void 0:g.route.id)===l);if(!d)continue;let f=n.find(g=>g.route.id===d.route.id),m=f!=null&&!u7(f,d)&&(s&&s[d.route.id])!==void 0;Su(c)&&m&&await QO(c,r,!1).then(g=>{g&&(e[l]=g)})}}async function ioe(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:a,controller:o}=r[n],l=e[s];t.find(d=>(d==null?void 0:d.route.id)===a)&&Su(l)&&(rr(o,"Expected an AbortController for revalidating fetcher deferred result"),await QO(l,o.signal,!0).then(d=>{d&&(e[s]=d)}))}}async function QO(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:hr.data,data:t.deferredData.unwrappedData}}catch(s){return{type:hr.error,error:s}}return{type:hr.data,data:t.deferredData.data}}}function eI(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wm(t,e){let r=typeof e=="string"?ko(e).search:e.search;if(t[t.length-1].route.index&&eI(r||""))return t[t.length-1];let n=a7(t);return n[n.length-1]}function s3(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:a,json:o}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function DC(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function soe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function wm(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function aoe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function su(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ooe(t,e){try{let r=t.sessionStorage.getItem(l7);if(r){let n=JSON.parse(r);for(let[s,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch(r){}}function loe(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(l7,JSON.stringify(r))}catch(n){Ju(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zb.apply(this,arguments)}const h7=C.createContext(null),p7=C.createContext(null),m7=C.createContext(null),Qx=C.createContext(null),eE=C.createContext({outlet:null,matches:[],isDataRoute:!1}),g7=C.createContext(null);function tI(){return C.useContext(Qx)!=null}function uoe(){return tI()||rr(!1),C.useContext(Qx).location}function coe(t,e,r,n){tI()||rr(!1);let{navigator:s}=C.useContext(m7),{matches:a}=C.useContext(eE),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=uoe(),f;if(e){var m;let u=typeof e=="string"?ko(e):e;c==="/"||(m=u.pathname)!=null&&m.startsWith(c)||rr(!1),f=u}else f=d;let g=f.pathname||"/",y=g;if(c!=="/"){let u=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(u.length).join("/")}let _=Qc(t,{pathname:y}),b=moe(_&&_.map(u=>Object.assign({},u,{params:Object.assign({},l,u.params),pathname:gd([c,s.encodeLocation?s.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?c:gd([c,s.encodeLocation?s.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),a,r,n);return e&&b?C.createElement(Qx.Provider,{value:{location:zb({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:dn.Pop}},b):b}function doe(){let t=_oe(),e=gv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:s},r):null,a)}const foe=C.createElement(doe,null);class hoe extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(eE.Provider,{value:this.props.routeContext},C.createElement(g7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function poe(t){let{routeContext:e,match:r,children:n}=t,s=C.useContext(h7);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(eE.Provider,{value:e},n)}function moe(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||rr(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:y}=r,_=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let y,_=!1,b=null,u=null;r&&(y=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||foe,c&&(d<0&&g===0?(boe("route-fallback",!1),_=!0,u=null):d===g&&(_=!0,u=m.route.hydrateFallbackElement||null)));let h=e.concat(o.slice(0,g+1)),p=()=>{let v;return y?v=b:_?v=u:m.route.Component?v=C.createElement(m.route.Component,null):m.route.element?v=m.route.element:v=f,C.createElement(poe,{match:m,routeContext:{outlet:f,matches:h,isDataRoute:r!=null},children:v})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(hoe,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var jP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jP||{});function goe(t){let e=C.useContext(p7);return e||rr(!1),e}function voe(t){let e=C.useContext(eE);return e||rr(!1),e}function yoe(t){let e=voe(),r=e.matches[e.matches.length-1];return r.route.id||rr(!1),r.route.id}function _oe(){var t;let e=C.useContext(g7),r=goe(jP.UseRouteError),n=yoe(jP.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}const a3={};function boe(t,e,r){!e&&!a3[t]&&(a3[t]=!0)}function woe(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function xoe(t){let{basename:e="/",children:r=null,location:n,navigationType:s=dn.Pop,navigator:a,static:o=!1,future:l}=t;tI()&&rr(!1);let c=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:a,static:o,future:zb({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ko(n));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:_="default"}=n,b=C.useMemo(()=>{let u=By(f,c);return u==null?null:{location:{pathname:u,search:m,hash:g,state:y,key:_},navigationType:s}},[c,f,m,g,y,_,s]);return b==null?null:C.createElement(m7.Provider,{value:d},C.createElement(Qx.Provider,{children:r,value:b}))}new Promise(()=>{});function Eoe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}const Soe="6";try{window.__reactRouterVersion=Soe}catch(t){}function CYe(t,e){return Vae({basename:e==null?void 0:e.basename,future:Vb({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:cae({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Coe(),routes:t,mapRouteProperties:Eoe,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Coe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Vb({},e,{errors:Aoe(e.errors)})),e}function Aoe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new jb(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let o=new a(s.message);o.stack="",r[n]=o}catch(o){}}if(r[n]==null){let a=new Error(s.message);a.stack="",r[n]=a}}else r[n]=s;return r}const Toe=C.createContext({isTransitioning:!1}),Poe=C.createContext(new Map),Doe="startTransition",o3=Ty[Doe],Roe="flushSync",l3=uae[Roe];function Ooe(t){o3?o3(t):t()}function xm(t){l3?l3(t):t()}class Ioe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function AYe(t){let{fallbackElement:e,router:r,future:n}=t,[s,a]=C.useState(r.state),[o,l]=C.useState(),[c,d]=C.useState({isTransitioning:!1}),[f,m]=C.useState(),[g,y]=C.useState(),[_,b]=C.useState(),u=C.useRef(new Map),{v7_startTransition:h}=n||{},p=C.useCallback(P=>{h?Ooe(P):P()},[h]),v=C.useCallback((P,T)=>{let{deletedFetchers:A,flushSync:R,viewTransitionOpts:D}=T;P.fetchers.forEach((I,M)=>{I.data!==void 0&&u.current.set(M,I.data)}),A.forEach(I=>u.current.delete(I));let O=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!D||O){R?xm(()=>a(P)):p(()=>a(P));return}if(R){xm(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let I=r.window.document.startViewTransition(()=>{xm(()=>a(P))});I.finished.finally(()=>{xm(()=>{m(void 0),y(void 0),l(void 0),d({isTransitioning:!1})})}),xm(()=>y(I));return}g?(f&&f.resolve(),g.skipTransition(),b({state:P,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(P),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,g,f,u,p]);C.useLayoutEffect(()=>r.subscribe(v),[r,v]),C.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new Ioe)},[c]),C.useEffect(()=>{if(f&&o&&r.window){let P=o,T=f.promise,A=r.window.document.startViewTransition(async()=>{p(()=>a(P)),await T});A.finished.finally(()=>{m(void 0),y(void 0),l(void 0),d({isTransitioning:!1})}),y(A)}},[p,o,f,r.window]),C.useEffect(()=>{f&&o&&s.location.key===o.location.key&&f.resolve()},[f,g,s.location,o]),C.useEffect(()=>{!c.isTransitioning&&_&&(l(_.state),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),b(void 0))},[c.isTransitioning,_]),C.useEffect(()=>{},[]);let w=C.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:P=>r.navigate(P),push:(P,T,A)=>r.navigate(P,{state:T,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(P,T,A)=>r.navigate(P,{replace:!0,state:T,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[r]),x=r.basename||"/",S=C.useMemo(()=>({router:r,navigator:w,static:!1,basename:x}),[r,w,x]),E=C.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return C.useEffect(()=>woe(n,r.future),[n,r.future]),C.createElement(C.Fragment,null,C.createElement(h7.Provider,{value:S},C.createElement(p7.Provider,{value:s},C.createElement(Poe.Provider,{value:u.current},C.createElement(Toe.Provider,{value:c},C.createElement(xoe,{basename:x,location:s.location,navigationType:s.historyAction,navigator:w,future:E},s.initialized||r.future.v7_partialHydration?C.createElement(Boe,{routes:r.routes,future:r.future,state:s}):e))))),null)}const Boe=C.memo(Foe);function Foe(t){let{routes:e,future:r,state:n}=t;return coe(e,void 0,n,r)}var u3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u3||(u3={}));var c3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c3||(c3={}));function v7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=v7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function np(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=v7(t))&&(n&&(n+=" "),n+=e);return n}const rI="-",Moe=t=>{const e=Noe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(rI);return l[0]===""&&l.length!==1&&l.shift(),y7(l,e)||koe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},y7=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?y7(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(rI);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},d3=/^\[(.+)\]$/,koe=t=>{if(d3.test(t)){const e=d3.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Noe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Uoe(Object.entries(t.classGroups),r).forEach(([a,o])=>{zP(o,n,a,e)}),n},zP=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:f3(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(Loe(s)){zP(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{zP(o,f3(e,a),r,n)})})},f3=(t,e)=>{let r=t;return e.split(rI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Loe=t=>t.isThemeGetter,Uoe=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,$oe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},_7="!",joe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let d=0,f=0,m;for(let u=0;u<l.length;u++){let h=l[u];if(d===0){if(h===s&&(n||l.slice(u,u+a)===e)){c.push(l.slice(f,u)),f=u+a;continue}if(h==="/"){m=u;continue}}h==="["?d++:h==="]"&&d--}const g=c.length===0?l:l.substring(f),y=g.startsWith(_7),_=y?g.substring(1):g,b=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},zoe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Voe=t=>({cache:$oe(t.cacheSize),parseClassName:joe(t),...Moe(t)}),Goe=/\s+/,Hoe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(Goe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}=r(d);let _=!!y,b=n(_?g.substring(0,y):g);if(!b){if(!_){l=d+(l.length>0?" "+l:l);continue}if(b=n(g),!b){l=d+(l.length>0?" "+l:l);continue}_=!1}const u=zoe(f).join(":"),h=m?u+_7:u,p=h+b;if(a.includes(p))continue;a.push(p);const v=s(b,_);for(let w=0;w<v.length;++w){const x=v[w];a.push(h+x)}l=d+(l.length>0?" "+l:l)}return l};function Woe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=b7(e))&&(n&&(n+=" "),n+=r);return n}const b7=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=b7(t[n]))&&(r&&(r+=" "),r+=e);return r};function Koe(t,...e){let r,n,s,a=o;function o(c){const d=e.reduce((f,m)=>m(f),t());return r=Voe(d),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=Hoe(c,r);return s(c,f),f}return function(){return a(Woe.apply(null,arguments))}}const Ar=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},w7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xoe=/^\d+\/\d+$/,Yoe=new Set(["px","full","screen"]),qoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zoe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Joe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qoe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ele=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=t=>Rh(t)||Yoe.has(t)||Xoe.test(t),Jl=t=>Fp(t,"length",lle),Rh=t=>!!t&&!Number.isNaN(Number(t)),RC=t=>Fp(t,"number",Rh),Em=t=>!!t&&Number.isInteger(Number(t)),tle=t=>t.endsWith("%")&&Rh(t.slice(0,-1)),Lt=t=>w7.test(t),Ql=t=>qoe.test(t),rle=new Set(["length","size","percentage"]),nle=t=>Fp(t,rle,x7),ile=t=>Fp(t,"position",x7),sle=new Set(["image","url"]),ale=t=>Fp(t,sle,cle),ole=t=>Fp(t,"",ule),Sm=()=>!0,Fp=(t,e,r)=>{const n=w7.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},lle=t=>Zoe.test(t)&&!Joe.test(t),x7=()=>!1,ule=t=>Qoe.test(t),cle=t=>ele.test(t),dle=()=>{const t=Ar("colors"),e=Ar("spacing"),r=Ar("blur"),n=Ar("brightness"),s=Ar("borderColor"),a=Ar("borderRadius"),o=Ar("borderSpacing"),l=Ar("borderWidth"),c=Ar("contrast"),d=Ar("grayscale"),f=Ar("hueRotate"),m=Ar("invert"),g=Ar("gap"),y=Ar("gradientColorStops"),_=Ar("gradientColorStopPositions"),b=Ar("inset"),u=Ar("margin"),h=Ar("opacity"),p=Ar("padding"),v=Ar("saturate"),w=Ar("scale"),x=Ar("sepia"),S=Ar("skew"),E=Ar("space"),P=Ar("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Lt,e],D=()=>[Lt,e],O=()=>["",Go,Jl],I=()=>["auto",Rh,Lt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Lt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Rh,Lt];return{cacheSize:500,separator:":",theme:{colors:[Sm],spacing:[Go,Jl],blur:["none","",Ql,Lt],brightness:re(),borderColor:[t],borderRadius:["none","","full",Ql,Lt],borderSpacing:D(),borderWidth:O(),contrast:re(),grayscale:H(),hueRotate:re(),invert:H(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[tle,Jl],inset:R(),margin:R(),opacity:re(),padding:D(),saturate:re(),scale:re(),sepia:H(),skew:re(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Ql]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Lt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Em,Lt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Em,Lt]}],"grid-cols":[{"grid-cols":[Sm]}],"col-start-end":[{col:["auto",{span:["full",Em,Lt]},Lt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Sm]}],"row-start-end":[{row:["auto",{span:[Em,Lt]},Lt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[u]}],mx:[{mx:[u]}],my:[{my:[u]}],ms:[{ms:[u]}],me:[{me:[u]}],mt:[{mt:[u]}],mr:[{mr:[u]}],mb:[{mb:[u]}],ml:[{ml:[u]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,e]}],"min-w":[{"min-w":[Lt,e,"min","max","fit"]}],"max-w":[{"max-w":[Lt,e,"none","full","min","max","fit","prose",{screen:[Ql]},Ql]}],h:[{h:[Lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ql,Jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",RC]}],"font-family":[{font:[Sm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Rh,RC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Go,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Go,Jl]}],"underline-offset":[{"underline-offset":["auto",Go,Lt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),ile]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ale]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Go,Lt]}],"outline-w":[{outline:[Go,Jl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[Go,Jl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ql,ole]}],"shadow-color":[{shadow:[Sm]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ql,Lt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[v]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Em,Lt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Go,Jl,RC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fle=Koe(dle),h3=t=>{let e;const r=new Set,n=(f,m)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=(m!=null?m:typeof g!="object"||g===null)?g:Object.assign({},e,g),r.forEach(_=>_(e,y))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{r.clear()}},d=e=t(n,s,c);return c},E7=t=>t?h3(t):h3;var S7={exports:{}},C7={},A7={exports:{}},T7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=C;function hle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ple=typeof Object.is=="function"?Object.is:hle,mle=ip.useState,gle=ip.useEffect,vle=ip.useLayoutEffect,yle=ip.useDebugValue;function _le(t,e){var r=e(),n=mle({inst:{value:r,getSnapshot:e}}),s=n[0].inst,a=n[1];return vle(function(){s.value=r,s.getSnapshot=e,OC(s)&&a({inst:s})},[t,r,e]),gle(function(){return OC(s)&&a({inst:s}),t(function(){OC(s)&&a({inst:s})})},[t]),yle(r),r}function OC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ple(t,r)}catch(n){return!0}}function ble(t,e){return e()}var wle=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ble:_le;T7.useSyncExternalStore=ip.useSyncExternalStore!==void 0?ip.useSyncExternalStore:wle;A7.exports=T7;var xle=A7.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=C,Ele=xle;function Sle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cle=typeof Object.is=="function"?Object.is:Sle,Ale=Ele.useSyncExternalStore,Tle=tE.useRef,Ple=tE.useEffect,Dle=tE.useMemo,Rle=tE.useDebugValue;C7.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var a=Tle(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Dle(function(){function c(y){if(!d){if(d=!0,f=y,y=n(y),s!==void 0&&o.hasValue){var _=o.value;if(s(_,y))return m=_}return m=y}if(_=m,Cle(f,y))return _;var b=n(y);return s!==void 0&&s(_,b)?(f=y,_):(f=y,m=b)}var d=!1,f,m,g=r===void 0?null:r;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,r,n,s]);var l=Ale(t,a[0],a[1]);return Ple(function(){o.hasValue=!0,o.value=l},[l]),Rle(l),l};S7.exports=C7;var Ole=S7.exports;const P7=ui(Ole),{useDebugValue:Ile}=q,{useSyncExternalStoreWithSelector:Ble}=P7;const Fle=t=>t;function Mle(t,e=Fle,r){const n=Ble(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Ile(n),n}const p3=t=>{const e=typeof t=="function"?E7(t):t,r=(n,s)=>Mle(e,n,s);return Object.assign(r,e),r},TYe=t=>t?p3(t):p3;var vc=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(vc||{}),nI=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(nI||{}),Gb=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Gb||{}),wt=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(wt||{}),Fa=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Fa||{}),Be=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Be||{}),vd=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(vd||{}),mt=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(mt||{}),Ze=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Ze||{}),bo=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(bo||{}),To=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(To||{}),Ka=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Ka||{}),Ii=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ii||{}),Oa=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Oa||{}),rE=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(rE||{}),Es=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Es||{}),vn=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(vn||{}),D7=(t=>(t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA",t))(D7||{}),pn=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(pn||{}),za=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(za||{});const R7={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},et={ADAPTER:R7,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var IC=/iPhone/i,m3=/iPod/i,g3=/iPad/i,v3=/\biOS-universal(?:.+)Mac\b/i,BC=/\bAndroid(?:.+)Mobile\b/i,y3=/Android/i,Ef=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,e0=/Silk/i,Ho=/Windows Phone/i,_3=/\bWindows(?:.+)ARM\b/i,b3=/BlackBerry/i,w3=/BB10/i,x3=/Opera Mini/i,E3=/\b(CriOS|Chrome)(?:.+)Mobile/i,S3=/Mobile(?:.+)Firefox\b/i,C3=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function kle(t){return function(e){return e.test(t)}}function A3(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var s=kle(r),a={apple:{phone:s(IC)&&!s(Ho),ipod:s(m3),tablet:!s(IC)&&(s(g3)||C3(e))&&!s(Ho),universal:s(v3),device:(s(IC)||s(m3)||s(g3)||s(v3)||C3(e))&&!s(Ho)},amazon:{phone:s(Ef),tablet:!s(Ef)&&s(e0),device:s(Ef)||s(e0)},android:{phone:!s(Ho)&&s(Ef)||!s(Ho)&&s(BC),tablet:!s(Ho)&&!s(Ef)&&!s(BC)&&(s(e0)||s(y3)),device:!s(Ho)&&(s(Ef)||s(e0)||s(BC)||s(y3))||s(/\bokhttp\b/i)},windows:{phone:s(Ho),tablet:s(_3),device:s(Ho)||s(_3)},other:{blackberry:s(b3),blackberry10:s(w3),opera:s(x3),firefox:s(S3),chrome:s(E3),device:s(b3)||s(w3)||s(x3)||s(S3)||s(E3)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var Gj;const Nle=(Gj=A3.default)!=null?Gj:A3,Ma=Nle(globalThis.navigator);et.RETINA_PREFIX=/@([0-9\.]+)x/;et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var O7={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new s(f,m||c,g),_=r?r+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,_=new Array(y);g<y;g++)_[g]=m[g].fn;return _},l.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,g,y,_){var b=r?r+d:d;if(!this._events[b])return!1;var u=this._events[b],h=arguments.length,p,v;if(u.fn){switch(u.once&&this.removeListener(d,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,f),!0;case 3:return u.fn.call(u.context,f,m),!0;case 4:return u.fn.call(u.context,f,m,g),!0;case 5:return u.fn.call(u.context,f,m,g,y),!0;case 6:return u.fn.call(u.context,f,m,g,y,_),!0}for(v=1,p=new Array(h-1);v<h;v++)p[v-1]=arguments[v];u.fn.apply(u.context,p)}else{var w=u.length,x;for(v=0;v<w;v++)switch(u[v].once&&this.removeListener(d,u[v].fn,void 0,!0),h){case 1:u[v].fn.call(u[v].context);break;case 2:u[v].fn.call(u[v].context,f);break;case 3:u[v].fn.call(u[v].context,f,m);break;case 4:u[v].fn.call(u[v].context,f,m,g);break;default:if(!p)for(x=1,p=new Array(h-1);x<h;x++)p[x-1]=arguments[x];u[v].fn.apply(u[v].context,p)}}return!0},l.prototype.on=function(d,f,m){return a(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return a(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,g){var y=r?r+d:d;if(!this._events[y])return this;if(!f)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===f&&(!g||_.once)&&(!m||_.context===m)&&o(this,y);else{for(var b=0,u=[],h=_.length;b<h;b++)(_[b].fn!==f||g&&!_[b].once||m&&_[b].context!==m)&&u.push(_[b]);u.length?this._events[y]=u.length===1?u[0]:u:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(O7);var Lle=O7.exports;const Mp=ui(Lle);var iI={exports:{}};iI.exports=nE;iI.exports.default=nE;function nE(t,e,r){r=r||2;var n=e&&e.length,s=n?e[0]*r:t.length,a=I7(t,0,s,r,!0),o=[];if(!a||a.next===a.prev)return o;var l,c,d,f,m,g,y;if(n&&(a=Vle(t,e,a,r)),t.length>80*r){l=d=t[0],c=f=t[1];for(var _=r;_<s;_+=r)m=t[_],g=t[_+1],m<l&&(l=m),g<c&&(c=g),m>d&&(d=m),g>f&&(f=g);y=Math.max(d-l,f-c),y=y!==0?32767/y:0}return vv(a,o,r,l,c,y,0),o}function I7(t,e,r,n,s){var a,o;if(s===HP(t,e,r,n)>0)for(a=e;a<r;a+=n)o=T3(a,t[a],t[a+1],o);else for(a=r-n;a>=e;a-=n)o=T3(a,t[a],t[a+1],o);return o&&iE(o,o.next)&&(_v(o),o=o.next),o}function Ld(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(iE(r,r.next)||Jr(r.prev,r,r.next)===0)){if(_v(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function vv(t,e,r,n,s,a,o){if(t){!o&&a&&Xle(t,n,s,a);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,a?$le(t,n,s,a):Ule(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),_v(t),t=d.next,l=d.next;continue}if(t=d,t===l){o?o===1?(t=jle(Ld(t),e,r),vv(t,e,r,n,s,a,2)):o===2&&zle(t,e,r,n,s,a):vv(Ld(t),e,r,n,s,a,1);break}}}}function Ule(t){var e=t.prev,r=t,n=t.next;if(Jr(e,r,n)>=0)return!1;for(var s=e.x,a=r.x,o=n.x,l=e.y,c=r.y,d=n.y,f=s<a?s<o?s:o:a<o?a:o,m=l<c?l<d?l:d:c<d?c:d,g=s>a?s>o?s:o:a>o?a:o,y=l>c?l>d?l:d:c>d?c:d,_=n.next;_!==e;){if(_.x>=f&&_.x<=g&&_.y>=m&&_.y<=y&&gh(s,l,a,c,o,d,_.x,_.y)&&Jr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function $le(t,e,r,n){var s=t.prev,a=t,o=t.next;if(Jr(s,a,o)>=0)return!1;for(var l=s.x,c=a.x,d=o.x,f=s.y,m=a.y,g=o.y,y=l<c?l<d?l:d:c<d?c:d,_=f<m?f<g?f:g:m<g?m:g,b=l>c?l>d?l:d:c>d?c:d,u=f>m?f>g?f:g:m>g?m:g,h=VP(y,_,e,r,n),p=VP(b,u,e,r,n),v=t.prevZ,w=t.nextZ;v&&v.z>=h&&w&&w.z<=p;){if(v.x>=y&&v.x<=b&&v.y>=_&&v.y<=u&&v!==s&&v!==o&&gh(l,f,c,m,d,g,v.x,v.y)&&Jr(v.prev,v,v.next)>=0||(v=v.prevZ,w.x>=y&&w.x<=b&&w.y>=_&&w.y<=u&&w!==s&&w!==o&&gh(l,f,c,m,d,g,w.x,w.y)&&Jr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;v&&v.z>=h;){if(v.x>=y&&v.x<=b&&v.y>=_&&v.y<=u&&v!==s&&v!==o&&gh(l,f,c,m,d,g,v.x,v.y)&&Jr(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;w&&w.z<=p;){if(w.x>=y&&w.x<=b&&w.y>=_&&w.y<=u&&w!==s&&w!==o&&gh(l,f,c,m,d,g,w.x,w.y)&&Jr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function jle(t,e,r){var n=t;do{var s=n.prev,a=n.next.next;!iE(s,a)&&B7(s,n,n.next,a)&&yv(s,a)&&yv(a,s)&&(e.push(s.i/r|0),e.push(n.i/r|0),e.push(a.i/r|0),_v(n),_v(n.next),n=t=a),n=n.next}while(n!==t);return Ld(n)}function zle(t,e,r,n,s,a){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&Zle(o,l)){var c=F7(o,l);o=Ld(o,o.next),c=Ld(c,c.next),vv(o,e,r,n,s,a,0),vv(c,e,r,n,s,a,0);return}l=l.next}o=o.next}while(o!==t)}function Vle(t,e,r,n){var s=[],a,o,l,c,d;for(a=0,o=e.length;a<o;a++)l=e[a]*n,c=a<o-1?e[a+1]*n:t.length,d=I7(t,l,c,n,!1),d===d.next&&(d.steiner=!0),s.push(qle(d));for(s.sort(Gle),a=0;a<s.length;a++)r=Hle(s[a],r);return r}function Gle(t,e){return t.x-e.x}function Hle(t,e){var r=Wle(t,e);if(!r)return e;var n=F7(r,t);return Ld(n,n.next),Ld(r,r.next)}function Wle(t,e){var r=e,n=t.x,s=t.y,a=-1/0,o;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var l=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>a&&(a=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,f=o.y,m=1/0,g;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&gh(s<f?n:a,s,d,f,s<f?a:n,s,r.x,r.y)&&(g=Math.abs(s-r.y)/(n-r.x),yv(r,t)&&(g<m||g===m&&(r.x>o.x||r.x===o.x&&Kle(o,r)))&&(o=r,m=g)),r=r.next;while(r!==c);return o}function Kle(t,e){return Jr(t.prev,t,e.prev)<0&&Jr(e.next,t,t.next)<0}function Xle(t,e,r,n){var s=t;do s.z===0&&(s.z=VP(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,Yle(s)}function Yle(t){var e,r,n,s,a,o,l,c,d=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(s=r,r=r.nextZ,l--):(s=n,n=n.nextZ,c--),a?a.nextZ=s:t=s,s.prevZ=a,a=s;r=n}a.nextZ=null,d*=2}while(o>1);return t}function VP(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function qle(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function gh(t,e,r,n,s,a,o,l){return(s-o)*(e-l)>=(t-o)*(a-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(a-l)>=(s-o)*(n-l)}function Zle(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Jle(t,e)&&(yv(t,e)&&yv(e,t)&&Qle(t,e)&&(Jr(t.prev,t,e.prev)||Jr(t,e.prev,e))||iE(t,e)&&Jr(t.prev,t,t.next)>0&&Jr(e.prev,e,e.next)>0)}function Jr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function iE(t,e){return t.x===e.x&&t.y===e.y}function B7(t,e,r,n){var s=r0(Jr(t,e,r)),a=r0(Jr(t,e,n)),o=r0(Jr(r,n,t)),l=r0(Jr(r,n,e));return!!(s!==a&&o!==l||s===0&&t0(t,r,e)||a===0&&t0(t,n,e)||o===0&&t0(r,t,n)||l===0&&t0(r,e,n))}function t0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function r0(t){return t>0?1:t<0?-1:0}function Jle(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&B7(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function yv(t,e){return Jr(t.prev,t,t.next)<0?Jr(t,e,t.next)>=0&&Jr(t,t.prev,e)>=0:Jr(t,e,t.prev)<0||Jr(t,t.next,e)<0}function Qle(t,e){var r=t,n=!1,s=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&s<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function F7(t,e){var r=new GP(t.i,t.x,t.y),n=new GP(e.i,e.x,e.y),s=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function T3(t,e,r,n){var s=new GP(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function _v(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function GP(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}nE.deviation=function(t,e,r,n){var s=e&&e.length,a=s?e[0]*r:t.length,o=Math.abs(HP(t,0,a,r));if(s)for(var l=0,c=e.length;l<c;l++){var d=e[l]*r,f=l<c-1?e[l+1]*r:t.length;o-=Math.abs(HP(t,d,f,r))}var m=0;for(l=0;l<n.length;l+=3){var g=n[l]*r,y=n[l+1]*r,_=n[l+2]*r;m+=Math.abs((t[g]-t[_])*(t[y+1]-t[g+1])-(t[g]-t[y])*(t[_+1]-t[g+1]))}return o===0&&m===0?0:Math.abs((m-o)/o)};function HP(t,e,r,n){for(var s=0,a=e,o=r-n;a<r;a+=n)s+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return s}nE.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,s=0;s<t.length;s++){for(var a=0;a<t[s].length;a++)for(var o=0;o<e;o++)r.vertices.push(t[s][a][o]);s>0&&(n+=t[s-1].length,r.holes.push(n))}return r};var eue=iI.exports;const M7=ui(eue);var Hb={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Hb.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,s=t&&!t.nodeType&&t,a=typeof Yi=="object"&&Yi;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,l=2147483647,c=36,d=1,f=26,m=38,g=700,y=72,_=128,b="-",u=/^xn--/,h=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-d,x=Math.floor,S=String.fromCharCode,E;function P(K){throw new RangeError(v[K])}function T(K,re){for(var fe=K.length,ye=[];fe--;)ye[fe]=re(K[fe]);return ye}function A(K,re){var fe=K.split("@"),ye="";fe.length>1&&(ye=fe[0]+"@",K=fe[1]),K=K.replace(p,".");var he=K.split("."),ue=T(he,re).join(".");return ye+ue}function R(K){for(var re=[],fe=0,ye=K.length,he,ue;fe<ye;)he=K.charCodeAt(fe++),he>=55296&&he<=56319&&fe<ye?(ue=K.charCodeAt(fe++),(ue&64512)==56320?re.push(((he&1023)<<10)+(ue&1023)+65536):(re.push(he),fe--)):re.push(he);return re}function D(K){return T(K,function(re){var fe="";return re>65535&&(re-=65536,fe+=S(re>>>10&1023|55296),re=56320|re&1023),fe+=S(re),fe}).join("")}function O(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:c}function I(K,re){return K+22+75*(K<26)-((re!=0)<<5)}function M(K,re,fe){var ye=0;for(K=fe?x(K/g):K>>1,K+=x(K/re);K>w*f>>1;ye+=c)K=x(K/w);return x(ye+(w+1)*K/(K+m))}function G(K){var re=[],fe=K.length,ye,he=0,ue=_,Z=y,z,V,Y,ne,ie,me,xe,we,Ee;for(z=K.lastIndexOf(b),z<0&&(z=0),V=0;V<z;++V)K.charCodeAt(V)>=128&&P("not-basic"),re.push(K.charCodeAt(V));for(Y=z>0?z+1:0;Y<fe;){for(ne=he,ie=1,me=c;Y>=fe&&P("invalid-input"),xe=O(K.charCodeAt(Y++)),(xe>=c||xe>x((l-he)/ie))&&P("overflow"),he+=xe*ie,we=me<=Z?d:me>=Z+f?f:me-Z,!(xe<we);me+=c)Ee=c-we,ie>x(l/Ee)&&P("overflow"),ie*=Ee;ye=re.length+1,Z=M(he-ne,ye,ne==0),x(he/ye)>l-ue&&P("overflow"),ue+=x(he/ye),he%=ye,re.splice(he++,0,ue)}return D(re)}function j(K){var re,fe,ye,he,ue,Z,z,V,Y,ne,ie,me=[],xe,we,Ee,tt;for(K=R(K),xe=K.length,re=_,fe=0,ue=y,Z=0;Z<xe;++Z)ie=K[Z],ie<128&&me.push(S(ie));for(ye=he=me.length,he&&me.push(b);ye<xe;){for(z=l,Z=0;Z<xe;++Z)ie=K[Z],ie>=re&&ie<z&&(z=ie);for(we=ye+1,z-re>x((l-fe)/we)&&P("overflow"),fe+=(z-re)*we,re=z,Z=0;Z<xe;++Z)if(ie=K[Z],ie<re&&++fe>l&&P("overflow"),ie==re){for(V=fe,Y=c;ne=Y<=ue?d:Y>=ue+f?f:Y-ue,!(V<ne);Y+=c)tt=V-ne,Ee=c-ne,me.push(S(I(ne+tt%Ee,0))),V=x(tt/Ee);me.push(S(I(V,0))),ue=M(fe,we,ye==he),fe=0,++ye}++fe,++re}return me.join("")}function $(K){return A(K,function(re){return u.test(re)?G(re.slice(4).toLowerCase()):re})}function H(K){return A(K,function(re){return h.test(re)?"xn--"+j(re):re})}if(o={version:"1.4.1",ucs2:{decode:R,encode:D},decode:G,encode:j,toASCII:H,toUnicode:$},n&&s)if(t.exports==n)s.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(Yi)})(Hb,Hb.exports);var tue=Hb.exports,kp=TypeError;const rue={},nue=Object.freeze(Object.defineProperty({__proto__:null,default:rue},Symbol.toStringTag,{value:"Module"})),iue=Nne(nue);var sI=typeof Map=="function"&&Map.prototype,FC=Object.getOwnPropertyDescriptor&&sI?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wb=sI&&FC&&typeof FC.get=="function"?FC.get:null,P3=sI&&Map.prototype.forEach,aI=typeof Set=="function"&&Set.prototype,MC=Object.getOwnPropertyDescriptor&&aI?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Kb=aI&&MC&&typeof MC.get=="function"?MC.get:null,D3=aI&&Set.prototype.forEach,sue=typeof WeakMap=="function"&&WeakMap.prototype,Tg=sue?WeakMap.prototype.has:null,aue=typeof WeakSet=="function"&&WeakSet.prototype,Pg=aue?WeakSet.prototype.has:null,oue=typeof WeakRef=="function"&&WeakRef.prototype,R3=oue?WeakRef.prototype.deref:null,lue=Boolean.prototype.valueOf,uue=Object.prototype.toString,cue=Function.prototype.toString,due=String.prototype.match,oI=String.prototype.slice,Cu=String.prototype.replace,fue=String.prototype.toUpperCase,O3=String.prototype.toLowerCase,k7=RegExp.prototype.test,I3=Array.prototype.concat,go=Array.prototype.join,hue=Array.prototype.slice,B3=Math.floor,WP=typeof BigInt=="function"?BigInt.prototype.valueOf:null,kC=Object.getOwnPropertySymbols,KP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,sp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Dg=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===sp||"symbol")?Symbol.toStringTag:null,N7=Object.prototype.propertyIsEnumerable,F3=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function M3(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||k7.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-B3(-t):B3(t);if(n!==t){var s=String(n),a=oI.call(e,s.length+1);return Cu.call(s,r,"$&_")+"."+Cu.call(Cu.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Cu.call(e,r,"$&_")}var XP=iue,k3=XP.custom,N3=$7(k3)?k3:null,L7={__proto__:null,double:'"',single:"'"},pue={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},sE=function t(e,r,n,s){var a=r||{};if(el(a,"quoteStyle")&&!el(L7,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(el(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=el(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(el(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(el(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return z7(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?M3(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return l?M3(e,d):d}var f=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return YP(e)?"[Array]":"[Object]";var m=Iue(a,n);if(typeof s>"u")s=[];else if(j7(s,e)>=0)return"[Circular]";function g(O,I,M){if(I&&(s=hue.call(s),s.push(I)),M){var G={depth:a.depth};return el(a,"quoteStyle")&&(G.quoteStyle=a.quoteStyle),t(O,G,n+1,s)}return t(O,a,n+1,s)}if(typeof e=="function"&&!L3(e)){var y=Eue(e),_=n0(e,g);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+go.call(_,", ")+" }":"")}if($7(e)){var b=sp?Cu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):KP.call(e);return typeof e=="object"&&!sp?Cm(b):b}if(Due(e)){for(var u="<"+O3.call(String(e.nodeName)),h=e.attributes||[],p=0;p<h.length;p++)u+=" "+h[p].name+"="+U7(mue(h[p].value),"double",a);return u+=">",e.childNodes&&e.childNodes.length&&(u+="..."),u+="</"+O3.call(String(e.nodeName))+">",u}if(YP(e)){if(e.length===0)return"[]";var v=n0(e,g);return m&&!Oue(v)?"["+qP(v,m)+"]":"[ "+go.call(v,", ")+" ]"}if(vue(e)){var w=n0(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!N7.call(e,"cause")?"{ ["+String(e)+"] "+go.call(I3.call("[cause]: "+g(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+go.call(w,", ")+" }"}if(typeof e=="object"&&o){if(N3&&typeof e[N3]=="function"&&XP)return XP(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Sue(e)){var x=[];return P3&&P3.call(e,function(O,I){x.push(g(I,e,!0)+" => "+g(O,e))}),U3("Map",Wb.call(e),x,m)}if(Tue(e)){var S=[];return D3&&D3.call(e,function(O){S.push(g(O,e))}),U3("Set",Kb.call(e),S,m)}if(Cue(e))return NC("WeakMap");if(Pue(e))return NC("WeakSet");if(Aue(e))return NC("WeakRef");if(_ue(e))return Cm(g(Number(e)));if(wue(e))return Cm(g(WP.call(e)));if(bue(e))return Cm(lue.call(e));if(yue(e))return Cm(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Yi<"u"&&e===Yi)return"{ [object globalThis] }";if(!gue(e)&&!L3(e)){var E=n0(e,g),P=F3?F3(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",A=!P&&Dg&&Object(e)===e&&Dg in e?oI.call(yc(e),8,-1):T?"Object":"",R=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",D=R+(A||T?"["+go.call(I3.call([],A||[],T||[]),": ")+"] ":"");return E.length===0?D+"{}":m?D+"{"+qP(E,m)+"}":D+"{ "+go.call(E,", ")+" }"}return String(e)};function U7(t,e,r){var n=r.quoteStyle||e,s=L7[n];return s+t+s}function mue(t){return Cu.call(String(t),/"/g,"&quot;")}function nf(t){return!Dg||!(typeof t=="object"&&(Dg in t||typeof t[Dg]<"u"))}function YP(t){return yc(t)==="[object Array]"&&nf(t)}function gue(t){return yc(t)==="[object Date]"&&nf(t)}function L3(t){return yc(t)==="[object RegExp]"&&nf(t)}function vue(t){return yc(t)==="[object Error]"&&nf(t)}function yue(t){return yc(t)==="[object String]"&&nf(t)}function _ue(t){return yc(t)==="[object Number]"&&nf(t)}function bue(t){return yc(t)==="[object Boolean]"&&nf(t)}function $7(t){if(sp)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!KP)return!1;try{return KP.call(t),!0}catch(e){}return!1}function wue(t){if(!t||typeof t!="object"||!WP)return!1;try{return WP.call(t),!0}catch(e){}return!1}var xue=Object.prototype.hasOwnProperty||function(t){return t in this};function el(t,e){return xue.call(t,e)}function yc(t){return uue.call(t)}function Eue(t){if(t.name)return t.name;var e=due.call(cue.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function j7(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Sue(t){if(!Wb||!t||typeof t!="object")return!1;try{Wb.call(t);try{Kb.call(t)}catch(e){return!0}return t instanceof Map}catch(e){}return!1}function Cue(t){if(!Tg||!t||typeof t!="object")return!1;try{Tg.call(t,Tg);try{Pg.call(t,Pg)}catch(e){return!0}return t instanceof WeakMap}catch(e){}return!1}function Aue(t){if(!R3||!t||typeof t!="object")return!1;try{return R3.call(t),!0}catch(e){}return!1}function Tue(t){if(!Kb||!t||typeof t!="object")return!1;try{Kb.call(t);try{Wb.call(t)}catch(e){return!0}return t instanceof Set}catch(e){}return!1}function Pue(t){if(!Pg||!t||typeof t!="object")return!1;try{Pg.call(t,Pg);try{Tg.call(t,Tg)}catch(e){return!0}return t instanceof WeakSet}catch(e){}return!1}function Due(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function z7(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return z7(oI.call(t,0,e.maxStringLength),e)+n}var s=pue[e.quoteStyle||"single"];s.lastIndex=0;var a=Cu.call(Cu.call(t,s,"\\$1"),/[\x00-\x1f]/g,Rue);return U7(a,"single",e)}function Rue(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+fue.call(e.toString(16))}function Cm(t){return"Object("+t+")"}function NC(t){return t+" { ? }"}function U3(t,e,r,n){var s=n?qP(r,n):go.call(r,", ");return t+" ("+e+") {"+s+"}"}function Oue(t){for(var e=0;e<t.length;e++)if(j7(t[e],"\n")>=0)return!1;return!0}function Iue(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=go.call(Array(t.indent+1)," ");else return null;return{base:r,prev:go.call(Array(e+1),r)}}function qP(t,e){if(t.length===0)return"";var r="\n"+e.prev+e.base;return r+go.call(t,","+r)+"\n"+e.prev}function n0(t,e){var r=YP(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=el(t,s)?e(t[s],t):""}var a=typeof kC=="function"?kC(t):[],o;if(sp){o={};for(var l=0;l<a.length;l++)o["$"+a[l]]=a[l]}for(var c in t)el(t,c)&&(r&&String(Number(c))===c&&c<t.length||sp&&o["$"+c]instanceof Symbol||(k7.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof kC=="function")for(var d=0;d<a.length;d++)N7.call(t,a[d])&&n.push("["+e(a[d])+"]: "+e(t[a[d]],t));return n}var Bue=sE,Fue=kp,aE=function(t,e,r){for(var n=t,s;(s=n.next)!=null;n=s)if(s.key===e)return n.next=s.next,r||(s.next=t.next,t.next=s),s},Mue=function(t,e){if(t){var r=aE(t,e);return r&&r.value}},kue=function(t,e,r){var n=aE(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Nue=function(t,e){return t?!!aE(t,e):!1},Lue=function(t,e){if(t)return aE(t,e,!0)},Uue=function(){var e,r={assert:function(n){if(!r.has(n))throw new Fue("Side channel does not contain "+Bue(n))},delete:function(n){var s=e&&e.next,a=Lue(e,n);return a&&s&&s===a&&(e=void 0),!!a},get:function(n){return Mue(e,n)},has:function(n){return Nue(e,n)},set:function(n,s){e||(e={next:void 0}),kue(e,n,s)}};return r},V7=Object,$ue=Error,jue=EvalError,zue=RangeError,Vue=ReferenceError,Gue=SyntaxError,Hue=URIError,Wue=Math.abs,Kue=Math.floor,Xue=Math.max,Yue=Math.min,que=Math.pow,Zue=Math.round,Jue=Number.isNaN||function(e){return e!==e},Que=Jue,ece=function(e){return Que(e)||e===0?e:e<0?-1:1},tce=Object.getOwnPropertyDescriptor,A1=tce;if(A1)try{A1([],"length")}catch(t){A1=null}var G7=A1,T1=Object.defineProperty||!1;if(T1)try{T1({},"a",{value:1})}catch(t){T1=!1}var rce=T1,LC,$3;function nce(){return $3||($3=1,LC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),LC}var UC,j3;function ice(){if(j3)return UC;j3=1;var t=typeof Symbol<"u"&&Symbol,e=nce();return UC=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},UC}var $C,z3;function H7(){return z3||(z3=1,$C=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),$C}var jC,V3;function W7(){if(V3)return jC;V3=1;var t=V7;return jC=t.getPrototypeOf||null,jC}var sce="Function.prototype.bind called on incompatible ",ace=Object.prototype.toString,oce=Math.max,lce="[object Function]",G3=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},uce=function(e,r){for(var n=[],s=r||0,a=0;s<e.length;s+=1,a+=1)n[a]=e[s];return n},cce=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},dce=function(e){var r=this;if(typeof r!="function"||ace.apply(r)!==lce)throw new TypeError(sce+r);for(var n=uce(arguments,1),s,a=function(){if(this instanceof s){var f=r.apply(this,G3(n,arguments));return Object(f)===f?f:this}return r.apply(e,G3(n,arguments))},o=oce(0,r.length-n.length),l=[],c=0;c<o;c++)l[c]="$"+c;if(s=Function("binder","return function ("+cce(l,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var d=function(){};d.prototype=r.prototype,s.prototype=new d,d.prototype=null}return s},fce=dce,oE=Function.prototype.bind||fce,lI=Function.prototype.call,zC,H3;function K7(){return H3||(H3=1,zC=Function.prototype.apply),zC}var hce=typeof Reflect<"u"&&Reflect&&Reflect.apply,pce=oE,mce=K7(),gce=lI,vce=hce,yce=vce||pce.call(gce,mce),_ce=oE,bce=kp,wce=lI,xce=yce,X7=function(e){if(e.length<1||typeof e[0]!="function")throw new bce("a function is required");return xce(_ce,wce,e)},VC,W3;function Ece(){if(W3)return VC;W3=1;var t=X7,e=G7,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return VC=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(l){return a(l==null?l:s(l))}:!1,VC}var GC,K3;function Sce(){if(K3)return GC;K3=1;var t=H7(),e=W7(),r=Ece();return GC=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,GC}var HC,X3;function Cce(){if(X3)return HC;X3=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=oE;return HC=r.call(t,e),HC}var Xt,Ace=V7,Tce=$ue,Pce=jue,Dce=zue,Rce=Vue,ap=Gue,Oh=kp,Oce=Hue,Ice=Wue,Bce=Kue,Fce=Xue,Mce=Yue,kce=que,Nce=Zue,Lce=ece,Y7=Function,WC=function(t){try{return Y7('"use strict"; return ('+t+").constructor;")()}catch(e){}},bv=G7,Uce=rce,KC=function(){throw new Oh},$ce=bv?function(){try{return arguments.callee,KC}catch(t){try{return bv(arguments,"callee").get}catch(e){return KC}}}():KC,Sf=ice()(),jn=Sce(),jce=W7(),zce=H7(),q7=K7(),Fy=lI,Wf={},Vce=typeof Uint8Array>"u"||!jn?Xt:jn(Uint8Array),yd={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Xt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Xt:ArrayBuffer,"%ArrayIteratorPrototype%":Sf&&jn?jn([][Symbol.iterator]()):Xt,"%AsyncFromSyncIteratorPrototype%":Xt,"%AsyncFunction%":Wf,"%AsyncGenerator%":Wf,"%AsyncGeneratorFunction%":Wf,"%AsyncIteratorPrototype%":Wf,"%Atomics%":typeof Atomics>"u"?Xt:Atomics,"%BigInt%":typeof BigInt>"u"?Xt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Xt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Xt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Xt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Tce,"%eval%":eval,"%EvalError%":Pce,"%Float16Array%":typeof Float16Array>"u"?Xt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Xt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Xt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Xt:FinalizationRegistry,"%Function%":Y7,"%GeneratorFunction%":Wf,"%Int8Array%":typeof Int8Array>"u"?Xt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Xt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Xt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Sf&&jn?jn(jn([][Symbol.iterator]())):Xt,"%JSON%":typeof JSON=="object"?JSON:Xt,"%Map%":typeof Map>"u"?Xt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Sf||!jn?Xt:jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Ace,"%Object.getOwnPropertyDescriptor%":bv,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Xt:Promise,"%Proxy%":typeof Proxy>"u"?Xt:Proxy,"%RangeError%":Dce,"%ReferenceError%":Rce,"%Reflect%":typeof Reflect>"u"?Xt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Xt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Sf||!jn?Xt:jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Xt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Sf&&jn?jn(""[Symbol.iterator]()):Xt,"%Symbol%":Sf?Symbol:Xt,"%SyntaxError%":ap,"%ThrowTypeError%":$ce,"%TypedArray%":Vce,"%TypeError%":Oh,"%Uint8Array%":typeof Uint8Array>"u"?Xt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Xt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Xt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Xt:Uint32Array,"%URIError%":Oce,"%WeakMap%":typeof WeakMap>"u"?Xt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Xt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Xt:WeakSet,"%Function.prototype.call%":Fy,"%Function.prototype.apply%":q7,"%Object.defineProperty%":Uce,"%Object.getPrototypeOf%":jce,"%Math.abs%":Ice,"%Math.floor%":Bce,"%Math.max%":Fce,"%Math.min%":Mce,"%Math.pow%":kce,"%Math.round%":Nce,"%Math.sign%":Lce,"%Reflect.getPrototypeOf%":zce};if(jn)try{null.error}catch(t){var Gce=jn(jn(t));yd["%Error.prototype%"]=Gce}var Hce=function t(e){var r;if(e==="%AsyncFunction%")r=WC("async function () {}");else if(e==="%GeneratorFunction%")r=WC("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=WC("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&jn&&(r=jn(s.prototype))}return yd[e]=r,r},Y3={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},My=oE,Xb=Cce(),Wce=My.call(Fy,Array.prototype.concat),Kce=My.call(q7,Array.prototype.splice),q3=My.call(Fy,String.prototype.replace),Yb=My.call(Fy,String.prototype.slice),Xce=My.call(Fy,RegExp.prototype.exec),Yce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qce=/\\(\\)?/g,Zce=function(e){var r=Yb(e,0,1),n=Yb(e,-1);if(r==="%"&&n!=="%")throw new ap("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ap("invalid intrinsic syntax, expected opening `%`");var s=[];return q3(e,Yce,function(a,o,l,c){s[s.length]=l?q3(c,qce,"$1"):o||a}),s},Jce=function(e,r){var n=e,s;if(Xb(Y3,n)&&(s=Y3[n],n="%"+s[0]+"%"),Xb(yd,n)){var a=yd[n];if(a===Wf&&(a=Hce(n)),typeof a>"u"&&!r)throw new Oh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:a}}throw new ap("intrinsic "+e+" does not exist!")},uI=function(e,r){if(typeof e!="string"||e.length===0)throw new Oh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Oh('"allowMissing" argument must be a boolean');if(Xce(/^%?[^%]*%?$/,e)===null)throw new ap("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Zce(e),s=n.length>0?n[0]:"",a=Jce("%"+s+"%",r),o=a.name,l=a.value,c=!1,d=a.alias;d&&(s=d[0],Kce(n,Wce([0,1],d)));for(var f=1,m=!0;f<n.length;f+=1){var g=n[f],y=Yb(g,0,1),_=Yb(g,-1);if((y==='"'||y==="'"||y==="`"||_==='"'||_==="'"||_==="`")&&y!==_)throw new ap("property names with quotes must have matching quotes");if((g==="constructor"||!m)&&(c=!0),s+="."+g,o="%"+s+"%",Xb(yd,o))l=yd[o];else if(l!=null){if(!(g in l)){if(!r)throw new Oh("base intrinsic for "+e+" exists, but the property is not available.");return}if(bv&&f+1>=n.length){var b=bv(l,g);m=!!b,m&&"get"in b&&!("originalValue"in b.get)?l=b.get:l=l[g]}else m=Xb(l,g),l=l[g];m&&!c&&(yd[o]=l)}}return l},Z7=uI,J7=X7,Qce=J7([Z7("%String.prototype.indexOf%")]),Q7=function(e,r){var n=Z7(e,!!r);return typeof n=="function"&&Qce(e,".prototype.")>-1?J7([n]):n},ede=uI,ky=Q7,tde=sE,rde=kp,Z3=ede("%Map%",!0),nde=ky("Map.prototype.get",!0),ide=ky("Map.prototype.set",!0),sde=ky("Map.prototype.has",!0),ade=ky("Map.prototype.delete",!0),ode=ky("Map.prototype.size",!0),e9=!!Z3&&function(){var e,r={assert:function(n){if(!r.has(n))throw new rde("Side channel does not contain "+tde(n))},delete:function(n){if(e){var s=ade(e,n);return ode(e)===0&&(e=void 0),s}return!1},get:function(n){if(e)return nde(e,n)},has:function(n){return e?sde(e,n):!1},set:function(n,s){e||(e=new Z3),ide(e,n,s)}};return r},lde=uI,lE=Q7,ude=sE,i0=e9,cde=kp,Cf=lde("%WeakMap%",!0),dde=lE("WeakMap.prototype.get",!0),fde=lE("WeakMap.prototype.set",!0),hde=lE("WeakMap.prototype.has",!0),pde=lE("WeakMap.prototype.delete",!0),mde=Cf?function(){var e,r,n={assert:function(s){if(!n.has(s))throw new cde("Side channel does not contain "+ude(s))},delete:function(s){if(Cf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return pde(e,s)}else if(i0&&r)return r.delete(s);return!1},get:function(s){return Cf&&s&&(typeof s=="object"||typeof s=="function")&&e?dde(e,s):r&&r.get(s)},has:function(s){return Cf&&s&&(typeof s=="object"||typeof s=="function")&&e?hde(e,s):!!r&&r.has(s)},set:function(s,a){Cf&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Cf),fde(e,s,a)):i0&&(r||(r=i0()),r.set(s,a))}};return n}:i0,gde=kp,vde=sE,yde=Uue,_de=e9,bde=mde,wde=bde||_de||yde,xde=function(){var e,r={assert:function(n){if(!r.has(n))throw new gde("Side channel does not contain "+vde(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,s){e||(e=wde()),e.set(n,s)}};return r},Ede=String.prototype.replace,Sde=/%20/g,XC={RFC1738:"RFC1738",RFC3986:"RFC3986"},cI={default:XC.RFC3986,formatters:{RFC1738:function(t){return Ede.call(t,Sde,"+")},RFC3986:function(t){return String(t)}},RFC1738:XC.RFC1738,RFC3986:XC.RFC3986},Cde=cI,YC=Object.prototype.hasOwnProperty,td=Array.isArray,to=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ade=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(td(n)){for(var s=[],a=0;a<n.length;++a)typeof n[a]<"u"&&s.push(n[a]);r.obj[r.prop]=s}}},t9=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},Tde=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(td(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!YC.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return td(e)&&!td(r)&&(s=t9(e,n)),td(e)&&td(r)?(r.forEach(function(a,o){if(YC.call(e,o)){var l=e[o];l&&typeof l=="object"&&a&&typeof a=="object"?e[o]=t(l,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var l=r[o];return YC.call(a,o)?a[o]=t(a[o],l,n):a[o]=l,a},s)},Pde=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},Dde=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(s){return n}},qC=1024,Rde=function(e,r,n,s,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;c+=qC){for(var d=o.length>=qC?o.slice(c,c+qC):o,f=[],m=0;m<d.length;++m){var g=d.charCodeAt(m);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||a===Cde.RFC1738&&(g===40||g===41)){f[f.length]=d.charAt(m);continue}if(g<128){f[f.length]=to[g];continue}if(g<2048){f[f.length]=to[192|g>>6]+to[128|g&63];continue}if(g<55296||g>=57344){f[f.length]=to[224|g>>12]+to[128|g>>6&63]+to[128|g&63];continue}m+=1,g=65536+((g&1023)<<10|d.charCodeAt(m)&1023),f[f.length]=to[240|g>>18]+to[128|g>>12&63]+to[128|g>>6&63]+to[128|g&63]}l+=f.join("")}return l},Ode=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var a=r[s],o=a.obj[a.prop],l=Object.keys(o),c=0;c<l.length;++c){var d=l[c],f=o[d];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:d}),n.push(f))}return Ade(r),e},Ide=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Bde=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Fde=function(e,r){return[].concat(e,r)},Mde=function(e,r){if(td(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},r9={arrayToObject:t9,assign:Pde,combine:Fde,compact:Ode,decode:Dde,encode:Rde,isBuffer:Bde,isRegExp:Ide,maybeMap:Mde,merge:Tde},n9=xde,P1=r9,Rg=cI,kde=Object.prototype.hasOwnProperty,i9={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},co=Array.isArray,Nde=Array.prototype.push,s9=function(t,e){Nde.apply(t,co(e)?e:[e])},Lde=Date.prototype.toISOString,J3=Rg.default,Tn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:P1.encode,encodeValuesOnly:!1,filter:void 0,format:J3,formatter:Rg.formatters[J3],indices:!1,serializeDate:function(e){return Lde.call(e)},skipNulls:!1,strictNullHandling:!1},Ude=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ZC={},$de=function t(e,r,n,s,a,o,l,c,d,f,m,g,y,_,b,u,h,p){for(var v=e,w=p,x=0,S=!1;(w=w.get(ZC))!==void 0&&!S;){var E=w.get(e);if(x+=1,typeof E<"u"){if(E===x)throw new RangeError("Cyclic object value");S=!0}typeof w.get(ZC)>"u"&&(x=0)}if(typeof f=="function"?v=f(r,v):v instanceof Date?v=y(v):n==="comma"&&co(v)&&(v=P1.maybeMap(v,function(K){return K instanceof Date?y(K):K})),v===null){if(o)return d&&!u?d(r,Tn.encoder,h,"key",_):r;v=""}if(Ude(v)||P1.isBuffer(v)){if(d){var P=u?r:d(r,Tn.encoder,h,"key",_);return[b(P)+"="+b(d(v,Tn.encoder,h,"value",_))]}return[b(r)+"="+b(String(v))]}var T=[];if(typeof v>"u")return T;var A;if(n==="comma"&&co(v))u&&d&&(v=P1.maybeMap(v,d)),A=[{value:v.length>0?v.join(",")||null:void 0}];else if(co(f))A=f;else{var R=Object.keys(v);A=m?R.sort(m):R}var D=c?String(r).replace(/\./g,"%2E"):String(r),O=s&&co(v)&&v.length===1?D+"[]":D;if(a&&co(v)&&v.length===0)return O+"[]";for(var I=0;I<A.length;++I){var M=A[I],G=typeof M=="object"&&M&&typeof M.value<"u"?M.value:v[M];if(!(l&&G===null)){var j=g&&c?String(M).replace(/\./g,"%2E"):String(M),$=co(v)?typeof n=="function"?n(O,j):O:O+(g?"."+j:"["+j+"]");p.set(e,x);var H=n9();H.set(ZC,p),s9(T,t(G,$,n,s,a,o,l,c,n==="comma"&&u&&co(v)?null:d,f,m,g,y,_,b,u,h,H))}}return T},jde=function(e){if(!e)return Tn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Tn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Rg.default;if(typeof e.format<"u"){if(!kde.call(Rg.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Rg.formatters[n],a=Tn.filter;(typeof e.filter=="function"||co(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in i9?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Tn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Tn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Tn.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Tn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Tn.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Tn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Tn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Tn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Tn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Tn.encodeValuesOnly,filter:a,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Tn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Tn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Tn.strictNullHandling}},zde=function(t,e){var r=t,n=jde(e),s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):co(n.filter)&&(a=n.filter,s=a);var o=[];if(typeof r!="object"||r===null)return"";var l=i9[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var d=n9(),f=0;f<s.length;++f){var m=s[f],g=r[m];n.skipNulls&&g===null||s9(o,$de(g,m,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var y=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),y.length>0?_+y:""},Ud=r9,ZP=Object.prototype.hasOwnProperty,Q3=Array.isArray,sn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ud.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Vde=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},a9=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Gde="utf8=%26%2310003%3B",Hde="utf8=%E2%9C%93",Wde=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=s.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var l=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Hde?d="utf-8":o[c]===Gde&&(d="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var f=o[c],m=f.indexOf("]="),g=m===-1?f.indexOf("="):m+1,y,_;g===-1?(y=r.decoder(f,sn.decoder,d,"key"),_=r.strictNullHandling?null:""):(y=r.decoder(f.slice(0,g),sn.decoder,d,"key"),_=Ud.maybeMap(a9(f.slice(g+1),r,Q3(n[y])?n[y].length:0),function(u){return r.decoder(u,sn.decoder,d,"value")})),_&&r.interpretNumericEntities&&d==="iso-8859-1"&&(_=Vde(String(_))),f.indexOf("[]=")>-1&&(_=Q3(_)?[_]:_);var b=ZP.call(n,y);b&&r.duplicates==="combine"?n[y]=Ud.combine(n[y],_):(!b||r.duplicates==="last")&&(n[y]=_)}return n},Kde=function(t,e,r,n){var s=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");s=Array.isArray(e)&&e[a]?e[a].length:0}for(var o=n?e:a9(e,r,s),l=t.length-1;l>=0;--l){var c,d=t[l];if(d==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:Ud.combine([],o);else{c=r.plainObjects?{__proto__:null}:{};var f=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,m=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,g=parseInt(m,10);!r.parseArrays&&m===""?c={0:o}:!isNaN(g)&&d!==m&&String(g)===m&&g>=0&&r.parseArrays&&g<=r.arrayLimit?(c=[],c[g]=o):m!=="__proto__"&&(c[m]=o)}o=c}return o},Xde=function(e,r,n,s){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),d=c?a.slice(0,c.index):a,f=[];if(d){if(!n.plainObjects&&ZP.call(Object.prototype,d)&&!n.allowPrototypes)return;f.push(d)}for(var m=0;n.depth>0&&(c=l.exec(a))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&ZP.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+a.slice(c.index)+"]")}return Kde(f,r,n,s)}},Yde=function(e){if(!e)return sn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?sn.charset:e.charset,n=typeof e.duplicates>"u"?sn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:sn.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:sn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:sn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:sn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:sn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:sn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:sn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:sn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:sn.decoder,delimiter:typeof e.delimiter=="string"||Ud.isRegExp(e.delimiter)?e.delimiter:sn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:sn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:sn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:sn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:sn.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:sn.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:sn.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},qde=function(t,e){var r=Yde(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Wde(t,r):t,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),o=0;o<a.length;++o){var l=a[o],c=Xde(l,n[l],r,typeof t=="string");s=Ud.merge(s,c,r)}return r.allowSparse===!0?s:Ud.compact(s)},Zde=zde,Jde=qde,Qde=cI,efe={formats:Qde,parse:Jde,stringify:Zde},tfe=tue;function Va(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var rfe=/^([a-z0-9.+-]+:)/i,nfe=/:[0-9]*$/,ife=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,sfe=["<",">",'"',"`"," ","\r","\n","	"],afe=["{","}","|","\\","^","`"].concat(sfe),JP=["'"].concat(afe),eL=["%","/","?",";","#"].concat(JP),tL=["/","?","#"],ofe=255,rL=/^[+a-z0-9A-Z_-]{0,63}$/,lfe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ufe={javascript:!0,"javascript:":!0},QP={javascript:!0,"javascript:":!0},Ih={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},eD=efe;function uE(t,e,r){if(t&&typeof t=="object"&&t instanceof Va)return t;var n=new Va;return n.parse(t,e,r),n}Va.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(s),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(s);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=ife.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=eD.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=rfe.exec(l);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,l=l.substr(d.length)}if(r||d||l.match(/^\/\/[^@/]+@[^@/]+/)){var m=l.substr(0,2)==="//";m&&!(d&&QP[d])&&(l=l.substr(2),this.slashes=!0)}if(!QP[d]&&(m||d&&!Ih[d])){for(var g=-1,y=0;y<tL.length;y++){var _=l.indexOf(tL[y]);_!==-1&&(g===-1||_<g)&&(g=_)}var b,u;g===-1?u=l.lastIndexOf("@"):u=l.lastIndexOf("@",g),u!==-1&&(b=l.slice(0,u),l=l.slice(u+1),this.auth=decodeURIComponent(b)),g=-1;for(var y=0;y<eL.length;y++){var _=l.indexOf(eL[y]);_!==-1&&(g===-1||_<g)&&(g=_)}g===-1&&(g=l.length),this.host=l.slice(0,g),l=l.slice(g),this.parseHost(),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h)for(var p=this.hostname.split(/\./),y=0,v=p.length;y<v;y++){var w=p[y];if(w&&!w.match(rL)){for(var x="",S=0,E=w.length;S<E;S++)w.charCodeAt(S)>127?x+="x":x+=w[S];if(!x.match(rL)){var P=p.slice(0,y),T=p.slice(y+1),A=w.match(lfe);A&&(P.push(A[1]),T.unshift(A[2])),T.length&&(l="/"+T.join(".")+l),this.hostname=P.join(".");break}}}this.hostname.length>ofe?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=tfe.toASCII(this.hostname));var R=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+R,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!ufe[f])for(var y=0,v=JP.length;y<v;y++){var O=JP[y];if(l.indexOf(O)!==-1){var I=encodeURIComponent(O);I===O&&(I=escape(O)),l=l.split(O).join(I)}}var M=l.indexOf("#");M!==-1&&(this.hash=l.substr(M),l=l.slice(0,M));var G=l.indexOf("?");if(G!==-1?(this.search=l.substr(G),this.query=l.substr(G+1),e&&(this.query=eD.parse(this.query)),l=l.slice(0,G)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Ih[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",j=this.search||"";this.path=R+j}return this.href=this.format(),this};function cfe(t){return typeof t=="string"&&(t=uE(t)),t instanceof Va?t.format():Va.prototype.format.call(t)}Va.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,a="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=eD.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ih[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+s+r+o+n};function dfe(t,e){return uE(t,!1,!0).resolve(e)}Va.prototype.resolve=function(t){return this.resolveObject(uE(t,!1,!0)).format()};Va.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Va;e.parse(t,!1,!0),t=e}for(var r=new Va,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(r[c]=t[c])}return Ih[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ih[t.protocol]){for(var d=Object.keys(t),f=0;f<d.length;f++){var m=d[f];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!QP[t.protocol]){for(var v=(t.pathname||"").split("/");v.length&&!(t.host=v.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),r.pathname=v.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",u=b||_||r.host&&t.pathname,h=u,p=r.pathname&&r.pathname.split("/")||[],v=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Ih[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(p[0]===""?p[0]=r.host:p.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(v[0]===""?v[0]=t.host:v.unshift(t.host)),t.host=null),u=u&&(v[0]===""||p[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,p=v;else if(v.length)p||(p=[]),p.pop(),p=p.concat(v),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=p.shift(),r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!p.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=p.slice(-1)[0],E=(r.host||t.host||p.length>1)&&(S==="."||S==="..")||S==="",P=0,T=p.length;T>=0;T--)S=p[T],S==="."?p.splice(T,1):S===".."?(p.splice(T,1),P++):P&&(p.splice(T,1),P--);if(!u&&!h)for(;P--;P)p.unshift("..");u&&p[0]!==""&&(!p[0]||p[0].charAt(0)!=="/")&&p.unshift(""),E&&p.join("/").substr(-1)!=="/"&&p.push("");var A=p[0]===""||p[0]&&p[0].charAt(0)==="/";if(w){r.hostname=A?"":p.length?p.shift():"",r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;x&&(r.auth=x.shift(),r.hostname=x.shift(),r.host=r.hostname)}return u=u||r.host&&p.length,u&&!A&&p.unshift(""),p.length>0?r.pathname=p.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Va.prototype.parseHost=function(){var t=this.host,e=nfe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var ffe=uE,hfe=dfe,pfe=cfe;const nL={};function At(t,e,r=3){if(nL[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),nL[e]=!0}const mfe={get parse(){return At("7.3.0","utils.url.parse is deprecated, use native URL API instead."),ffe},get format(){return At("7.3.0","utils.url.format is deprecated, use native URL API instead."),pfe},get resolve(){return At("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),hfe}};function ba(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function Am(t){return t.split("?")[0].split("#")[0]}function gfe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vfe(t,e,r){return t.replace(new RegExp(gfe(e),"g"),r)}function yfe(t,e){let r="",n=0,s=-1,a=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=l,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=l,a=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(s+1,l)):r=t.slice(s+1,l),n=l-s-1;s=l,a=0}else o===46&&a!==-1?++a:a=-1}return r}const On={toPosix(t){return vfe(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){ba(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(ba(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Am(this.toPosix(e!=null?e:et.ADAPTER.getBaseUrl())),s=Am(this.toPosix(r!=null?r:this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?On.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(ba(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=yfe(t,!1),t.length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute(t){return ba(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var r;if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const s=t[n];if(ba(s),s.length>0)if(e===void 0)e=s;else{const a=(r=t[n-1])!=null?r:"";this.joinExtensions.includes(this.extname(a).toLowerCase())?e+="/../".concat(s):e+="/".concat(s)}}return e===void 0?".":this.normalize(e)},dirname(t){if(ba(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const a=this.getProtocol(t),o=t;t=t.slice(a.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!s){n=l;break}}else s=!1;return n===-1?r?"/":this.isUrl(o)?a+t:a:r&&n===1?"//":a+t.slice(0,n)},rootname(t){ba(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ba(t),e&&ba(e),t=Am(this.toPosix(t));let r=0,n=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(a=t.length-1;a>=0;--a){const c=t.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else l===-1&&(s=!1,l=a+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=a):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){r=a+1;break}}else n===-1&&(s=!1,n=a+1);return n===-1?"":t.slice(r,n)},extname(t){ba(t),t=Am(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,a=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),l===46?e===-1?e=o:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){ba(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Am(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let a=-1,o=0,l=-1,c=!0,d=t.length-1,f=0;for(;d>=s;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}l===-1&&(c=!1,l=d+1),r===46?a===-1?a=d:f!==1&&(f=1):a!==-1&&(f=-1)}return a===-1||l===-1||f===0||f===1&&a===l-1&&a===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,l)):(e.name=t.slice(o,a),e.base=t.slice(o,l)),e.ext=t.slice(a,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Tm;async function o9(){return Tm!=null||(Tm=(async()=>{var a;const t=document.createElement("canvas").getContext("webgl");if(!t)return Ii.UNPACK;const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return Ii.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(n),t.deleteTexture(r),(a=t.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?Ii.PMA:Ii.UNPACK})()),Tm}function _fe(){At("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function bfe(){At("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}let JC;function l9(){return typeof JC>"u"&&(JC=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!et.ADAPTER.getWebGLRenderingContext())return!1;const r=et.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const s=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,s}catch(r){return!1}}()),JC}var wfe={grad:.9,turn:360,rad:360/(2*Math.PI)},Wo=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Gn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},na=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},u9=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},iL=function(t){return{r:na(t.r,0,255),g:na(t.g,0,255),b:na(t.b,0,255),a:na(t.a)}},QC=function(t){return{r:Gn(t.r),g:Gn(t.g),b:Gn(t.b),a:Gn(t.a,3)}},xfe=/^#([0-9a-f]{3,8})$/i,s0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},c9=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=Math.max(e,r,n),o=a-Math.min(e,r,n),l=o?a===e?(r-n)/o:a===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:a?o/a*100:0,v:a/255*100,a:s}},d9=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),o=n*(1-r),l=n*(1-(e-a)*r),c=n*(1-(1-e+a)*r),d=a%6;return{r:255*[n,l,o,o,c,n][d],g:255*[c,n,n,l,o,o][d],b:255*[o,o,c,n,n,l][d],a:s}},sL=function(t){return{h:u9(t.h),s:na(t.s,0,100),l:na(t.l,0,100),a:na(t.a)}},aL=function(t){return{h:Gn(t.h),s:Gn(t.s),l:Gn(t.l),a:Gn(t.a,3)}},oL=function(t){return d9((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Og=function(t){return{h:(e=c9(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},Efe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sfe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cfe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Afe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tD={string:[[function(t){var e=xfe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Gn(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Gn(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Cfe.exec(t)||Afe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:iL({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Efe.exec(t)||Sfe.exec(t);if(!e)return null;var r,n,s=sL({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(wfe[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return oL(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=s===void 0?1:s;return Wo(e)&&Wo(r)&&Wo(n)?iL({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,a=s===void 0?1:s;if(!Wo(e)||!Wo(r)||!Wo(n))return null;var o=sL({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return oL(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,a=s===void 0?1:s;if(!Wo(e)||!Wo(r)||!Wo(n))return null;var o=function(l){return{h:u9(l.h),s:na(l.s,0,100),v:na(l.v,0,100),a:na(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return d9(o)},"hsv"]]},lL=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Tfe=function(t){return typeof t=="string"?lL(t.trim(),tD.string):typeof t=="object"&&t!==null?lL(t,tD.object):[null,void 0]},eA=function(t,e){var r=Og(t);return{h:r.h,s:na(r.s+100*e,0,100),l:r.l,a:r.a}},tA=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},uL=function(t,e){var r=Og(t);return{h:r.h,s:r.s,l:na(r.l+100*e,0,100),a:r.a}},rD=function(){function t(e){this.parsed=Tfe(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Gn(tA(this.rgba),2)},t.prototype.isDark=function(){return tA(this.rgba)<.5},t.prototype.isLight=function(){return tA(this.rgba)>=.5},t.prototype.toHex=function(){return e=QC(this.rgba),r=e.r,n=e.g,s=e.b,o=(a=e.a)<1?s0(Gn(255*a)):"","#"+s0(r)+s0(n)+s0(s)+o;var e,r,n,s,a,o},t.prototype.toRgb=function(){return QC(this.rgba)},t.prototype.toRgbString=function(){return e=QC(this.rgba),r=e.r,n=e.g,s=e.b,(a=e.a)<1?"rgba("+r+", "+n+", "+s+", "+a+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,a},t.prototype.toHsl=function(){return aL(Og(this.rgba))},t.prototype.toHslString=function(){return e=aL(Og(this.rgba)),r=e.h,n=e.s,s=e.l,(a=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+a+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,a},t.prototype.toHsv=function(){return e=c9(this.rgba),{h:Gn(e.h),s:Gn(e.s),v:Gn(e.v),a:Gn(e.a,3)};var e},t.prototype.invert=function(){return io({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),io(eA(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),io(eA(this.rgba,-e))},t.prototype.grayscale=function(){return io(eA(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),io(uL(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),io(uL(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?io({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Gn(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Og(this.rgba);return typeof e=="number"?io({h:e,s:r.s,l:r.l,a:r.a}):Gn(r.h)},t.prototype.isEqual=function(e){return this.toHex()===io(e).toHex()},t}(),io=function(t){return t instanceof rD?t:new rD(t)},cL=[],Pfe=function(t){t.forEach(function(e){cL.indexOf(e)<0&&(e(rD,tD),cL.push(e))})};function Dfe(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var a={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,d=n[this.toHex()];if(d)return d;if(o!=null&&o.closest){var f=this.toRgb(),m=1/0,g="black";if(!a.length)for(var y in r)a[y]=new t(r[y]).toRgb();for(var _ in r){var b=(l=f,c=a[_],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));b<m&&(m=b,g=_)}return g}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}Pfe([Dfe]);const Kf=class D1{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof D1)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,a)=>s===r[a]);if(e!==null&&r!==null){const s=Object.keys(e),a=Object.keys(r);return s.length!==a.length?!1:s.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(r,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[r,n,s]=this._components;return e=e!=null?e:[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e!=null?e:[];const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,a]=D1.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,s]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e!=null?e:[];const[r,n,s,a]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e}normalize(e){let r,n,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,s=(o&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,a=255]=e,r/=255,n/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=D1.HEX_PATTERN.exec(e);l&&(e="#".concat(l[2]))}const o=io(e);o.isValid()&&({r,g:n,b:s,a}=o.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error("Unable to convert color ".concat(e))}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,r),n)}),e)}};Kf.shared=new Kf,Kf.temp=new Kf,Kf.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let lr=Kf;function Rfe(t,e=[]){return At("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),lr.shared.setValue(t).toRgbArray(e)}function f9(t){return At("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),lr.shared.setValue(t).toHex()}function Ofe(t){return At("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),lr.shared.setValue(t).toNumber()}function h9(t){return At("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),lr.shared.setValue(t).toNumber()}function Ife(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[wt.NORMAL_NPM]=wt.NORMAL,t[wt.ADD_NPM]=wt.ADD,t[wt.SCREEN_NPM]=wt.SCREEN,e[wt.NORMAL]=wt.NORMAL_NPM,e[wt.ADD]=wt.ADD_NPM,e[wt.SCREEN]=wt.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const dI=Ife();function fI(t,e){return dI[e?1:0][t]}function Bfe(t,e,r,n=!0){return At("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),lr.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}function Ffe(t,e){return At("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),lr.shared.setValue(t).toPremultiplied(e)}function Mfe(t,e,r,n=!0){return At("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),lr.shared.setValue(t).premultiply(e,n).toArray(r!=null?r:new Float32Array(4))}const p9=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function m9(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(let n=0,s=0;n<r;n+=6,s+=4)e[n+0]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3;return e}function cE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}const kfe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Nfe(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const a=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],m=cE(f);s[m]||(s[m]=new kfe[m](a)),o=s[m];for(let g=0;g<f.length;g++){const y=(g/d|0)*n+l,_=g%d;o[y+_]=f[g]}l+=d}return new Float32Array(a)}function wv(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function nD(t){return!(t&t-1)&&!!t}function iD(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function _d(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const a=n-r;for(s=e;s<a;++s)t[s]=t[s+r];t.length=a}function dl(t){return t===0?0:t<0?-1:1}let Lfe=0;function Qu(){return++Lfe}const sD=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};sD.EMPTY=new sD(0,0,0,0);let aD=sD;const oD={},Pi=Object.create(null),ps=Object.create(null);function Ufe(){let t;for(t in Pi)Pi[t].destroy();for(t in ps)ps[t].destroy()}function $fe(){let t;for(t in Pi)delete Pi[t];for(t in ps)delete ps[t]}class g9{constructor(e,r,n){this._canvas=et.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||et.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function dL(t,e,r){for(let n=0,s=4*r*e;n<e;++n,s+=4)if(t[s+3]!==0)return!1;return!0}function fL(t,e,r,n,s){const a=4*e;for(let o=n,l=n*a+4*r;o<=s;++o,l+=a)if(t[l+3]!==0)return!1;return!0}function v9(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let a=0,o=0,l=e-1,c=r-1;for(;o<r&&dL(s,e,o);)++o;if(o===r)return aD.EMPTY;for(;dL(s,e,c);)--c;for(;fL(s,e,a,o,c);)++a;for(;fL(s,e,l,o,c);)--l;return++l,++c,new aD(a,o,l,c)}function y9(t){const e=v9(t),{width:r,height:n}=e;let s=null;if(!e.isEmpty()){const a=t.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:s}}function jfe(t){const e=p9.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function _9(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Oo(t,e=1){var n;const r=(n=et.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}const zfe=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:ps,BoundingBox:aD,CanvasRenderTarget:g9,DATA_URI:p9,EventEmitter:Mp,ProgramCache:oD,TextureCache:Pi,clearTextureCache:$fe,correctBlendMode:fI,createIndicesForQuads:m9,decomposeDataUri:jfe,deprecation:At,destroyTextureCache:Ufe,detectVideoAlphaMode:o9,determineCrossOrigin:_9,earcut:M7,getBufferType:cE,getCanvasBoundingBox:v9,getResolutionOfUrl:Oo,hex2rgb:Rfe,hex2string:f9,interleaveTypedArrays:Nfe,isMobile:Ma,isPow2:nD,isWebGLSupported:l9,log2:iD,nextPow2:wv,path:On,premultiplyBlendMode:dI,premultiplyRgba:Bfe,premultiplyTint:Ffe,premultiplyTintToRgba:Mfe,removeItems:_d,rgb2hex:h9,sayHello:bfe,sign:dl,skipHello:_fe,string2hex:Ofe,trimCanvas:y9,uid:Qu,url:mfe},Symbol.toStringTag,{value:"Module"}));var Ke=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Ke||{});const lD=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},hL=(t,e)=>{var r;return(r=lD(t).priority)!=null?r:e},ct={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(lD).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(lD).forEach(e=>{e.type.forEach(r=>{var a,o;const n=this._addHandlers,s=this._queue;n[r]?(a=n[r])==null||a.call(n,e):(s[r]=s[r]||[],(o=s[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error("Extension type ".concat(t," already has a handler"));n[t]=e,s[t]=r;const a=this._queue;return a[t]&&((o=a[t])==null||o.forEach(l=>e(l)),delete a[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,a)=>hL(a,r)-hL(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}};class qb{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}const Vfe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Gfe(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}function b9(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Vfe.replace(/%forloop%/gi,Gfe(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const rA=0,nA=1,iA=2,sA=3,aA=4,oA=5;class Ya{constructor(){this.data=0,this.blendMode=wt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<rA)}set blend(e){!!(this.data&1<<rA)!==e&&(this.data^=1<<rA)}get offsets(){return!!(this.data&1<<nA)}set offsets(e){!!(this.data&1<<nA)!==e&&(this.data^=1<<nA)}get culling(){return!!(this.data&1<<iA)}set culling(e){!!(this.data&1<<iA)!==e&&(this.data^=1<<iA)}get depthTest(){return!!(this.data&1<<sA)}set depthTest(e){!!(this.data&1<<sA)!==e&&(this.data^=1<<sA)}get depthMask(){return!!(this.data&1<<oA)}set depthMask(e){!!(this.data&1<<oA)!==e&&(this.data^=1<<oA)}get clockwiseFrontFace(){return!!(this.data&1<<aA)}set clockwiseFrontFace(e){!!(this.data&1<<aA)!==e&&(this.data^=1<<aA)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==wt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ya;return e.depthTest=!1,e.blend=!0,e}}Ya.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const Zb=[];function hI(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Zb.length-1;n>=0;--n){const s=Zb[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ts{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,s,a,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:f}=this;this._aliasCount++;for(let m=0,g=f.length;m<g;m++)f[m][d](e,r,n,s,a,o,l,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ts.prototype,{dispatch:{value:Ts.prototype.emit},run:{value:Ts.prototype.emit}});class op{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ts("setRealSize"),this.onUpdate=new Ts("update"),this.onError=new Ts("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Ny extends op{constructor(e,r){var a;const{width:n,height:s}=r||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=e,this.unpackAlignment=(a=r.unpackAlignment)!=null?a:4}upload(e,r,n){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ii.UNPACK);const a=r.realWidth,o=r.realHeight;return n.width===a&&n.height===o?s.texSubImage2D(r.target,0,0,0,a,o,r.format,n.type,this.data):(n.width=a,n.height=o,s.texImage2D(r.target,0,n.internalFormat,a,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Hfe={scaleMode:bo.NEAREST,alphaMode:Ii.NPM},uD=class Xf extends Mp{constructor(e=null,r=null){super(),r=Object.assign({},Xf.defaultOptions,r);const{alphaMode:n,mipmap:s,anisotropicLevel:a,scaleMode:o,width:l,height:c,wrapMode:d,format:f,type:m,target:g,resolution:y,resourceOptions:_}=r;e&&!(e instanceof op)&&(e=hI(e,_),e.internal=!0),this.resolution=y||et.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=d,this._scaleMode=o,this.format=f,this.type=m,this.target=g,this.alphaMode=n,this.uid=Qu(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=nD(this.realWidth)&&nD(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ps[this.cacheId],delete Pi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Xf.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=et.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(Qu())}a=e._pixiId}let o=ps[a];if(s&&n&&!o)throw new Error('The cacheId "'.concat(a,'" does not exist in BaseTextureCache.'));return o||(o=new Xf(e,r),o.cacheId=a,Xf.addToCache(o,a)),o}static fromBuffer(e,r,n,s){e=e||new Float32Array(r*n*4);const a=new Ny(e,{width:r,height:n,...s==null?void 0:s.resourceOptions});let o,l;return e instanceof Float32Array?(o=Be.RGBA,l=mt.FLOAT):e instanceof Int32Array?(o=Be.RGBA_INTEGER,l=mt.INT):e instanceof Uint32Array?(o=Be.RGBA_INTEGER,l=mt.UNSIGNED_INT):e instanceof Int16Array?(o=Be.RGBA_INTEGER,l=mt.SHORT):e instanceof Uint16Array?(o=Be.RGBA_INTEGER,l=mt.UNSIGNED_SHORT):e instanceof Int8Array?(o=Be.RGBA,l=mt.BYTE):(o=Be.RGBA,l=mt.UNSIGNED_BYTE),a.internal=!0,new Xf(a,Object.assign({},Hfe,{type:l,format:o},s))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ps[r]&&ps[r]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(r,"] that already had an entry")),ps[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ps[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ps[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ps[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};uD.defaultOptions={mipmap:Ka.POW2,anisotropicLevel:0,scaleMode:bo.LINEAR,wrapMode:To.CLAMP,alphaMode:Ii.UNPACK,target:vd.TEXTURE_2D,format:Be.RGBA,type:mt.UNSIGNED_BYTE},uD._globalBatch=0;let Ot=uD;class Jb{constructor(){this.texArray=null,this.blend=0,this.type=Fa.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Wfe=0,bn=class w9{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Wfe++,this.disposeRunner=new Ts("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?za.ELEMENT_ARRAY_BUFFER:za.ARRAY_BUFFER}get index(){return this.type===za.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new w9(e)}};class xv{constructor(e,r=0,n=!1,s=mt.FLOAT,a,o,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=s,this.stride=a,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,s,a){return new xv(e,r,n,s,a)}}const Kfe={Float32Array,Uint32Array,Int32Array,Uint8Array};function Xfe(t,e){let r=0,n=0;const s={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const a=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],m=cE(f);s[m]||(s[m]=new Kfe[m](a)),o=s[m];for(let g=0;g<f.length;g++){const y=(g/d|0)*n+l,_=g%d;o[y+_]=f[g]}l+=d}return new Float32Array(a)}const pL={5126:4,5123:2,5121:1};let Yfe=0;const qfe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Al{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Yfe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ts("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,s=!1,a,o,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof bn||(r instanceof Array&&(r=new Float32Array(r)),r=new bn(r));const d=e.split("|");if(d.length>1){for(let m=0;m<d.length;m++)this.addAttribute(d[m],r,n,s,a);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new xv(f,n,s,a,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof bn||(e instanceof Array&&(e=new Uint16Array(e)),e=new bn(e)),e.type=za.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new bn;let s;for(s in this.attributes){const a=this.attributes[s],o=this.buffers[a.buffer];e.push(o.data),r.push(a.size*pL[a.type]/4),a.buffer=0}for(n.data=Xfe(e,r),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Al;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new bn(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new xv(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=za.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Al,n=[],s=[],a=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)s[c]=s[c]||0,s[c]+=o.buffers[c].data.length,a[c]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new qfe[cE(o.buffers[l].data)](s[l]),r.buffers[l]=new bn(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,a[c]),a[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=za.ELEMENT_ARRAY_BUFFER;let l=0,c=0,d=0,f=0;for(let m=0;m<o.buffers.length;m++)if(o.buffers[m]!==o.indexBuffer){f=m;break}for(const m in o.attributes){const g=o.attributes[m];(g.buffer|0)===f&&(c+=g.size*pL[g.type]/4)}for(let m=0;m<e.length;m++){const g=e[m].indexBuffer.data;for(let y=0;y<g.length;y++)r.indexBuffer.data[y+d]+=l;l+=e[m].buffers[f].data.length/c,d+=g.length}}return r}}class pI extends Al{constructor(e=!1){super(),this._buffer=new bn(null,e,!1),this._indexBuffer=new bn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,mt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,mt.FLOAT).addAttribute("aColor",this._buffer,4,!0,mt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,mt.FLOAT).addIndex(this._indexBuffer)}}const Ev=Math.PI*2,x9=180/Math.PI,E9=Math.PI/180;var Kn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Kn||{});let ze=class S9{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new S9(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}};ze.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const a0=[new ze,new ze,new ze,new ze];class Bt{constructor(e=0,r=0,n=0,s=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s),this.type=Kn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Bt(0,0,0,0)}clone(){return new Bt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const P=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=P)return!1;const T=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>T}const n=this.left,s=this.right,a=this.top,o=this.bottom;if(s<=n||o<=a)return!1;const l=a0[0].set(e.left,e.top),c=a0[1].set(e.left,e.bottom),d=a0[2].set(e.right,e.top),f=a0[3].set(e.right,e.bottom);if(d.x<=l.x||c.y<=l.y)return!1;const m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(l,l),r.apply(c,c),r.apply(d,d),r.apply(f,f),Math.max(l.x,c.x,d.x,f.x)<=n||Math.min(l.x,c.x,d.x,f.x)>=s||Math.max(l.y,c.y,d.y,f.y)<=a||Math.min(l.y,c.y,d.y,f.y)>=o))return!1;const g=m*(c.y-l.y),y=m*(l.x-c.x),_=g*n+y*a,b=g*s+y*a,u=g*n+y*o,h=g*s+y*o;if(Math.max(_,b,u,h)<=g*l.x+y*l.y||Math.min(_,b,u,h)>=g*f.x+y*f.y)return!1;const p=m*(l.y-d.y),v=m*(d.x-l.x),w=p*n+v*a,x=p*s+v*a,S=p*n+v*o,E=p*s+v*o;return!(Math.max(w,x,S,E)<=p*l.x+v*l.y||Math.min(w,x,S,E)>=p*f.x+v*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=a-s,this}}Bt.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Ly{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Kn.CIRC}clone(){return new Ly(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,a=this.y-r;return s*=s,a*=a,s+a<=n}getBounds(){return new Bt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Ly.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class Uy{constructor(e=0,r=0,n=0,s=0){this.x=e,this.y=r,this.width=n,this.height=s,this.type=Kn.ELIP}clone(){return new Uy(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,s=(r-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new Bt(this.x-this.width,this.y-this.height,this.width,this.height)}}Uy.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class zu{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,a=r.length;s<a;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=Kn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new zu(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let a=0,o=s-1;a<s;o=a++){const l=this.points[a*2],c=this.points[a*2+1],d=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(d-l)*((r-c)/(f-c))+l&&(n=!n)}return n}}zu.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((t,e)=>"".concat(t,", ").concat(e),""),"]")};class $y{constructor(e=0,r=0,n=0,s=0,a=20){this.x=e,this.y=r,this.width=n,this.height=s,this.radius=a,this.type=Kn.RREC}clone(){return new $y(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),a=r-(this.y+n);const o=n*n;if(s*s+a*a<=o||(s=e-(this.x+this.width-n),s*s+a*a<=o)||(a=r-(this.y+this.height-n),s*s+a*a<=o)||(s=e-(this.x+n),s*s+a*a<=o))return!0}return!1}}$y.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class er{constructor(e=1,r=0,n=0,s=1,a=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,a,o){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ze;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new ze;const n=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return r.x=this.d*n*s+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*a+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,a=this.c,o=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,a=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this}setTransform(e,r,n,s,a,o,l,c,d){return this.a=Math.cos(l+d)*a,this.b=Math.sin(l+d)*a,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,a=this.d,o=e.pivot,l=-Math.atan2(-s,a),c=Math.atan2(n,r),d=Math.abs(l+c);return d<1e-5||Math.abs(Ev-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(o.x*r+o.y*s),e.position.y=this.ty+(o.x*n+o.y*a),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,a=this.tx,o=e*s-r*n;return this.a=s/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-s*a)/o,this.ty=-(e*this.ty-r*a)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new er;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new er}static get TEMP_MATRIX(){return new er}}er.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const Hc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Wc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Kc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Xc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],cD=[],C9=[],o0=Math.sign;function Zfe(){for(let t=0;t<16;t++){const e=[];cD.push(e);for(let r=0;r<16;r++){const n=o0(Hc[t]*Hc[r]+Kc[t]*Wc[r]),s=o0(Wc[t]*Hc[r]+Xc[t]*Wc[r]),a=o0(Hc[t]*Kc[r]+Kc[t]*Xc[r]),o=o0(Wc[t]*Kc[r]+Xc[t]*Xc[r]);for(let l=0;l<16;l++)if(Hc[l]===n&&Wc[l]===s&&Kc[l]===a&&Xc[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new er;e.set(Hc[t],Wc[t],Kc[t],Xc[t],0,0),C9.push(e)}}Zfe();const Ur={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Hc[t],uY:t=>Wc[t],vX:t=>Kc[t],vY:t=>Xc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>cD[t][e],sub:(t,e)=>cD[t][Ur.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ur.S:Ur.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ur.E:Ur.W:e>0?t>0?Ur.SE:Ur.SW:t>0?Ur.NE:Ur.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=C9[Ur.inv(e)];s.tx=r,s.ty=n,t.append(s)}};class ka{constructor(e,r,n=0,s=0){this._x=n,this._y=s,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new ka(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}ka.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const dD=class{constructor(){this.worldTransform=new er,this.localTransform=new er,this.position=new ka(this.onChange,this,0,0),this.scale=new ka(this.onChange,this,1,1),this.pivot=new ka(this.onChange,this,0,0),this.skew=new ka(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};dD.IDENTITY=new dD;let Np=dD;Np.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};var Jfe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",Qfe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";function mL(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function lA(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function A9(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return lA(2*e);case"bvec3":return lA(3*e);case"bvec4":return lA(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const bd=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            '),codeUbo:t=>"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }'),codeUbo:t=>"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}],ehe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},the={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function rhe(t,e){var n;const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const s in t.uniforms){const a=e[s];if(!a){((n=t.uniforms[s])==null?void 0:n.group)===!0&&(t.uniforms[s].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(s,", '").concat(s,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(s,", syncData);\n                    ")));continue}const o=t.uniforms[s];let l=!1;for(let c=0;c<bd.length;c++)if(bd[c].test(a,o)){r.push(bd[c].code(s,o)),l=!0;break}if(!l){const c=(a.size===1&&!a.isArray?ehe:the)[a.type].replace("location",'ud["'.concat(s,'"].location'));r.push('\n            cu = ud["'.concat(s,'"];\n            cv = cu.value;\n            v = uv["').concat(s,'"];\n            ').concat(c,";"))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}const T9={};let Af=T9;function P9(){if(Af===T9||Af!=null&&Af.isContextLost()){const t=et.ADAPTER.createCanvas();let e;et.PREFER_ENV>=vc.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Af=e}return Af}let l0;function nhe(){if(!l0){l0=Es.MEDIUM;const t=P9();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(l0=e.precision?Es.HIGH:Es.MEDIUM)}}return l0}function gL(t,e){const r=t.getShaderSource(e).split("\n").map((d,f)=>"".concat(f,": ").concat(d)),n=t.getShaderInfoLog(e),s=n.split("\n"),a={},o=s.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!a[d]?(a[d]=!0,!0):!1),l=[""];o.forEach(d=>{r[d-1]="%c".concat(r[d-1],"%c"),l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join("\n");l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function ihe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||gL(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||gL(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const she={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function D9(t){return she[t]}let u0=null;const vL={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function R9(t,e){if(!u0){const r=Object.keys(vL);u0={};for(let n=0;n<r.length;++n){const s=r[n];u0[t[s]]=vL[s]}}return u0[e]}function yL(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Es.HIGH&&r!==Es.HIGH&&(n=Es.MEDIUM),"precision ".concat(n," float;\n").concat(t)}else if(r!==Es.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Pm;function O9(){if(typeof Pm=="boolean")return Pm;try{Pm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch(t){Pm=!1}return Pm}let ahe=0;const c0={},fD=class Yf{constructor(e,r,n="pixi-shader",s={}){this.extra={},this.id=ahe++,this.vertexSrc=e||Yf.defaultVertexSrc,this.fragmentSrc=r||Yf.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),c0[n]?(c0[n]++,n+="-".concat(c0[n])):c0[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=yL(this.vertexSrc,Yf.defaultVertexPrecision,Es.HIGH),this.fragmentSrc=yL(this.fragmentSrc,Yf.defaultFragmentPrecision,nhe())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Qfe}static get defaultFragmentSrc(){return Jfe}static from(e,r,n){const s=e+r;let a=oD[s];return a||(oD[s]=a=new Yf(e,r,n)),a}};fD.defaultVertexPrecision=Es.HIGH,fD.defaultFragmentPrecision=Ma.apple.device?Es.HIGH:Es.MEDIUM;let wo=fD,ohe=0;class ca{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ohe++,this.static=!!r,this.ubo=!!n,e instanceof bn?(this.buffer=e,this.buffer.type=za.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new bn(new Float32Array(1)),this.buffer.type=za.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new ca(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new ca(e,r,n)}static uboFrom(e,r){return new ca(e,r!=null?r:!0,!0)}}class Ga{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ca?this.uniformGroup=r:this.uniformGroup=new ca(r):this.uniformGroup=new ca({}),this.disposeRunner=new Ts("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const s=r.uniforms[n];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const s=wo.from(e,r);return new Ga(s,n)}}class I9{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let a=0;a<e;a++)n[a]=a;this.defaultGroupCache[e]=ca.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,"".concat(e)),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new wo(this.vertexSrc,s)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new er,default:this.defaultGroupCache[e]};return new Ga(this.programCache[e],r)}generateSampleSrc(e){let r="";r+="\n",r+="\n";for(let n=0;n<e;n++)n>0&&(r+="\nelse "),n<e-1&&(r+="if(vTextureId < ".concat(n,".5)")),r+="\n{",r+="\n	color = texture2D(uSamplers[".concat(n,"], vTextureCoord);"),r+="\n}";return r+="\n",r+="\n",r}}class Qb{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function lhe(){return!Ma.apple.device}function uhe(t){let e=!0;const r=et.ADAPTER.getNavigator();if(Ma.tablet||Ma.phone){if(Ma.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ma.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class jy{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var che="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",dhe="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";const Km=class xa extends jy{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=pI,this.vertexSize=6,this.state=Ya.for2d(),this.size=xa.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=(e=this._defaultMaxTextures)!=null?e:uhe(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=(e=this._canUploadSameBuffer)!=null?e:lhe(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return At("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return dhe}static get defaultFragmentTemplate(){return che}setShaderGenerator({vertex:e=xa.defaultVertexSrc,fragment:r=xa.defaultFragmentTemplate}={}){this.shaderGenerator=new I9(e,r)}contextChange(){const e=this.renderer.gl;et.PREFER_ENV===vc.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),xa.defaultMaxTextures),this.maxTextures=b9(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=xa,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Jb);for(;r.length<s;)r.push(new Qb);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=xa._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count;let l=++Ot._globalBatch,c=0,d=n[0],f=0;s.copyBoundTextures(a,r);for(let m=0;m<this._bufferSize;++m){const g=e[m];e[m]=null,g._batchEnabled!==l&&(d.count>=r&&(s.boundArray(d,a,l,r),this.buildDrawCalls(d,f,m),f=m,d=n[++c],++l),g._batchEnabled=l,g.touched=o,d.elements[d.count++]=g)}d.count>0&&(s.boundArray(d,a,l,r),this.buildDrawCalls(d,f,this._bufferSize),++c,++l);for(let m=0;m<a.length;m++)a[m]=null;Ot._globalBatch=l}buildDrawCalls(e,r,n){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:o,vertexSize:l}=this,c=xa._drawCallPool;let d=this._dcIndex,f=this._aIndex,m=this._iIndex,g=c[d];g.start=this._iIndex,g.texArray=e;for(let y=r;y<n;++y){const _=s[y],b=_._texture.baseTexture,u=dI[b.alphaMode?1:0][_.blendMode];s[y]=null,r<y&&g.blend!==u&&(g.size=m-g.start,r=y,g=c[++d],g.texArray=e,g.start=m),this.packInterleavedGeometry(_,a,o,f,m),f+=_.vertexData.length/2*l,m+=_.indices.length,g.blend=u}r<n&&(g.size=m-g.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=m}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;xa.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,s=xa._drawCallPool;let a=null;for(let o=0;o<e;o++){const{texArray:l,type:c,size:d,start:f,blend:m}=s[o];a!==l&&(a=l,this.bindAndClearTexArray(l)),this.state.blendMode=m,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),xa.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=wv(Math.ceil(e/8)),n=iD(r),s=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new qb(s*this.vertexSize*4)),a}getIndexBuffer(e){const r=wv(Math.ceil(e/12)),n=iD(r),s=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._iBuffers[n];return a||(this._iBuffers[n]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,r,n,s,a){const{uint32View:o,float32View:l}=r,c=s/this.vertexSize,d=e.uvs,f=e.indices,m=e.vertexData,g=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),_=lr.shared.setValue(e._tintRGB).toPremultiplied(y,e._texture.baseTexture.alphaMode>0);for(let b=0;b<m.length;b+=2)l[s++]=m[b],l[s++]=m[b+1],l[s++]=d[b],l[s++]=d[b+1],o[s++]=_,l[s++]=g;for(let b=0;b<f.length;b++)n[a++]=c+f[b]}};Km.defaultBatchSize=4096,Km.extension={name:"batch",type:Ke.RendererPlugin},Km._drawCallPool=[],Km._textureArrayPool=[];let du=Km;ct.add(du);var fhe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",hhe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const hD=class Xm extends Ga{constructor(e,r,n){const s=wo.from(e||Xm.defaultVertexSrc,r||Xm.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=Xm.defaultResolution,this.multisample=Xm.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ya}apply(e,r,n,s,a){e.applyFilter(this,r,n,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return hhe}static get defaultFragmentSrc(){return fhe}};hD.defaultResolution=1,hD.defaultMultisample=pn.NONE;let ri=hD;class Sv{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new lr(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:s}=e,a=n!=null?n:r;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Sv.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Sv.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"background"};ct.add(Sv);class mI{constructor(e){this.renderer=e,this.emptyRenderer=new jy(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let s=r-1;s>=0;--s)e[s]=n[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,r,n,s){const{elements:a,ids:o,count:l}=e;let c=0;for(let d=0;d<l;d++){const f=a[d],m=f._batchLocation;if(m>=0&&m<s&&r[m]===f){o[d]=m;continue}for(;c<s;){const g=r[c];if(g&&g._batchEnabled===n&&g._batchLocation===c){c++;continue}o[d]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}mI.extension={type:Ke.RendererSystem,name:"batch"};ct.add(mI);let _L=0;class Cv{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=_L++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=_L++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(et.PREFER_ENV>=vc.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Cv.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Cv.extension={type:Ke.RendererSystem,name:"context"};ct.add(Cv);class ew{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ts("disposeFramebuffer"),this.multisample=pn.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ot(null,{scaleMode:bo.NEAREST,resolution:1,mipmap:Ka.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ot(null,{scaleMode:bo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ka.OFF,format:Be.DEPTH_COMPONENT,type:mt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],a=s.resolution;s.setSize(e/a,r/a)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class gI extends Ot{constructor(e={}){var r,n,s;if(typeof e=="number"){const a=arguments[0],o=arguments[1],l=arguments[2],c=arguments[3];e={width:a,height:o,scaleMode:l,resolution:c}}e.width=(r=e.width)!=null?r:100,e.height=(n=e.height)!=null?n:100,(s=e.multisample)!=null||(e.multisample=pn.NONE),super(null,e),this.mipmap=Ka.OFF,this.valid=!0,this._clear=new lr([0,0,0,0]),this.framebuffer=new ew(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Io extends op{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,s=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=_9(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,s){const a=e.gl,o=r.realWidth,l=r.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ii.UNPACK),!this.noSubImage&&r.target===a.TEXTURE_2D&&n.width===o&&n.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,r.format,n.type,s):(n.width=o,n.height=l,a.texImage2D(r.target,0,n.internalFormat,r.format,n.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class vI extends Io{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const s=new Image;Io.crossOrigin(s,e,r.crossorigin),s.src=e,e=s}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:et.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>r(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ii.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let s=!0;const a=r._glTextures;for(const o in a){const l=a[o];if(l!==n&&l.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class dE{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const s=r.width,a=r.height;if(n){const o=e.width/2/s,l=e.height/2/a,c=e.x/s+o,d=e.y/a+l;n=Ur.add(n,Ur.NW),this.x0=c+o*Ur.uX(n),this.y0=d+l*Ur.uY(n),n=Ur.add(n,2),this.x1=c+o*Ur.uX(n),this.y1=d+l*Ur.uY(n),n=Ur.add(n,2),this.x2=c+o*Ur.uX(n),this.y2=d+l*Ur.uY(n),n=Ur.add(n,2),this.x3=c+o*Ur.uX(n),this.y3=d+l*Ur.uY(n)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}dE.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const bL=new dE;function d0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Je extends Mp{constructor(e,r,n,s,a,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Bt(0,0,1,1)),e instanceof Je&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=bL,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ze(o.x,o.y):new ze(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Pi[r.url]&&Je.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Je.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new Je(this.baseTexture,!this.noFrame&&e,r,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===bL&&(this._uvs=new dE),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=et.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof Ot){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId="".concat(l,"-").concat(Qu()),Ot.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(l,"_").concat(Qu())}a=e._pixiId}let o=Pi[a];if(s&&n&&!o)throw new Error('The cacheId "'.concat(a,'" does not exist in TextureCache.'));return!o&&!(e instanceof Ot)?(r.resolution||(r.resolution=Oo(e)),o=new Je(new Ot(e,r)),o.baseTexture.cacheId=a,Ot.addToCache(o.baseTexture,a),Je.addToCache(o,a)):!o&&e instanceof Ot&&(o=new Je(e),Je.addToCache(o,a)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=Je.from(e,Object.assign({resourceOptions:n},r),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,r,n,s){return new Je(Ot.fromBuffer(e,r,n,s))}static fromLoader(e,r,n,s){const a=new Ot(e,Object.assign({scaleMode:Ot.defaultOptions.scaleMode,resolution:Oo(r)},s)),{resource:o}=a;o instanceof vI&&(o.url=r);const l=new Je(a);return n||(n=r),Ot.addToCache(l.baseTexture,n),Je.addToCache(l,n),n!==r&&(Ot.addToCache(l.baseTexture,r),Je.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Pi[r]&&Pi[r]!==e&&console.warn("Texture added to the cache with an id [".concat(r,"] that already had an entry")),Pi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Pi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Pi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Pi[e.textureCacheIds[r]]===e&&delete Pi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:s,height:a}=e,o=r+s>this.baseTexture.width,l=n+a>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",d="X: ".concat(r," + ").concat(s," = ").concat(r+s," > ").concat(this.baseTexture.width),f="Y: ".concat(n," + ").concat(a," = ").concat(n+a," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(d," ").concat(c," ").concat(f))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Je._EMPTY||(Je._EMPTY=new Je(new Ot),d0(Je._EMPTY),d0(Je._EMPTY.baseTexture)),Je._EMPTY}static get WHITE(){if(!Je._WHITE){const e=et.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Je._WHITE=new Je(Ot.from(e)),d0(Je._WHITE),d0(Je._WHITE.baseTexture)}return Je._WHITE}}class _c extends Je{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,o=Math.round(r*s)/s;this.valid=a>0&&o>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(a,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new _c(new gI(e))}}class yI{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=pn.NONE){const s=new gI(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new _c(s)}getOptimalTexture(e,r,n=1,s=pn.NONE){let a;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=wv(e),r=wv(r),a=((e&65535)<<16|r&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let o=this.texturePool[a].pop();return o||(o=this.createTexture(e,r,s)),o.filterPoolKey=a,o.setResolution(n),o}getFilterTexture(e,r,n){const s=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||pn.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}yI.SCREEN_KEY=-1;class B9 extends Al{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class _I extends Al{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new bn(this.vertices),this.uvBuffer=new bn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+r.width/e.width,this.uvs[3]=s,this.uvs[4]=n+r.width/e.width,this.uvs[5]=s+r.height/e.height,this.uvs[6]=n,this.uvs[7]=s+r.height/e.height,n=r.x,s=r.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+r.width,this.vertices[3]=s,this.vertices[4]=n+r.width,this.vertices[5]=s+r.height,this.vertices[6]=n,this.vertices[7]=s+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class F9{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=pn.NONE,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.bindingSourceFrame=new Bt,this.bindingDestinationFrame=new Bt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const f0=[new ze,new ze,new ze,new ze],uA=new er;class bI{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new yI,this.statePool=[],this.quad=new B9,this.quadUv=new _I,this.tempRect=new Bt,this.activeState={},this.globalUniforms=new ca({outputFrame:new Bt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var u,h,p,v;const n=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new F9,o=n.renderTexture;let l,c;if(o.current){const w=o.current;l=w.resolution,c=w.multisample}else l=n.resolution,c=n.multisample;let d=r[0].resolution||l,f=(u=r[0].multisample)!=null?u:c,m=r[0].padding,g=r[0].autoFit,y=(h=r[0].legacy)!=null?h:!0;for(let w=1;w<r.length;w++){const x=r[w];d=Math.min(d,x.resolution||l),f=Math.min(f,(p=x.multisample)!=null?p:c),m=this.useMaxPadding?Math.max(m,x.padding):m+x.padding,g=g&&x.autoFit,y=y||((v=x.legacy)!=null?v:!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),s.push(a),a.resolution=d,a.multisample=f,a.legacy=y,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(m);const _=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(uA.copyFrom(n.projection.transform).invert(),_),g?(a.sourceFrame.fit(_),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(_)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,d,f),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=a.sourceFrame.width,b.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,b),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const s=this.globalUniforms.uniforms;s.outputFrame=r.sourceFrame,s.resolution=r.resolution;const a=s.inputSize,o=s.inputPixel,l=s.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*r.resolution),o[1]=Math.round(a[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*a[2]-.5*o[2],l[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){const d=s.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Oa.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,r.resolution);f.filterFrame=d.filterFrame;let m=0;for(m=0;m<n.length-1;++m){m===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,r.resolution),f.filterFrame=d.filterFrame),n[m].apply(this,d,f,Oa.CLEAR,r);const g=d;d=f,f=g}n[m].apply(this,d,c.renderTexture,Oa.BLEND,r),m>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Oa.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(r===Oa.CLEAR||r===Oa.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(n,s),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Fa.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Fa.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:a}=r._texture,o=e.set(s.width,0,0,s.height,n.x,n.y),l=r.worldTransform.copyTo(er.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/a.width,1/a.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,s=pn.NONE){return this.texturePool.getOptimalTexture(e,r,n,s)}getFilterTexture(e,r,n){if(typeof e=="number"){const a=e;e=r,r=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||pn.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=f0[0],s=f0[1],a=f0[2],o=f0[3];n.set(r.left,r.top),s.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(s,s),e.apply(a,a),e.apply(o,o);const l=Math.min(n.x,s.x,a.x,o.x),c=Math.min(n.y,s.y,a.y,o.y),d=Math.max(n.x,s.x,a.x,o.x),f=Math.max(n.y,s.y,a.y,o.y);r.x=l,r.y=c,r.width=d-l,r.height=f-c}roundFrame(e,r,n,s,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){const{a:o,b:l,c,d}=a;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}a=a?uA.copyFrom(a):uA.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(r),this.transformAABB(a.invert(),e)}}}bI.extension={type:Ke.RendererSystem,name:"filter"};ct.add(bI);class M9{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=pn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const phe=new Bt;class wI{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ew(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Bt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;et.PREFER_ENV===vc.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=s=>r.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,s){const a=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),s=Math.round(s),(a.width!==n||a.height!==s||a.x!==e||a.y!==r)&&(a.x=e,a.y=r,a.width=n,a.height=s,this.gl.viewport(e,r,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,s,a=Gb.COLOR|Gb.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,s),o.clear(a)}initFramebuffer(e){const{gl:r}=this,n=new M9(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const s=e.colorTextures;let a=s.length;r.drawBuffers||(a=Math.min(a,1));for(let o=0;o<a;o++){const l=s[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let o=a.length;n.drawBuffers||(o=Math.min(o,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const d=a[c],f=d.parentTextureArray||d;this.renderer.texture.bind(f,0),c===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,f._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=pn.NONE;if(e<=1||r===null)return n;for(let s=0;s<r.length;s++)if(r[s]<=e){n=r[s];break}return n===1&&(n=pn.NONE),n}blit(e,r,n){const{current:s,renderer:a,gl:o,CONTEXT_UID:l}=this;if(a.context.webGLVersion!==2||!s)return;const c=s.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=s.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new ew(s.width,s.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=phe,r.width=s.width,r.height=s.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),r||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,s=e.height,a=this.gl,o=r.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o);let l,c;this.renderer.context.webGLVersion===1?(l=a.DEPTH_STENCIL_ATTACHMENT,c=a.DEPTH_STENCIL):e.depth?(l=a.DEPTH_STENCIL_ATTACHMENT,c=a.DEPTH24_STENCIL8):(l=a.STENCIL_ATTACHMENT,c=a.STENCIL_INDEX8),r.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,r.multisample,c,n,s):a.renderbufferStorage(a.RENDERBUFFER,c,n,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,l,a.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Bt}destroy(){this.renderer=null}}wI.extension={type:Ke.RendererSystem,name:"framebuffer"};ct.add(wI);const cA={5126:4,5123:2,5121:1};class xI{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;et.PREFER_ENV===vc.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=s=>n.bindVertexArrayOES(s),e.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(s,a)=>n.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,o,l,c)=>n.drawElementsInstancedANGLE(s,a,o,l,c),e.drawArraysInstanced=(s,a,o,l)=>n.drawArraysInstancedANGLE(s,a,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const o=s[r.program.id]||this.initGeometryVao(e,r,a);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];r.update(s)}}checkCompatibility(e,r){const n=e.attributes,s=r.attributeData;for(const a in s)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(a,'" attribute'))}getSignature(e,r){const n=e.attributes,s=r.attributeData,a=["g",e.id];for(const o in n)s[o]&&a.push(o,s[o].location);return a.join("-")}initGeometryVao(e,r,n=!0){const s=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[a]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let f=d[c];if(f)return d[l.id]=f,f;const m=e.buffers,g=e.attributes,y={},_={};for(const b in m)y[b]=0,_[b]=0;for(const b in g)!g[b].size&&l.attributeData[b]?g[b].size=l.attributeData[b].size:g[b].size||console.warn("PIXI Geometry attribute '".concat(b,"' size cannot be determined (likely the bound shader does not have the attribute)")),y[g[b].buffer]+=g[b].size*cA[g[b].type];for(const b in g){const u=g[b],h=u.size;u.stride===void 0&&(y[u.buffer]===h*cA[u.type]?u.stride=0:u.stride=y[u.buffer]),u.start===void 0&&(u.start=_[u.buffer],_[u.buffer]+=h*cA[u.type])}f=s.createVertexArray(),s.bindVertexArray(f);for(let b=0;b<m.length;b++){const u=m[b];o.bind(u),n&&u._glBuffers[a].refCount++}return this.activateVao(e,l),d[l.id]=f,d[c]=f,s.bindVertexArray(null),o.unbind(za.ARRAY_BUFFER),f}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<a.length;c++){const d=a[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!r&&o.dispose(a[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const d=n[c];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let c=null;for(const d in l){const f=l[d],m=o[f.buffer],g=m._glBuffers[s];if(r.attributeData[d]){c!==g&&(a.bind(m),c=g);const y=r.attributeData[d].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(y,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,s){const{gl:a}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*l,s||1):a.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(e,n,r||o.getSize(),s||1):a.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}xI.extension={type:Ke.RendererSystem,name:"geometry"};ct.add(xI);const wL=new er;class fE{constructor(e,r){this._texture=e,this.mapCoord=new er,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],o=e[s+1];r[s]=a*n.a+o*n.c+n.tx,r[s+1]=a*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=r.orig,a=r.trim;a&&(wL.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(wL));const o=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return l[0]=(r._frame.x+c+d)/o.width,l[1]=(r._frame.y+c+d)/o.height,l[2]=(r._frame.x+r._frame.width-c+d)/o.width,l[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var mhe="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",ghe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";class k9 extends ri{constructor(e,r,n){let s=null;typeof e!="string"&&r===void 0&&n===void 0&&(s=e,e=void 0,r=void 0,n=void 0),super(e||ghe,r||mhe,n),this.maskSprite=s,this.maskMatrix=new er}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,s){const a=this._maskSprite,o=a._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new fE(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,s))}}class N9{constructor(e=null){this.type=vn.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ri.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=vn.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class EI{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const a=this.maskDataPool.pop()||new N9;a.pooled=!0,a.maskObject=r,n=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==vn.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case vn.SCISSOR:this.renderer.scissor.push(n);break;case vn.STENCIL:this.renderer.stencil.push(n);break;case vn.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case vn.COLOR:this.pushColorMask(n);break}n.type===vn.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case vn.SCISSOR:this.renderer.scissor.pop(r);break;case vn.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case vn.SPRITE:this.popSpriteMask(r);break;case vn.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===vn.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=vn.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=vn.SCISSOR:e.type=vn.STENCIL:e.type=vn.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new k9])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=r;const a=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}EI.extension={type:Ke.RendererSystem,name:"mask"};ct.add(EI);class L9{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==n&&(s===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const xL=new er,EL=[],U9=class R1 extends L9{constructor(e){super(e),this.glConst=et.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var l;if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:s}=this,a=s.renderTexture,o=n.getBounds(!0,(l=EL.pop())!=null?l:new Bt);this.roundFrameToPixels(o,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:s,d:a}=e;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||R1.isMatrixRotated(r.worldTransform)||R1.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,s,a){R1.isMatrixRotated(a)||(a=a?xL.copyFrom(a):xL.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&EL.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};U9.extension={type:Ke.RendererSystem,name:"scissor"};let $9=U9;ct.add($9);class SI extends L9{constructor(e){super(e),this.glConst=et.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,a!==0&&(e._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(n._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}SI.extension={type:Ke.RendererSystem,name:"stencil"};ct.add(SI);class CI{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}CI.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"_plugin"};ct.add(CI);class AI{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new er,this.transform=null}update(e,r,n,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,r,n,s){const a=this.projectionMatrix,o=s?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d}setTransform(e){}destroy(){this.renderer=null}}AI.extension={type:Ke.RendererSystem,name:"projection"};ct.add(AI);const vhe=new Np,SL=new Bt;class TI{constructor(e){this.renderer=e,this._tempMatrix=new er}generateTexture(e,r){var d;const{region:n,...s}=r||{},a=(n==null?void 0:n.copyTo(SL))||e.getLocalBounds(SL,!0),o=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/o),a.height=Math.max(a.height,1/o),s.width=a.width,s.height=a.height,s.resolution=o,(d=s.multisample)!=null||(s.multisample=this.renderer.multisample);const l=_c.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const c=e.transform;return e.transform=vhe,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,l}destroy(){}}TI.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"textureGenerator"};ct.add(TI);const Nc=new Bt,Dm=new Bt;class PI{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Bt,this.destinationFrame=new Bt,this.viewportFrame=new Bt}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const s=this.renderer;this.current=e;let a,o,l;e?(a=e.baseTexture,l=a.resolution,r||(Nc.width=e.frame.width,Nc.height=e.frame.height,r=Nc),n||(Dm.x=e.frame.x,Dm.y=e.frame.y,Dm.width=r.width,Dm.height=r.height,n=Dm),o=a.framebuffer):(l=s.resolution,r||(Nc.width=s._view.screen.width,Nc.height=s._view.screen.height,r=Nc),n||(n=Nc,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=s.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=lr.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=a.width!==o.width||a.height!==o.height;if(l){let{x:c,y:d,width:f,height:m}=this.viewportFrame;c=Math.round(c),d=Math.round(d),f=Math.round(f),m=Math.round(m),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,f,m)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}PI.extension={type:Ke.RendererSystem,name:"renderTexture"};ct.add(PI);class yhe{}class j9{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function _he(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const a=e.getActiveAttrib(t,s);if(a.name.startsWith("gl_"))continue;const o=R9(e,a.type),l={type:o,name:a.name,size:D9(o),location:e.getAttribLocation(t,a.name)};r[a.name]=l}return r}function bhe(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const a=e.getActiveUniform(t,s),o=a.name.replace(/\[.*?\]$/,""),l=!!a.name.match(/\[.*?\]$/),c=R9(e,a.type);r[o]={name:o,index:s,type:c,size:a.size,isArray:l,value:A9(c,a.size)}}return r}function z9(t,e){var l;const r=mL(t,t.VERTEX_SHADER,e.vertexSrc),n=mL(t,t.FRAGMENT_SHADER,e.fragmentSrc),s=t.createProgram();t.attachShader(s,r),t.attachShader(s,n);const a=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(a&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||ihe(t,s,r,n),e.attributeData=_he(s,t),e.uniformData=bhe(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,f)=>d>f?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(s,d,c[d]);t.linkProgram(s)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(s,c),value:A9(d.type,d.size)}}return new j9(s,o)}function whe(t,e,r,n,s){r.buffer.update(s)}const xhe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},V9={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function G9(t){const e=t.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let r=0,n=0,s=0;for(let a=0;a<e.length;a++){const o=e[a];if(r=V9[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,s+=l}n+r>16?(s=Math.ceil(s/16)*16,o.offset=s,s+=r,n=r):(o.offset=s,n+=r,s+=r)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function H9(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,s)=>n.index-s.index),r}function W9(t,e){if(!t.autoManage)return{size:0,syncFunc:whe};const r=H9(t.uniforms,e),{uboElements:n,size:s}=G9(r),a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let o=0;o<n.length;o++){const l=n[o],c=t.uniforms[l.data.name],d=l.data.name;let f=!1;for(let m=0;m<bd.length;m++){const g=bd[m];if(g.codeUbo&&g.test(l.data,c)){a.push("offset = ".concat(l.offset/4,";"),bd[m].codeUbo(l.data.name,c)),f=!0;break}}if(!f)if(l.data.size>1){const m=D9(l.data.type),g=Math.max(V9[l.data.type]/16,1),y=m/g,_=(4-y%4)%4;a.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(l.data.size*g,"; i++)\n                {\n                    for(var j = 0; j < ").concat(y,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(_,";\n                }\n\n                "))}else{const m=xhe[l.data.type];a.push("\n                cv = ud.".concat(d,".value;\n                v = uv.").concat(d,";\n                offset = ").concat(l.offset/4,";\n                ").concat(m,";\n                "))}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}let Ehe=0;const h0={textureCount:0,uboCount:0};class DI{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Ehe++}systemCheck(){if(!O9())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),r||(h0.textureCount=0,h0.uboCount=0,this.syncUniformGroup(e.uniformGroup,h0)),s}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=rhe(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const s=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),s(n.uniformData,e.uniforms,this.renderer,h0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(r.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=W9(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const s=e.uniforms,a=["".concat(n,"-")];for(const o in s)a.push(o),r[o]&&a.push(r[o].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,s=z9(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}DI.extension={type:Ke.RendererSystem,name:"shader"};ct.add(DI);class Av{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log("PixiJS 7.4.3 - ".concat(r.rendererLogId," - https://pixijs.com")),r.resize(r.screen.width,r.screen.height)}destroy(){}}Av.defaultOptions={hello:!1},Av.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"startup"};ct.add(Av);function She(t,e=[]){return e[wt.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.ADD]=[t.ONE,t.ONE],e[wt.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.NONE]=[0,0],e[wt.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[wt.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[wt.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[wt.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[wt.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[wt.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[wt.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[wt.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[wt.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[wt.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[wt.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Che=0,Ahe=1,The=2,Phe=3,Dhe=4,Rhe=5,K9=class pD{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=wt.NONE,this._blendEq=!1,this.map=[],this.map[Che]=this.setBlend,this.map[Ahe]=this.setOffset,this.map[The]=this.setCullFace,this.map[Phe]=this.setDepthTest,this.map[Dhe]=this.setFrontFace,this.map[Rhe]=this.setDepthMask,this.checks=[],this.defaultState=new Ya,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=She(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(pD.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(pD.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};K9.extension={type:Ke.RendererSystem,name:"state"};let X9=K9;ct.add(X9);class Y9 extends Mp{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var s;this.addRunners(...e.runners);const r=((s=e.priority)!=null?s:[]).filter(a=>e.systems[a]),n=[...r,...Object.keys(e.systems).filter(a=>!r.includes(a))];for(const a of n)this.addSystem(e.systems[a],a)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ts(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error('Whoops! The name "'.concat(r,'" is already in use'));this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=n.find(o=>this._systemsHash[o]===s);s[e.name](r[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ym=class O1{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=O1.defaultMaxIdle,this.checkCountMax=O1.defaultCheckCountMax,this.mode=O1.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==rE.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let s=0;s<r.length;s++){const a=r[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),r[s]=null,n=!0)}if(n){let s=0;for(let a=0;a<r.length;a++)r[a]!==null&&(r[s++]=r[a]);r.length=s}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};Ym.defaultMode=rE.AUTO,Ym.defaultMaxIdle=60*60,Ym.defaultCheckCountMax=60*10,Ym.extension={type:Ke.RendererSystem,name:"textureGC"};let fu=Ym;ct.add(fu);class I1{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=mt.UNSIGNED_BYTE,this.internalFormat=Be.RGBA,this.samplerType=0}}function Ohe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Ze.FLOAT,[t.RGBA]:Ze.FLOAT,[t.ALPHA]:Ze.FLOAT,[t.LUMINANCE]:Ze.FLOAT,[t.LUMINANCE_ALPHA]:Ze.FLOAT,[t.R8]:Ze.FLOAT,[t.R8_SNORM]:Ze.FLOAT,[t.RG8]:Ze.FLOAT,[t.RG8_SNORM]:Ze.FLOAT,[t.RGB8]:Ze.FLOAT,[t.RGB8_SNORM]:Ze.FLOAT,[t.RGB565]:Ze.FLOAT,[t.RGBA4]:Ze.FLOAT,[t.RGB5_A1]:Ze.FLOAT,[t.RGBA8]:Ze.FLOAT,[t.RGBA8_SNORM]:Ze.FLOAT,[t.RGB10_A2]:Ze.FLOAT,[t.RGB10_A2UI]:Ze.FLOAT,[t.SRGB8]:Ze.FLOAT,[t.SRGB8_ALPHA8]:Ze.FLOAT,[t.R16F]:Ze.FLOAT,[t.RG16F]:Ze.FLOAT,[t.RGB16F]:Ze.FLOAT,[t.RGBA16F]:Ze.FLOAT,[t.R32F]:Ze.FLOAT,[t.RG32F]:Ze.FLOAT,[t.RGB32F]:Ze.FLOAT,[t.RGBA32F]:Ze.FLOAT,[t.R11F_G11F_B10F]:Ze.FLOAT,[t.RGB9_E5]:Ze.FLOAT,[t.R8I]:Ze.INT,[t.R8UI]:Ze.UINT,[t.R16I]:Ze.INT,[t.R16UI]:Ze.UINT,[t.R32I]:Ze.INT,[t.R32UI]:Ze.UINT,[t.RG8I]:Ze.INT,[t.RG8UI]:Ze.UINT,[t.RG16I]:Ze.INT,[t.RG16UI]:Ze.UINT,[t.RG32I]:Ze.INT,[t.RG32UI]:Ze.UINT,[t.RGB8I]:Ze.INT,[t.RGB8UI]:Ze.UINT,[t.RGB16I]:Ze.INT,[t.RGB16UI]:Ze.UINT,[t.RGB32I]:Ze.INT,[t.RGB32UI]:Ze.UINT,[t.RGBA8I]:Ze.INT,[t.RGBA8UI]:Ze.UINT,[t.RGBA16I]:Ze.INT,[t.RGBA16UI]:Ze.UINT,[t.RGBA32I]:Ze.INT,[t.RGBA32UI]:Ze.UINT,[t.DEPTH_COMPONENT16]:Ze.FLOAT,[t.DEPTH_COMPONENT24]:Ze.FLOAT,[t.DEPTH_COMPONENT32F]:Ze.FLOAT,[t.DEPTH_STENCIL]:Ze.FLOAT,[t.DEPTH24_STENCIL8]:Ze.FLOAT,[t.DEPTH32F_STENCIL8]:Ze.FLOAT}:e={[t.RGB]:Ze.FLOAT,[t.RGBA]:Ze.FLOAT,[t.ALPHA]:Ze.FLOAT,[t.LUMINANCE]:Ze.FLOAT,[t.LUMINANCE_ALPHA]:Ze.FLOAT,[t.DEPTH_STENCIL]:Ze.FLOAT},e}function Ihe(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[mt.UNSIGNED_BYTE]:{[Be.RGBA]:t.RGBA8,[Be.RGB]:t.RGB8,[Be.RG]:t.RG8,[Be.RED]:t.R8,[Be.RGBA_INTEGER]:t.RGBA8UI,[Be.RGB_INTEGER]:t.RGB8UI,[Be.RG_INTEGER]:t.RG8UI,[Be.RED_INTEGER]:t.R8UI,[Be.ALPHA]:t.ALPHA,[Be.LUMINANCE]:t.LUMINANCE,[Be.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[mt.BYTE]:{[Be.RGBA]:t.RGBA8_SNORM,[Be.RGB]:t.RGB8_SNORM,[Be.RG]:t.RG8_SNORM,[Be.RED]:t.R8_SNORM,[Be.RGBA_INTEGER]:t.RGBA8I,[Be.RGB_INTEGER]:t.RGB8I,[Be.RG_INTEGER]:t.RG8I,[Be.RED_INTEGER]:t.R8I},[mt.UNSIGNED_SHORT]:{[Be.RGBA_INTEGER]:t.RGBA16UI,[Be.RGB_INTEGER]:t.RGB16UI,[Be.RG_INTEGER]:t.RG16UI,[Be.RED_INTEGER]:t.R16UI,[Be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[mt.SHORT]:{[Be.RGBA_INTEGER]:t.RGBA16I,[Be.RGB_INTEGER]:t.RGB16I,[Be.RG_INTEGER]:t.RG16I,[Be.RED_INTEGER]:t.R16I},[mt.UNSIGNED_INT]:{[Be.RGBA_INTEGER]:t.RGBA32UI,[Be.RGB_INTEGER]:t.RGB32UI,[Be.RG_INTEGER]:t.RG32UI,[Be.RED_INTEGER]:t.R32UI,[Be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[mt.INT]:{[Be.RGBA_INTEGER]:t.RGBA32I,[Be.RGB_INTEGER]:t.RGB32I,[Be.RG_INTEGER]:t.RG32I,[Be.RED_INTEGER]:t.R32I},[mt.FLOAT]:{[Be.RGBA]:t.RGBA32F,[Be.RGB]:t.RGB32F,[Be.RG]:t.RG32F,[Be.RED]:t.R32F,[Be.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[mt.HALF_FLOAT]:{[Be.RGBA]:t.RGBA16F,[Be.RGB]:t.RGB16F,[Be.RG]:t.RG16F,[Be.RED]:t.R16F},[mt.UNSIGNED_SHORT_5_6_5]:{[Be.RGB]:t.RGB565},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Be.RGBA]:t.RGBA4},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Be.RGBA]:t.RGB5_A1},[mt.UNSIGNED_INT_2_10_10_10_REV]:{[Be.RGBA]:t.RGB10_A2,[Be.RGBA_INTEGER]:t.RGB10_A2UI},[mt.UNSIGNED_INT_10F_11F_11F_REV]:{[Be.RGB]:t.R11F_G11F_B10F},[mt.UNSIGNED_INT_5_9_9_9_REV]:{[Be.RGB]:t.RGB9_E5},[mt.UNSIGNED_INT_24_8]:{[Be.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[mt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Be.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[mt.UNSIGNED_BYTE]:{[Be.RGBA]:t.RGBA,[Be.RGB]:t.RGB,[Be.ALPHA]:t.ALPHA,[Be.LUMINANCE]:t.LUMINANCE,[Be.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[mt.UNSIGNED_SHORT_5_6_5]:{[Be.RGB]:t.RGB},[mt.UNSIGNED_SHORT_4_4_4_4]:{[Be.RGBA]:t.RGBA},[mt.UNSIGNED_SHORT_5_5_5_1]:{[Be.RGBA]:t.RGBA}},e}class RI{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ot,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ihe(e),this.samplerTypes=Ohe(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let s=0;s<r;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new I1(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new I1(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===e&&(this.currentLocation!==s&&(r.activeTexture(r.TEXTURE0+s),this.currentLocation=s),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[s]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let a=e-1;a>=0;--a){const o=r[a];o&&o._glTextures[s].samplerType!==Ze.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new I1(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,s,a;r.internalFormat=(s=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?s:e.format,r.samplerType=(a=this.samplerTypes[r.internalFormat])!=null?a:Ze.FLOAT,this.webGLVersion===2&&e.type===mt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var s;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(s=e.resource)==null?void 0:s.upload(n,e,r))r.samplerType!==Ze.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==a||r.height!==o||r.dirtyId<0)&&(r.width=a,r.height=o,l.texImage2D(e.target,0,r.internalFormat,a,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const s=this.managedTextures.indexOf(e);s!==-1&&_d(this.managedTextures,s,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ka.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=To.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Ka.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===bo.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===bo.LINEAR){const a=Math.min(e.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===bo.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===bo.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}RI.extension={type:Ke.RendererSystem,name:"texture"};ct.add(RI);class OI{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:s}=this;r&&s.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:s}=this,a=r.createTransformFeedback();e._glTransformFeedbacks[s]=a,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,a);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[s].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[s].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&a.dispose(l,r))}n&&(r||s.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}OI.extension={type:Ke.RendererSystem,name:"transformFeedback"};ct.add(OI);class Tv{constructor(e){this.renderer=e}init(e){this.screen=new Bt(0,0,e.width,e.height),this.element=e.view||et.ADAPTER.createCanvas(),this.resolution=e.resolution||et.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width="".concat(n,"px"),this.element.style.height="".concat(s,"px")),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Tv.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Tv.extension={type:[Ke.RendererSystem,Ke.CanvasRendererSystem],name:"_view"};ct.add(Tv);et.PREFER_ENV=vc.WEBGL2;et.STRICT_TEXTURE_CACHE=!1;et.RENDER_OPTIONS={...Cv.defaultOptions,...Sv.defaultOptions,...Tv.defaultOptions,...Av.defaultOptions};Object.defineProperties(et,{WRAP_MODE:{get(){return Ot.defaultOptions.wrapMode},set(t){At("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ot.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ot.defaultOptions.scaleMode},set(t){At("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ot.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ot.defaultOptions.mipmap},set(t){At("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ot.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ot.defaultOptions.anisotropicLevel},set(t){At("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ot.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return At("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ri.defaultResolution},set(t){ri.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return At("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ri.defaultMultisample},set(t){ri.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return du.defaultMaxTextures},set(t){At("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),du.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return du.defaultBatchSize},set(t){At("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),du.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return du.canUploadSameBuffer},set(t){At("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),du.canUploadSameBuffer=t}},GC_MODE:{get(){return fu.defaultMode},set(t){At("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),fu.defaultMode=t}},GC_MAX_IDLE:{get(){return fu.defaultMaxIdle},set(t){At("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),fu.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return fu.defaultCheckCountMax},set(t){At("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),fu.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return wo.defaultVertexPrecision},set(t){At("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),wo.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return wo.defaultFragmentPrecision},set(t){At("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),wo.defaultFragmentPrecision=t}}});var Bo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Bo||{});class dA{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=s}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const q9=class us{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new dA(null,null,1/0),this.deltaMS=1/us.targetFPMS,this.elapsedMS=1/us.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Bo.NORMAL){return this._addListener(new dA(e,r,n))}addOnce(e,r,n=Bo.NORMAL){return this._addListener(new dA(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*us.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,us.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!us._shared){const e=us._shared=new us;e.autoStart=!0,e._protected=!0}return us._shared}static get system(){if(!us._system){const e=us._system=new us;e.autoStart=!0,e._protected=!0}return us._system}};q9.targetFPMS=.06;let En=q9;Object.defineProperties(et,{TARGET_FPMS:{get(){return En.targetFPMS},set(t){At("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),En.targetFPMS=t}}});class II{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Bo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?En.shared:new En,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}II.extension=Ke.Application;ct.add(II);const Z9=[];ct.handleByList(Ke.Renderer,Z9);function J9(t){for(const e of Z9)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Bhe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Fhe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const Q9=Bhe,BI=Fhe;class FI{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=pn.HIGH?this.multisample=pn.HIGH:r>=pn.MEDIUM?this.multisample=pn.MEDIUM:r>=pn.LOW?this.multisample=pn.LOW:this.multisample=pn.NONE}destroy(){}}FI.extension={type:Ke.RendererSystem,name:"_multisample"};ct.add(FI);class Mhe{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class MI{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[r]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,a.buffer)}}bindBufferRange(e,r,n){const{gl:s,CONTEXT_UID:a}=this;n=n||0;const o=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,r.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const a=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,a)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),n&&(r||s.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Mhe(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}MI.extension={type:Ke.RendererSystem,name:"buffer"};ct.add(MI);class kI{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let s,a,o,l;if(r&&(s=r.renderTexture,a=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(s||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(a!=null?a:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),s&&(r.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}kI.extension={type:Ke.RendererSystem,name:"objectRenderer"};ct.add(kI);const B1=class mD extends Y9{constructor(e){super(),this.type=nI.WEBGL,e=Object.assign({},et.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ca({projectionMatrix:new er},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:mD.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(At("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=mD.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:l9()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return At("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return At("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return At("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return At("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){At("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return At("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){At("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return At("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};B1.extension={type:Ke.Renderer,priority:1},B1.__plugins={},B1.__systems={};let hE=B1;ct.handleByMap(Ke.RendererPlugin,hE.__plugins);ct.handleByMap(Ke.RendererSystem,hE.__systems);ct.add(hE);class NI extends op{constructor(e,r){const{width:n,height:s}=r||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const o=new Ot;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof op?this.addResourceAt(e[n],n):this.addResourceAt(hI(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class eV extends NI{constructor(e,r){const{width:n,height:s}=r||{};let a,o;Array.isArray(e)?(a=e,o=e.length):o=e,super(o,{width:n,height:s}),a&&this.initFromArray(a,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=vd.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:s,itemDirtyIds:a,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,r.format,n.type,null);for(let c=0;c<s;c++){const d=o[c];a[c]<d.dirtyId&&(a[c]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class tV extends Io{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const rV=class qm extends NI{constructor(e,r){const{width:n,height:s,autoLoad:a,linkBaseTexture:o}=r||{};if(e&&e.length!==qm.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));super(6,{width:n,height:s});for(let l=0;l<qm.SIDES;l++)this.items[l].target=vd.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),a!==!1&&this.load()}bind(e){super.bind(e),e.target=vd.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error("Index ".concat(r," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=vd.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const s=this.itemDirtyIds;for(let a=0;a<qm.SIDES;a++){const o=this.items[a];(s[a]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),s[a]=o.dirtyId):s[a]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===qm.SIDES}};rV.SIDES=6;let nV=rV;class od extends Io{constructor(e,r){var o,l;r=r||{};let n,s,a;typeof e=="string"?(n=od.EMPTY,s=e,a=!0):(n=e,s=null,a=!1),super(n),this.url=s,this.crossOrigin=(o=r.crossOrigin)!=null?o:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=(l=r.ownsImageBitmap)!=null?l:a,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await et.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ii.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return od._EMPTY=(e=od._EMPTY)!=null?e:et.ADAPTER.createCanvas(0,0),od._EMPTY}}const gD=class F1 extends Io{constructor(e,r){r=r||{},super(et.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},F1.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Io.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=r*this.scale,a=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*r,a=this._overrideHeight||this._overrideWidth/r*n),s=Math.round(s),a=Math.round(a);const o=this.source;o.width=s,o.height=a,o._pixiId="canvas_".concat(Qu()),o.getContext("2d").drawImage(e,0,0,r,n,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const r=F1.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&F1.SVG_XML.test(e)}};gD.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,gD.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let tw=gD;class khe extends Io{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const vD=class yD extends Io{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Io.crossOrigin(n,s,r.crossorigin);for(let a=0;a<e.length;++a){const o=document.createElement("source");let{src:l,mime:c}=e[a];if(l=l||e[a],l.startsWith("data:"))c=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const d=l.split("?").shift().toLowerCase(),f=d.slice(d.lastIndexOf(".")+1);c=c||yD.MIME_TYPES[f]||"video/".concat(f)}o.src=l,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=En.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(En.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(En.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(En.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||yD.TYPES.includes(r)}};vD.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],vD.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let LI=vD;Zb.push(od,vI,tV,LI,khe,tw,Ny,nV,eV);class Nhe{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Ts("disposeTransformFeedback")}bindBuffer(e,r){this.buffers[e]=r}destroy(){this.disposeRunner.emit(this,!1)}}const Lhe="7.4.3";class Pv{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Bt.EMPTY:(e=e||new Bt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:s,c:a,d:o,tx:l,ty:c}=e,d=n*r.x+a*r.y+l,f=s*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,s=this.maxX,a=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,s=o>s?o:s,a=l>a?l:a,this.minX=r,this.minY=n,this.maxX=s,this.maxY=a}addFrame(e,r,n,s,a){this.addFrameMatrix(e.worldTransform,r,n,s,a)}addFrameMatrix(e,r,n,s,a){const o=e.a,l=e.b,c=e.c,d=e.d,f=e.tx,m=e.ty;let g=this.minX,y=this.minY,_=this.maxX,b=this.maxY,u=o*r+c*n+f,h=l*r+d*n+m;g=u<g?u:g,y=h<y?h:y,_=u>_?u:_,b=h>b?h:b,u=o*s+c*n+f,h=l*s+d*n+m,g=u<g?u:g,y=h<y?h:y,_=u>_?u:_,b=h>b?h:b,u=o*r+c*a+f,h=l*r+d*a+m,g=u<g?u:g,y=h<y?h:y,_=u>_?u:_,b=h>b?h:b,u=o*s+c*a+f,h=l*s+d*a+m,g=u<g?u:g,y=h<y?h:y,_=u>_?u:_,b=h>b?h:b,this.minX=g,this.minY=y,this.maxX=_,this.maxY=b}addVertexData(e,r,n){let s=this.minX,a=this.minY,o=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],f=e[c+1];s=d<s?d:s,a=f<a?f:a,o=d>o?d:o,l=f>l?f:l}this.minX=s,this.minY=a,this.maxX=o,this.maxY=l}addVertices(e,r,n,s){this.addVerticesMatrix(e.worldTransform,r,n,s)}addVerticesMatrix(e,r,n,s,a=0,o=a){const l=e.a,c=e.b,d=e.c,f=e.d,m=e.tx,g=e.ty;let y=this.minX,_=this.minY,b=this.maxX,u=this.maxY;for(let h=n;h<s;h+=2){const p=r[h],v=r[h+1],w=l*p+d*v+m,x=f*v+c*p+g;y=Math.min(y,w-a),b=Math.max(b,w+a),_=Math.min(_,x-o),u=Math.max(u,x+o)}this.minX=y,this.minY=_,this.maxX=b,this.maxY=u}addBounds(e){const r=this.minX,n=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,s=e.minY>r.minY?e.minY:r.minY,a=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=a&&s<=o){const l=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=a>d?a:d,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,s=e.minY>r.y?e.minY:r.y,a=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=a&&s<=o){const l=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=s<c?s:c,this.maxX=a>d?a:d,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,s,a,o){e-=a,r-=o,n+=a,s+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>s?this.maxY:s}}class Hr extends Mp{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Np,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Pv,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];Object.defineProperty(Hr.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Bt),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){var l;e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Pv);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(l=n==null?void 0:n.worldAlpha)!=null?l:1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-a,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,s){return r&&(e=r.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,s=1,a=0,o=0,l=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=s||1,this.rotation=a,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new iV),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*x9}set angle(e){this.transform.rotation=e*E9}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class iV extends Hr{constructor(){super(...arguments),this.sortDirty=null}}Hr.prototype.displayObjectUpdateTransform=Hr.prototype.updateTransform;const Uhe=new er;function $he(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const sV=class _D extends Hr{constructor(){super(),this.children=[],this.sortableChildren=_D.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error("".concat(e,"addChildAt: The index ").concat(r," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),s=this.getChildIndex(r);this.children[n]=r,this.children[s]=e,this.onChildrenChange(n<s?n:s)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error("The index ".concat(r," supplied is out of bounds ").concat(this.children.length));const n=this.getChildIndex(e);_d(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,_d(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,_d(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,s=r,a=s-n;let o;if(a>0&&a<=s){o=this.children.splice(n,a);for(let l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const s=this.children[r];s._lastSortedIndex=r,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort($he),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let s=0,a=this.children.length;s<a;++s){const o=this.children[s];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==_D.prototype._render&&(n=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=Uhe.copyFrom(s),s.prepend(a)):s=a),n&&r.intersects(n,s))this._render(e);else if(this.cullArea)return;for(let o=0,l=this.children.length;o<l;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}}renderAdvanced(e){var a,o,l;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const s=r&&((a=this._enabledFilters)==null?void 0:a.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==vn.NONE));if(s&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,d=this.children.length;c<d;++c)this.children[c].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let s=0;s<n.length;++s)n[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};sV.defaultSortableChildren=!1;let ss=sV;ss.prototype.containerUpdateTransform=ss.prototype.updateTransform;Object.defineProperties(et,{SORTABLE_CHILDREN:{get(){return ss.defaultSortableChildren},set(t){At("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ss.defaultSortableChildren=t}}});const Rm=new ze,jhe=new Uint16Array([0,1,2,0,2,3]);let sf=class aV extends ss{constructor(e){super(),this._anchor=new ka(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new lr(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=wt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Je.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=jhe,this.pluginName="batch",this.isSprite=!0,this._roundPixels=et.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=dl(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=dl(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,c=r.ty,d=this.vertexData,f=e.trim,m=e.orig,g=this._anchor;let y=0,_=0,b=0,u=0;if(f?(_=f.x-g._x*m.width,y=_+f.width,u=f.y-g._y*m.height,b=u+f.height):(_=-g._x*m.width,y=_+m.width,u=-g._y*m.height,b=u+m.height),d[0]=n*_+a*u+l,d[1]=o*u+s*_+c,d[2]=n*y+a*u+l,d[3]=o*u+s*y+c,d[4]=n*y+a*b+l,d[5]=o*b+s*y+c,d[6]=n*_+a*b+l,d[7]=o*b+s*_+c,this._roundPixels){const h=et.RESOLUTION;for(let p=0;p<d.length;++p)d[p]=Math.round(d[p]*h)/h}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,s=this._anchor,a=this.transform.worldTransform,o=a.a,l=a.b,c=a.c,d=a.d,f=a.tx,m=a.ty,g=-s._x*n.width,y=g+n.width,_=-s._y*n.height,b=_+n.height;if(r[0]=o*g+c*_+f,r[1]=d*_+l*g+m,r[2]=o*y+c*_+f,r[3]=d*_+l*y+m,r[4]=o*y+c*b+f,r[5]=d*b+l*y+m,r[6]=o*g+c*b+f,r[7]=d*b+l*g+m,this._roundPixels){const u=et.RESOLUTION;for(let h=0;h<r.length;++h)r[h]=Math.round(r[h]*u)/u}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Pv),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Rm);const r=this._texture.orig.width,n=this._texture.orig.height,s=-r*this.anchor.x;let a=0;return Rm.x>=s&&Rm.x<s+r&&(a=-n*this.anchor.y,Rm.y>=a&&Rm.y<a+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof Je?e:Je.from(e,r);return new aV(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=dl(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=dl(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Je.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};const oV=new er;Hr.prototype._cacheAsBitmap=!1;Hr.prototype._cacheData=null;Hr.prototype._cacheAsBitmapResolution=null;Hr.prototype._cacheAsBitmapMultisample=null;class zhe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Hr.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new zhe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Hr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Hr.prototype._initCachedDisplayObject=function(t){var g,y,_;if((g=this._cacheData)!=null&&g.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Bt,!0);if((y=this.filters)!=null&&y.length){const b=this.filters[0].padding;r.pad(b)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=_c.create({width:r.width,height:r.height,resolution:n,multisample:(_=this.cacheAsBitmapMultisample)!=null?_:t.multisample}),d="cacheAsBitmap_".concat(Qu());this._cacheData.textureCacheId=d,Ot.addToCache(c.baseTexture,d),Je.addToCache(c,d);const f=this.transform.localTransform.copyTo(oV).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(s,a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const m=new sf(c);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(r.x/r.width),m.anchor.y=-(r.y/r.height),m.alpha=e,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)};Hr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Hr.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new Bt,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,s=t._projTransform,a=this.cacheAsBitmapResolution||t.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const o=_c.create({width:e.width,height:e.height,resolution:a}),l="cacheAsBitmap_".concat(Qu());this._cacheData.textureCacheId=l,Ot.addToCache(o.baseTexture,l),Je.addToCache(o,l);const c=oV;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new sf(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};Hr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Hr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Hr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ot.removeFromCache(this._cacheData.textureCacheId),Je.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Hr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Hr.prototype.name=null;ss.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const s=this.children[r];if(!s.getChildByName)continue;const a=s.getChildByName(t,!0);if(a)return a}return null};Hr.prototype.getGlobalPosition=function(t=new ze,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Vhe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";class lV extends ri{constructor(e=1){super(Q9,Vhe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Ghe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Hhe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function Whe(t){const e=Ghe[t],r=e.length;let n=Hhe,s="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=a.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),s+=c,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}const Khe="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function Xhe(t,e){const r=Math.ceil(t/2);let n=Khe,s="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=a.replace("%index%",o.toString());l=l.replace("%sampleIndex%","".concat(o-(r-1),".0")),s+=l,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t.toString()),n}class rw extends ri{constructor(e,r=8,n=4,s=ri.defaultResolution,a=5){const o=Xhe(a,e),l=Whe(a);super(o,l),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,s);else{const a=e.getFilterTexture(),o=e.renderer;let l=r,c=a;this.state.blend=!1,e.applyFilter(this,l,c,Oa.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,Oa.BLIT),this.uniforms.uSampler=c;const f=c;c=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}let uV=class extends ri{constructor(e=8,r=4,n=ri.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new rw(!0,e,r,n,s),this.blurYFilter=new rw(!1,e,r,n,s),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,s){const a=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(a&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Oa.CLEAR),this.blurYFilter.apply(e,l,n,s),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,s):this.blurXFilter.apply(e,r,n,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}};var Yhe="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";class nw extends ri{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(BI,Yhe,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,s,a]=lr.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),s=Math.sin(e),a=Math.sqrt,o=1/3,l=a(o),c=n+(1-n)*o,d=o*(1-n)-l*s,f=o*(1-n)+l*s,m=o*(1-n)+l*s,g=n+o*(1-n),y=o*(1-n)-l*s,_=o*(1-n)-l*s,b=o*(1-n)+l*s,u=n+o*(1-n),h=[c,d,f,0,0,m,g,y,0,0,_,b,u,0,0,0,0,0,1,0];this._loadMatrix(h,r)}contrast(e,r){const n=(e||0)+1,s=-.5*(n-1),a=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(a,r)}saturate(e=0,r){const n=e*2/3+1,s=(n-1)*-.5,a=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(a,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,s,a){e=e||.2,r=r||.15,n=n||16770432,s=s||3375104;const o=lr.shared,[l,c,d]=o.setValue(n).toArray(),[f,m,g]=o.setValue(s).toArray(),y=[.3,.59,.11,0,0,l,c,d,e,0,f,m,g,r,0,l-f,c-m,d-g,0,0];this._loadMatrix(y,a)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}nw.prototype.grayscale=nw.prototype.greyscale;var qhe="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Zhe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";class cV extends ri{constructor(e,r){const n=new er;e.renderable=!1,super(Zhe,qhe,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ze(r,r)}apply(e,r,n,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,o=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/o,this.uniforms.rotation[1]=a.b/o,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),e.applyFilter(this,r,n,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var Jhe='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Qhe="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";class dV extends ri{constructor(){super(Qhe,Jhe)}}var epe="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";let fV=class extends ri{constructor(e=.5,r=Math.random()){super(BI,epe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}};const bD={AlphaFilter:lV,BlurFilter:uV,BlurFilterPass:rw,ColorMatrixFilter:nw,DisplacementFilter:cV,FXAAFilter:dV,NoiseFilter:fV};Object.entries(bD).forEach(([t,e])=>{Object.defineProperty(bD,t,{get(){return At("7.1.0","filters.".concat(t," has moved to ").concat(t)),e}})});class tpe{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(En.system.add(this.tickerUpdate,this,Bo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(En.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const _u=new tpe;class Lp{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Lp.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ze,this.page=new ze,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Dv extends Lp{constructor(){super(...arguments),this.client=new ze,this.movement=new ze,this.offset=new ze,this.global=new ze,this.screen=new ze}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,s,a,o,l,c,d,f,m,g,y,_,b){throw new Error("Method not implemented.")}}class Vs extends Dv{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class wd extends Dv{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}wd.DOM_DELTA_PIXEL=0,wd.DOM_DELTA_LINE=1,wd.DOM_DELTA_PAGE=2;const rpe=2048,npe=new ze,fA=new ze;class hV{constructor(e){this.dispatch=new Mp,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,s)=>n.priority-s.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,s=r.length;n<s;n++)r[n].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,r){_u.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,npe.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=n.length-1;s<a;s++)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(e.currentTarget=n[s],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(r)?r:[r];for(let a=n.length-1;a>=0;a--)s.forEach(o=>{e.currentTarget=n[a],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<rpe&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,s,a,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(_u.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let m=f.length-1;m>=0;m--){const g=f[m],y=this.hitTestMoveRecursive(g,this._isInteractive(r)?r:g.eventMode,n,s,a,o||a(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=e.isInteractive();(y.length>0||_)&&(_&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),l=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:c&&!a(e,n)&&s(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,s,a){if(this._interactivePrune(e)||a(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(_u.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const f=c[d],m=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,s,a);if(m){if(m.length>0&&!m[m.length-1].parent)continue;const g=e.isInteractive();return(m.length>0||g)&&m.push(e),m}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&s(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,fA),!e.hitArea.contains(fA.x,fA.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((n=s.containsPoint)!=null&&n.call(s,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var a,o;r=r!=null?r:e.type;const n="on".concat(r);(o=(a=e.currentTarget)[n])==null||o.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const s=r.button===2;this.dispatchEvent(r,s?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,d,f;if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((c=s.overTargets)==null?void 0:c.length)>0&&a!==r.target){const m=e.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(e,m,a);if(this.dispatchEvent(g,"pointerout"),n&&this.dispatchEvent(g,"mouseout"),!r.composedPath().includes(a)){const y=this.createPointerEvent(e,"pointerleave",a);for(y.eventPhase=y.AT_TARGET;y.target&&!r.composedPath().includes(y.target);)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseleave"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(g)}if(a!==r.target){const m=e.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(r,m);this.dispatchEvent(g,"pointerover"),n&&this.dispatchEvent(g,"mouseover");let y=a==null?void 0:a.parent;for(;y&&y!==this.rootTarget.parent&&y!==r.target;)y=y.parent;if(!y||y===this.rootTarget.parent){const _=this.clonePointerEvent(r,"pointerenter");for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==a&&_.target!==this.rootTarget.parent;)_.currentTarget=_.target,this.notifyTarget(_),n&&this.notifyTarget(_,"mouseenter"),_.target=_.target.parent;this.freeEvent(_)}this.freeEvent(g)}const o=[],l=(d=this.enableGlobalMoveEvents)!=null?d:!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(f=r.target)==null?void 0:f.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const a=this.clonePointerEvent(n,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(r.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),n&&this.dispatchEvent(a,"mouseout");const o=this.createPointerEvent(e,"pointerleave",s);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(a),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let o=a;if(a&&!n.composedPath().includes(a)){let l=a;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete s.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=s.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const d=l.button===2;this.dispatchEvent(l,d?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Vs)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(n){let a=n;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof wd)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){var a;const s=this.allocateEvent(Vs);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=(a=n!=null?n:this.hitTest(s.global.x,s.global.y))!=null?a:this._hitElements[0],typeof r=="string"&&(s.type=r),s}createWheelEvent(e){const r=this.allocateEvent(wd);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Vs);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r!=null?r:n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Vs&&r instanceof Vs&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Dv&&r instanceof Dv&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let s=0,a=n.length;s<a&&!e.propagationImmediatelyStopped;s++)n[s].once&&e.currentTarget.removeListener(r,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,e)}}const ipe=1,spe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},wD=class xD{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new hV(null),_u.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Vs(null),this.rootWheelEvent=new wd(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...xD.defaultEventFeatures},{set:(r,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),r[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var s,a;const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,xD._defaultEventMode=(s=e.eventMode)!=null?s:"auto",Object.assign(this.features,(a=e.eventFeatures)!=null?a:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,s=r.length;n<s;n++){const a=r[n],o=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,_u.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const a=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,o=s.length;a<o;a++){const l=this.bootstrapEvent(this.rootPointerEvent,s[a]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,s=r.length;n<s;n++){const a=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,_u.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;_u.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;_u.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(r-s.left)*(this.domElement.width/s.width)*a,e.y=(n-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,s=e.changedTouches.length;n<s;n++){const a=e.changedTouches[n];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,r.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=ipe),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=spe[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};wD.extension={name:"events",type:[Ke.RendererSystem,Ke.CanvasRendererSystem]},wD.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let iw=wD;ct.add(iw);function CL(t){return t==="dynamic"||t==="static"}const pV={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return(t=this._internalInteractive)!=null?t:CL(iw.defaultEventMode)},set interactive(t){At("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return(t=this._internalEventMode)!=null?t:iw.defaultEventMode},set eventMode(t){this._internalInteractive=CL(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof r=="object"?r.signal:void 0,a=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t;const l=typeof e=="function"?e:e.handleEvent,c=this;s&&s.addEventListener("abort",()=>{c.off(t,l,o)}),a?c.once(t,l,o):c.on(t,l,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,s=typeof e=="function"?void 0:e;t=n?"".concat(t,"capture"):t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof Lp))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Hr.mixin(pV);const mV={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Hr.mixin(mV);const ape=9,p0=100,ope=0,lpe=0,AL=2,TL=1,upe=-1e3,cpe=-1e3,dpe=2;class UI{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ma.tablet||Ma.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width="".concat(p0,"px"),r.style.height="".concat(p0,"px"),r.style.position="absolute",r.style.top="".concat(ope,"px"),r.style.left="".concat(lpe,"px"),r.style.zIndex=AL.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="".concat(TL,"px"),e.style.height="".concat(TL,"px"),e.style.position="absolute",e.style.top="".concat(upe,"px"),e.style.left="".concat(cpe,"px"),e.style.zIndex=dpe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Ma.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,d=s/o*c,f=a/l*c;let m=this.div;m.style.left="".concat(r,"px"),m.style.top="".concat(n,"px"),m.style.width="".concat(o,"px"),m.style.height="".concat(l,"px");for(let g=0;g<this.children.length;g++){const y=this.children[g];if(y.renderId!==this.renderId)y._accessibleActive=!1,_d(this.children,g,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,g--;else{m=y._accessibleDiv;let _=y.hitArea;const b=y.worldTransform;y.hitArea?(m.style.left="".concat((b.tx+_.x*b.a)*d,"px"),m.style.top="".concat((b.ty+_.y*b.d)*f,"px"),m.style.width="".concat(_.width*b.a*d,"px"),m.style.height="".concat(_.height*b.d*f,"px")):(_=y.getBounds(),this.capHitArea(_),m.style.left="".concat(_.x*d,"px"),m.style.top="".concat(_.y*f,"px"),m.style.width="".concat(_.width*d,"px"),m.style.height="".concat(_.height*f,"px"),m.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(m.title=y.accessibleTitle),m.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&m.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==m.title||y.tabIndex!==m.tabIndex)&&(m.title=y.accessibleTitle,m.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width="".concat(p0,"px"),r.style.height="".concat(p0,"px"),r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=AL.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,s=this.renderer.events.rootBoundary,a=Object.assign(new Lp(s),{target:n});s.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>s.dispatchEvent(a,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===ape&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}UI.extension={name:"accessibility",type:[Ke.RendererPlugin,Ke.CanvasRendererPlugin]};ct.add(UI);const gV=class ED{constructor(e){this.stage=new ss,e=Object.assign({forceCanvas:!1},e),this.renderer=J9(e),ED._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=ED._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};gV._plugins=[];let vV=gV;ct.handleByList(Ke.Application,vV._plugins);class $I{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;r=s,n=a}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}$I.extension=Ke.Application;ct.add($I);const PL={loader:Ke.LoadParser,resolver:Ke.ResolveParser,cache:Ke.CacheParser,detection:Ke.DetectionParser};ct.handle(Ke.Asset,t=>{const e=t.ref;Object.entries(PL).filter(([r])=>!!e[r]).forEach(([r,n])=>{var s;return ct.add(Object.assign(e[r],{extension:(s=e[r].extension)!=null?s:n}))})},t=>{const e=t.ref;Object.keys(PL).filter(r=>!!e[r]).forEach(r=>ct.remove(e[r]))});class fpe{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function af(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith("data:".concat(r)))return!0;return!1}return t.startsWith("data:".concat(e))}function $l(t,e){const r=t.split("?")[0],n=On.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Zs=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),sw=(t,e)=>{const r=e.split("?")[1];return r&&(t+="?".concat(r)),t};function yV(t,e,r,n,s){const a=e[r];for(let o=0;o<a.length;o++){const l=a[o];r<e.length-1?yV(t.replace(n[r],l),e,r+1,n,s):s.push(t.replace(n[r],l))}}function _V(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(a=>{const o=a.substring(1,a.length-1).split(",");s.push(o)}),yV(t,s,0,r,n)}else n.push(t);return n}const Rv=t=>!Array.isArray(t);class hpe{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),r}set(e,r){const n=Zs(e);let s;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){s=c.getCacheableAssets(n,r);break}}s||(s={},n.forEach(l=>{s[l]=r}));const a=Object.keys(s),o={cacheKeys:a,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),a.forEach(l=>{const c=s?s[l]:r;this._cache.has(l)&&this._cache.get(l)!==c&&console.warn("[Cache] already has key:",l),this._cache.set(l,s[l])}),r instanceof Je){const l=r;n.forEach(c=>{l.baseTexture!==Je.EMPTY.baseTexture&&Ot.addToCache(l.baseTexture,c),Je.addToCache(l,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const bu=new hpe;class ppe{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let s=null,a=null;if(r.loadParser&&(a=this._parserHash[r.loadParser],a||console.warn('[Assets] specified load parser "'.concat(r.loadParser,'" not found while loading ').concat(e))),!a){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&((o=d.test)!=null&&o.call(d,e,r,this))){a=d;break}}if(!a)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}s=await a.load(e,r,this),n.parser=a;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await((l=d.testParse)==null?void 0:l.call(d,s,r,this))&&(s=await d.parse(s,r,this)||s,n.parser=d)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const s={},a=Rv(e),o=Zs(e,d=>({alias:[d],src:d})),l=o.length,c=o.map(async d=>{const f=On.toAbsolute(d.src);if(!s[d.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,d)),s[d.src]=await this.promiseCache[f].promise,r&&r(++n/l)}catch(m){throw delete this.promiseCache[f],delete s[d.src],new Error("[Loader.load] Failed to load ".concat(f,".\n").concat(m))}});return await Promise.all(c),a?s[o[0].src]:s}async unload(e){const r=Zs(e,n=>({alias:[n],src:n})).map(async n=>{var o,l;const s=On.toAbsolute(n.src),a=this.promiseCache[s];if(a){const c=await a.promise;delete this.promiseCache[s],(l=(o=a.parser)==null?void 0:o.unload)==null||l.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn('[Assets] loadParser name conflict "'.concat(r.name,'"')),{...e,[r.name]:r}),{})}}var ma=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ma||{});const mpe=".json",gpe="application/json",bV={extension:{type:Ke.LoadParser,priority:ma.Low},name:"loadJson",test(t){return af(t,gpe)||$l(t,mpe)},async load(t){return await(await et.ADAPTER.fetch(t)).json()}};ct.add(bV);const vpe=".txt",ype="text/plain",wV={name:"loadTxt",extension:{type:Ke.LoadParser,priority:ma.Low},test(t){return af(t,ype)||$l(t,vpe)},async load(t){return await(await et.ADAPTER.fetch(t)).text()}};ct.add(wV);const _pe=["normal","bold","100","200","300","400","500","600","700","800","900"],bpe=[".ttf",".otf",".woff",".woff2"],wpe=["font/ttf","font/otf","font/woff","font/woff2"],xpe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function xV(t){const e=On.extname(t),r=On.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let n=r.length>0;for(const a of r)if(!a.match(xpe)){n=!1;break}let s=r.join(" ");return n||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}const Epe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Spe(t){return Epe.test(t)?t:encodeURI(t)}const EV={extension:{type:Ke.LoadParser,priority:ma.Low},name:"loadWebFont",test(t){return af(t,wpe)||$l(t,bpe)},async load(t,e){var n,s,a,o,l,c;const r=et.ADAPTER.getFontFaceSet();if(r){const d=[],f=(s=(n=e.data)==null?void 0:n.family)!=null?s:xV(t),m=(l=(o=(a=e.data)==null?void 0:a.weights)==null?void 0:o.filter(y=>_pe.includes(y)))!=null?l:["normal"],g=(c=e.data)!=null?c:{};for(let y=0;y<m.length;y++){const _=m[y],b=new FontFace(f,"url(".concat(Spe(t),")"),{...g,weight:_});await b.load(),r.add(b),d.push(b)}return d.length===1?d[0]:d}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>et.ADAPTER.getFontFaceSet().delete(e))}};ct.add(EV);const Cpe='(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n';let Bh=null,SD=class{constructor(){Bh||(Bh=URL.createObjectURL(new Blob([Cpe],{type:"application/javascript"}))),this.worker=new Worker(Bh)}};SD.revokeObjectURL=function(){Bh&&(URL.revokeObjectURL(Bh),Bh=null)};const Ape='(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n';let Fh=null;class SV{constructor(){Fh||(Fh=URL.createObjectURL(new Blob([Ape],{type:"application/javascript"}))),this.worker=new Worker(Fh)}}SV.revokeObjectURL=function(){Fh&&(URL.revokeObjectURL(Fh),Fh=null)};let DL=0,hA;class Tpe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new SD;r.addEventListener("message",n=>{r.terminate(),SD.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){hA===void 0&&(hA=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<hA&&(this._createdWorkers++,e=new SV().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((s,a)=>{this.queue.push({id:e,arguments:r,resolve:s,reject:a})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[DL]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:DL++,id:n})}}const RL=new Tpe;function Up(t,e,r){t.resource.internal=!0;const n=new Je(t),s=()=>{delete e.promiseCache[r],bu.has(r)&&bu.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const Ppe=[".jpeg",".jpg",".png",".webp",".avif"],Dpe=["image/jpeg","image/png","image/webp","image/avif"];async function CV(t){const e=await et.ADAPTER.fetch(t);if(!e.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(e.status," ").concat(e.statusText));const r=await e.blob();return await createImageBitmap(r)}const zy={name:"loadTextures",extension:{type:Ke.LoadParser,priority:ma.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return af(t,Dpe)||$l(t,Ppe)},async load(t,e,r){var l,c;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await RL.isImageBitmapSupported()?s=await RL.loadImageBitmap(t):s=await CV(t):s=await new Promise((d,f)=>{const m=new Image;m.crossOrigin=this.config.crossOrigin,m.src=t,m.complete?d(m):(m.onload=()=>d(m),m.onerror=g=>f(g))});const a={...e.data};(l=a.resolution)!=null||(a.resolution=Oo(t)),n&&((c=a.resourceOptions)==null?void 0:c.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const o=new Ot(s,a);return o.resource.src=t,Up(o,r,t)},unload(t){t.destroy(!0)}};ct.add(zy);const Rpe=".svg",Ope="image/svg+xml",AV={extension:{type:Ke.LoadParser,priority:ma.High},name:"loadSVG",test(t){return af(t,Ope)||$l(t,Rpe)},async testParse(t){return tw.test(t)},async parse(t,e,r){var a;const n=new tw(t,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await n.load();const s=new Ot(n,{resolution:Oo(t),...e==null?void 0:e.data});return s.resource.src=e.src,Up(s,r,e.src)},async load(t,e){return(await et.ADAPTER.fetch(t)).text()},unload:zy.unload};ct.add(AV);const Ipe=[".mp4",".m4v",".webm",".ogv"],Bpe=["video/mp4","video/webm","video/ogg"],TV={name:"loadVideo",extension:{type:Ke.LoadParser,priority:ma.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return af(t,Bpe)||$l(t,Ipe)},async load(t,e,r){var o;let n;const s=await(await et.ADAPTER.fetch(t)).blob(),a=URL.createObjectURL(s);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},c=new LI(a,l);await c.load();const d=new Ot(c,{alphaMode:await o9(),resolution:Oo(t),...e==null?void 0:e.data});d.resource.src=t,n=Up(d,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(l){throw URL.revokeObjectURL(a),l}return n},unload(t){t.destroy(!0)}};ct.add(TV);class Fpe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>"".concat(e).concat(this._bundleIdConnector).concat(r),extractAssetIdFromBundle:(e,r)=>r.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var r,n,s;if(this._bundleIdConnector=(r=e.connector)!=null?r:this._bundleIdConnector,this._createBundleAssetId=(n=e.createBundleAssetId)!=null?n:this._createBundleAssetId,this._extractAssetIdFromBundle=(s=e.extractAssetIdFromBundle)!=null?s:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r[n]))).join("&")}}getAlias(e){const{alias:r,name:n,src:s,srcs:a}=e;return Zs(r||n||s||a,o=>{var l;return typeof o=="string"?o:Array.isArray(o)?o.map(c=>{var d,f;return(f=(d=c==null?void 0:c.src)!=null?d:c==null?void 0:c.srcs)!=null?f:c}):o!=null&&o.src||o!=null&&o.srcs?(l=o.src)!=null?l:o.srcs:o},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(s=>{var c,d;const a=(c=s.src)!=null?c:s.srcs,o=(d=s.alias)!=null?d:s.name;let l;if(typeof o=="string"){const f=this._createBundleAssetId(e,o);n.push(f),l=[o,f]}else{const f=o.map(m=>this._createBundleAssetId(e,m));n.push(...f),l=[...o,...f]}this.add({...s,alias:l,src:a})}):Object.keys(r).forEach(s=>{var o;const a=[s,this._createBundleAssetId(e,s)];if(typeof r[s]=="string")this.add({alias:a,src:r[s]});else if(Array.isArray(r[s]))this.add({alias:a,src:r[s]});else{const l=r[s],c=(o=l.src)!=null?o:l.srcs;this.add({...l,alias:a,src:Array.isArray(c)?c:[c]})}n.push(...a)}),this._bundles[e]=n}add(e,r,n,s,a){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(At("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),o.push({alias:e,src:r,data:n,format:s,loadParser:a})):Array.isArray(e)?o.push(...e):o.push(e);let l;l=c=>{this.hasKey(c)&&console.warn("[Resolver] already has key: ".concat(c," overwriting"))},Zs(o).forEach(c=>{const{src:d,srcs:f}=c;let{data:m,format:g,loadParser:y}=c;const _=Zs(d||f).map(h=>typeof h=="string"?_V(h):Array.isArray(h)?h:[h]),b=this.getAlias(c);Array.isArray(b)?b.forEach(l):l(b);const u=[];_.forEach(h=>{h.forEach(p=>{var w,x,S;let v={};if(typeof p!="object"){v.src=p;for(let E=0;E<this._parsers.length;E++){const P=this._parsers[E];if(P.test(p)){v=P.parse(p);break}}}else m=(w=p.data)!=null?w:m,g=(x=p.format)!=null?x:g,y=(S=p.loadParser)!=null?S:y,v={...v,...p};if(!b)throw new Error("[Resolver] alias is undefined for this asset: ".concat(v.src));v=this.buildResolvedAsset(v,{aliases:b,data:m,format:g,loadParser:y}),u.push(v)})}),b.forEach(h=>{this._assetMap[h]=u})})}resolveBundle(e){const r=Rv(e);e=Zs(e);const n={};return e.forEach(s=>{const a=this._bundles[s];if(a){const o=this.resolve(a),l={};for(const c in o){const d=o[c];l[this._extractAssetIdFromBundle(s,c)]=d}n[s]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=Rv(e);e=Zs(e);const n={};return e.forEach(s=>{var a;if(!this._resolverHash[s])if(this._assetMap[s]){let o=this._assetMap[s];const l=o[0],c=this._getPreferredOrder(o);c==null||c.priority.forEach(d=>{c.params[d].forEach(f=>{const m=o.filter(g=>g[d]?g[d]===f:!1);m.length&&(o=m)})}),this._resolverHash[s]=(a=o[0])!=null?a:l}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return"".concat(e).concat(r).concat(this._defaultSearchParams)}buildResolvedAsset(e,r){var l,c;const{aliases:n,data:s,loadParser:a,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=On.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=(l=n!=null?n:e.alias)!=null?l:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a!=null?a:e.loadParser,e.format=(c=o!=null?o:e.format)!=null?c:On.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class PV{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Fpe,this.loader=new ppe,this.cache=bu,this._backgroundLoader=new fpe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,o,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=(o=(a=e.texturePreference)==null?void 0:a.resolution)!=null?o:1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(l=e.texturePreference)==null?void 0:l.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,s,a){this.resolver.add(e,r,n,s,a)}async load(e,r){this._initialized||await this.init();const n=Rv(e),s=Zs(e).map(l=>{if(typeof l!="string"){const c=this.resolver.getAlias(l);return c.some(d=>!this.resolver.hasKey(d))&&this.add(l),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),a=this.resolver.resolve(s),o=await this._mapLoadToResolve(a,r);return n?o[s[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},o=Object.keys(s);let l=0,c=0;const d=()=>{r==null||r(++l/c)},f=o.map(m=>{const g=s[m];return c+=Object.keys(g).length,this._mapLoadToResolve(g,d).then(y=>{a[m]=y})});return await Promise.all(f),n?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return bu.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=bu.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,c)=>{const d=a[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[s[c]]=d,bu.set(f,d)}),o}async unload(e){this._initialized||await this.init();const r=Zs(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Zs(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{bu.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}get preferWorkers(){return zy.config.preferWorkers}set preferWorkers(e){At("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Zm=new PV;ct.handleByList(Ke.LoadParser,Zm.loader.parsers).handleByList(Ke.ResolveParser,Zm.resolver.parsers).handleByList(Ke.CacheParser,Zm.cache.parsers).handleByList(Ke.DetectionParser,Zm.detections);const DV={extension:Ke.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Je),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,a)=>{r[n+(a===0?"":a+1)]=s})}),r}};ct.add(DV);async function RV(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(e){return!1}return!0}return!1}const OV={extension:{type:Ke.DetectionParser,priority:1},test:async()=>RV("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ct.add(OV);const IV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>RV("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ct.add(IV);const OL=["png","jpg","jpeg"],BV={extension:{type:Ke.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...OL],remove:async t=>t.filter(e=>!OL.includes(e))};ct.add(BV);const Mpe="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function jI(t){return Mpe?!1:document.createElement("video").canPlayType(t)!==""}const FV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>jI("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ct.add(FV);const MV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>jI("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ct.add(MV);const kV={extension:{type:Ke.DetectionParser,priority:0},test:async()=>jI("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ct.add(kV);const NV={extension:Ke.ResolveParser,test:zy.test,parse:t=>{var e,r;return{resolution:parseFloat((r=(e=et.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?r:"1"),format:On.extname(t).slice(1),src:t}}};ct.add(NV);var Un=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Un||{});const Ov={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let so,qf;function IL(){qf={bptc:so.getExtension("EXT_texture_compression_bptc"),astc:so.getExtension("WEBGL_compressed_texture_astc"),etc:so.getExtension("WEBGL_compressed_texture_etc"),s3tc:so.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:so.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:so.getExtension("WEBGL_compressed_texture_pvrtc")||so.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:so.getExtension("WEBGL_compressed_texture_etc1"),atc:so.getExtension("WEBGL_compressed_texture_atc")}}const LV={extension:{type:Ke.DetectionParser,priority:2},test:async()=>{const t=et.ADAPTER.createCanvas().getContext("webgl");return t?(so=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{qf||IL();const e=[];for(const r in qf)qf[r]&&e.push(r);return[...e,...t]},remove:async t=>(qf||IL(),t.filter(e=>!(e in qf)))};ct.add(LV);class UV extends Ny{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,s;typeof e=="string"?(n=e,s=new Uint8Array):(n=null,s=e),super(s,r),this.origin=n,this.buffer=s?new qb(s):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new qb(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Vu extends UV{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Vu._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Vu._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let a=0,o=this.levels;a<o;a++){const{levelID:l,levelWidth:c,levelHeight:d,levelBuffer:f}=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,l,this.format,c,d,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Vu._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error("Invalid (compressed) texture format given: ".concat(e))}static _createLevelBuffers(e,r,n,s,a,o,l){const c=new Array(n);let d=e.byteOffset,f=o,m=l,g=f+s-1&~(s-1),y=m+a-1&~(a-1),_=g*y*Ov[r];for(let b=0;b<n;b++)c[b]={levelID:b,levelWidth:n>1?f:g,levelHeight:n>1?m:y,levelBuffer:new Uint8Array(e.buffer,d,_)},d+=_,f=f>>1||1,m=m>>1||1,g=f+s-1&~(s-1),y=m+a-1&~(a-1),_=g*y*Ov[r];return c}}const pA=4,m0=124,kpe=32,BL=20,Npe=542327876,g0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Lpe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},v0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Upe=1,$pe=2,jpe=4,zpe=64,Vpe=512,Gpe=131072,Hpe=827611204,Wpe=861165636,Kpe=894720068,Xpe=808540228,Ype=4,qpe={[Hpe]:Un.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Wpe]:Un.COMPRESSED_RGBA_S3TC_DXT3_EXT,[Kpe]:Un.COMPRESSED_RGBA_S3TC_DXT5_EXT},Zpe={70:Un.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Un.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Un.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Un.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Un.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Un.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Un.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Un.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Un.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Un.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Un.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Un.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Un.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function $V(t){const e=new Uint32Array(t);if(e[0]!==Npe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,m0/Uint32Array.BYTES_PER_ELEMENT),n=r[g0.HEIGHT],s=r[g0.WIDTH],a=r[g0.MIPMAP_COUNT],o=new Uint32Array(t,g0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,kpe/Uint32Array.BYTES_PER_ELEMENT),l=o[Upe];if(l&jpe){const c=o[Lpe.FOURCC];if(c!==Xpe){const p=qpe[c],v=pA+m0,w=new Uint8Array(t,v);return[new Vu(w,{format:p,width:s,height:n,levels:a})]}const d=pA+m0,f=new Uint32Array(e.buffer,d,BL/Uint32Array.BYTES_PER_ELEMENT),m=f[v0.DXGI_FORMAT],g=f[v0.RESOURCE_DIMENSION],y=f[v0.MISC_FLAG],_=f[v0.ARRAY_SIZE],b=Zpe[m];if(b===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(m));if(y===Ype)throw new Error("DDSParser does not support cubemap textures");if(g===6)throw new Error("DDSParser does not supported 3D texture data");const u=new Array,h=pA+m0+BL;if(_===1)u.push(new Uint8Array(t,h));else{const p=Ov[b];let v=0,w=s,x=n;for(let E=0;E<a;E++){const P=Math.max(1,w+3&-4),T=Math.max(1,x+3&-4),A=P*T*p;v+=A,w=w>>>1,x=x>>>1}let S=h;for(let E=0;E<_;E++)u.push(new Uint8Array(t,S,v)),S+=v}return u.map(p=>new Vu(p,{format:b,width:s,height:n,levels:a}))}throw l&zpe?new Error("DDSParser does not support uncompressed texture data."):l&Vpe?new Error("DDSParser does not supported YUV uncompressed texture data."):l&Gpe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&$pe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const FL=[171,75,84,88,32,49,49,187,13,10,26,10],Jpe=67305985,wa={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},CD=64,AD={[mt.UNSIGNED_BYTE]:1,[mt.UNSIGNED_SHORT]:2,[mt.INT]:4,[mt.UNSIGNED_INT]:4,[mt.FLOAT]:4,[mt.HALF_FLOAT]:8},jV={[Be.RGBA]:4,[Be.RGB]:3,[Be.RG]:2,[Be.RED]:1,[Be.LUMINANCE]:1,[Be.LUMINANCE_ALPHA]:2,[Be.ALPHA]:1},zV={[mt.UNSIGNED_SHORT_4_4_4_4]:2,[mt.UNSIGNED_SHORT_5_5_5_1]:2,[mt.UNSIGNED_SHORT_5_6_5]:2};function VV(t,e,r=!1){const n=new DataView(e);if(!Qpe(t,n))return null;const s=n.getUint32(wa.ENDIANNESS,!0)===Jpe,a=n.getUint32(wa.GL_TYPE,s),o=n.getUint32(wa.GL_FORMAT,s),l=n.getUint32(wa.GL_INTERNAL_FORMAT,s),c=n.getUint32(wa.PIXEL_WIDTH,s),d=n.getUint32(wa.PIXEL_HEIGHT,s)||1,f=n.getUint32(wa.PIXEL_DEPTH,s)||1,m=n.getUint32(wa.NUMBER_OF_ARRAY_ELEMENTS,s)||1,g=n.getUint32(wa.NUMBER_OF_FACES,s),y=n.getUint32(wa.NUMBER_OF_MIPMAP_LEVELS,s),_=n.getUint32(wa.BYTES_OF_KEY_VALUE_DATA,s);if(d===0||f!==1)throw new Error("Only 2D textures are supported");if(g!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");const b=4,u=4,h=c+3&-4,p=d+3&-4,v=new Array(m);let w=c*d;a===0&&(w=h*p);let x;if(a!==0?AD[a]?x=AD[a]*jV[o]:x=zV[a]:x=Ov[l],x===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=r?tme(n,_,s):null;let E=w*x,P=c,T=d,A=h,R=p,D=CD+_;for(let O=0;O<y;O++){const I=n.getUint32(D,s);let M=D+4;for(let G=0;G<m;G++){let j=v[G];j||(j=v[G]=new Array(y)),j[O]={levelID:O,levelWidth:y>1||a!==0?P:A,levelHeight:y>1||a!==0?T:R,levelBuffer:new Uint8Array(e,M,E)},M+=E}D+=I+4,D=D%4!==0?D+4-D%4:D,P=P>>1||1,T=T>>1||1,A=P+b-1&~(b-1),R=T+u-1&~(u-1),E=A*R*x}return a!==0?{uncompressed:v.map(O=>{let I=O[0].levelBuffer,M=!1;return a===mt.FLOAT?I=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):a===mt.UNSIGNED_INT?(M=!0,I=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):a===mt.INT&&(M=!0,I=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Ny(I,{width:O[0].levelWidth,height:O[0].levelHeight}),type:a,format:M?eme(o):o}}),kvData:S}:{compressed:v.map(O=>new Vu(null,{format:l,width:c,height:d,levels:y,levelBuffers:O})),kvData:S}}function Qpe(t,e){for(let r=0;r<FL.length;r++)if(e.getUint8(r)!==FL[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}function eme(t){switch(t){case Be.RGBA:return Be.RGBA_INTEGER;case Be.RGB:return Be.RGB_INTEGER;case Be.RG:return Be.RG_INTEGER;case Be.RED:return Be.RED_INTEGER;default:return t}}function tme(t,e,r){const n=new Map;let s=0;for(;s<e;){const a=t.getUint32(CD+s,r),o=CD+s+4,l=3-(a+3)%4;if(a===0||a>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<a&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,a-c-1);n.set(d,f),s+=4+a+l}return n}const GV={extension:{type:Ke.LoadParser,priority:ma.High},name:"loadDDS",test(t){return $l(t,".dds")},async load(t,e,r){const n=await(await et.ADAPTER.fetch(t)).arrayBuffer(),s=$V(n).map(a=>{const o=new Ot(a,{mipmap:Ka.OFF,alphaMode:Ii.NO_PREMULTIPLIED_ALPHA,resolution:Oo(t),...e.data});return Up(o,r,t)});return s.length===1?s[0]:s},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(GV);const HV={extension:{type:Ke.LoadParser,priority:ma.High},name:"loadKTX",test(t){return $l(t,".ktx")},async load(t,e,r){const n=await(await et.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:o}=VV(t,n),l=s!=null?s:a,c={mipmap:Ka.OFF,alphaMode:Ii.NO_PREMULTIPLIED_ALPHA,resolution:Oo(t),...e.data},d=l.map(f=>{var y;l===a&&Object.assign(c,{type:f.type,format:f.format});const m=(y=f.resource)!=null?y:f,g=new Ot(m,c);return g.ktxKeyValueData=o,Up(g,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ct.add(HV);const rme=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],WV={extension:Ke.ResolveParser,test:t=>{const e=On.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,s,a,o;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const l=e.pop();if(rme.includes(l))return{resolution:parseFloat((s=(n=et.RETINA_PREFIX.exec(t))==null?void 0:n[1])!=null?s:"1"),format:l,src:t}}return{resolution:parseFloat((o=(a=et.RETINA_PREFIX.exec(t))==null?void 0:a[1])!=null?o:"1"),format:r,src:t}}};ct.add(WV);const y0=new Bt,nme=4,KV=class Jm{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,s){const a=new Image;return a.src=await this.base64(e,r,n,s),a}async base64(e,r,n,s){const a=this.canvas(e,s);if(a.toBlob!==void 0)return new Promise((o,l)=>{a.toBlob(c=>{if(!c){l(new Error("ICanvas.toBlob failed!"));return}const d=new FileReader;d.onload=()=>o(d.result),d.onerror=l,d.readAsDataURL(c)},r,n)});if(a.toDataURL!==void 0)return a.toDataURL(r,n);if(a.convertToBlob!==void 0){const o=await a.convertToBlob({type:r,quality:n});return new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:s,height:a,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);o&&Jm._flipY(n,s,a),l&&Jm._unpremultiplyAlpha(n);const c=new g9(s,a,1),d=new ImageData(new Uint8ClampedArray(n.buffer),s,a);return c.context.putImageData(d,0,0),c.canvas}pixels(e,r){const{pixels:n,width:s,height:a,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);return o&&Jm._flipY(n,s,a),l&&Jm._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let s,a=!1,o=!1,l,c=!1;e&&(e instanceof _c?l=e:(l=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(y0.width=r.width,y0.height=r.height,r=y0)));const d=n.gl;if(l){if(s=l.baseTexture.resolution,r=r!=null?r:l.frame,a=!1,o=l.baseTexture.alphaMode>0&&l.baseTexture.format===Be.RGBA,!c){n.renderTexture.bind(l);const y=l.framebuffer.glFramebuffers[n.CONTEXT_UID];y.blitFramebuffer&&n.framebuffer.bind(y.blitFramebuffer)}}else s=n.resolution,r||(r=y0,r.width=n.width/s,r.height=n.height/s),a=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*s),1),m=Math.max(Math.round(r.height*s),1),g=new Uint8Array(nme*f*m);return d.readPixels(Math.round(r.x*s),Math.round(r.y*s),f,m,d.RGBA,d.UNSIGNED_BYTE,g),c&&(l==null||l.destroy(!0)),{pixels:g,width:f,height:m,flipY:a,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const s=r<<2,a=n>>1,o=new Uint8Array(s);for(let l=0;l<a;l++){const c=l*s,d=(n-l-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,d,d+s),e.set(o,d)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const s=e[n+3];if(s!==0){const a=255.001/s;e[n]=e[n]*a+.5,e[n+1]=e[n+1]*a+.5,e[n+2]=e[n+2]*a+.5}}}};KV.extension={name:"extract",type:Ke.RendererSystem};let XV=KV;ct.add(XV);const Iv={build(t){const e=t.points;let r,n,s,a,o,l;if(t.type===Kn.CIRC){const _=t.shape;r=_.x,n=_.y,o=l=_.radius,s=a=0}else if(t.type===Kn.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,l=_.height,s=a=0}else{const _=t.shape,b=_.width/2,u=_.height/2;r=_.x+b,n=_.y+u,o=l=Math.max(0,Math.min(_.radius,Math.min(b,u))),s=b-o,a=u-l}if(!(o>=0&&l>=0&&s>=0&&a>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),d=c*8+(s?4:0)+(a?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+s,e[1]=e[3]=n+a,e[2]=e[4]=r-s,e[5]=e[7]=n-a;return}let f=0,m=c*4+(s?2:0)+2,g=m,y=d;{const _=s+o,b=a,u=r+_,h=r-_,p=n+b;if(e[f++]=u,e[f++]=p,e[--m]=p,e[--m]=h,a){const v=n-b;e[g++]=h,e[g++]=v,e[--y]=v,e[--y]=u}}for(let _=1;_<c;_++){const b=Math.PI/2*(_/c),u=s+Math.cos(b)*o,h=a+Math.sin(b)*l,p=r+u,v=r-u,w=n+h,x=n-h;e[f++]=p,e[f++]=w,e[--m]=w,e[--m]=v,e[g++]=v,e[g++]=x,e[--y]=x,e[--y]=p}{const _=s,b=a+l,u=r+_,h=r-_,p=n+b,v=n-b;e[f++]=u,e[f++]=p,e[--y]=v,e[--y]=u,s&&(e[f++]=h,e[f++]=p,e[--y]=v,e[--y]=h)}},triangulate(t,e){const r=t.points,n=e.points,s=e.indices;if(r.length===0)return;let a=n.length/2;const o=a;let l,c;if(t.type!==Kn.RREC){const f=t.shape;l=f.x,c=f.y}else{const f=t.shape;l=f.x+f.width/2,c=f.y+f.height/2}const d=t.matrix;n.push(t.matrix?d.a*l+d.c*c+d.tx:l,t.matrix?d.b*l+d.d*c+d.ty:c),a++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),s.push(a++,o,a);s.push(o+1,o,a)}};function ML(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let s=0,a=t[r-2],o=t[r-1];s<r;s+=2){const l=t[s],c=t[s+1];n+=(l-a)*(c+o),a=l,o=c}if(!e&&n>0||e&&n<=0){const s=r/2;for(let a=s+s%2;a<r;a+=2){const o=r-a-2,l=r-a-1,c=a,d=a+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[d]]=[t[d],t[l]]}}}const zI={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,s=e.points,a=e.indices;if(r.length>=6){ML(r,!1);const o=[];for(let d=0;d<n.length;d++){const f=n[d];ML(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const l=M7(r,o,2);if(!l)return;const c=s.length/2;for(let d=0;d<l.length;d+=3)a.push(l[d]+c),a.push(l[d+1]+c),a.push(l[d+2]+c);for(let d=0;d<r.length;d++)s.push(r[d])}}},YV={build(t){const e=t.shape,r=e.x,n=e.y,s=e.width,a=e.height,o=t.points;o.length=0,s>=0&&a>=0&&o.push(r,n,r+s,n,r+s,n+a,r,n+a)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const s=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},qV={build(t){Iv.build(t)},triangulate(t,e){Iv.triangulate(t,e)}};var ms=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ms||{}),fl=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(fl||{});const ec={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},ime=ec;class TD{static curveTo(e,r,n,s,a,o){const l=o[o.length-2],c=o[o.length-1]-r,d=l-e,f=s-r,m=n-e,g=Math.abs(c*m-d*f);if(g<1e-8||a===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const y=c*c+d*d,_=f*f+m*m,b=c*f+d*m,u=a*Math.sqrt(y)/g,h=a*Math.sqrt(_)/g,p=u*b/y,v=h*b/_,w=u*m+h*d,x=u*f+h*c,S=d*(h+p),E=c*(h+p),P=m*(u+v),T=f*(u+v),A=Math.atan2(E-x,S-w),R=Math.atan2(T-x,P-w);return{cx:w+e,cy:x+r,radius:a,startAngle:A,endAngle:R,anticlockwise:d*f>m*c}}static arc(e,r,n,s,a,o,l,c,d){const f=l-o,m=ec._segmentsCount(Math.abs(f)*a,Math.ceil(Math.abs(f)/Ev)*40),g=f/(m*2),y=g*2,_=Math.cos(g),b=Math.sin(g),u=m-1,h=u%1/u;for(let p=0;p<=u;++p){const v=p+h*p,w=g+o+y*v,x=Math.cos(w),S=-Math.sin(w);d.push((_*x+b*S)*a+n,(_*-S+b*x)*a+s)}}}class ZV{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class pE{static curveLength(e,r,n,s,a,o,l,c){let d=0,f=0,m=0,g=0,y=0,_=0,b=0,u=0,h=0,p=0,v=0,w=e,x=r;for(let S=1;S<=10;++S)f=S/10,m=f*f,g=m*f,y=1-f,_=y*y,b=_*y,u=b*e+3*_*f*n+3*y*m*a+g*l,h=b*r+3*_*f*s+3*y*m*o+g*c,p=w-u,v=x-h,w=u,x=h,d+=Math.sqrt(p*p+v*v);return d}static curveTo(e,r,n,s,a,o,l){const c=l[l.length-2],d=l[l.length-1];l.length-=2;const f=ec._segmentsCount(pE.curveLength(c,d,e,r,n,s,a,o));let m=0,g=0,y=0,_=0,b=0;l.push(c,d);for(let u=1,h=0;u<=f;++u)h=u/f,m=1-h,g=m*m,y=g*m,_=h*h,b=_*h,l.push(y*c+3*g*h*e+3*m*_*n+b*a,y*d+3*g*h*r+3*m*_*s+b*o)}}function kL(t,e,r,n,s,a,o,l){const c=t-r*s,d=e-n*s,f=t+r*a,m=e+n*a;let g,y;o?(g=n,y=-r):(g=-n,y=r);const _=c+g,b=d+y,u=f+g,h=m+y;return l.push(_,b,u,h),2}function Lc(t,e,r,n,s,a,o,l){const c=r-t,d=n-e;let f=Math.atan2(c,d),m=Math.atan2(s-t,a-e);l&&f<m?f+=Math.PI*2:!l&&f>m&&(m+=Math.PI*2);let g=f;const y=m-f,_=Math.abs(y),b=Math.sqrt(c*c+d*d),u=(15*_*Math.sqrt(b)/Math.PI>>0)+1,h=y/u;if(g+=h,l){o.push(t,e,r,n);for(let p=1,v=g;p<u;p++,v+=h)o.push(t,e,t+Math.sin(v)*b,e+Math.cos(v)*b);o.push(t,e,s,a)}else{o.push(r,n,t,e);for(let p=1,v=g;p<u;p++,v+=h)o.push(t+Math.sin(v)*b,e+Math.cos(v)*b,t,e);o.push(s,a,t,e)}return u*2}function sme(t,e){const r=t.shape;let n=t.points||r.points.slice();const s=e.closePointEps;if(n.length===0)return;const a=t.lineStyle,o=new ze(n[0],n[1]),l=new ze(n[n.length-2],n[n.length-1]),c=r.type!==Kn.POLY||r.closeStroke,d=Math.abs(o.x-l.x)<s&&Math.abs(o.y-l.y)<s;if(c){n=n.slice(),d&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const j=(o.x+l.x)*.5,$=(l.y+o.y)*.5;n.unshift(j,$),n.push(j,$)}const f=e.points,m=n.length/2;let g=n.length;const y=f.length/2,_=a.width/2,b=_*_,u=a.miterLimit*a.miterLimit;let h=n[0],p=n[1],v=n[2],w=n[3],x=0,S=0,E=-(p-w),P=h-v,T=0,A=0,R=Math.sqrt(E*E+P*P);E/=R,P/=R,E*=_,P*=_;const D=a.alignment,O=(1-D)*2,I=D*2;c||(a.cap===fl.ROUND?g+=Lc(h-E*(O-I)*.5,p-P*(O-I)*.5,h-E*O,p-P*O,h+E*I,p+P*I,f,!0)+2:a.cap===fl.SQUARE&&(g+=kL(h,p,E,P,O,I,!0,f))),f.push(h-E*O,p-P*O,h+E*I,p+P*I);for(let j=1;j<m-1;++j){h=n[(j-1)*2],p=n[(j-1)*2+1],v=n[j*2],w=n[j*2+1],x=n[(j+1)*2],S=n[(j+1)*2+1],E=-(p-w),P=h-v,R=Math.sqrt(E*E+P*P),E/=R,P/=R,E*=_,P*=_,T=-(w-S),A=v-x,R=Math.sqrt(T*T+A*A),T/=R,A/=R,T*=_,A*=_;const $=v-h,H=p-w,K=v-x,re=S-w,fe=$*K+H*re,ye=H*K-re*$,he=ye<0;if(Math.abs(ye)<.001*Math.abs(fe)){f.push(v-E*O,w-P*O,v+E*I,w+P*I),fe>=0&&(a.join===ms.ROUND?g+=Lc(v,w,v-E*O,w-P*O,v-T*O,w-A*O,f,!1)+4:g+=2,f.push(v-T*I,w-A*I,v+T*O,w+A*O));continue}const ue=(-E+h)*(-P+w)-(-E+v)*(-P+p),Z=(-T+x)*(-A+w)-(-T+v)*(-A+S),z=($*Z-K*ue)/ye,V=(re*ue-H*Z)/ye,Y=(z-v)*(z-v)+(V-w)*(V-w),ne=v+(z-v)*O,ie=w+(V-w)*O,me=v-(z-v)*I,xe=w-(V-w)*I,we=Math.min($*$+H*H,K*K+re*re),Ee=he?O:I,tt=we+Ee*Ee*b,xt=Y<=tt;let _t=a.join;if(_t===ms.MITER&&Y/b>u&&(_t=ms.BEVEL),xt)switch(_t){case ms.MITER:{f.push(ne,ie,me,xe);break}case ms.BEVEL:{he?f.push(ne,ie,v+E*I,w+P*I,ne,ie,v+T*I,w+A*I):f.push(v-E*O,w-P*O,me,xe,v-T*O,w-A*O,me,xe),g+=2;break}case ms.ROUND:{he?(f.push(ne,ie,v+E*I,w+P*I),g+=Lc(v,w,v+E*I,w+P*I,v+T*I,w+A*I,f,!0)+4,f.push(ne,ie,v+T*I,w+A*I)):(f.push(v-E*O,w-P*O,me,xe),g+=Lc(v,w,v-E*O,w-P*O,v-T*O,w-A*O,f,!1)+4,f.push(v-T*O,w-A*O,me,xe));break}}else{switch(f.push(v-E*O,w-P*O,v+E*I,w+P*I),_t){case ms.MITER:{he?f.push(me,xe,me,xe):f.push(ne,ie,ne,ie),g+=2;break}case ms.ROUND:{he?g+=Lc(v,w,v+E*I,w+P*I,v+T*I,w+A*I,f,!0)+2:g+=Lc(v,w,v-E*O,w-P*O,v-T*O,w-A*O,f,!1)+2;break}}f.push(v-T*O,w-A*O,v+T*I,w+A*I),g+=2}}h=n[(m-2)*2],p=n[(m-2)*2+1],v=n[(m-1)*2],w=n[(m-1)*2+1],E=-(p-w),P=h-v,R=Math.sqrt(E*E+P*P),E/=R,P/=R,E*=_,P*=_,f.push(v-E*O,w-P*O,v+E*I,w+P*I),c||(a.cap===fl.ROUND?g+=Lc(v-E*(O-I)*.5,w-P*(O-I)*.5,v-E*O,w-P*O,v+E*I,w+P*I,f,!1)+2:a.cap===fl.SQUARE&&(g+=kL(v,w,E,P,O,I,!1,f)));const M=e.indices,G=ec.epsilon*ec.epsilon;for(let j=y;j<g+y-2;++j)h=f[j*2],p=f[j*2+1],v=f[(j+1)*2],w=f[(j+1)*2+1],x=f[(j+2)*2],S=f[(j+2)*2+1],!(Math.abs(h*(w-S)+v*(S-p)+x*(p-w))<G)&&M.push(j,j+1,j+2)}function ame(t,e){let r=0;const n=t.shape,s=t.points||n.points,a=n.type!==Kn.POLY||n.closeStroke;if(s.length===0)return;const o=e.points,l=e.indices,c=s.length/2,d=o.length/2;let f=d;for(o.push(s[0],s[1]),r=1;r<c;r++)o.push(s[r*2],s[r*2+1]),l.push(f,f+1),f++;a&&l.push(f,d)}function PD(t,e){t.lineStyle.native?ame(t,e):sme(t,e)}class mE{static curveLength(e,r,n,s,a,o){const l=e-2*n+a,c=r-2*s+o,d=2*n-2*e,f=2*s-2*r,m=4*(l*l+c*c),g=4*(l*d+c*f),y=d*d+f*f,_=2*Math.sqrt(m+g+y),b=Math.sqrt(m),u=2*m*b,h=2*Math.sqrt(y),p=g/b;return(u*_+b*g*(_-h)+(4*y*m-g*g)*Math.log((2*b+p+_)/(p+h)))/(4*u)}static curveTo(e,r,n,s,a){const o=a[a.length-2],l=a[a.length-1],c=ec._segmentsCount(mE.curveLength(o,l,e,r,n,s));let d=0,f=0;for(let m=1;m<=c;++m){const g=m/c;d=o+(e-o)*g,f=l+(r-l)*g,a.push(d+(e+(n-e)*g-d)*g,f+(r+(s-r)*g-f)*g)}}}const M1={[Kn.POLY]:zI,[Kn.CIRC]:Iv,[Kn.ELIP]:Iv,[Kn.RECT]:YV,[Kn.RREC]:qV},DD=[],Qm=[];class Bv{constructor(e,r=null,n=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=s,this.type=e.type}clone(){return new Bv(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Tf=new ze,JV=class QV extends pI{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Pv,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Qm.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),DD.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,s=null){const a=new Bv(e,r,n,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Bv(e,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const s=r[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Tf):Tf.copyFrom(e),s.shape.contains(Tf.x,Tf.y))){let a=!1;if(s.holes){for(let o=0;o<s.holes.length;o++)if(s.holes[o].shape.contains(Tf.x,Tf.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],f=d.fillStyle,m=d.lineStyle;M1[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(f.visible||m.visible)&&this.processHoles(d.holes);for(let g=0;g<2;g++){const y=g===0?f:m;if(!y.visible)continue;const _=y.texture.baseTexture,b=this.indices.length,u=this.points.length/2;_.wrapMode=To.REPEAT,g===0?this.processFill(d):this.processLine(d);const h=this.points.length/2-u;h!==0&&(n&&!this._compareStyles(s,y)&&(n.end(b,u),n=null),n||(n=DD.pop()||new ZV,n.begin(y,b,u),this.batches.push(n),s=y),this.addUvs(this.points,e,y.texture,u,h,y.matrix))}}const a=this.indices.length,o=this.points.length/2;if(n&&n.end(a,o),this.batches.length===0){this.batchable=!0;return}const l=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],s=n.fillStyle,a=n.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const s=e[r];for(let a=0;a<s.size;a++){const o=s.start+a;this.indicesUint16[o]=this.indicesUint16[o]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<QV.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ot._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),Qm.push(this.drawCalls[m]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let s=Qm.pop();s||(s=new Jb,s.texArray=new Qb),s.texArray.count=0,s.start=0,s.size=0,s.type=Fa.TRIANGLES;let a=0,o=null,l=0,c=!1,d=Fa.TRIANGLES,f=0;this.drawCalls.push(s);for(let m=0;m<this.batches.length;m++){const g=this.batches[m],y=8,_=g.style,b=_.texture.baseTexture;c!==!!_.native&&(c=!!_.native,d=c?Fa.LINES:Fa.TRIANGLES,o=null,a=y,e++),o!==b&&(o=b,b._batchEnabled!==e&&(a===y&&(e++,a=0,s.size>0&&(s=Qm.pop(),s||(s=new Jb,s.texArray=new Qb),this.drawCalls.push(s)),s.start=f,s.size=0,s.texArray.count=0,s.type=d),b.touched=1,b._batchEnabled=e,b._batchLocation=a,b.wrapMode=To.REPEAT,s.texArray.elements[s.texArray.count++]=b,a++)),s.size+=g.size,f+=g.size,l=b._batchLocation,this.addColors(r,_.color,_.alpha,g.attribSize,g.attribStart),this.addTextureIds(n,l,g.attribSize,g.attribStart)}Ot._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),o=new Float32Array(a),l=new Uint32Array(a);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],l[c++]=n[d],o[c++]=s[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?zI.triangulate(e,this):M1[e.type].triangulate(e,this)}processLine(e){PD(e,this);for(let r=0;r<e.holes.length;r++)PD(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];M1[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const s=e[n*2],a=e[n*2+1];e[n*2]=r.a*s+r.c*a+r.tx,e[n*2+1]=r.b*s+r.d*a+r.ty}}addColors(e,r,n,s,a=0){const o=lr.shared.setValue(r).toLittleEndianNumber(),l=lr.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,a+s);for(let c=0;c<s;c++)e[a+c]=l}addTextureIds(e,r,n,s=0){e.length=Math.max(e.length,s+n);for(let a=0;a<n;a++)e[s+a]=r}addUvs(e,r,n,s,a,o=null){let l=0;const c=r.length,d=n.frame;for(;l<a;){let m=e[(s+l)*2],g=e[(s+l)*2+1];if(o){const y=o.a*m+o.c*g+o.tx;g=o.b*m+o.d*g+o.ty,m=y}l++,r.push(m/d.width,g/d.height)}const f=n.baseTexture;(d.width<f.width||d.height<f.height)&&this.adjustUvs(r,n,c,a)}adjustUvs(e,r,n,s){const a=r.baseTexture,o=1e-6,l=n+s*2,c=r.frame,d=c.width/a.width,f=c.height/a.height;let m=c.x/c.width,g=c.y/c.height,y=Math.floor(e[n]+o),_=Math.floor(e[n+1]+o);for(let b=n+2;b<l;b+=2)y=Math.min(y,Math.floor(e[b]+o)),_=Math.min(_,Math.floor(e[b+1]+o));m-=y,g-=_;for(let b=n;b<l;b+=2)e[b]=(e[b]+m)*d,e[b+1]=(e[b+1]+g)*f}};JV.BATCHABLE_SIZE=100;let eG=JV;class Vy{constructor(){this.color=16777215,this.alpha=1,this.texture=Je.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Vy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Je.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class gE extends Vy{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=fl.BUTT,this.join=ms.MITER,this.miterLimit=10}clone(){const e=new gE;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=fl.BUTT,this.join=ms.MITER,this.miterLimit=10}}const mA={},RD=class k1 extends ss{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Vy,this._lineStyle=new gE,this._matrix=null,this._holeMode=!1,this.state=Ya.for2d(),this._geometry=e||new eG,this._geometry.refCount++,this._transformID=-1,this._tintColor=new lr(16777215),this.blendMode=wt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new k1(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:Je.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:fl.BUTT,join:ms.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new zu,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new zu,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],a=n[n.length-1];return(s!==e||a!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),mE.curveTo(e,r,n,s,a),this}bezierCurveTo(e,r,n,s,a,o){return this._initCurve(),pE.curveTo(e,r,n,s,a,o,this.currentPath.points),this}arcTo(e,r,n,s,a){this._initCurve(e,r);const o=this.currentPath.points,l=TD.curveTo(e,r,n,s,a,o);if(l){const{cx:c,cy:d,radius:f,startAngle:m,endAngle:g,anticlockwise:y}=l;this.arc(c,d,f,m,g,y)}return this}arc(e,r,n,s,a,o=!1){if(s===a)return this;if(!o&&a<=s?a+=Ev:o&&s<=a&&(s+=Ev),a-s===0)return this;const l=e+Math.cos(s)*n,c=r+Math.sin(s)*n,d=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const m=Math.abs(f[f.length-2]-l),g=Math.abs(f[f.length-1]-c);m<d&&g<d||f.push(l,c)}else this.moveTo(l,c),f=this.currentPath.points;return TD.arc(l,c,e,r,n,s,a,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:Je.WHITE,color:e,alpha:r})}normalizeColor(e){var n,s;const r=lr.shared.setValue((n=e.color)!=null?n:0);e.color=r.toNumber(),(s=e.alpha)!=null||(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:Je.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,s){return this.drawShape(new Bt(e,r,n,s))}drawRoundedRect(e,r,n,s,a){return this.drawShape(new $y(e,r,n,s,a))}drawCircle(e,r,n){return this.drawShape(new Ly(e,r,n))}drawEllipse(e,r,n,s){return this.drawShape(new Uy(e,r,n,s))}drawPolygon(...e){let r,n=!0;const s=e[0];s.points?(n=s.closeStroke,r=s.points):Array.isArray(e[0])?r=e[0]:r=e;const a=new zu(r);return a.closeStroke=n,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Kn.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let s=0;s<n;s++){const a=e.batches[s],o=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),f={vertexData:l,blendMode:r,indices:d,uvs:c,_batchRGB:lr.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,s=this.worldAlpha,a=r.uniforms,o=n.drawCalls;a.translationMatrix=this.transform.worldTransform,lr.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let l=0,c=o.length;l<c;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:n,type:s,size:a,start:o}=r,l=n.count;for(let c=0;c<l;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(s,a,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!mA[n]){const{maxTextures:s}=e.plugins[n],a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new er,default:ca.from({uSamplers:a},!0)},l=e.plugins[n]._shader.program;mA[n]=new Ga(l,o)}r=mA[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,r,n,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,k1._TEMP_POINT),this._geometry.containsPoint(k1._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=lr.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,c=r.ty,d=this._geometry.points,f=this.vertexData;let m=0;for(let g=0;g<d.length;g+=2){const y=d[g],_=d[g+1];f[m++]=n*y+a*_+l,f[m++]=o*_+s*y+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};RD.curves=ec,RD._TEMP_POINT=new ze;let hl=RD;const ome={buildPoly:zI,buildCircle:Iv,buildRectangle:YV,buildRoundedRectangle:qV,buildLine:PD,ArcUtils:TD,BezierUtils:pE,QuadraticUtils:mE,BatchPart:ZV,FILL_COMMANDS:M1,BATCH_POOL:DD,DRAW_CALL_POOL:Qm};class tG{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const gA=new ze,NL=new zu,rG=class nG extends ss{constructor(e,r,n,s=Fa.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ya.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=et.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Fa.TRIANGLES&&r.length<nG.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const s=this.transform.worldTransform,a=s.a,o=s.b,l=s.c,c=s.d,d=s.tx,f=s.ty,m=this.vertexData;for(let g=0;g<m.length/2;g++){const y=r[g*2],_=r[g*2+1];m[g*2]=a*y+l*_+d,m[g*2+1]=o*y+c*_+f}if(this._roundPixels){const g=et.RESOLUTION;for(let y=0;y<m.length;++y)m[y]=Math.round(m[y]*g)/g}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new tG(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,gA);const r=this.geometry.getBuffer("aVertexPosition").data,n=NL.points,s=this.geometry.getIndex().data,a=s.length,o=this.drawMode===4?3:1;for(let l=0;l+2<a;l+=o){const c=s[l]*2,d=s[l+1]*2,f=s[l+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[f],n[5]=r[f+1],NL.contains(gA.x,gA.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};rG.BATCHABLE_SIZE=100;let lp=rG;class Gy extends Al{constructor(e,r,n){super();const s=new bn(e),a=new bn(r,!0),o=new bn(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,mt.FLOAT).addAttribute("aTextureCoord",a,2,!1,mt.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var lme="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",ume="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";class up extends Ga{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:er.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||wo.from(ume,lme),n),this._colorDirty=!1,this.uvMatrix=new fE(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new lr(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;lr.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class iG extends Gy{constructor(e=100,r=100,n=10,s=10){super(),this.segWidth=n,this.segHeight=s,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],s=[],a=this.segWidth-1,o=this.segHeight-1,l=this.width/a,c=this.height/o;for(let f=0;f<e;f++){const m=f%this.segWidth,g=f/this.segWidth|0;r.push(m*l,g*c),n.push(m/a,g/o)}const d=a*o;for(let f=0;f<d;f++){const m=f%a,g=f/a|0,y=g*this.segWidth+m,_=g*this.segWidth+m+1,b=(g+1)*this.segWidth+m,u=(g+1)*this.segWidth+m+1;s.push(y,_,b,_,u,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class sG extends Gy{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=n.data,o=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let l=0,c=e[0];const d=this._width*this.textureScale,f=e.length;for(let g=0;g<f;g++){const y=g*4;if(this.textureScale>0){const _=c.x-e[g].x,b=c.y-e[g].y,u=Math.sqrt(_*_+b*b);c=e[g],l+=u/d}else l=g/(f-1);a[y]=l,a[y+1]=0,a[y+2]=l,a[y+3]=1}let m=0;for(let g=0;g<f-1;g++){const y=g*2;o[m++]=y,o[m++]=y+1,o[m++]=y+2,o[m++]=y+2,o[m++]=y+1,o[m++]=y+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,s=0,a=0;const o=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<l;d++){const f=e[d],m=d*4;d<e.length-1?n=e[d+1]:n=f,a=-(n.x-r.x),s=n.y-r.y;const g=Math.sqrt(s*s+a*a);g<1e-6?(s=0,a=0):(s/=g,a/=g,s*=c,a*=c),o[m]=f.x+s,o[m+1]=f.y+a,o[m+2]=f.x-s,o[m+3]=f.y-a,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class aG extends lp{constructor(e,r,n){const s=new iG(e.width,e.height,r,n),a=new up(Je.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const _0=10;class cme extends aG{constructor(e,r,n,s,a){var o,l,c,d,f,m,g,y;super(Je.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=(l=r!=null?r:(o=e.defaultBorders)==null?void 0:o.left)!=null?l:_0,this._rightWidth=(d=s!=null?s:(c=e.defaultBorders)==null?void 0:c.right)!=null?d:_0,this._topHeight=(m=n!=null?n:(f=e.defaultBorders)==null?void 0:f.top)!=null?m:_0,this._bottomHeight=(y=a!=null?a:(g=e.defaultBorders)==null?void 0:g.bottom)!=null?y:_0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n;return Math.min(r,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class dme extends lp{constructor(e=Je.EMPTY,r,n,s,a){const o=new Gy(r,n,s);o.getBuffer("aVertexPosition").static=!1;const l=new up(e);super(o,l,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class fme extends lp{constructor(e,r,n=0){const s=new sG(e.height,r,n),a=new up(e);n>0&&(e.baseTexture.wrapMode=To.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class hme extends ss{constructor(e=1500,r,n=16384,s=!1){super();const a=16384;n>a&&(n=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=wt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new lr(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class LL{constructor(e,r,n){this.geometry=new Al,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||mt.FLOAT,offset:a.offset},r[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new bn(m9(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new bn(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=s,s+=l.size,this.staticStride+=l.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new bn(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===mt.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===mt.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,r,n,a.type===mt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,r,n,a.type===mt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var pme="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",mme="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";class VI extends jy{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new er,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:mt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Ga.from(mme,pme,{}),this.state=Ya.for2d()}render(e){const r=e.children,n=e._maxSize,s=e._batchSize,a=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=fI(e.blendMode,d),a.state.set(this.state);const f=a.gl,m=e.worldTransform.copyTo(this.tempMatrix);m.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=lr.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let g=!1;for(let y=0,_=0;y<o;y+=s,_+=1){let b=o-y;b>s&&(b=s),_>=l.length&&l.push(this._generateOneMoreBuffer(e));const u=l[_];u.uploadDynamic(r,y,b);const h=e._bufferUpdateIDs[_]||0;g=g||u._updateID<h,g&&(u._updateID=e._updateID,u.uploadStatic(r,y,b)),a.geometry.bind(u.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,s=e._batchSize,a=e._properties;for(let o=0;o<n;o+=s)r.push(new LL(this.properties,a,s));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new LL(this.properties,n,r)}uploadVertices(e,r,n,s,a,o){let l=0,c=0,d=0,f=0;for(let m=0;m<n;++m){const g=e[r+m],y=g._texture,_=g.scale.x,b=g.scale.y,u=y.trim,h=y.orig;u?(c=u.x-g.anchor.x*h.width,l=c+u.width,f=u.y-g.anchor.y*h.height,d=f+u.height):(l=h.width*(1-g.anchor.x),c=h.width*-g.anchor.x,d=h.height*(1-g.anchor.y),f=h.height*-g.anchor.y),s[o]=c*_,s[o+1]=f*b,s[o+a]=l*_,s[o+a+1]=f*b,s[o+a*2]=l*_,s[o+a*2+1]=d*b,s[o+a*3]=c*_,s[o+a*3+1]=d*b,o+=a*4}}uploadPosition(e,r,n,s,a,o){for(let l=0;l<n;l++){const c=e[r+l].position;s[o]=c.x,s[o+1]=c.y,s[o+a]=c.x,s[o+a+1]=c.y,s[o+a*2]=c.x,s[o+a*2+1]=c.y,s[o+a*3]=c.x,s[o+a*3+1]=c.y,o+=a*4}}uploadRotation(e,r,n,s,a,o){for(let l=0;l<n;l++){const c=e[r+l].rotation;s[o]=c,s[o+a]=c,s[o+a*2]=c,s[o+a*3]=c,o+=a*4}}uploadUvs(e,r,n,s,a,o){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(s[o]=c.x0,s[o+1]=c.y0,s[o+a]=c.x1,s[o+a+1]=c.y1,s[o+a*2]=c.x2,s[o+a*2+1]=c.y2,s[o+a*3]=c.x3,s[o+a*3+1]=c.y3,o+=a*4):(s[o]=0,s[o+1]=0,s[o+a]=0,s[o+a+1]=0,s[o+a*2]=0,s[o+a*2+1]=0,s[o+a*3]=0,s[o+a*3+1]=0,o+=a*4)}}uploadTint(e,r,n,s,a,o){for(let l=0;l<n;++l){const c=e[r+l],d=lr.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);s[o]=d,s[o+a]=d,s[o+a*2]=d,s[o+a*3]=d,o+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}VI.extension={name:"particle",type:Ke.RendererPlugin};ct.add(VI);var Hy=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Hy||{});const b0={willReadFrequently:!0},ao=class dt{static get experimentalLetterSpacingSupported(){let e=dt._experimentalLetterSpacingSupported;if(e!==void 0){const r=et.ADAPTER.getCanvasRenderingContext2D().prototype;e=dt._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,a,o,l,c,d){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=a,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,s=dt._canvas){n=n!=null?n:r.wordWrap;const a=r.toFontString(),o=dt.measureFont(a);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const l=s.getContext("2d",b0);l.font=a;const c=(n?dt.wordWrap(e,r,s):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let f=0;for(let _=0;_<c.length;_++){const b=dt._measureText(c[_],r.letterSpacing,l);d[_]=b,f=Math.max(f,b)}let m=f+r.strokeThickness;r.dropShadow&&(m+=r.dropShadowDistance);const g=r.lineHeight||o.fontSize+r.strokeThickness;let y=Math.max(g,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(g+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new dt(e,r,m,y,c,d,g+r.leading,f,o)}static _measureText(e,r,n){let s=!1;dt.experimentalLetterSpacingSupported&&(dt.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let a=n.measureText(e).width;return a>0&&(s?a-=r:a+=(dt.graphemeSegmenter(e).length-1)*r),a}static wordWrap(e,r,n=dt._canvas){const s=n.getContext("2d",b0);let a=0,o="",l="";const c=Object.create(null),{letterSpacing:d,whiteSpace:f}=r,m=dt.collapseSpaces(f),g=dt.collapseNewlines(f);let y=!m;const _=r.wordWrapWidth+d,b=dt.tokenize(e);for(let u=0;u<b.length;u++){let h=b[u];if(dt.isNewline(h)){if(!g){l+=dt.addLine(o),y=!m,o="",a=0;continue}h=" "}if(m){const v=dt.isBreakingSpace(h),w=dt.isBreakingSpace(o[o.length-1]);if(v&&w)continue}const p=dt.getFromCache(h,d,c,s);if(p>_)if(o!==""&&(l+=dt.addLine(o),o="",a=0),dt.canBreakWords(h,r.breakWords)){const v=dt.wordWrapSplit(h);for(let w=0;w<v.length;w++){let x=v[w],S=x,E=1;for(;v[w+E];){const T=v[w+E];if(!dt.canBreakChars(S,T,h,w,r.breakWords))x+=T;else break;S=T,E++}w+=E-1;const P=dt.getFromCache(x,d,c,s);P+a>_&&(l+=dt.addLine(o),y=!1,o="",a=0),o+=x,a+=P}}else{o.length>0&&(l+=dt.addLine(o),o="",a=0);const v=u===b.length-1;l+=dt.addLine(h,!v),y=!1,o="",a=0}else p+a>_&&(y=!1,l+=dt.addLine(o),o="",a=0),(o.length>0||!dt.isBreakingSpace(h)||y)&&(o+=h,a+=p)}return l+=dt.addLine(o,!1),l}static addLine(e,r=!0){return e=dt.trimRight(e),e=r?"".concat(e,"\n"):e,e}static getFromCache(e,r,n,s){let a=n[e];return typeof a!="number"&&(a=dt._measureText(e,r,s)+r,n[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!dt.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:dt._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:dt._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const a=e[s],o=e[s+1];if(dt.isBreakingSpace(a,o)||dt.isNewline(a)){n!==""&&(r.push(n),n=""),r.push(a);continue}n+=a}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,a){return!0}static wordWrapSplit(e){return dt.graphemeSegmenter(e)}static measureFont(e){if(dt._fonts[e])return dt._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=dt._canvas,s=dt._context;s.font=e;const a=dt.METRICS_STRING+dt.BASELINE_SYMBOL,o=Math.ceil(s.measureText(a).width);let l=Math.ceil(s.measureText(dt.BASELINE_SYMBOL).width);const c=Math.ceil(dt.HEIGHT_MULTIPLIER*l);if(l=l*dt.BASELINE_MULTIPLIER|0,o===0||c===0)return dt._fonts[e]=r,r;n.width=o,n.height=c,s.fillStyle="#f00",s.fillRect(0,0,o,c),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,l);const d=s.getImageData(0,0,o,c).data,f=d.length,m=o*4;let g=0,y=0,_=!1;for(g=0;g<l;++g){for(let b=0;b<m;b+=4)if(d[y+b]!==255){_=!0;break}if(!_)y+=m;else break}for(r.ascent=l-g,y=f-m,_=!1,g=c;g>l;--g){for(let b=0;b<m;b+=4)if(d[y+b]!==255){_=!0;break}if(!_)y-=m;else break}return r.descent=g-l,r.fontSize=r.ascent+r.descent,dt._fonts[e]=r,r}static clearMetrics(e=""){e?delete dt._fonts[e]:dt._fonts={}}static get _canvas(){var e;if(!dt.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",b0))!=null&&e.measureText)return dt.__canvas=n,n;r=et.ADAPTER.createCanvas()}catch(n){r=et.ADAPTER.createCanvas()}r.width=r.height=10,dt.__canvas=r}return dt.__canvas}static get _context(){return dt.__context||(dt.__context=dt._canvas.getContext("2d",b0)),dt.__context}};ao.METRICS_STRING="|q",ao.BASELINE_SYMBOL="M",ao.BASELINE_MULTIPLIER=1.4,ao.HEIGHT_MULTIPLIER=2,ao.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ao.experimentalLetterSpacing=!1,ao._fonts={},ao._newlines=[10,13],ao._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let il=ao;const gme=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],oG=class eg{constructor(e){this.styleID=0,this.reset(),yA(this,e,e)}clone(){const e={};return yA(e,this,eg.defaultStyle),new eg(e)}reset(){yA(this,eg.defaultStyle,eg.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=vA(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=vA(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){vme(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=vA(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?"".concat(this.fontSize,"px"):this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!gme.includes(s)&&(s='"'.concat(s,'"')),r[n]=s}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(r.join(","))}};oG.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Hy.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Tl=oG;function vA(t){const e=lr.shared,r=n=>{const s=e.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function vme(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function yA(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const yme={texture:!0,children:!1,baseTexture:!0},lG=class OD extends sf{constructor(e,r,n){var o;let s=!1;n||(n=et.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const a=Je.from(n);a.orig=new Bt,a.trim=new Bt,super(a),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=(o=OD.defaultResolution)!=null?o:et.RESOLUTION,this._autoResolution=OD.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return il.experimentalLetterSpacing}static set experimentalLetterSpacing(e){At("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),il.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,s=il.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,o=s.height,l=s.lines,c=s.lineHeight,d=s.lineWidths,f=s.maxLineWidth,m=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let g,y;const _=r.dropShadow?2:1;for(let b=0;b<_;++b){const u=r.dropShadow&&b===0,h=u?Math.ceil(Math.max(1,o)+r.padding*2):0,p=h*this._resolution;if(u){n.fillStyle="black",n.strokeStyle="black";const w=r.dropShadowColor,x=r.dropShadowBlur*this._resolution,S=r.dropShadowDistance*this._resolution;n.shadowColor=lr.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=x,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*S,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*S+p}else n.fillStyle=this._generateFillStyle(r,l,s),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let v=(c-m.fontSize)/2;c-m.fontSize<0&&(v=0);for(let w=0;w<l.length;w++)g=r.strokeThickness/2,y=r.strokeThickness/2+w*c+m.ascent+v,r.align==="right"?g+=f-d[w]:r.align==="center"&&(g+=(f-d[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[w],g+r.padding,y+r.padding-h,!0),r.fill&&this.drawLetterSpacing(l[w],g+r.padding,y+r.padding-h)}this.updateTexture()}drawLetterSpacing(e,r,n,s=!1){const a=this._style.letterSpacing;let o=!1;if(il.experimentalLetterSpacingSupported&&(il.experimentalLetterSpacing?(this.context.letterSpacing="".concat(a,"px"),this.context.textLetterSpacing="".concat(a,"px"),o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||o){s?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let l=r;const c=il.graphemeSegmenter(e);let d=this.context.measureText(e).width,f=0;for(let m=0;m<c.length;++m){const g=c[m];s?this.context.strokeText(g,l,n):this.context.fillText(g,l,n);let y="";for(let _=m+1;_<c.length;++_)y+=c[_];f=this.context.measureText(y).width,l+=d-f+a,d=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=y9(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,s=n.trim?0:n.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const o=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-o-l*2,d=this.canvas.height/this._resolution-o-l*2,f=s.slice(),m=e.fillGradientStops.slice();if(!m.length){const g=f.length+1;for(let y=1;y<g;++y)m.push(y/g)}if(f.unshift(s[0]),m.unshift(0),f.push(s[s.length-1]),m.push(1),e.fillGradientType===Hy.LINEAR_VERTICAL){a=this.context.createLinearGradient(c/2,l,c/2,d+l);const g=n.fontProperties.fontSize+e.strokeThickness;for(let y=0;y<r.length;y++){const _=n.lineHeight*(y-1)+g,b=n.lineHeight*y;let u=b;y>0&&_>b&&(u=(b+_)/2);const h=b+g,p=n.lineHeight*(y+1);let v=h;y+1<r.length&&p<h&&(v=(h+p)/2);const w=(v-u)/d;for(let x=0;x<f.length;x++){let S=0;typeof m[x]=="number"?S=m[x]:S=x/f.length;let E=Math.min(1,Math.max(0,u/d+S*w));E=Number(E.toFixed(5)),a.addColorStop(E,f[x])}}}else{a=this.context.createLinearGradient(l,d/2,c+l,d/2);const g=f.length+1;let y=1;for(let _=0;_<f.length;_++){let b;typeof m[_]=="number"?b=m[_]:b=y/g,a.addColorStop(b,f[_]),y++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},yme,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=dl(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=dl(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Tl?this._style=e:this._style=new Tl(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};lG.defaultAutoResolution=!0;let GI=lG;class uG{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function _me(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let s=0;s<t._textures.length;s++)if(t._textures[s]instanceof Je){const a=t._textures[s].baseTexture;e.includes(a)||(e.push(a),r=!0)}}return r}function bme(t,e){if(t.baseTexture instanceof Ot){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function wme(t,e){if(t._texture&&t._texture instanceof Je){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function xme(t,e){return e instanceof GI?(e.updateText(!0),!0):!1}function Eme(t,e){if(e instanceof Tl){const r=e.toFontString();return il.measureFont(r),!0}return!1}function Sme(t,e){if(t instanceof GI){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Cme(t,e){return t instanceof Tl?(e.includes(t)||e.push(t),!0):!1}const cG=class dG{constructor(e){this.limiter=new uG(dG.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Sme),this.registerFindHook(Cme),this.registerFindHook(_me),this.registerFindHook(bme),this.registerFindHook(wme),this.registerUploadHook(xme),this.registerUploadHook(Eme)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,En.system.addOnce(this.tick,this,Bo.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,s=this.uploadHooks.length;n<s;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)En.system.addOnce(this.tick,this,Bo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof ss)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&En.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};cG.uploadsPerFrame=4;let aw=cG;Object.defineProperties(et,{UPLOADS_PER_FRAME:{get(){return aw.uploadsPerFrame},set(t){At("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),aw.uploadsPerFrame=t}}});function fG(t,e){return e instanceof Ot?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Ame(t,e){if(!(e instanceof hl))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let s=0;s<n.length;s++){const{texture:a}=n[s].style;a&&fG(t,a.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Tme(t,e){return t instanceof hl?(e.push(t),!0):!1}class HI extends aw{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Tme),this.registerUploadHook(fG),this.registerUploadHook(Ame)}}HI.extension={name:"prepare",type:Ke.RendererSystem};ct.add(HI);class Pme{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class ow extends sf{constructor(e,r=!0){super(e[0]instanceof Je?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(En.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(En.shared.add(this.update,this,Bo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(Je.from(e[n]));return new ow(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(Je.from(e[n]));return new ow(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Je)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(En.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(En.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Om=new ze;class WI extends sf{constructor(e,r=100,n=100){super(e),this.tileTransform=new Np,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new fE(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Bt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Om);const r=this._width,n=this._height,s=-r*this.anchor._x;if(Om.x>=s&&Om.x<s+r){const a=-n*this.anchor._y;if(Om.y>=a&&Om.y<a+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof Je?e:Je.from(e,r);return new WI(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Dme="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",Rme="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Ome="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",UL="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Ime="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";const w0=new er;class KI extends jy{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new _I,this.state=Ya.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Ga.from(UL,Ime,r),this.shader=e.context.webGLVersion>1?Ga.from(Rme,Dme,r):Ga.from(UL,Ome,r)}render(e){const r=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;s=n.uvs,s[0]=s[6]=-a,s[1]=s[3]=-o,s[2]=s[4]=1-a,s[5]=s[7]=1-o,n.invalidate();const l=e._texture,c=l.baseTexture,d=c.alphaMode>0,f=e.tileTransform.localTransform,m=e.uvMatrix;let g=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;g&&(c._glTextures[r.CONTEXT_UID]?g=c.wrapMode!==To.CLAMP:c.wrapMode===To.CLAMP&&(c.wrapMode=To.REPEAT));const y=g?this.simpleShader:this.shader,_=l.width,b=l.height,u=e._width,h=e._height;w0.set(f.a*_/u,f.b*_/h,f.c*b/u,f.d*b/h,f.tx/u,f.ty/h),w0.invert(),g?w0.prepend(m.mapCoord):(y.uniforms.uMapCoord=m.mapCoord.toArray(!0),y.uniforms.uClampFrame=m.uClampFrame,y.uniforms.uClampOffset=m.uClampOffset),y.uniforms.uTransform=w0.toArray(!0),y.uniforms.uColor=lr.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=fI(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}KI.extension={name:"tilingSprite",type:Ke.RendererPlugin};ct.add(KI);const hG=class tg{constructor(e,r,n){this.linkedSheets=[],(e instanceof Ot||e instanceof Je)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:s,data:a,resolutionFilename:o=null,cachePrefix:l=""}=e;this.cachePrefix=l,this._texture=s instanceof Je?s:null,this.baseTexture=s instanceof Ot?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const c=this.baseTexture.resource;this.resolution=this._updateResolution(o||(c?c.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=Oo(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r!=null?r:"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=tg.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=tg.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],a=this._frames[s],o=a.frame;if(o){let l=null,c=null;const d=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,f=new Bt(0,0,Math.floor(d.w)/this.resolution,Math.floor(d.h)/this.resolution);a.rotated?l=new Bt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new Bt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new Bt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[s]=new Je(this.baseTexture,l,f,c,a.rotated?2:0,a.anchor,a.borders),Je.addToCache(this.textures[s],this.cachePrefix+s.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*tg.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*tg.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};hG.BATCH_SIZE=1e3;let ID=hG;const Bme=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function pG(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n["".concat(e.cachePrefix).concat(s)]=e.textures[s]}),!r){const s=On.dirname(t[0]);e.linkedSheets.forEach((a,o)=>{Object.assign(n,pG(["".concat(s,"/").concat(e.data.meta.related_multi_packs[o])],a,!0))})}return n}const mG={extension:Ke.Asset,cache:{test:t=>t instanceof ID,getCacheableAssets:(t,e)=>pG(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&Bme.includes(n)},parse:t=>{var r,n;const e=t.split(".");return{resolution:parseFloat((n=(r=et.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?n:"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Ke.LoadParser,priority:ma.Normal},async testParse(t,e){return On.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,m,g;const{texture:n,imageFilename:s,cachePrefix:a}=(f=e==null?void 0:e.data)!=null?f:{};let o=On.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l;if(n&&n.baseTexture)l=n;else{const y=sw(o+(s!=null?s:t.meta.image),e.src);l=(await r.load([y]))[y]}const c=new ID({texture:l.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:a});await c.parse();const d=(m=t==null?void 0:t.meta)==null?void 0:m.related_multi_packs;if(Array.isArray(d)){const y=[];for(const b of d){if(typeof b!="string")continue;let u=o+b;(g=e.data)!=null&&g.ignoreMultiPack||(u=sw(u,e.src),y.push(r.load({src:u,data:{ignoreMultiPack:!0}})))}const _=await Promise.all(y);c.linkedSheets=_,_.forEach(b=>{b.linkedSheets=[c].concat(c.linkedSheets.filter(u=>u!==b))})}return c},unload(t){t.destroy(!0)}}};ct.add(mG);class Fv{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Ig{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in r){const o=r[a].match(/^[a-z]+/gm)[0],l=r[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in l){const f=l[d].split("="),m=f[0],g=f[1].replace(/"/gm,""),y=parseFloat(g),_=isNaN(y)?g:y;c[m]=_}n[o].push(c)}const s=new Fv;return n.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),n.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),n.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),n.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),n.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),n.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class lw{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Fv,n=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<s.length;d++)r.common.push({lineHeight:parseInt(s[d].getAttribute("lineHeight"),10)});for(let d=0;d<a.length;d++)r.page.push({id:parseInt(a[d].getAttribute("id"),10)||0,file:a[d].getAttribute("file")});for(let d=0;d<o.length;d++){const f=o[d];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)r.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class uw{static test(e){return typeof e=="string"&&e.includes("<font>")?lw.test(et.ADAPTER.parseXML(e)):!1}static parse(e){return lw.parse(et.ADAPTER.parseXML(e))}}const _A=[Ig,lw,uw];function gG(t){for(let e=0;e<_A.length;e++)if(_A[e].test(t))return _A[e];return null}function Fme(t,e,r,n,s,a){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,f=t.width/n-c-d*2,m=t.height/n-c-d*2,g=o.slice(),y=r.fillGradientStops.slice();if(!y.length){const _=g.length+1;for(let b=1;b<_;++b)y.push(b/_)}if(g.unshift(o[0]),y.unshift(0),g.push(o[o.length-1]),y.push(1),r.fillGradientType===Hy.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,d,f/2,m+d);let _=0;const b=(a.fontProperties.fontSize+r.strokeThickness)/m;for(let u=0;u<s.length;u++){const h=a.lineHeight*u;for(let p=0;p<g.length;p++){let v=0;typeof y[p]=="number"?v=y[p]:v=p/g.length;const w=h/m+v*b;let x=Math.max(_,w);x=Math.min(x,1),l.addColorStop(x,g[p]),_=x}}}else{l=e.createLinearGradient(d,m/2,f+d,m/2);const _=g.length+1;let b=1;for(let u=0;u<g.length;u++){let h;typeof y[u]=="number"?h=y[u]:h=b/_,l.addColorStop(h,g[u]),b++}}return l}function Mme(t,e,r,n,s,a,o){const l=r.text,c=r.fontProperties;e.translate(n,s),e.scale(a,a);const d=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Fme(t,e,o,a,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const m=o.dropShadowColor,g=o.dropShadowBlur*a,y=o.dropShadowDistance*a;e.shadowColor=lr.shared.setValue(m).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=g,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,d,f+r.lineHeight-c.descent),o.fill&&e.fillText(l,d,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function N1(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function vG(t){return Array.from?Array.from(t):t.split("")}function kme(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(s.length,"."));const a=s[0].charCodeAt(0),o=s[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(let l=a,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...vG(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const au=class oo{constructor(e,r,n){var f,m;const[s]=e.info,[a]=e.common,[o]=e.page,[l]=e.distanceField,c=Oo(o.file),d={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/c,this.chars={},this.pageTextures=d;for(let g=0;g<e.page.length;g++){const{id:y,file:_}=e.page[g];d[y]=r instanceof Array?r[g]:r[_],l!=null&&l.fieldType&&l.fieldType!=="none"&&(d[y].baseTexture.alphaMode=Ii.NO_PREMULTIPLIED_ALPHA,d[y].baseTexture.mipmap=Ka.OFF)}for(let g=0;g<e.char.length;g++){const{id:y,page:_}=e.char[g];let{x:b,y:u,width:h,height:p,xoffset:v,yoffset:w,xadvance:x}=e.char[g];b/=c,u/=c,h/=c,p/=c,v/=c,w/=c,x/=c;const S=new Bt(b+d[_].frame.x/c,u+d[_].frame.y/c,h,p);this.chars[y]={xOffset:v,yOffset:w,xAdvance:x,kerning:{},texture:new Je(d[_].baseTexture,S),page:_}}for(let g=0;g<e.kerning.length;g++){let{first:y,second:_,amount:b}=e.kerning[g];y/=c,_/=c,b/=c,this.chars[_]&&(this.chars[_].kerning[y]=b)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=(m=(f=l==null?void 0:l.fieldType)==null?void 0:f.toLowerCase())!=null?m:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let s;if(e instanceof Fv)s=e;else{const o=gG(e);if(!o)throw new Error("Unrecognized data format for font.");s=o.parse(e)}r instanceof Je&&(r=[r]);const a=new oo(s,r,n);return oo.available[a.font]=a,a}static uninstall(e){const r=oo.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete oo.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:o,textureWidth:l,textureHeight:c,...d}=Object.assign({},oo.defaultOptions,n),f=kme(s),m=r instanceof Tl?r:new Tl(r),g=l,y=new Fv;y.info[0]={face:m.fontFamily,size:m.fontSize},y.common[0]={lineHeight:m.fontSize};let _=0,b=0,u,h,p,v=0;const w=[];for(let S=0;S<f.length;S++){u||(u=et.ADAPTER.createCanvas(),u.width=l,u.height=c,h=u.getContext("2d"),p=new Ot(u,{resolution:o,...d}),w.push(new Je(p)),y.page.push({id:w.length-1,file:""}));const E=f[S],P=il.measureText(E,m,!1,u),T=P.width,A=Math.ceil(P.height),R=Math.ceil((m.fontStyle==="italic"?2:1)*T);if(b>=c-A*o){if(b===0)throw new Error("[BitmapFont] textureHeight ".concat(c,"px is too small (fontFamily: '").concat(m.fontFamily,"', fontSize: ").concat(m.fontSize,"px, char: '").concat(E,"')"));--S,u=null,h=null,p=null,b=0,_=0,v=0;continue}if(v=Math.max(A+P.fontProperties.descent,v),R*o+_>=g){if(_===0)throw new Error("[BitmapFont] textureWidth ".concat(l,"px is too small (fontFamily: '").concat(m.fontFamily,"', fontSize: ").concat(m.fontSize,"px, char: '").concat(E,"')"));--S,b+=v*o,b=Math.ceil(b),_=0,v=0;continue}Mme(u,h,P,_,b,o,m);const D=N1(P.text);y.char.push({id:D,page:w.length-1,x:_/o,y:b/o,width:R,height:A,xoffset:0,yoffset:0,xadvance:T-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),_+=(R+2*a)*o,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let S=0,E=f.length;S<E;S++){const P=f[S];for(let T=0;T<E;T++){const A=f[T],R=h.measureText(P).width,D=h.measureText(A).width,O=h.measureText(P+A).width-(R+D);O&&y.kerning.push({first:N1(P),second:N1(A),amount:O})}}const x=new oo(y,w,!0);return oo.available[e]!==void 0&&oo.uninstall(e),oo.available[e]=x,x}};au.ALPHA=[["a","z"],["A","Z"]," "],au.NUMERIC=[["0","9"]],au.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],au.ASCII=[[" ","~"]],au.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:au.ALPHANUMERIC},au.available={};let tl=au;var Nme="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n",Lme="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";const $L=[],jL=[],zL=[],yG=class _G extends ss{constructor(e,r={}){super();const{align:n,tint:s,maxWidth:a,letterSpacing:o,fontName:l,fontSize:c}=Object.assign({},_G.styleDefaults,r);if(!tl.available[l])throw new Error('Missing BitmapFont "'.concat(l,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new lr(s),this._font=void 0,this._fontName=l,this._fontSize=c,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new ka(()=>{this.dirty=!0},this,0,0),this._roundPixels=et.ROUND_PIXELS,this.dirty=!0,this._resolution=et.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var R;const e=tl.available[this._fontName],r=this.fontSize,n=r/e.size,s=new ze,a=[],o=[],l=[],c=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=vG(c),f=this._maxWidth*e.size/r,m=e.distanceFieldType==="none"?$L:jL;let g=null,y=0,_=0,b=0,u=-1,h=0,p=0,v=0,w=0;for(let D=0;D<d.length;D++){const O=d[D],I=N1(O);if(/(?:\s)/.test(O)&&(u=D,h=y,w++),O==="\r"||O==="\n"){o.push(y),l.push(-1),_=Math.max(_,y),++b,++p,s.x=0,s.y+=e.lineHeight,g=null,w=0;continue}const M=e.chars[I];if(!M)continue;g&&M.kerning[g]&&(s.x+=M.kerning[g]);const G=zL.pop()||{texture:Je.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ze};G.texture=M.texture,G.line=b,G.charCode=I,G.position.x=Math.round(s.x+M.xOffset+this._letterSpacing/2),G.position.y=Math.round(s.y+M.yOffset),G.prevSpaces=w,a.push(G),y=G.position.x+Math.max(M.xAdvance-M.xOffset,M.texture.orig.width),s.x+=M.xAdvance+this._letterSpacing,v=Math.max(v,M.yOffset+M.texture.height),g=I,u!==-1&&f>0&&s.x>f&&(++p,_d(a,1+u-p,1+D-u),D=u,u=-1,o.push(h),l.push(a.length>0?a[a.length-1].prevSpaces:0),_=Math.max(_,h),b++,s.x=0,s.y+=e.lineHeight,g=null,w=0)}const x=d[d.length-1];x!=="\r"&&x!=="\n"&&(/(?:\s)/.test(x)&&(y=h),o.push(y),_=Math.max(_,y),l.push(-1));const S=[];for(let D=0;D<=b;D++){let O=0;this._align==="right"?O=_-o[D]:this._align==="center"?O=(_-o[D])/2:this._align==="justify"&&(O=l[D]<0?0:(_-o[D])/l[D]),S.push(O)}const E=a.length,P={},T=[],A=this._activePagesMeshData;m.push(...A);for(let D=0;D<E;D++){const O=a[D].texture,I=O.baseTexture.uid;if(!P[I]){let M=m.pop();if(!M){const j=new Gy;let $,H;e.distanceFieldType==="none"?($=new up(Je.EMPTY),H=wt.NORMAL):($=new up(Je.EMPTY,{program:wo.from(Lme,Nme),uniforms:{uFWidth:0}}),H=wt.NORMAL_NPM);const K=new lp(j,$);K.blendMode=H,M={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:K,vertices:null,uvs:null,indices:null}}M.index=0,M.indexCount=0,M.vertexCount=0,M.uvsCount=0,M.total=0;const{_textureCache:G}=this;G[I]=G[I]||new Je(O.baseTexture),M.mesh.texture=G[I],M.mesh.tint=this._tintColor.value,T.push(M),P[I]=M}P[I].total++}for(let D=0;D<A.length;D++)T.includes(A[D])||this.removeChild(A[D].mesh);for(let D=0;D<T.length;D++)T[D].mesh.parent!==this&&this.addChild(T[D].mesh);this._activePagesMeshData=T;for(const D in P){const O=P[D],I=O.total;if(!(((R=O.indices)==null?void 0:R.length)>6*I)||O.vertices.length<lp.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*I),O.uvs=new Float32Array(4*2*I),O.indices=new Uint16Array(6*I);else{const M=O.total,G=O.vertices;for(let j=M*4*2;j<G.length;j++)G[j]=0}O.mesh.size=6*I}for(let D=0;D<E;D++){const O=a[D];let I=O.position.x+S[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(I=Math.round(I));const M=I*n,G=O.position.y*n,j=O.texture,$=P[j.baseTexture.uid],H=j.frame,K=j._uvs,re=$.index++;$.indices[re*6+0]=0+re*4,$.indices[re*6+1]=1+re*4,$.indices[re*6+2]=2+re*4,$.indices[re*6+3]=0+re*4,$.indices[re*6+4]=2+re*4,$.indices[re*6+5]=3+re*4,$.vertices[re*8+0]=M,$.vertices[re*8+1]=G,$.vertices[re*8+2]=M+H.width*n,$.vertices[re*8+3]=G,$.vertices[re*8+4]=M+H.width*n,$.vertices[re*8+5]=G+H.height*n,$.vertices[re*8+6]=M,$.vertices[re*8+7]=G+H.height*n,$.uvs[re*8+0]=K.x0,$.uvs[re*8+1]=K.y0,$.uvs[re*8+2]=K.x1,$.uvs[re*8+3]=K.y1,$.uvs[re*8+4]=K.x2,$.uvs[re*8+5]=K.y2,$.uvs[re*8+6]=K.x3,$.uvs[re*8+7]=K.y3}this._textWidth=_*n,this._textHeight=(s.y+e.lineHeight)*n;for(const D in P){const O=P[D];if(this.anchor.x!==0||this.anchor.y!==0){let j=0;const $=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let K=0;K<O.total;K++)O.vertices[j++]-=$,O.vertices[j++]-=H,O.vertices[j++]-=$,O.vertices[j++]-=H,O.vertices[j++]-=$,O.vertices[j++]-=H,O.vertices[j++]-=$,O.vertices[j++]-=H}this._maxLineHeight=v*n;const I=O.mesh.geometry.getBuffer("aVertexPosition"),M=O.mesh.geometry.getBuffer("aTextureCoord"),G=O.mesh.geometry.getIndex();I.data=O.vertices,M.data=O.uvs,G.data=O.indices,I.update(),M.update(),G.update()}for(let D=0;D<a.length;D++)zL.push(a[D]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:s}=tl.available[this._fontName];if(n!=="none"){const{a,b:o,c:l,d:c}=this.worldTransform,d=Math.sqrt(a*a+o*o),f=Math.sqrt(l*l+c*c),m=(Math.abs(d)+Math.abs(f))/2,g=this.fontSize/s,y=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=m*r*g*y}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=tl.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!tl.available[e])throw new Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return(e=this._fontSize)!=null?e:tl.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e!=null?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=tl.available[this._fontName].distanceFieldType==="none"?$L:jL;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>r[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=Je.EMPTY});for(const s in r)r[s].destroy(),delete r[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};yG.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Ume=yG;const $me=[".xml",".fnt"],bG={extension:{type:Ke.LoadParser,priority:ma.Normal},name:"loadBitmapFont",test(t){return $me.includes(On.extname(t).toLowerCase())},async testParse(t){return Ig.test(t)||uw.test(t)},async parse(t,e,r){const n=Ig.test(t)?Ig.parse(t):uw.parse(t),{src:s}=e,{page:a}=n,o=[];for(let d=0;d<a.length;++d){const f=a[d].file;let m=On.join(On.dirname(s),f);m=sw(m,s),o.push(m)}const l=await r.load(o),c=o.map(d=>l[d]);return tl.install(n,c,!0)},async load(t,e){return(await et.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ct.add(bG);const BD=class Zf extends Tl{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Zf(Object.keys(Zf.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Zf.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Zf;if(n[e]){const s=n[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return et.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((a,o)=>{const l=URL.createObjectURL(s),c=new FileReader;c.onload=()=>a([l,c.result]),c.onerror=o,c.readAsDataURL(s)})).then(async([s,a])=>{const o=Object.assign({family:On.basename(e,On.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:a,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const l=new FontFace(o.family,"url(".concat(o.src,")"),{weight:o.weight,style:o.style,display:o.display});o.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(r.family,"\";\n                src: url('").concat(r.dataSrc,"');\n                font-weight: ").concat(r.weight,";\n                font-style: ").concat(r.style,";\n                font-display: ").concat(r.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=h9(e)),typeof e=="number"?f9(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const a="".concat(n,"px ").concat(s,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(a," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(a," ").concat(e)}reset(){Object.assign(this,Zf.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=et.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};BD.availableFonts={},BD.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let L1=BD;const rg=class Jf extends sf{constructor(e="",r={}){var m;super(Je.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,s=Je.from(n,{scaleMode:et.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Bt,s.trim=new Bt,this.texture=s;const a="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(a,"svg"),c=document.createElementNS(a,"foreignObject"),d=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",l.appendChild(c),this.maxWidth=Jf.defaultMaxWidth,this.maxHeight=Jf.defaultMaxHeight,this._domElement=d,this._styleElement=f,this._svgRoot=l,this._foreignObject=c,this._foreignObject.appendChild(f),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=Jf.defaultAutoResolution,this._resolution=(m=Jf.defaultResolution)!=null?m:et.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,m;const{text:r,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:l}=a;(o>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),d=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(s)}),this._styleElement.textContent=(m=this._style)==null?void 0:m.toGlobalCSS()),{width:c+n.padding*2,height:d+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:s}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:a,height:o}=this.measureText();n.width=s.width=Math.ceil(Math.max(1,a)),n.height=s.height=Math.ceil(Math.max(1,o)),this._updateID++;const l=this._updateID;await new Promise(c=>{s.onload=async()=>{if(l<this._updateID){c();return}await r.onBeforeDraw(),n.src=s.src,s.onload=null,s.src="",this.updateTexture(),c()};const d=new XMLSerializer().serializeToString(this._svgRoot);s.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:s}=this,{padding:a}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/s,r.trim.height=r._frame.height=n.height/s,r.trim.x=-a,r.trim.y=-a,r.orig.width=r._frame.width-a*2,r.orig.height=r._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,s,a,o,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Jf.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(s=this._svgRoot)==null||s.remove(),this._svgRoot=r,(a=this._domElement)==null||a.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=dl(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=dl(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof L1?(this.ownsStyle=!1,this._style=e):e instanceof Tl?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=L1.from(e)):(this.ownsStyle=!0,this._style=new L1(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};rg.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},rg.defaultMaxWidth=2024,rg.defaultMaxHeight=2024,rg.defaultAutoResolution=!0;let jme=rg;const OYe=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:Ii,AbstractMultiResource:NI,AccessibilityManager:UI,AlphaFilter:lV,AnimatedSprite:ow,Application:vV,ArrayResource:eV,Assets:Zm,AssetsClass:PV,Attribute:xv,BLEND_MODES:wt,BUFFER_BITS:Gb,BUFFER_TYPE:za,BackgroundSystem:Sv,BaseImageResource:Io,BasePrepare:aw,BaseRenderTexture:gI,BaseTexture:Ot,BatchDrawCall:Jb,BatchGeometry:pI,BatchRenderer:du,BatchShaderGenerator:I9,BatchSystem:mI,BatchTextureArray:Qb,BitmapFont:tl,BitmapFontData:Fv,BitmapText:Ume,BlobResource:UV,BlurFilter:uV,BlurFilterPass:rw,Bounds:Pv,BrowserAdapter:R7,Buffer:bn,BufferResource:Ny,BufferSystem:MI,CLEAR_MODES:Oa,COLOR_MASK_BITS:D7,Cache:bu,CanvasResource:tV,Circle:Ly,Color:lr,ColorMatrixFilter:nw,CompressedTextureResource:Vu,Container:ss,ContextSystem:Cv,CountLimiter:uG,CubeResource:nV,DEG_TO_RAD:E9,DRAW_MODES:Fa,DisplacementFilter:cV,DisplayObject:Hr,ENV:vc,Ellipse:Uy,EventBoundary:hV,EventSystem:iw,ExtensionType:Ke,Extract:XV,FORMATS:Be,FORMATS_TO_COMPONENTS:jV,FXAAFilter:dV,FederatedDisplayObject:pV,FederatedEvent:Lp,FederatedMouseEvent:Dv,FederatedPointerEvent:Vs,FederatedWheelEvent:wd,FillStyle:Vy,Filter:ri,FilterState:F9,FilterSystem:bI,Framebuffer:ew,FramebufferSystem:wI,GC_MODES:rE,GLFramebuffer:M9,GLProgram:j9,GLTexture:I1,GRAPHICS_CURVES:ime,GenerateTextureSystem:TI,Geometry:Al,GeometrySystem:xI,Graphics:hl,GraphicsData:Bv,GraphicsGeometry:eG,HTMLText:jme,HTMLTextStyle:L1,IGLUniformData:yhe,INSTALLED:Zb,INTERNAL_FORMATS:Un,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Ov,ImageBitmapResource:od,ImageResource:vI,LINE_CAP:fl,LINE_JOIN:ms,LineStyle:gE,LoaderParserPriority:ma,MASK_TYPES:vn,MIPMAP_MODES:Ka,MSAA_QUALITY:pn,MaskData:N9,MaskSystem:EI,Matrix:er,Mesh:lp,MeshBatchUvs:tG,MeshGeometry:Gy,MeshMaterial:up,MultisampleSystem:FI,NineSlicePlane:cme,NoiseFilter:fV,ObjectRenderer:jy,ObjectRendererSystem:kI,ObservablePoint:ka,PI_2:Ev,PRECISION:Es,ParticleContainer:hme,ParticleRenderer:VI,PlaneGeometry:iG,PluginSystem:CI,Point:ze,Polygon:zu,Prepare:HI,Program:wo,ProjectionSystem:AI,Quad:B9,QuadUv:_I,RAD_TO_DEG:x9,RENDERER_TYPE:nI,Rectangle:Bt,RenderTexture:_c,RenderTexturePool:yI,RenderTextureSystem:PI,Renderer:hE,ResizePlugin:$I,Resource:op,RopeGeometry:sG,RoundedRectangle:$y,Runner:Ts,SAMPLER_TYPES:Ze,SCALE_MODES:bo,SHAPES:Kn,SVGResource:tw,ScissorSystem:$9,Shader:Ga,ShaderSystem:DI,SimpleMesh:dme,SimplePlane:aG,SimpleRope:fme,Sprite:sf,SpriteMaskFilter:k9,Spritesheet:ID,StartupSystem:Av,State:Ya,StateSystem:X9,StencilSystem:SI,SystemManager:Y9,TARGETS:vd,TEXT_GRADIENT:Hy,TYPES:mt,TYPES_TO_BYTES_PER_COMPONENT:AD,TYPES_TO_BYTES_PER_PIXEL:zV,TemporaryDisplayObject:iV,Text:GI,TextFormat:Ig,TextMetrics:il,TextStyle:Tl,Texture:Je,TextureGCSystem:fu,TextureMatrix:fE,TextureSystem:RI,TextureUvs:dE,Ticker:En,TickerPlugin:II,TilingSprite:WI,TilingSpriteRenderer:KI,TimeLimiter:Pme,Transform:Np,TransformFeedback:Nhe,TransformFeedbackSystem:OI,UPDATE_PRIORITY:Bo,UniformGroup:ca,VERSION:Lhe,VideoResource:LI,ViewSystem:Tv,ViewableBuffer:qb,WRAP_MODES:To,XMLFormat:lw,XMLStringFormat:uw,accessibleTarget:mV,autoDetectFormat:gG,autoDetectRenderer:J9,autoDetectResource:hI,cacheTextureArray:DV,checkDataUrl:af,checkExtension:$l,checkMaxIfStatementsInShader:b9,convertToList:Zs,copySearchParams:sw,createStringVariations:_V,createTexture:Up,createUBOElements:G9,curves:ec,defaultFilterVertex:BI,defaultVertex:Q9,detectAvif:OV,detectCompressedTextures:LV,detectDefaults:BV,detectMp4:MV,detectOgv:kV,detectWebm:FV,detectWebp:IV,extensions:ct,filters:bD,generateProgram:z9,generateUniformBufferSync:W9,getFontFamilyName:xV,getTestContext:P9,getUBOData:H9,graphicsUtils:ome,groupD8:Ur,isMobile:Ma,isSingleItem:Rv,loadBitmapFont:bG,loadDDS:GV,loadImageBitmap:CV,loadJson:bV,loadKTX:HV,loadSVG:AV,loadTextures:zy,loadTxt:wV,loadVideo:TV,loadWebFont:EV,parseDDS:$V,parseKTX:VV,resolveCompressedTextureUrl:WV,resolveTextureUrl:NV,settings:et,spritesheetAsset:mG,uniformParsers:bd,unsafeEvalSupported:O9,utils:zfe},Symbol.toStringTag,{value:"Module"})),zme="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let IYe=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=zme[r[t]&63];return e};var wG={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(Yi,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],a={},o=null;function l(b,u){var h=b[u];if(typeof h.bind=="function")return h.bind(b);try{return Function.prototype.bind.call(h,b)}catch(p){return function(){return Function.prototype.apply.apply(h,[b,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(b){return b==="debug"&&(b="log"),typeof console===r?!1:b==="trace"&&n?c:console[b]!==void 0?l(console,b):console.log!==void 0?l(console,"log"):e}function f(){for(var b=this.getLevel(),u=0;u<s.length;u++){var h=s[u];this[h]=u<b?e:this.methodFactory(h,b,this.name)}if(this.log=this.debug,typeof console===r&&b<this.levels.SILENT)return"No console available for logging"}function m(b){return function(){typeof console!==r&&(f.call(this),this[b].apply(this,arguments))}}function g(b,u,h){return d(b)||m.apply(this,arguments)}function y(b,u){var h=this,p,v,w,x="loglevel";typeof b=="string"?x+=":"+b:typeof b=="symbol"&&(x=void 0);function S(R){var D=(s[R]||"silent").toUpperCase();if(!(typeof window===r||!x)){try{window.localStorage[x]=D;return}catch(O){}try{window.document.cookie=encodeURIComponent(x)+"="+D+";"}catch(O){}}}function E(){var R;if(!(typeof window===r||!x)){try{R=window.localStorage[x]}catch(M){}if(typeof R===r)try{var D=window.document.cookie,O=encodeURIComponent(x),I=D.indexOf(O+"=");I!==-1&&(R=/^([^;]+)/.exec(D.slice(I+O.length+1))[1])}catch(M){}return h.levels[R]===void 0&&(R=void 0),R}}function P(){if(!(typeof window===r||!x)){try{window.localStorage.removeItem(x)}catch(R){}try{window.document.cookie=encodeURIComponent(x)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(R){}}}function T(R){var D=R;if(typeof D=="string"&&h.levels[D.toUpperCase()]!==void 0&&(D=h.levels[D.toUpperCase()]),typeof D=="number"&&D>=0&&D<=h.levels.SILENT)return D;throw new TypeError("log.setLevel() called with invalid level: "+R)}h.name=b,h.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},h.methodFactory=u||g,h.getLevel=function(){return w!=null?w:v!=null?v:p},h.setLevel=function(R,D){return w=T(R),D!==!1&&S(w),f.call(h)},h.setDefaultLevel=function(R){v=T(R),E()||h.setLevel(R,!1)},h.resetLevel=function(){w=null,P(),f.call(h)},h.enableAll=function(R){h.setLevel(h.levels.TRACE,R)},h.disableAll=function(R){h.setLevel(h.levels.SILENT,R)},h.rebuild=function(){if(o!==h&&(p=T(o.getLevel())),f.call(h),o===h)for(var R in a)a[R].rebuild()},p=T(o?o.getLevel():"WARN");var A=E();A!=null&&(w=T(A)),f.call(h)}o=new y,o.getLogger=function(u){if(typeof u!="symbol"&&typeof u!="string"||u==="")throw new TypeError("You must supply a name when creating a logger.");var h=a[u];return h||(h=a[u]=new y(u,o.methodFactory)),h};var _=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=_),o},o.getLoggers=function(){return a},o.default=o,o})})(wG);var Vme=wG.exports;const BYe=ui(Vme);var Gme="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Hme="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n";const xG=class extends ri{constructor(e,r=0){super(Gme,Hme),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,xG.defaults,e)}apply(e,r,n,s){var a,o;this.uniforms.dimensions[0]=(a=r.filterFrame)==null?void 0:a.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,s)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let Wme=xG;Wme.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var xd={},EG={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.loop=vl.conditional=vl.parse=void 0;var Kme=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(o){return t(e,o,n,s)});else if(typeof r=="function")r(e,n,s,t);else{var a=Object.keys(r)[0];Array.isArray(r[a])?(s[a]={},t(e,r[a],n,s[a])):s[a]=r[a](e,n,s,t)}return n};vl.parse=Kme;var Xme=function(e,r){return function(n,s,a,o){r(n,s,a)&&o(n,e,s,a)}};vl.conditional=Xme;var Yme=function(e,r){return function(n,s,a,o){for(var l=[],c=n.pos;r(n,s,a);){var d={};if(o(n,e,s,d),n.pos===c)break;c=n.pos,l.push(d)}return l}};vl.loop=Yme;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.readBits=fn.readArray=fn.readUnsigned=fn.readString=fn.peekBytes=fn.readBytes=fn.peekByte=fn.readByte=fn.buildStream=void 0;var qme=function(e){return{data:e,pos:0}};fn.buildStream=qme;var SG=function(){return function(e){return e.data[e.pos++]}};fn.readByte=SG;var Zme=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};fn.peekByte=Zme;var vE=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};fn.readBytes=vE;var Jme=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};fn.peekBytes=Jme;var Qme=function(e){return function(r){return Array.from(vE(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};fn.readString=Qme;var ege=function(e){return function(r){var n=vE(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};fn.readUnsigned=ege;var tge=function(e,r){return function(n,s,a){for(var o=typeof r=="function"?r(n,s,a):r,l=vE(e),c=new Array(o),d=0;d<o;d++)c[d]=l(n);return c}};fn.readArray=tge;var rge=function(e,r,n){for(var s=0,a=0;a<n;a++)s+=e[r+a]&&Math.pow(2,n-a-1);return s},nge=function(e){return function(r){for(var n=SG()(r),s=new Array(8),a=0;a<8;a++)s[7-a]=!!(n&1<<a);return Object.keys(e).reduce(function(o,l){var c=e[l];return c.length?o[l]=rge(s,c.index,c.length):o[l]=s[c.index],o},{})}};fn.readBits=nge;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=vl,r=fn,n={blocks:function(g){for(var y=0,_=[],b=g.data.length,u=0,h=(0,r.readByte)()(g);h!==y&&h;h=(0,r.readByte)()(g)){if(g.pos+h>=b){var p=b-g.pos;_.push((0,r.readBytes)(p)(g)),u+=p;break}_.push((0,r.readBytes)(h)(g)),u+=h}for(var v=new Uint8Array(u),w=0,x=0;x<_.length;x++)v.set(_[x],w),w+=_[x].length;return v}},s=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===249}),a=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(m,g,y){return Math.pow(2,y.descriptor.lct.size+1)})},function(m,g,y){return y.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(m){return(0,r.peekByte)()(m)===44}),o=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(g,y,_){return(0,r.readBytes)(_.text.blockSize)(g)}},n]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===1}),l=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(g,y,_){return(0,r.readString)(_.blockSize)(g)}},n]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===255}),c=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(m){var g=(0,r.peekBytes)(2)(m);return g[0]===33&&g[1]===254}),d=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(m,g){return Math.pow(2,g.lsd.gct.size+1)})},function(m,g){return g.lsd.gct.exists}),{frames:(0,e.loop)([s,l,c,a,o],function(m){var g=(0,r.peekByte)()(m);return g===33||g===44})}],f=d;t.default=f})(EG);var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.deinterlace=void 0;var ige=function(e,r){for(var n=new Array(e.length),s=e.length/r,a=function(g,y){var _=e.slice(y*r,(y+1)*r);n.splice.apply(n,[g*r,r].concat(_))},o=[0,4,2,1],l=[8,8,4,2],c=0,d=0;d<4;d++)for(var f=o[d];f<s;f+=l[d])a(f,c),c++;return n};yE.deinterlace=ige;var _E={};Object.defineProperty(_E,"__esModule",{value:!0});_E.lzw=void 0;var sge=function(e,r,n){var s=4096,a=-1,o=n,l,c,d,f,m,g,y,S,_,b,x,u,E,P,A,T,h=new Array(n),p=new Array(s),v=new Array(s),w=new Array(s+1);for(u=e,c=1<<u,m=c+1,l=c+2,y=a,f=u+1,d=(1<<f)-1,_=0;_<c;_++)p[_]=0,v[_]=_;var x,S,E,P,T,A;for(x=S=E=P=T=A=0,b=0;b<o;){if(P===0){if(S<f){x+=r[A]<<S,S+=8,A++;continue}if(_=x&d,x>>=f,S-=f,_>l||_==m)break;if(_==c){f=u+1,d=(1<<f)-1,l=c+2,y=a;continue}if(y==a){w[P++]=v[_],y=_,E=_;continue}for(g=_,_==l&&(w[P++]=E,_=y);_>c;)w[P++]=v[_],_=p[_];E=v[_]&255,w[P++]=E,l<s&&(p[l]=y,v[l]=E,l++,!(l&d)&&l<s&&(f++,d+=l)),y=g}P--,h[T++]=w[P],b++}for(b=T;b<o;b++)h[b]=0;return h};_E.lzw=sge;Object.defineProperty(xd,"__esModule",{value:!0});var age=xd.decompressFrames=xd.decompressFrame=pge=xd.parseGIF=void 0,oge=fge(EG),lge=vl,uge=fn,cge=yE,dge=_E;function fge(t){return t&&t.__esModule?t:{default:t}}var hge=function(e){var r=new Uint8Array(e);return(0,lge.parse)((0,uge.buildStream)(r),oge.default)},pge=xd.parseGIF=hge,mge=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),s=0;s<r;s++){var a=s*4,o=e.pixels[s],l=e.colorTable[o]||[0,0,0];n[a]=l[0],n[a+1]=l[1],n[a+2]=l[2],n[a+3]=o!==e.transparentIndex?255:0}return n},CG=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var s=e.image,a=s.descriptor.width*s.descriptor.height,o=(0,dge.lzw)(s.data.minCodeSize,s.data.blocks,a);s.descriptor.lct.interlaced&&(o=(0,cge.deinterlace)(o,s.descriptor.width));var l={pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return s.descriptor.lct&&s.descriptor.lct.exists?l.colorTable=s.lct:l.colorTable=r,e.gce&&(l.delay=(e.gce.delay||10)*10,l.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(l.transparentIndex=e.gce.transparentColorIndex)),n&&(l.patch=mge(l)),l};xd.decompressFrame=CG;var gge=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return CG(n,e.gct,r)})};age=xd.decompressFrames=gge;var AG={};(function(t){var e=function(){var u=new Date,h=4,p=3,v=2,w=1,x=h,S={setLogLevel:function(E){E==this.debug?x=w:E==this.info?x=v:E==this.warn?x=p:(E==this.error,x=h)},debug:function(E,P){console.debug===void 0&&(console.debug=console.log),w>=x&&console.debug("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)},log:function(E,P){this.debug(E.msg)},info:function(E,P){v>=x&&console.info("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)},warn:function(E,P){p>=x&&console.warn("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)},error:function(E,P){h>=x&&console.error("["+e.getDurationString(new Date-u,1e3)+"]","["+E+"]",P)}};return S}();e.getDurationString=function(u,h){var p;function v(T,A){for(var R=""+T,D=R.split(".");D[0].length<A;)D[0]="0"+D[0];return D.join(".")}u<0?(p=!0,u=-u):p=!1;var w=h||1,x=u/w,S=Math.floor(x/3600);x-=S*3600;var E=Math.floor(x/60);x-=E*60;var P=x*1e3;return x=Math.floor(x),P-=x*1e3,P=Math.floor(P),(p?"-":"")+S+":"+v(E,2)+":"+v(x,2)+"."+v(P,3)},e.printRanges=function(u){var h=u.length;if(h>0){for(var p="",v=0;v<h;v++)v>0&&(p+=","),p+="["+e.getDurationString(u.start(v))+","+e.getDurationString(u.end(v))+"]";return p}else return"(empty)"},t.Log=e;var r=function(u){if(u instanceof ArrayBuffer)this.buffer=u,this.dataview=new DataView(u);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(u){var h=Math.max(0,Math.min(this.buffer.byteLength,u));return this.position=isNaN(h)||!isFinite(h)?0:h,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(u,h){var p=0;if(this.position+u<=this.buffer.byteLength){switch(u){case 1:h?p=this.dataview.getInt8(this.position):p=this.dataview.getUint8(this.position);break;case 2:h?p=this.dataview.getInt16(this.position):p=this.dataview.getUint16(this.position);break;case 3:if(h)throw"No method for reading signed 24 bits values";p=this.dataview.getUint8(this.position)<<16,p|=this.dataview.getUint8(this.position+1)<<8,p|=this.dataview.getUint8(this.position+2);break;case 4:h?p=this.dataview.getInt32(this.position):p=this.dataview.getUint32(this.position);break;case 8:if(h)throw"No method for reading signed 64 bits values";p=this.dataview.getUint32(this.position)<<32,p|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+u}return this.position+=u,p}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(u){if(this.position+u<=this.buffer.byteLength){for(var h="",p=0;p<u;p++)h+=String.fromCharCode(this.readUint8());return h}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var u=[];;){var h=this.readUint8();if(h!==0)u.push(h);else break}return String.fromCharCode.apply(null,u)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(u){for(var h=new Uint8Array(u),p=0;p<u;p++)h[p]=this.readUint8();return h},r.prototype.readInt16Array=function(u){for(var h=new Int16Array(u),p=0;p<u;p++)h[p]=this.readInt16();return h},r.prototype.readUint16Array=function(u){for(var h=new Int16Array(u),p=0;p<u;p++)h[p]=this.readUint16();return h},r.prototype.readUint32Array=function(u){for(var h=new Uint32Array(u),p=0;p<u;p++)h[p]=this.readUint32();return h},r.prototype.readInt32Array=function(u){for(var h=new Int32Array(u),p=0;p<u;p++)h[p]=this.readInt32();return h},t.MP4BoxStream=r;var n=function(u,h,p){this._byteOffset=h||0,u instanceof ArrayBuffer?this.buffer=u:typeof u=="object"?(this.dataView=u,h&&(this._byteOffset+=h)):this.buffer=new ArrayBuffer(u||0),this.position=0,this.endianness=p==null?n.LITTLE_ENDIAN:p};n.prototype={},n.prototype.getPosition=function(){return this.position},n.prototype._realloc=function(u){if(this._dynamicSize){var h=this._byteOffset+this.position+u,p=this._buffer.byteLength;if(h<=p){h>this._byteLength&&(this._byteLength=h);return}for(p<1&&(p=1);h>p;)p*=2;var v=new ArrayBuffer(p),w=new Uint8Array(this._buffer),x=new Uint8Array(v,0,w.length);x.set(w),this.buffer=v,this._byteLength=h}},n.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var u=new ArrayBuffer(this._byteLength),h=new Uint8Array(u),p=new Uint8Array(this._buffer,0,h.length);h.set(p),this.buffer=u}},n.BIG_ENDIAN=!1,n.LITTLE_ENDIAN=!0,n.prototype._byteLength=0,Object.defineProperty(n.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(u){this._buffer=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(u){this._byteOffset=u,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this._dataView},set:function(u){this._byteOffset=u.byteOffset,this._buffer=u.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+u.byteLength}}),n.prototype.seek=function(u){var h=Math.max(0,Math.min(this.byteLength,u));this.position=isNaN(h)||!isFinite(h)?0:h},n.prototype.isEof=function(){return this.position>=this._byteLength},n.prototype.mapUint8Array=function(u){this._realloc(u*1);var h=new Uint8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,h},n.prototype.readInt32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var p=new Int32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readInt16Array=function(u,h){u=u==null?this.byteLength-this.position/2:u;var p=new Int16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readInt8Array=function(u){u=u==null?this.byteLength-this.position:u;var h=new Int8Array(u);return n.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,u*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},n.prototype.readUint32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var p=new Uint32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readUint16Array=function(u,h){u=u==null?this.byteLength-this.position/2:u;var p=new Uint16Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readUint8Array=function(u){u=u==null?this.byteLength-this.position:u;var h=new Uint8Array(u);return n.memcpy(h.buffer,0,this.buffer,this.byteOffset+this.position,u*h.BYTES_PER_ELEMENT),this.position+=h.byteLength,h},n.prototype.readFloat64Array=function(u,h){u=u==null?this.byteLength-this.position/8:u;var p=new Float64Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readFloat32Array=function(u,h){u=u==null?this.byteLength-this.position/4:u;var p=new Float32Array(u);return n.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,u*p.BYTES_PER_ELEMENT),n.arrayToNative(p,h==null?this.endianness:h),this.position+=p.byteLength,p},n.prototype.readInt32=function(u){var h=this._dataView.getInt32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readInt16=function(u){var h=this._dataView.getInt16(this.position,u==null?this.endianness:u);return this.position+=2,h},n.prototype.readInt8=function(){var u=this._dataView.getInt8(this.position);return this.position+=1,u},n.prototype.readUint32=function(u){var h=this._dataView.getUint32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readUint16=function(u){var h=this._dataView.getUint16(this.position,u==null?this.endianness:u);return this.position+=2,h},n.prototype.readUint8=function(){var u=this._dataView.getUint8(this.position);return this.position+=1,u},n.prototype.readFloat32=function(u){var h=this._dataView.getFloat32(this.position,u==null?this.endianness:u);return this.position+=4,h},n.prototype.readFloat64=function(u){var h=this._dataView.getFloat64(this.position,u==null?this.endianness:u);return this.position+=8,h},n.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,n.memcpy=function(u,h,p,v,w){var x=new Uint8Array(u,h,w),S=new Uint8Array(p,v,w);x.set(S)},n.arrayToNative=function(u,h){return h==this.endianness?u:this.flipArrayEndianness(u)},n.nativeToEndian=function(u,h){return this.endianness==h?u:this.flipArrayEndianness(u)},n.flipArrayEndianness=function(u){for(var h=new Uint8Array(u.buffer,u.byteOffset,u.byteLength),p=0;p<u.byteLength;p+=u.BYTES_PER_ELEMENT)for(var v=p+u.BYTES_PER_ELEMENT-1,w=p;v>w;v--,w++){var x=h[w];h[w]=h[v],h[v]=x}return u},n.prototype.failurePosition=0,String.fromCharCodeUint8=function(u){for(var h=[],p=0;p<u.length;p++)h[p]=u[p];return String.fromCharCode.apply(null,h)},n.prototype.readString=function(u,h){return h==null||h=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(u==null?this.byteLength-this.position:u)]):new TextDecoder(h).decode(this.mapUint8Array(u))},n.prototype.readCString=function(u){var h=this.byteLength-this.position,p=new Uint8Array(this._buffer,this._byteOffset+this.position),v=h;u!=null&&(v=Math.min(u,h));for(var w=0;w<v&&p[w]!==0;w++);var x=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(w)]);return u!=null?this.position+=v-w:w!=h&&(this.position+=1),x};var s=Math.pow(2,32);n.prototype.readInt64=function(){return this.readInt32()*s+this.readUint32()},n.prototype.readUint64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readInt64=function(){return this.readUint32()*s+this.readUint32()},n.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=n,n.prototype.save=function(u){var h=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var p=window.URL.createObjectURL(h),v=document.createElement("a");document.body.appendChild(v),v.setAttribute("href",p),v.setAttribute("download",u),v.setAttribute("target","_self"),v.click(),window.URL.revokeObjectURL(p)}else throw"DataStream.save: Can't create object URL."},n.prototype._dynamicSize=!0,Object.defineProperty(n.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(u){u||this._trimAlloc(),this._dynamicSize=u}}),n.prototype.shift=function(u){var h=new ArrayBuffer(this._byteLength-u),p=new Uint8Array(h),v=new Uint8Array(this._buffer,u,p.length);p.set(v),this.buffer=h,this.position-=u},n.prototype.writeInt32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Int32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt32Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeInt32(u[p],h)},n.prototype.writeInt16Array=function(u,h){if(this._realloc(u.length*2),u instanceof Int16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt16Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeInt16(u[p],h)},n.prototype.writeInt8Array=function(u){if(this._realloc(u.length*1),u instanceof Int8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapInt8Array(u.length);else for(var h=0;h<u.length;h++)this.writeInt8(u[h])},n.prototype.writeUint32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Uint32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint32Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeUint32(u[p],h)},n.prototype.writeUint16Array=function(u,h){if(this._realloc(u.length*2),u instanceof Uint16Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint16Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeUint16(u[p],h)},n.prototype.writeUint8Array=function(u){if(this._realloc(u.length*1),u instanceof Uint8Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapUint8Array(u.length);else for(var h=0;h<u.length;h++)this.writeUint8(u[h])},n.prototype.writeFloat64Array=function(u,h){if(this._realloc(u.length*8),u instanceof Float64Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat64Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeFloat64(u[p],h)},n.prototype.writeFloat32Array=function(u,h){if(this._realloc(u.length*4),u instanceof Float32Array&&this.byteOffset+this.position%u.BYTES_PER_ELEMENT===0)n.memcpy(this._buffer,this.byteOffset+this.position,u.buffer,0,u.byteLength),this.mapFloat32Array(u.length,h);else for(var p=0;p<u.length;p++)this.writeFloat32(u[p],h)},n.prototype.writeInt32=function(u,h){this._realloc(4),this._dataView.setInt32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeInt16=function(u,h){this._realloc(2),this._dataView.setInt16(this.position,u,h==null?this.endianness:h),this.position+=2},n.prototype.writeInt8=function(u){this._realloc(1),this._dataView.setInt8(this.position,u),this.position+=1},n.prototype.writeUint32=function(u,h){this._realloc(4),this._dataView.setUint32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeUint16=function(u,h){this._realloc(2),this._dataView.setUint16(this.position,u,h==null?this.endianness:h),this.position+=2},n.prototype.writeUint8=function(u){this._realloc(1),this._dataView.setUint8(this.position,u),this.position+=1},n.prototype.writeFloat32=function(u,h){this._realloc(4),this._dataView.setFloat32(this.position,u,h==null?this.endianness:h),this.position+=4},n.prototype.writeFloat64=function(u,h){this._realloc(8),this._dataView.setFloat64(this.position,u,h==null?this.endianness:h),this.position+=8},n.prototype.writeUCS2String=function(u,h,p){p==null&&(p=u.length);for(var v=0;v<u.length&&v<p;v++)this.writeUint16(u.charCodeAt(v),h);for(;v<p;v++)this.writeUint16(0)},n.prototype.writeString=function(u,h,p){var v=0;if(h==null||h=="ASCII")if(p!=null){var w=Math.min(u.length,p);for(v=0;v<w;v++)this.writeUint8(u.charCodeAt(v));for(;v<p;v++)this.writeUint8(0)}else for(v=0;v<u.length;v++)this.writeUint8(u.charCodeAt(v));else this.writeUint8Array(new TextEncoder(h).encode(u.substring(0,p)))},n.prototype.writeCString=function(u,h){var p=0;if(h!=null){var v=Math.min(u.length,h);for(p=0;p<v;p++)this.writeUint8(u.charCodeAt(p));for(;p<h;p++)this.writeUint8(0)}else{for(p=0;p<u.length;p++)this.writeUint8(u.charCodeAt(p));this.writeUint8(0)}},n.prototype.writeStruct=function(u,h){for(var p=0;p<u.length;p+=2){var v=u[p+1];this.writeType(v,h[u[p]],h)}},n.prototype.writeType=function(u,h,p){var v;if(typeof u=="function")return u(this,h);if(typeof u=="object"&&!(u instanceof Array))return u.set(this,h,p);var w=null,x="ASCII",S=this.position;switch(typeof u=="string"&&/:/.test(u)&&(v=u.split(":"),u=v[0],w=parseInt(v[1])),typeof u=="string"&&/,/.test(u)&&(v=u.split(","),u=v[0],x=parseInt(v[1])),u){case"uint8":this.writeUint8(h);break;case"int8":this.writeInt8(h);break;case"uint16":this.writeUint16(h,this.endianness);break;case"int16":this.writeInt16(h,this.endianness);break;case"uint32":this.writeUint32(h,this.endianness);break;case"int32":this.writeInt32(h,this.endianness);break;case"float32":this.writeFloat32(h,this.endianness);break;case"float64":this.writeFloat64(h,this.endianness);break;case"uint16be":this.writeUint16(h,n.BIG_ENDIAN);break;case"int16be":this.writeInt16(h,n.BIG_ENDIAN);break;case"uint32be":this.writeUint32(h,n.BIG_ENDIAN);break;case"int32be":this.writeInt32(h,n.BIG_ENDIAN);break;case"float32be":this.writeFloat32(h,n.BIG_ENDIAN);break;case"float64be":this.writeFloat64(h,n.BIG_ENDIAN);break;case"uint16le":this.writeUint16(h,n.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(h,n.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(h,n.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(h,n.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(h,n.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(h,n.LITTLE_ENDIAN);break;case"cstring":this.writeCString(h,w);break;case"string":this.writeString(h,x,w);break;case"u16string":this.writeUCS2String(h,this.endianness,w);break;case"u16stringle":this.writeUCS2String(h,n.LITTLE_ENDIAN,w);break;case"u16stringbe":this.writeUCS2String(h,n.BIG_ENDIAN,w);break;default:if(u.length==3){for(var E=u[1],P=0;P<h.length;P++)this.writeType(E,h[P]);break}else{this.writeStruct(u,h);break}}w!=null&&(this.position=S,this._realloc(w),this.position=S+w)},n.prototype.writeUint64=function(u){var h=Math.floor(u/s);this.writeUint32(h),this.writeUint32(u&4294967295)},n.prototype.writeUint24=function(u){this.writeUint8((u&16711680)>>16),this.writeUint8((u&65280)>>8),this.writeUint8(u&255)},n.prototype.adjustUint32=function(u,h){var p=this.position;this.seek(u),this.writeUint32(h),this.seek(p)},n.prototype.mapInt32Array=function(u,h){this._realloc(u*4);var p=new Int32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*4,p},n.prototype.mapInt16Array=function(u,h){this._realloc(u*2);var p=new Int16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*2,p},n.prototype.mapInt8Array=function(u){this._realloc(u*1);var h=new Int8Array(this._buffer,this.byteOffset+this.position,u);return this.position+=u*1,h},n.prototype.mapUint32Array=function(u,h){this._realloc(u*4);var p=new Uint32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*4,p},n.prototype.mapUint16Array=function(u,h){this._realloc(u*2);var p=new Uint16Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*2,p},n.prototype.mapFloat64Array=function(u,h){this._realloc(u*8);var p=new Float64Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*8,p},n.prototype.mapFloat32Array=function(u,h){this._realloc(u*4);var p=new Float32Array(this._buffer,this.byteOffset+this.position,u);return n.arrayToNative(p,h==null?this.endianness:h),this.position+=u*4,p};var a=function(u){this.buffers=[],this.bufferIndex=-1,u&&(this.insertBuffer(u),this.bufferIndex=0)};a.prototype=new n(new ArrayBuffer,0,n.BIG_ENDIAN),a.prototype.initialized=function(){var u;return this.bufferIndex>-1?!0:this.buffers.length>0?(u=this.buffers[0],u.fileStart===0?(this.buffer=u,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(u,h){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(u.byteLength+h.byteLength));var p=new Uint8Array(u.byteLength+h.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(h),u.byteLength),p.buffer},a.prototype.reduceBuffer=function(u,h,p){var v;return v=new Uint8Array(p),v.set(new Uint8Array(u,h,p)),v.buffer.fileStart=u.fileStart+h,v.buffer.usedBytes=0,v.buffer},a.prototype.insertBuffer=function(u){for(var h=!0,p=0;p<this.buffers.length;p++){var v=this.buffers[p];if(u.fileStart<=v.fileStart){if(u.fileStart===v.fileStart)if(u.byteLength>v.byteLength){this.buffers.splice(p,1),p--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+") already appended, ignoring");else u.fileStart+u.byteLength<=v.fileStart||(u=this.reduceBuffer(u,0,v.fileStart-u.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.splice(p,0,u),p===0&&(this.buffer=u);h=!1;break}else if(u.fileStart<v.fileStart+v.byteLength){var w=v.fileStart+v.byteLength-u.fileStart,x=u.byteLength-w;if(x>0)u=this.reduceBuffer(u,w,x);else{h=!1;break}}}h&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+u.fileStart+" - Length: "+u.byteLength+")"),this.buffers.push(u),p===0&&(this.buffer=u))},a.prototype.logBufferLevel=function(u){var h,p,v,w,x=[],S,E="";for(v=0,w=0,h=0;h<this.buffers.length;h++)p=this.buffers[h],h===0?(S={},x.push(S),S.start=p.fileStart,S.end=p.fileStart+p.byteLength,E+="["+S.start+"-"):S.end===p.fileStart?S.end=p.fileStart+p.byteLength:(S={},S.start=p.fileStart,E+=x[x.length-1].end-1+"], ["+S.start+"-",S.end=p.fileStart+p.byteLength,x.push(S)),v+=p.usedBytes,w+=p.byteLength;x.length>0&&(E+=S.end-1+"]");var P=u?e.info:e.debug;this.buffers.length===0?P("MultiBufferStream","No more buffer in memory"):P("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+v+"/"+w+" bytes), continuous ranges: "+E)},a.prototype.cleanBuffers=function(){var u,h;for(u=0;u<this.buffers.length;u++)h=this.buffers[u],h.usedBytes===h.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+u),this.buffers.splice(u,1),u--)},a.prototype.mergeNextBuffer=function(){var u;if(this.bufferIndex+1<this.buffers.length)if(u=this.buffers[this.bufferIndex+1],u.fileStart===this.buffer.fileStart+this.buffer.byteLength){var h=this.buffer.byteLength,p=this.buffer.usedBytes,v=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,u),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=p,this.buffer.fileStart=v,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+h+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},a.prototype.findPosition=function(u,h,p){var v,w=null,x=-1;for(u===!0?v=0:v=this.bufferIndex;v<this.buffers.length&&(w=this.buffers[v],w.fileStart<=h);){x=v,p&&(w.fileStart+w.byteLength<=h?w.usedBytes=w.byteLength:w.usedBytes=h-w.fileStart,this.logBufferLevel());v++}return x!==-1?(w=this.buffers[x],w.fileStart+w.byteLength>=h?(e.debug("MultiBufferStream","Found position in existing buffer #"+x),x):-1):-1},a.prototype.findEndContiguousBuf=function(u){var h,p,v,w=u!==void 0?u:this.bufferIndex;if(p=this.buffers[w],this.buffers.length>w+1)for(h=w+1;h<this.buffers.length&&(v=this.buffers[h],v.fileStart===p.fileStart+p.byteLength);h++)p=v;return p.fileStart+p.byteLength},a.prototype.getEndFilePositionAfter=function(u){var h=this.findPosition(!0,u,!1);return h!==-1?this.findEndContiguousBuf(h):u},a.prototype.addUsedBytes=function(u){this.buffer.usedBytes+=u,this.logBufferLevel()},a.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},a.prototype.seek=function(u,h,p){var v;return v=this.findPosition(h,u,p),v!==-1?(this.buffer=this.buffers[v],this.bufferIndex=v,this.position=u-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+u+" not found in buffered data"),!1)},a.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},a.prototype.getLength=function(){return this.byteLength},a.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=a;var o=function(){var u=3,h=4,p=5,v=6,w=[];w[u]="ES_Descriptor",w[h]="DecoderConfigDescriptor",w[p]="DecoderSpecificInfo",w[v]="SLConfigDescriptor",this.getDescriptorName=function(E){return w[E]};var x=this,S={};return this.parseOneDescriptor=function(E){var P=0,T,A,R;for(T=E.readUint8(),R=E.readUint8();R&128;)P=(P<<7)+(R&127),R=E.readUint8();return P=(P<<7)+(R&127),e.debug("MPEG4DescriptorParser","Found "+(w[T]||"Descriptor "+T)+", size "+P+" at position "+E.getPosition()),w[T]?A=new S[w[T]](P):A=new S.Descriptor(P),A.parse(E),A},S.Descriptor=function(E,P){this.tag=E,this.size=P,this.descs=[]},S.Descriptor.prototype.parse=function(E){this.data=E.readUint8Array(this.size)},S.Descriptor.prototype.findDescriptor=function(E){for(var P=0;P<this.descs.length;P++)if(this.descs[P].tag==E)return this.descs[P];return null},S.Descriptor.prototype.parseRemainingDescriptors=function(E){for(var P=E.position;E.position<P+this.size;){var T=x.parseOneDescriptor(E);this.descs.push(T)}},S.ES_Descriptor=function(E){S.Descriptor.call(this,u,E)},S.ES_Descriptor.prototype=new S.Descriptor,S.ES_Descriptor.prototype.parse=function(E){if(this.ES_ID=E.readUint16(),this.flags=E.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=E.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var P=E.readUint8();this.URL=E.readString(P),this.size-=P+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=E.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(E)},S.ES_Descriptor.prototype.getOTI=function(E){var P=this.findDescriptor(h);return P?P.oti:0},S.ES_Descriptor.prototype.getAudioConfig=function(E){var P=this.findDescriptor(h);if(!P)return null;var T=P.findDescriptor(p);if(T&&T.data){var A=(T.data[0]&248)>>3;return A===31&&T.data.length>=2&&(A=32+((T.data[0]&7)<<3)+((T.data[1]&224)>>5)),A}else return null},S.DecoderConfigDescriptor=function(E){S.Descriptor.call(this,h,E)},S.DecoderConfigDescriptor.prototype=new S.Descriptor,S.DecoderConfigDescriptor.prototype.parse=function(E){this.oti=E.readUint8(),this.streamType=E.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=E.readUint24(),this.maxBitrate=E.readUint32(),this.avgBitrate=E.readUint32(),this.size-=13,this.parseRemainingDescriptors(E)},S.DecoderSpecificInfo=function(E){S.Descriptor.call(this,p,E)},S.DecoderSpecificInfo.prototype=new S.Descriptor,S.SLConfigDescriptor=function(E){S.Descriptor.call(this,v,E)},S.SLConfigDescriptor.prototype=new S.Descriptor,this};t.MPEG4DescriptorParser=o;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[{type:"mdat",name:"MediaDataBox"},{type:"idat",name:"ItemDataBox"},{type:"free",name:"FreeSpaceBox"},{type:"skip",name:"FreeSpaceBox"},{type:"meco",name:"AdditionalMetadataContainerBox"},{type:"strk",name:"SubTrackBox"}],FULL_BOXES:[{type:"hmhd",name:"HintMediaHeaderBox"},{type:"nmhd",name:"NullMediaHeaderBox"},{type:"iods",name:"ObjectDescriptorBox"},{type:"xml ",name:"XMLBox"},{type:"bxml",name:"BinaryXMLBox"},{type:"ipro",name:"ItemProtectionBox"},{type:"mere",name:"MetaboxRelationBox"}],CONTAINER_BOXES:[[{type:"moov",name:"CompressedMovieBox"},["trak","pssh"]],[{type:"trak",name:"TrackBox"}],[{type:"edts",name:"EditBox"}],[{type:"mdia",name:"MediaBox"}],[{type:"minf",name:"MediaInformationBox"}],[{type:"dinf",name:"DataInformationBox"}],[{type:"stbl",name:"SampleTableBox"},["sgpd","sbgp"]],[{type:"mvex",name:"MovieExtendsBox"},["trex"]],[{type:"moof",name:"CompressedMovieFragmentBox"},["traf"]],[{type:"traf",name:"TrackFragmentBox"},["trun","sgpd","sbgp"]],[{type:"vttc",name:"VTTCueBox"}],[{type:"tref",name:"TrackReferenceBox"}],[{type:"iref",name:"ItemReferenceBox"}],[{type:"mfra",name:"MovieFragmentRandomAccessBox"},["tfra"]],[{type:"meco",name:"AdditionalMetadataContainerBox"}],[{type:"hnti",name:"trackhintinformation"}],[{type:"hinf",name:"hintstatisticsbox"}],[{type:"strk",name:"SubTrackBox"}],[{type:"strd",name:"SubTrackDefinitionBox"}],[{type:"sinf",name:"ProtectionSchemeInfoBox"}],[{type:"rinf",name:"RestrictedSchemeInfoBox"}],[{type:"schi",name:"SchemeInformationBox"}],[{type:"trgr",name:"TrackGroupBox"}],[{type:"udta",name:"UserDataBox"},["kind"]],[{type:"iprp",name:"ItemPropertiesBox"},["ipma"]],[{type:"ipco",name:"ItemPropertyContainerBox"}],[{type:"grpl",name:"GroupsListBox"}],[{type:"j2kH",name:"J2KHeaderInfoBox"}],[{type:"etyp",name:"ExtendedTypeBox"},["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach(function(u){l.createBoxCtor(u.type,u.name)}),l.FULL_BOXES.forEach(function(u){l.createFullBoxCtor(u.type,u.name)}),l.CONTAINER_BOXES.forEach(function(u){l.createContainerBoxCtor(u[0].type,u[0].name,null,u[1])})},Box:function(u,h,p,v){this.type=u,this.box_name=p,this.size=h,this.uuid=v},FullBox:function(u,h,p,v){l.Box.call(this,u,h,p,v),this.flags=0,this.version=0},ContainerBox:function(u,h,p,v){l.Box.call(this,u,h,p,v),this.boxes=[]},SampleEntry:function(u,h,p,v){l.ContainerBox.call(this,u,h),this.hdr_size=p,this.start=v},SampleGroupEntry:function(u){this.grouping_type=u},TrackGroupTypeBox:function(u,h){l.FullBox.call(this,u,h)},createBoxCtor:function(u,h,p){l.boxCodes.push(u),l[u+"Box"]=function(v){l.Box.call(this,u,v,h)},l[u+"Box"].prototype=new l.Box,p&&(l[u+"Box"].prototype.parse=p)},createFullBoxCtor:function(u,h,p){l[u+"Box"]=function(v){l.FullBox.call(this,u,v,h)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(v){this.parseFullHeader(v),p&&p.call(this,v)}},addSubBoxArrays:function(u){if(u){this.subBoxNames=u;for(var h=u.length,p=0;p<h;p++)this[u[p]+"s"]=[]}},createContainerBoxCtor:function(u,h,p,v){l[u+"Box"]=function(w){l.ContainerBox.call(this,u,w,h),l.addSubBoxArrays.call(this,v)},l[u+"Box"].prototype=new l.ContainerBox,p&&(l[u+"Box"].prototype.parse=p)},createMediaSampleEntryCtor:function(u,h,p){l.sampleEntryCodes[u]=[],l[u+"SampleEntry"]=function(v,w){l.SampleEntry.call(this,v,w),l.addSubBoxArrays.call(this,p)},l[u+"SampleEntry"].prototype=new l.SampleEntry,h&&(l[u+"SampleEntry"].prototype.parse=h)},createSampleEntryCtor:function(u,h,p,v){l.sampleEntryCodes[u].push(h),l[h+"SampleEntry"]=function(w){l[u+"SampleEntry"].call(this,h,w),l.addSubBoxArrays.call(this,v)},l[h+"SampleEntry"].prototype=new l[u+"SampleEntry"],p&&(l[h+"SampleEntry"].prototype.parse=p)},createEncryptedSampleEntryCtor:function(u,h,p){l.createSampleEntryCtor.call(this,u,h,p,["sinf"])},createSampleGroupCtor:function(u,h){l[u+"SampleGroupEntry"]=function(p){l.SampleGroupEntry.call(this,u,p)},l[u+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,h&&(l[u+"SampleGroupEntry"].prototype.parse=h)},createTrackGroupCtor:function(u,h){l[u+"TrackGroupTypeBox"]=function(p){l.TrackGroupTypeBox.call(this,u,p)},l[u+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,h&&(l[u+"TrackGroupTypeBox"].prototype.parse=h)},createUUIDBox:function(u,h,p,v,w){l.UUIDs.push(u),l.UUIDBoxes[u]=function(x){p?l.FullBox.call(this,"uuid",x,h,u):v?l.ContainerBox.call(this,"uuid",x,h,u):l.Box.call(this,"uuid",x,h,u)},l.UUIDBoxes[u].prototype=p?new l.FullBox:v?new l.ContainerBox:new l.Box,w&&(p?l.UUIDBoxes[u].prototype.parse=function(x){this.parseFullHeader(x),w&&w.call(this,x)}:l.UUIDBoxes[u].prototype.parse=w)}};l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(u){return this.addBox(new l[u+"Box"])},l.Box.prototype.addBox=function(u){return this.boxes.push(u),this[u.type+"s"]?this[u.type+"s"].push(u):this[u.type]=u,u},l.Box.prototype.set=function(u,h){return this[u]=h,this},l.Box.prototype.addEntry=function(u,h){var p=h||"entries";return this[p]||(this[p]=[]),this[p].push(u),this},t.BoxParser=l,l.parseUUID=function(u){return l.parseHex16(u)},l.parseHex16=function(u){for(var h="",p=0;p<16;p++){var v=u.readUint8().toString(16);h+=v.length===1?"0"+v:v}return h},l.parseOneBox=function(u,h,p){var v,w=u.getPosition(),x=0,S,E;if(u.getEndPosition()-w<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(p&&p<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var P=u.readUint32(),T=u.readString(4),A=T;if(e.debug("BoxParser","Found box of type '"+T+"' and size "+P+" at position "+w),x=8,T=="uuid"){if(u.getEndPosition()-u.getPosition()<16||p-x<16)return u.seek(w),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};E=l.parseUUID(u),x+=16,A=E}if(P==1){if(u.getEndPosition()-u.getPosition()<8||p&&p-x<8)return u.seek(w),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+T+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};P=u.readUint64(),x+=8}else if(P===0){if(p)P=p;else if(T!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+T+"'"),v=new l.Box(T,P),{code:l.OK,box:v,size:v.size}}return P!==0&&P<x?(e.error("BoxParser","Box of type "+T+" has an invalid size "+P+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:T,size:P,hdr_size:x,start:w}):P!==0&&p&&P>p?(e.error("BoxParser","Box of type '"+T+"' has a size "+P+" greater than its container size "+p),{code:l.ERR_NOT_ENOUGH_DATA,type:T,size:P,hdr_size:x,start:w}):P!==0&&w+P>u.getEndPosition()?(u.seek(w),e.info("BoxParser","Not enough data in stream to parse the entire '"+T+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:T,size:P,hdr_size:x,start:w}):h?{code:l.OK,type:T,size:P,hdr_size:x,start:w}:(l[T+"Box"]?v=new l[T+"Box"](P):T!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+T+"'"),v=new l.Box(T,P),v.has_unparsed_data=!0):l.UUIDBoxes[E]?v=new l.UUIDBoxes[E](P):(e.warn("BoxParser","Unknown uuid type: '"+E+"'"),v=new l.Box(T,P),v.uuid=E,v.has_unparsed_data=!0),v.hdr_size=x,v.start=w,v.write===l.Box.prototype.write&&v.type!=="mdat"&&(e.info("BoxParser","'"+A+"' box writing not yet implemented, keeping unparsed data in memory for later write"),v.parseDataAndRewind(u)),v.parse(u),S=u.getPosition()-(v.start+v.size),S<0?(e.warn("BoxParser","Parsing of box '"+A+"' did not read the entire indicated box data size (missing "+-S+" bytes), seeking forward"),u.seek(v.start+v.size)):S>0&&(e.error("BoxParser","Parsing of box '"+A+"' read "+S+" more bytes than the indicated box data size, seeking backwards"),v.size!==0&&u.seek(v.start+v.size)),{code:l.OK,box:v,size:v.size})},l.Box.prototype.parse=function(u){this.type!="mdat"?this.data=u.readUint8Array(this.size-this.hdr_size):this.size===0?u.seek(u.getEndPosition()):u.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(u){this.data=u.readUint8Array(this.size-this.hdr_size),u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,u.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(u){this.version=u.readUint8(),this.flags=u.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(u){this.parseFullHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(u){for(var h,p;u.getPosition()<this.start+this.size;)if(h=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===l.OK)if(p=h.box,this.boxes.push(p),this.subBoxNames&&this.subBoxNames.indexOf(p.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(p.type)]+"s"].push(p);else{var v=p.type!=="uuid"?p.type:p.uuid;this[v]?e.warn("Box of type "+v+" already stored in field of this type"):this[v]=p}else return},l.Box.prototype.parseLanguage=function(u){this.language=u.readUint16();var h=[];h[0]=this.language>>10&31,h[1]=this.language>>5&31,h[2]=this.language&31,this.languageString=String.fromCharCode(h[0]+96,h[1]+96,h[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(u){u.readUint8Array(6),this.data_reference_index=u.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(u){this.parseHeader(u),this.data=u.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,u.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(u){l.ContainerBox.prototype.parse.call(this,u)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,function(u){var h;this.parseHeader(u),u.readUint16(),u.readUint16(),u.readUint32Array(3),this.width=u.readUint16(),this.height=u.readUint16(),this.horizresolution=u.readUint32(),this.vertresolution=u.readUint32(),u.readUint32(),this.frame_count=u.readUint16(),h=Math.min(31,u.readUint8()),this.compressorname=u.readString(h),h<31&&u.readString(31-h),this.depth=u.readUint16(),u.readUint16(),this.parseFooter(u)}),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,function(u){this.parseHeader(u),u.readUint32Array(2),this.channel_count=u.readUint16(),this.samplesize=u.readUint16(),u.readUint16(),u.readUint16(),this.samplerate=u.readUint32()/65536,this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx","AV1LayeredImageIndexingProperty",function(u){var h=u.readUint8()&1,p=((h&1)+1)*16;this.layer_size=[];for(var v=0;v<3;v++)p==16?this.layer_size[v]=u.readUint16():this.layer_size[v]=u.readUint32()}),l.createBoxCtor("a1op","OperatingPointSelectorProperty",function(u){this.op_index=u.readUint8()}),l.createFullBoxCtor("auxC","AuxiliaryTypeProperty",function(u){this.aux_type=u.readCString();var h=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=u.readUint8Array(h)}),l.createBoxCtor("av1C","AV1CodecConfigurationBox",function(u){var h=u.readUint8();if((h>>7&1)!==1){e.error("av1C marker problem");return}if(this.version=h&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(h=u.readUint8(),this.seq_profile=h>>5&7,this.seq_level_idx_0=h&31,h=u.readUint8(),this.seq_tier_0=h>>7&1,this.high_bitdepth=h>>6&1,this.twelve_bit=h>>5&1,this.monochrome=h>>4&1,this.chroma_subsampling_x=h>>3&1,this.chroma_subsampling_y=h>>2&1,this.chroma_sample_position=h&3,h=u.readUint8(),this.reserved_1=h>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=h>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=h&15;else if(this.reserved_2=h&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var p=this.size-this.hdr_size-4;this.configOBUs=u.readUint8Array(p)});function c(u){var h="<table class='inner-table'>";h+="<thead><tr><th>length</th><th>nalu_data</th></tr></thead>",h+="<tbody>";for(var p=0;p<u.length;p++){var v=u[p];h+="<tr>",h+="<td>"+v.length+"</td>",h+="<td>",h+=v.nalu.reduce(function(w,x){return w+x.toString(16).padStart(2,"0")},"0x"),h+="</td></tr>"}return h+="</tbody></table>",h}l.createBoxCtor("avcC","AVCConfigurationBox",function(u){var h,p;for(this.configurationVersion=u.readUint8(),this.AVCProfileIndication=u.readUint8(),this.profile_compatibility=u.readUint8(),this.AVCLevelIndication=u.readUint8(),this.lengthSizeMinusOne=u.readUint8()&3,this.nb_SPS_nalus=u.readUint8()&31,p=this.size-this.hdr_size-6,this.SPS=[],this.SPS.toString=function(){return c(this)},h=0;h<this.nb_SPS_nalus;h++)this.SPS[h]={},this.SPS[h].length=u.readUint16(),this.SPS[h].nalu=u.readUint8Array(this.SPS[h].length),p-=2+this.SPS[h].length;for(this.nb_PPS_nalus=u.readUint8(),p--,this.PPS=[],this.PPS.toString=function(){return c(this)},h=0;h<this.nb_PPS_nalus;h++)this.PPS[h]={},this.PPS[h].length=u.readUint16(),this.PPS[h].nalu=u.readUint8Array(this.PPS[h].length),p-=2+this.PPS[h].length;p>0&&(this.ext=u.readUint8Array(p))}),l.createBoxCtor("btrt","BitRateBox",function(u){this.bufferSizeDB=u.readUint32(),this.maxBitrate=u.readUint32(),this.avgBitrate=u.readUint32()}),l.createFullBoxCtor("ccst","CodingConstraintsBox",function(u){var h=u.readUint8();this.all_ref_pics_intra=(h&128)==128,this.intra_pred_used=(h&64)==64,this.max_ref_per_pic=(h&63)>>2,u.readUint24()}),l.createBoxCtor("cdef","ComponentDefinitionBox",function(u){var h;for(this.channel_count=u.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],h=0;h<this.channel_count;h++)this.channel_indexes.push(u.readUint16()),this.channel_types.push(u.readUint16()),this.channel_associations.push(u.readUint16())}),l.createBoxCtor("clap","CleanApertureBox",function(u){this.cleanApertureWidthN=u.readUint32(),this.cleanApertureWidthD=u.readUint32(),this.cleanApertureHeightN=u.readUint32(),this.cleanApertureHeightD=u.readUint32(),this.horizOffN=u.readUint32(),this.horizOffD=u.readUint32(),this.vertOffN=u.readUint32(),this.vertOffD=u.readUint32()}),l.createBoxCtor("clli","ContentLightLevelBox",function(u){this.max_content_light_level=u.readUint16(),this.max_pic_average_light_level=u.readUint16()}),l.createFullBoxCtor("cmex","CameraExtrinsicMatrixProperty",function(u){this.flags&1&&(this.pos_x=u.readInt32()),this.flags&2&&(this.pos_y=u.readInt32()),this.flags&4&&(this.pos_z=u.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=u.readInt32(),this.quat_y=u.readInt32(),this.quat_z=u.readInt32()):(this.quat_x=u.readInt16(),this.quat_y=u.readInt16(),this.quat_z=u.readInt16()):this.version==1),this.flags&32&&(this.id=u.readUint32())}),l.createFullBoxCtor("cmin","CameraIntrinsicMatrixProperty",function(u){this.focal_length_x=u.readInt32(),this.principal_point_x=u.readInt32(),this.principal_point_y=u.readInt32(),this.flags&1&&(this.focal_length_y=u.readInt32(),this.skew_factor=u.readInt32())}),l.createBoxCtor("cmpd","ComponentDefinitionBox",function(u){for(this.component_count=u.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var h=u.readUint16();this.component_types.push(h),h>=32768&&this.component_type_urls.push(u.readCString())}}),l.createFullBoxCtor("co64","ChunkLargeOffsetBox",function(u){var h,p;if(h=u.readUint32(),this.chunk_offsets=[],this.version===0)for(p=0;p<h;p++)this.chunk_offsets.push(u.readUint64())}),l.createFullBoxCtor("CoLL","ContentLightLevelBox",function(u){this.maxCLL=u.readUint16(),this.maxFALL=u.readUint16()}),l.createBoxCtor("colr","ColourInformationBox",function(u){if(this.colour_type=u.readString(4),this.colour_type==="nclx"){this.colour_primaries=u.readUint16(),this.transfer_characteristics=u.readUint16(),this.matrix_coefficients=u.readUint16();var h=u.readUint8();this.full_range_flag=h>>7}else this.colour_type==="rICC"?this.ICC_profile=u.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=u.readUint8Array(this.size-4))}),l.createFullBoxCtor("cprt","CopyrightBox",function(u){this.parseLanguage(u),this.notice=u.readCString()}),l.createFullBoxCtor("cslg","CompositionToDecodeBox",function(u){this.version===0&&(this.compositionToDTSShift=u.readInt32(),this.leastDecodeToDisplayDelta=u.readInt32(),this.greatestDecodeToDisplayDelta=u.readInt32(),this.compositionStartTime=u.readInt32(),this.compositionEndTime=u.readInt32())}),l.createFullBoxCtor("ctts","CompositionOffsetBox",function(u){var h,p;if(h=u.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(p=0;p<h;p++){this.sample_counts.push(u.readUint32());var v=u.readInt32();v<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(v)}else if(this.version==1)for(p=0;p<h;p++)this.sample_counts.push(u.readUint32()),this.sample_offsets.push(u.readInt32())}),l.createBoxCtor("dac3","AC3SpecificBox",function(u){var h=u.readUint8(),p=u.readUint8(),v=u.readUint8();this.fscod=h>>6,this.bsid=h>>1&31,this.bsmod=(h&1)<<2|p>>6&3,this.acmod=p>>3&7,this.lfeon=p>>2&1,this.bit_rate_code=p&3|v>>5&7}),l.createBoxCtor("dec3","EC3SpecificBox",function(u){var h=u.readUint16();this.data_rate=h>>3,this.num_ind_sub=h&7,this.ind_subs=[];for(var p=0;p<this.num_ind_sub+1;p++){var v={};this.ind_subs.push(v);var w=u.readUint8(),x=u.readUint8(),S=u.readUint8();v.fscod=w>>6,v.bsid=w>>1&31,v.bsmod=(w&1)<<4|x>>4&15,v.acmod=x>>1&7,v.lfeon=x&1,v.num_dep_sub=S>>1&15,v.num_dep_sub>0&&(v.chan_loc=(S&1)<<8|u.readUint8())}}),l.createFullBoxCtor("dfLa","FLACSpecificBox",function(u){var h=127,p=128,v=[],w=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var x=u.readUint8(),S=Math.min(x&h,w.length-1);if(S?u.readUint8Array(u.readUint24()):(u.readUint8Array(13),this.samplerate=u.readUint32()>>12,u.readUint8Array(20)),v.push(w[S]),x&p)break}while(!0);this.numMetadataBlocks=v.length+" ("+v.join(", ")+")"}),l.createBoxCtor("dimm","hintimmediateBytesSent",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dmax","hintlongestpacket",function(u){this.time=u.readUint32()}),l.createBoxCtor("dmed","hintmediaBytesSent",function(u){this.bytessent=u.readUint64()}),l.createBoxCtor("dOps","OpusSpecificBox",function(u){if(this.Version=u.readUint8(),this.OutputChannelCount=u.readUint8(),this.PreSkip=u.readUint16(),this.InputSampleRate=u.readUint32(),this.OutputGain=u.readInt16(),this.ChannelMappingFamily=u.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=u.readUint8(),this.CoupledCount=u.readUint8(),this.ChannelMapping=[];for(var h=0;h<this.OutputChannelCount;h++)this.ChannelMapping[h]=u.readUint8()}}),l.createFullBoxCtor("dref","DataReferenceBox",function(u){var h,p;this.entries=[];for(var v=u.readUint32(),w=0;w<v;w++)if(h=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===l.OK)p=h.box,this.entries.push(p);else return}),l.createBoxCtor("drep","hintrepeatedBytesSent",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("elng","ExtendedLanguageBox",function(u){this.extended_language=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("elst","EditListBox",function(u){this.entries=[];for(var h=u.readUint32(),p=0;p<h;p++){var v={};this.entries.push(v),this.version===1?(v.segment_duration=u.readUint64(),v.media_time=u.readInt64()):(v.segment_duration=u.readUint32(),v.media_time=u.readInt32()),v.media_rate_integer=u.readInt16(),v.media_rate_fraction=u.readInt16()}}),l.createFullBoxCtor("emsg","EventMessageBox",function(u){this.version==1?(this.timescale=u.readUint32(),this.presentation_time=u.readUint64(),this.event_duration=u.readUint32(),this.id=u.readUint32(),this.scheme_id_uri=u.readCString(),this.value=u.readCString()):(this.scheme_id_uri=u.readCString(),this.value=u.readCString(),this.timescale=u.readUint32(),this.presentation_time_delta=u.readUint32(),this.event_duration=u.readUint32(),this.id=u.readUint32());var h=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(h-=4),this.message_data=u.readUint8Array(h)}),l.createEntityToGroupCtor=function(u,h){l[u+"Box"]=function(p){l.FullBox.call(this,u,p)},l[u+"Box"].prototype=new l.FullBox,l[u+"Box"].prototype.parse=function(p){if(this.parseFullHeader(p),h)h.call(this,p);else for(this.group_id=p.readUint32(),this.num_entities_in_group=p.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var v=p.readUint32();this.entity_ids.push(v)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createEntityToGroupCtor("pymd",function(u){this.group_id=u.readUint32(),this.num_entities_in_group=u.readUint32(),this.entity_ids=[];for(var h=0;h<this.num_entities_in_group;h++){var p=u.readUint32();this.entity_ids.push(p)}for(this.tile_size_x=u.readUint16(),this.tile_size_y=u.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],h=0;h<this.num_entities_in_group;h++)this.layer_binning[h]=u.readUint16(),this.tiles_in_layer_row_minus1[h]=u.readUint16(),this.tiles_in_layer_column_minus1[h]=u.readUint16()}),l.createFullBoxCtor("esds","ElementaryStreamDescriptorBox",function(u){var h=u.readUint8Array(this.size-this.hdr_size);if(typeof o<"u"){var p=new o;this.esd=p.parseOneDescriptor(new n(h.buffer,0,n.BIG_ENDIAN))}}),l.createBoxCtor("fiel","FieldHandlingBox",function(u){this.fieldCount=u.readUint8(),this.fieldOrdering=u.readUint8()}),l.createBoxCtor("frma","OriginalFormatBox",function(u){this.data_format=u.readString(4)}),l.createBoxCtor("ftyp","FileTypeBox",function(u){var h=this.size-this.hdr_size;this.major_brand=u.readString(4),this.minor_version=u.readUint32(),h-=8,this.compatible_brands=[];for(var p=0;h>=4;)this.compatible_brands[p]=u.readString(4),h-=4,p++}),l.createFullBoxCtor("hdlr","HandlerBox",function(u){this.version===0&&(u.readUint32(),this.handler=u.readString(4),u.readUint32Array(3),this.name=u.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),l.createBoxCtor("hvcC","HEVCConfigurationBox",function(u){var h,p,v,w;this.configurationVersion=u.readUint8(),w=u.readUint8(),this.general_profile_space=w>>6,this.general_tier_flag=(w&32)>>5,this.general_profile_idc=w&31,this.general_profile_compatibility=u.readUint32(),this.general_constraint_indicator=u.readUint8Array(6),this.general_level_idc=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,this.chroma_format_idc=u.readUint8()&3,this.bit_depth_luma_minus8=u.readUint8()&7,this.bit_depth_chroma_minus8=u.readUint8()&7,this.avgFrameRate=u.readUint16(),w=u.readUint8(),this.constantFrameRate=w>>6,this.numTemporalLayers=(w&13)>>3,this.temporalIdNested=(w&4)>>2,this.lengthSizeMinusOne=w&3,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var T="<table class='inner-table'>";T+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>",T+="<tbody>";for(var A=0;A<this.length;A++){var R=this[A];T+="<tr>",T+="<td rowspan='"+R.length+"'>"+R.completeness+"</td>",T+="<td rowspan='"+R.length+"'>"+R.nalu_type+"</td>";for(var D=0;D<R.length;D++){var O=R[D];D!==0&&(T+="<tr>"),T+="<td>",T+=O.data.reduce(function(I,M){return I+M.toString(16).padStart(2,"0")},"0x"),T+="</td></tr>"}}return T+="</tbody></table>",T};var x=u.readUint8();for(h=0;h<x;h++){var S=[];this.nalu_arrays.push(S),w=u.readUint8(),S.completeness=(w&128)>>7,S.nalu_type=w&63;var E=u.readUint16();for(p=0;p<E;p++){var P={};S.push(P),v=u.readUint16(),P.data=u.readUint8Array(v)}}}),l.createFullBoxCtor("iinf","ItemInfoBox",function(u){var h;this.version===0?this.entry_count=u.readUint16():this.entry_count=u.readUint32(),this.item_infos=[];for(var p=0;p<this.entry_count;p++)if(h=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),h.code===l.OK)h.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+h.box.type),this.item_infos[p]=h.box;else return}),l.createFullBoxCtor("iloc","ItemLocationBox",function(u){var h;h=u.readUint8(),this.offset_size=h>>4&15,this.length_size=h&15,h=u.readUint8(),this.base_offset_size=h>>4&15,this.version===1||this.version===2?this.index_size=h&15:this.index_size=0,this.items=[];var p=0;if(this.version<2)p=u.readUint16();else if(this.version===2)p=u.readUint32();else throw"version of iloc box not supported";for(var v=0;v<p;v++){var w={};if(this.items.push(w),this.version<2)w.item_ID=u.readUint16();else if(this.version===2)w.item_ID=u.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?w.construction_method=u.readUint16()&15:w.construction_method=0,w.data_reference_index=u.readUint16(),this.base_offset_size){case 0:w.base_offset=0;break;case 4:w.base_offset=u.readUint32();break;case 8:w.base_offset=u.readUint64();break;default:throw"Error reading base offset size"}var x=u.readUint16();w.extents=[];for(var S=0;S<x;S++){var E={};if(w.extents.push(E),this.version===1||this.version===2)switch(this.index_size){case 0:E.extent_index=0;break;case 4:E.extent_index=u.readUint32();break;case 8:E.extent_index=u.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:E.extent_offset=0;break;case 4:E.extent_offset=u.readUint32();break;case 8:E.extent_offset=u.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:E.extent_length=0;break;case 4:E.extent_length=u.readUint32();break;case 8:E.extent_length=u.readUint64();break;default:throw"Error reading extent index"}}}}),l.createBoxCtor("imir","ImageMirror",function(u){var h=u.readUint8();this.reserved=h>>7,this.axis=h&1}),l.createFullBoxCtor("infe","ItemInfoEntry",function(u){if((this.version===0||this.version===1)&&(this.item_ID=u.readUint16(),this.item_protection_index=u.readUint16(),this.item_name=u.readCString(),this.content_type=u.readCString(),this.content_encoding=u.readCString()),this.version===1){this.extension_type=u.readString(4),e.warn("BoxParser","Cannot parse extension type"),u.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=u.readUint16():this.version===3&&(this.item_ID=u.readUint32()),this.item_protection_index=u.readUint16(),this.item_type=u.readString(4),this.item_name=u.readCString(),this.item_type==="mime"?(this.content_type=u.readCString(),this.content_encoding=u.readCString()):this.item_type==="uri "&&(this.item_uri_type=u.readCString()))}),l.createFullBoxCtor("ipma","ItemPropertyAssociationBox",function(u){var h,p;for(entry_count=u.readUint32(),this.associations=[],h=0;h<entry_count;h++){var v={};this.associations.push(v),this.version<1?v.id=u.readUint16():v.id=u.readUint32();var w=u.readUint8();for(v.props=[],p=0;p<w;p++){var x=u.readUint8(),S={};v.props.push(S),S.essential=(x&128)>>7===1,this.flags&1?S.property_index=(x&127)<<8|u.readUint8():S.property_index=x&127}}}),l.createFullBoxCtor("iref","ItemReferenceBox",function(u){var h,p;for(this.references=[];u.getPosition()<this.start+this.size;)if(h=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),h.code===l.OK)this.version===0?p=new l.SingleItemTypeReferenceBox(h.type,h.size,h.hdr_size,h.start):p=new l.SingleItemTypeReferenceBoxLarge(h.type,h.size,h.hdr_size,h.start),p.write===l.Box.prototype.write&&p.type!=="mdat"&&(e.warn("BoxParser",p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.references.push(p);else return}),l.createBoxCtor("irot","ImageRotation",function(u){this.angle=u.readUint8()&3}),l.createFullBoxCtor("ispe","ImageSpatialExtentsProperty",function(u){this.image_width=u.readUint32(),this.image_height=u.readUint32()}),l.createFullBoxCtor("kind","KindBox",function(u){this.schemeURI=u.readCString(),this.value=u.readCString()}),l.createFullBoxCtor("leva","LevelAssignmentBox",function(u){var h=u.readUint8();this.levels=[];for(var p=0;p<h;p++){var v={};this.levels[p]=v,v.track_ID=u.readUint32();var w=u.readUint8();switch(v.padding_flag=w>>7,v.assignment_type=w&127,v.assignment_type){case 0:v.grouping_type=u.readString(4);break;case 1:v.grouping_type=u.readString(4),v.grouping_type_parameter=u.readUint32();break;case 2:break;case 3:break;case 4:v.sub_track_id=u.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),l.createBoxCtor("lhvC","LHEVCConfigurationBox",function(u){var h,p,v;this.configurationVersion=u.readUint8(),this.min_spatial_segmentation_idc=u.readUint16()&4095,this.parallelismType=u.readUint8()&3,v=u.readUint8(),this.numTemporalLayers=(v&13)>>3,this.temporalIdNested=(v&4)>>2,this.lengthSizeMinusOne=v&3,this.nalu_arrays=[],this.nalu_arrays.toString=function(){var T="<table class='inner-table'>";T+="<thead><tr><th>completeness</th><th>nalu_type</th><th>nalu_data</th></tr></thead>",T+="<tbody>";for(var A=0;A<this.length;A++){var R=this[A];T+="<tr>",T+="<td rowspan='"+R.length+"'>"+R.completeness+"</td>",T+="<td rowspan='"+R.length+"'>"+R.nalu_type+"</td>";for(var D=0;D<R.length;D++){var O=R[D];D!==0&&(T+="<tr>"),T+="<td>",T+=O.data.reduce(function(I,M){return I+M.toString(16).padStart(2,"0")},"0x"),T+="</td></tr>"}}return T+="</tbody></table>",T};var w=u.readUint8();for(h=0;h<w;h++){var x=[];this.nalu_arrays.push(x),v=u.readUint8(),x.completeness=(v&128)>>7,x.nalu_type=v&63;var S=u.readUint16();for(p=0;p<S;p++){var E={};x.push(E);var P=u.readUint16();E.data=u.readUint8Array(P)}}}),l.createBoxCtor("lsel","LayerSelectorProperty",function(u){this.layer_id=u.readUint16()}),l.createBoxCtor("maxr","hintmaxrate",function(u){this.period=u.readUint32(),this.bytes=u.readUint32()});function d(u,h){this.x=u,this.y=h}d.prototype.toString=function(){return"("+this.x+","+this.y+")"},l.createBoxCtor("mdcv","MasteringDisplayColourVolumeBox",function(u){this.display_primaries=[],this.display_primaries[0]=new d(u.readUint16(),u.readUint16()),this.display_primaries[1]=new d(u.readUint16(),u.readUint16()),this.display_primaries[2]=new d(u.readUint16(),u.readUint16()),this.white_point=new d(u.readUint16(),u.readUint16()),this.max_display_mastering_luminance=u.readUint32(),this.min_display_mastering_luminance=u.readUint32()}),l.createFullBoxCtor("mdhd","MediaHeaderBox",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.parseLanguage(u),u.readUint16()}),l.createFullBoxCtor("mehd","MovieExtendsHeaderBox",function(u){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=u.readUint64():this.fragment_duration=u.readUint32()}),l.createFullBoxCtor("meta","MetaBox",function(u){this.boxes=[],l.ContainerBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("mfhd","MovieFragmentHeaderBox",function(u){this.sequence_number=u.readUint32()}),l.createFullBoxCtor("mfro","MovieFragmentRandomAccessOffsetBox",function(u){this._size=u.readUint32()}),l.createFullBoxCtor("mskC","MaskConfigurationProperty",function(u){this.bits_per_pixel=u.readUint8()}),l.createFullBoxCtor("mvhd","MovieHeaderBox",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.timescale=u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.timescale=u.readUint32(),this.duration=u.readUint32()),this.rate=u.readUint32(),this.volume=u.readUint16()>>8,u.readUint16(),u.readUint32Array(2),this.matrix=u.readUint32Array(9),u.readUint32Array(6),this.next_track_id=u.readUint32()}),l.createBoxCtor("npck","hintPacketsSent",function(u){this.packetssent=u.readUint32()}),l.createBoxCtor("nump","hintPacketsSent",function(u){this.packetssent=u.readUint64()}),l.createFullBoxCtor("padb","PaddingBitsBox",function(u){var h=u.readUint32();this.padbits=[];for(var p=0;p<Math.floor((h+1)/2);p++)this.padbits=u.readUint8()}),l.createBoxCtor("pasp","PixelAspectRatioBox",function(u){this.hSpacing=u.readUint32(),this.vSpacing=u.readUint32()}),l.createBoxCtor("payl","CuePayloadBox",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createBoxCtor("payt","hintpayloadID",function(u){this.payloadID=u.readUint32();var h=u.readUint8();this.rtpmap_string=u.readString(h)}),l.createFullBoxCtor("pdin","ProgressiveDownloadInfoBox",function(u){var h=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var p=0;p<h;p++)this.rate[p]=u.readUint32(),this.initial_delay[p]=u.readUint32()}),l.createFullBoxCtor("pitm","PrimaryItemBox",function(u){this.version===0?this.item_id=u.readUint16():this.item_id=u.readUint32()}),l.createFullBoxCtor("pixi","PixelInformationProperty",function(u){var h;for(this.num_channels=u.readUint8(),this.bits_per_channels=[],h=0;h<this.num_channels;h++)this.bits_per_channels[h]=u.readUint8()}),l.createBoxCtor("pmax","hintlargestpacket",function(u){this.bytes=u.readUint32()}),l.createFullBoxCtor("prdi","ProgressiveDerivedImageItemInformationProperty",function(u){if(this.step_count=u.readUint16(),this.item_count=[],this.flags&2)for(var h=0;h<this.step_count;h++)this.item_count[h]=u.readUint16()}),l.createFullBoxCtor("prft","ProducerReferenceTimeBox",function(u){this.ref_track_id=u.readUint32(),this.ntp_timestamp=u.readUint64(),this.version===0?this.media_time=u.readUint32():this.media_time=u.readUint64()}),l.createFullBoxCtor("pssh","ProtectionSystemSpecificHeaderBox",function(u){if(this.system_id=l.parseHex16(u),this.version>0){var h=u.readUint32();this.kid=[];for(var p=0;p<h;p++)this.kid[p]=l.parseHex16(u)}var v=u.readUint32();v>0&&(this.data=u.readUint8Array(v))}),l.createFullBoxCtor("clef","TrackCleanApertureDimensionsBox",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("enof","TrackEncodedPixelsDimensionsBox",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createFullBoxCtor("prof","TrackProductionApertureDimensionsBox",function(u){this.width=u.readUint32(),this.height=u.readUint32()}),l.createContainerBoxCtor("tapt","TrackApertureModeDimensionsBox",null,["clef","prof","enof"]),l.createBoxCtor("rtp ","rtpmoviehintinformation",function(u){this.descriptionformat=u.readString(4),this.sdptext=u.readString(this.size-this.hdr_size-4)}),l.createFullBoxCtor("saio","SampleAuxiliaryInformationOffsetsBox",function(u){this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32());var h=u.readUint32();this.offset=[];for(var p=0;p<h;p++)this.version===0?this.offset[p]=u.readUint32():this.offset[p]=u.readUint64()}),l.createFullBoxCtor("saiz","SampleAuxiliaryInformationSizesBox",function(u){if(this.flags&1&&(this.aux_info_type=u.readString(4),this.aux_info_type_parameter=u.readUint32()),this.default_sample_info_size=u.readUint8(),this.sample_count=u.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var h=0;h<this.sample_count;h++)this.sample_info_size[h]=u.readUint8()}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(u){this.parseHeader(u),this.namespace=u.readCString(),this.schema_location=u.readCString(),this.auxiliary_mime_types=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(u){this.parseHeader(u),this.content_encoding=u.readCString(),this.mime_format=u.readCString(),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(u){this.parseHeader(u),this.displayFlags=u.readUint32(),this.horizontal_justification=u.readInt8(),this.vertical_justification=u.readInt8(),this.bg_color_rgba=u.readUint8Array(4),this.box_record=u.readInt16Array(4),this.style_record=u.readUint8Array(12),this.parseFooter(u)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(u){this.parseHeader(u),this.parseFooter(u)}),l.createSampleGroupCtor("alst",function(u){var h,p=u.readUint16();for(this.first_output_sample=u.readUint16(),this.sample_offset=[],h=0;h<p;h++)this.sample_offset[h]=u.readUint32();var v=this.description_length-4-4*p;for(this.num_output_samples=[],this.num_total_samples=[],h=0;h<v/4;h++)this.num_output_samples[h]=u.readUint16(),this.num_total_samples[h]=u.readUint16()}),l.createSampleGroupCtor("avll",function(u){this.layerNumber=u.readUint8(),this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()}),l.createSampleGroupCtor("avss",function(u){this.subSequenceIdentifier=u.readUint16(),this.layerNumber=u.readUint8();var h=u.readUint8();this.durationFlag=h>>7,this.avgRateFlag=h>>6&1,this.durationFlag&&(this.duration=u.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=u.readUint8(),this.avgBitRate=u.readUint16(),this.avgFrameRate=u.readUint16()),this.dependency=[];for(var p=u.readUint8(),v=0;v<p;v++){var w={};this.dependency.push(w),w.subSeqDirectionFlag=u.readUint8(),w.layerNumber=u.readUint8(),w.subSequenceIdentifier=u.readUint16()}}),l.createSampleGroupCtor("dtrt",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("mvif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("prol",function(u){this.roll_distance=u.readInt16()}),l.createSampleGroupCtor("rap ",function(u){var h=u.readUint8();this.num_leading_samples_known=h>>7,this.num_leading_samples=h&127}),l.createSampleGroupCtor("rash",function(u){if(this.operation_point_count=u.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=u.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=u.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var h=0;h<this.operation_point_count;h++)this.available_bitrate[h]=u.readUint32(),this.target_rate_share[h]=u.readUint16()}this.maximum_bitrate=u.readUint32(),this.minimum_bitrate=u.readUint32(),this.discard_priority=u.readUint8()}}),l.createSampleGroupCtor("roll",function(u){this.roll_distance=u.readInt16()}),l.SampleGroupEntry.prototype.parse=function(u){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=u.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("scnm",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("seig",function(u){this.reserved=u.readUint8();var h=u.readUint8();this.crypt_byte_block=h>>4,this.skip_byte_block=h&15,this.isProtected=u.readUint8(),this.Per_Sample_IV_Size=u.readUint8(),this.KID=l.parseHex16(u),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=u.readUint8(),this.constant_IV=u.readUint8Array(this.constant_IV_size))}),l.createSampleGroupCtor("stsa",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("sync",function(u){var h=u.readUint8();this.NAL_unit_type=h&63}),l.createSampleGroupCtor("tele",function(u){var h=u.readUint8();this.level_independently_decodable=h>>7}),l.createSampleGroupCtor("tsas",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("tscl",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("vipr",function(u){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createFullBoxCtor("sbgp","SampleToGroupBox",function(u){this.grouping_type=u.readString(4),this.version===1?this.grouping_type_parameter=u.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var h=u.readUint32(),p=0;p<h;p++){var v={};this.entries.push(v),v.sample_count=u.readInt32(),v.group_description_index=u.readInt32()}});function f(u,h){this.bad_pixel_row=u,this.bad_pixel_column=h}f.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},l.createFullBoxCtor("sbpm","SensorBadPixelsMapBox",function(u){var h;for(this.component_count=u.readUint16(),this.component_index=[],h=0;h<this.component_count;h++)this.component_index.push(u.readUint16());var p=u.readUint8();for(this.correction_applied=(p&128)==128,this.num_bad_rows=u.readUint32(),this.num_bad_cols=u.readUint32(),this.num_bad_pixels=u.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],h=0;h<this.num_bad_rows;h++)this.bad_rows.push(u.readUint32());for(h=0;h<this.num_bad_cols;h++)this.bad_columns.push(u.readUint32());for(h=0;h<this.num_bad_pixels;h++){var v=u.readUint32(),w=u.readUint32();this.bad_pixels.push(new f(v,w))}}),l.createFullBoxCtor("schm","SchemeTypeBox",function(u){this.scheme_type=u.readString(4),this.scheme_version=u.readUint32(),this.flags&1&&(this.scheme_uri=u.readString(this.size-this.hdr_size-8))}),l.createBoxCtor("sdp ","rtptracksdphintinformation",function(u){this.sdptext=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("sdtp","SampleDependencyTypeBox",function(u){var h,p=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var v=0;v<p;v++)h=u.readUint8(),this.is_leading[v]=h>>6,this.sample_depends_on[v]=h>>4&3,this.sample_is_depended_on[v]=h>>2&3,this.sample_has_redundancy[v]=h&3}),l.createFullBoxCtor("senc","SampleEncryptionBox"),l.createFullBoxCtor("sgpd","SampleGroupDescriptionBox",function(u){this.grouping_type=u.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=u.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=u.readUint32()),this.entries=[];for(var h=u.readUint32(),p=0;p<h;p++){var v;l[this.grouping_type+"SampleGroupEntry"]?v=new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):v=new l.SampleGroupEntry(this.grouping_type),this.entries.push(v),this.version===1?this.default_length===0?v.description_length=u.readUint32():v.description_length=this.default_length:v.description_length=this.default_length,v.write===l.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),v.data=u.readUint8Array(v.description_length),u.position-=v.description_length),v.parse(u)}}),l.createFullBoxCtor("sidx","CompressedSegmentIndexBox",function(u){this.reference_ID=u.readUint32(),this.timescale=u.readUint32(),this.version===0?(this.earliest_presentation_time=u.readUint32(),this.first_offset=u.readUint32()):(this.earliest_presentation_time=u.readUint64(),this.first_offset=u.readUint64()),u.readUint16(),this.references=[];for(var h=u.readUint16(),p=0;p<h;p++){var v={};this.references.push(v);var w=u.readUint32();v.reference_type=w>>31&1,v.referenced_size=w&2147483647,v.subsegment_duration=u.readUint32(),w=u.readUint32(),v.starts_with_SAP=w>>31&1,v.SAP_type=w>>28&7,v.SAP_delta_time=w&268435455}}),l.SingleItemTypeReferenceBox=function(u,h,p,v){l.Box.call(this,u,h),this.hdr_size=p,this.start=v},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(u){this.from_item_ID=u.readUint16();var h=u.readUint16();this.references=[];for(var p=0;p<h;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(u,h,p,v){l.Box.call(this,u,h),this.hdr_size=p,this.start=v},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(u){this.from_item_ID=u.readUint32();var h=u.readUint16();this.references=[];for(var p=0;p<h;p++)this.references[p]={},this.references[p].to_item_ID=u.readUint32()},l.createFullBoxCtor("SmDm","SMPTE2086MasteringDisplayMetadataBox",function(u){this.primaryRChromaticity_x=u.readUint16(),this.primaryRChromaticity_y=u.readUint16(),this.primaryGChromaticity_x=u.readUint16(),this.primaryGChromaticity_y=u.readUint16(),this.primaryBChromaticity_x=u.readUint16(),this.primaryBChromaticity_y=u.readUint16(),this.whitePointChromaticity_x=u.readUint16(),this.whitePointChromaticity_y=u.readUint16(),this.luminanceMax=u.readUint32(),this.luminanceMin=u.readUint32()}),l.createFullBoxCtor("smhd","SoundMediaHeaderBox",function(u){this.balance=u.readUint16(),u.readUint16()}),l.createFullBoxCtor("ssix","CompressedSubsegmentIndexBox",function(u){this.subsegments=[];for(var h=u.readUint32(),p=0;p<h;p++){var v={};this.subsegments.push(v),v.ranges=[];for(var w=u.readUint32(),x=0;x<w;x++){var S={};v.ranges.push(S),S.level=u.readUint8(),S.range_size=u.readUint24()}}}),l.createFullBoxCtor("stco","ChunkOffsetBox",function(u){var h;if(h=u.readUint32(),this.chunk_offsets=[],this.version===0)for(var p=0;p<h;p++)this.chunk_offsets.push(u.readUint32())}),l.createFullBoxCtor("stdp","DegradationPriorityBox",function(u){var h=(this.size-this.hdr_size)/2;this.priority=[];for(var p=0;p<h;p++)this.priority[p]=u.readUint16()}),l.createFullBoxCtor("sthd","SubtitleMediaHeaderBox"),l.createFullBoxCtor("stri","SubTrackInformationBox",function(u){this.switch_group=u.readUint16(),this.alternate_group=u.readUint16(),this.sub_track_id=u.readUint32();var h=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var p=0;p<h;p++)this.attribute_list[p]=u.readUint32()}),l.createFullBoxCtor("stsc","SampleToChunkBox",function(u){var h,p;if(h=u.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(p=0;p<h;p++)this.first_chunk.push(u.readUint32()),this.samples_per_chunk.push(u.readUint32()),this.sample_description_index.push(u.readUint32())}),l.createFullBoxCtor("stsd","SampleDescriptionBox",function(u){var h,p,v,w;for(this.entries=[],v=u.readUint32(),h=1;h<=v;h++)if(p=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),p.code===l.OK)l[p.type+"SampleEntry"]?(w=new l[p.type+"SampleEntry"](p.size),w.hdr_size=p.hdr_size,w.start=p.start):(e.warn("BoxParser","Unknown sample entry type: "+p.type),w=new l.SampleEntry(p.type,p.size,p.hdr_size,p.start)),w.write===l.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+w.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),w.parseDataAndRewind(u)),w.parse(u),this.entries.push(w);else return}),l.createFullBoxCtor("stsg","SubTrackSampleGroupBox",function(u){this.grouping_type=u.readUint32();var h=u.readUint16();this.group_description_index=[];for(var p=0;p<h;p++)this.group_description_index[p]=u.readUint32()}),l.createFullBoxCtor("stsh","ShadowSyncSampleBox",function(u){var h,p;if(h=u.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(p=0;p<h;p++)this.shadowed_sample_numbers.push(u.readUint32()),this.sync_sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stss","SyncSampleBox",function(u){var h,p;if(p=u.readUint32(),this.version===0)for(this.sample_numbers=[],h=0;h<p;h++)this.sample_numbers.push(u.readUint32())}),l.createFullBoxCtor("stsz","SampleSizeBox",function(u){var h;if(this.sample_sizes=[],this.version===0)for(this.sample_size=u.readUint32(),this.sample_count=u.readUint32(),h=0;h<this.sample_count;h++)this.sample_size===0?this.sample_sizes.push(u.readUint32()):this.sample_sizes[h]=this.sample_size}),l.createFullBoxCtor("stts","TimeToSampleBox",function(u){var h,p,v;if(h=u.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(p=0;p<h;p++)this.sample_counts.push(u.readUint32()),v=u.readInt32(),v<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),v=1),this.sample_deltas.push(v)}),l.createFullBoxCtor("stvi","StereoVideoBox",function(u){var h=u.readUint32();this.single_view_allowed=h&3,this.stereo_scheme=u.readUint32();var p=u.readUint32();this.stereo_indication_type=u.readString(p);var v,w;for(this.boxes=[];u.getPosition()<this.start+this.size;)if(v=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),v.code===l.OK)w=v.box,this.boxes.push(w),this[w.type]=w;else return}),l.createBoxCtor("styp","SegmentTypeBox",function(u){l.ftypBox.prototype.parse.call(this,u)}),l.createFullBoxCtor("stz2","CompactSampleSizeBox",function(u){var h,p;if(this.sample_sizes=[],this.version===0)if(this.reserved=u.readUint24(),this.field_size=u.readUint8(),p=u.readUint32(),this.field_size===4)for(h=0;h<p;h+=2){var v=u.readUint8();this.sample_sizes[h]=v>>4&15,this.sample_sizes[h+1]=v&15}else if(this.field_size===8)for(h=0;h<p;h++)this.sample_sizes[h]=u.readUint8();else if(this.field_size===16)for(h=0;h<p;h++)this.sample_sizes[h]=u.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),l.createFullBoxCtor("subs","SubSampleInformationBox",function(u){var h,p,v,w;for(v=u.readUint32(),this.entries=[],h=0;h<v;h++){var x={};if(this.entries[h]=x,x.sample_delta=u.readUint32(),x.subsamples=[],w=u.readUint16(),w>0)for(p=0;p<w;p++){var S={};x.subsamples.push(S),this.version==1?S.size=u.readUint32():S.size=u.readUint16(),S.priority=u.readUint8(),S.discardable=u.readUint8(),S.codec_specific_parameters=u.readUint32()}}}),l.createFullBoxCtor("tenc","TrackEncryptionBox",function(u){if(u.readUint8(),this.version===0)u.readUint8();else{var h=u.readUint8();this.default_crypt_byte_block=h>>4&15,this.default_skip_byte_block=h&15}this.default_isProtected=u.readUint8(),this.default_Per_Sample_IV_Size=u.readUint8(),this.default_KID=l.parseHex16(u),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=u.readUint8(),this.default_constant_IV=u.readUint8Array(this.default_constant_IV_size))}),l.createFullBoxCtor("tfdt","TrackFragmentBaseMediaDecodeTimeBox",function(u){this.version==1?this.baseMediaDecodeTime=u.readUint64():this.baseMediaDecodeTime=u.readUint32()}),l.createFullBoxCtor("tfhd","TrackFragmentHeaderBox",function(u){var h=0;this.track_id=u.readUint32(),this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=u.readUint64(),h+=8):this.base_data_offset=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=u.readUint32(),h+=4):this.default_sample_description_index=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=u.readUint32(),h+=4):this.default_sample_duration=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=u.readUint32(),h+=4):this.default_sample_size=0,this.size-this.hdr_size>h&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=u.readUint32(),h+=4):this.default_sample_flags=0}),l.createFullBoxCtor("tfra","TrackFragmentRandomAccessBox",function(u){this.track_ID=u.readUint32(),u.readUint24();var h=u.readUint8();this.length_size_of_traf_num=h>>4&3,this.length_size_of_trun_num=h>>2&3,this.length_size_of_sample_num=h&3,this.entries=[];for(var p=u.readUint32(),v=0;v<p;v++)this.version===1?(this.time=u.readUint64(),this.moof_offset=u.readUint64()):(this.time=u.readUint32(),this.moof_offset=u.readUint32()),this.traf_number=u["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=u["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=u["readUint"+8*(this.length_size_of_sample_num+1)]()}),l.createFullBoxCtor("tkhd","TrackHeaderBox",function(u){this.version==1?(this.creation_time=u.readUint64(),this.modification_time=u.readUint64(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint64()):(this.creation_time=u.readUint32(),this.modification_time=u.readUint32(),this.track_id=u.readUint32(),u.readUint32(),this.duration=u.readUint32()),u.readUint32Array(2),this.layer=u.readInt16(),this.alternate_group=u.readInt16(),this.volume=u.readInt16()>>8,u.readUint16(),this.matrix=u.readInt32Array(9),this.width=u.readUint32(),this.height=u.readUint32()}),l.createBoxCtor("tmax","hintmaxrelativetime",function(u){this.time=u.readUint32()}),l.createBoxCtor("tmin","hintminrelativetime",function(u){this.time=u.readUint32()}),l.createBoxCtor("totl","hintBytesSent",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpay","hintBytesSent",function(u){this.bytessent=u.readUint32()}),l.createBoxCtor("tpyl","hintBytesSent",function(u){this.bytessent=u.readUint64()}),l.TrackGroupTypeBox.prototype.parse=function(u){this.parseFullHeader(u),this.track_group_id=u.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(u,h,p,v){l.Box.call(this,u,h),this.hdr_size=p,this.start=v},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(u){this.track_ids=u.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(u){for(var h,p;u.getPosition()<this.start+this.size;)if(h=l.parseOneBox(u,!0,this.size-(u.getPosition()-this.start)),h.code===l.OK)p=new l.TrackReferenceTypeBox(h.type,h.size,h.hdr_size,h.start),p.write===l.Box.prototype.write&&p.type!=="mdat"&&(e.info("BoxParser","TrackReference "+p.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),p.parseDataAndRewind(u)),p.parse(u),this.boxes.push(p);else return},l.createFullBoxCtor("trep","TrackExtensionPropertiesBox",function(u){for(this.track_ID=u.readUint32(),this.boxes=[];u.getPosition()<this.start+this.size;)if(ret=l.parseOneBox(u,!1,this.size-(u.getPosition()-this.start)),ret.code===l.OK)box=ret.box,this.boxes.push(box);else return}),l.createFullBoxCtor("trex","TrackExtendsBox",function(u){this.track_id=u.readUint32(),this.default_sample_description_index=u.readUint32(),this.default_sample_duration=u.readUint32(),this.default_sample_size=u.readUint32(),this.default_sample_flags=u.readUint32()}),l.createBoxCtor("trpy","hintBytesSent",function(u){this.bytessent=u.readUint64()}),l.createFullBoxCtor("trun","TrackRunBox",function(u){var h=0;if(this.sample_count=u.readUint32(),h+=4,this.size-this.hdr_size>h&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=u.readInt32(),h+=4):this.data_offset=0,this.size-this.hdr_size>h&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=u.readUint32(),h+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>h)for(var p=0;p<this.sample_count;p++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[p]=u.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[p]=u.readUint32():this.sample_composition_time_offset[p]=u.readInt32())}),l.createFullBoxCtor("tsel","TrackSelectionBox",function(u){this.switch_group=u.readUint32();var h=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var p=0;p<h;p++)this.attribute_list[p]=u.readUint32()}),l.createFullBoxCtor("txtC","TextConfigBox",function(u){this.config=u.readCString()}),l.createBoxCtor("tyco","TypeCombinationBox",function(u){var h=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var p=0;p<h;p++)this.compatible_brands[p]=u.readString(4)}),l.createFullBoxCtor("udes","UserDescriptionProperty",function(u){this.lang=u.readCString(),this.name=u.readCString(),this.description=u.readCString(),this.tags=u.readCString()}),l.createFullBoxCtor("uncC","UncompressedFrameConfigBox",function(u){var h;if(this.profile=u.readString(4),this.version!=1){if(this.version==0){for(this.component_count=u.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],h=0;h<this.component_count;h++)this.component_index.push(u.readUint16()),this.component_bit_depth_minus_one.push(u.readUint8()),this.component_format.push(u.readUint8()),this.component_align_size.push(u.readUint8());this.sampling_type=u.readUint8(),this.interleave_type=u.readUint8(),this.block_size=u.readUint8();var p=u.readUint8();this.component_little_endian=p>>7&1,this.block_pad_lsb=p>>6&1,this.block_little_endian=p>>5&1,this.block_reversed=p>>4&1,this.pad_unknown=p>>3&1,this.pixel_size=u.readUint32(),this.row_align_size=u.readUint32(),this.tile_align_size=u.readUint32(),this.num_tile_cols_minus_one=u.readUint32(),this.num_tile_rows_minus_one=u.readUint32()}}}),l.createFullBoxCtor("url ","DataEntryUrlBox",function(u){this.flags!==1&&(this.location=u.readCString())}),l.createFullBoxCtor("urn ","DataEntryUrnBox",function(u){this.name=u.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=u.readCString())}),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66","LiveServerManifestBox",!0,!1,function(u){this.LiveServerManifest=u.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3","PiffProtectionSystemSpecificHeaderBox",!0,!1,function(u){this.system_id=l.parseHex16(u);var h=u.readUint32();h>0&&(this.data=u.readUint8Array(h))}),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4","PiffSampleEncryptionBox",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554","PiffTrackEncryptionBox",!0,!1,function(u){this.default_AlgorithmID=u.readUint24(),this.default_IV_size=u.readUint8(),this.default_KID=l.parseHex16(u)}),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f","TfrfBox",!0,!1,function(u){this.fragment_count=u.readUint8(),this.entries=[];for(var h=0;h<this.fragment_count;h++){var p={},v=0,w=0;this.version===1?(v=u.readUint64(),w=u.readUint64()):(v=u.readUint32(),w=u.readUint32()),p.absolute_time=v,p.absolute_duration=w,this.entries.push(p)}}),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2","TfxdBox",!0,!1,function(u){this.version===1?(this.absolute_time=u.readUint64(),this.duration=u.readUint64()):(this.absolute_time=u.readUint32(),this.duration=u.readUint32())}),l.createFullBoxCtor("vmhd","VideoMediaHeaderBox",function(u){this.graphicsmode=u.readUint16(),this.opcolor=u.readUint16Array(3)}),l.createFullBoxCtor("vpcC","VPCodecConfigurationRecord",function(u){var h;this.version===1?(this.profile=u.readUint8(),this.level=u.readUint8(),h=u.readUint8(),this.bitDepth=h>>4,this.chromaSubsampling=h>>1&7,this.videoFullRangeFlag=h&1,this.colourPrimaries=u.readUint8(),this.transferCharacteristics=u.readUint8(),this.matrixCoefficients=u.readUint8(),this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize)):(this.profile=u.readUint8(),this.level=u.readUint8(),h=u.readUint8(),this.bitDepth=h>>4&15,this.colorSpace=h&15,h=u.readUint8(),this.chromaSubsampling=h>>4&15,this.transferFunction=h>>1&7,this.videoFullRangeFlag=h&1,this.codecIntializationDataSize=u.readUint16(),this.codecIntializationData=u.readUint8Array(this.codecIntializationDataSize))}),l.createBoxCtor("vttC","WebVTTConfigurationBox",function(u){this.text=u.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("vvcC","VvcConfigurationBox",function(u){var h,p,v={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(O){this.held_bits=O.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(O){this.held_bits=O.readUint16(),this.num_held_bits=16},extract_bits:function(O){var I=this.held_bits>>this.num_held_bits-O&(1<<O)-1;return this.num_held_bits-=O,I}};if(v.stream_read_1_bytes(u),v.extract_bits(5),this.lengthSizeMinusOne=v.extract_bits(2),this.ptl_present_flag=v.extract_bits(1),this.ptl_present_flag){v.stream_read_2_bytes(u),this.ols_idx=v.extract_bits(9),this.num_sublayers=v.extract_bits(3),this.constant_frame_rate=v.extract_bits(2),this.chroma_format_idc=v.extract_bits(2),v.stream_read_1_bytes(u),this.bit_depth_minus8=v.extract_bits(3),v.extract_bits(5);{if(v.stream_read_2_bytes(u),v.extract_bits(2),this.num_bytes_constraint_info=v.extract_bits(6),this.general_profile_idc=v.extract_bits(7),this.general_tier_flag=v.extract_bits(1),this.general_level_idc=u.readUint8(),v.stream_read_1_bytes(u),this.ptl_frame_only_constraint_flag=v.extract_bits(1),this.ptl_multilayer_enabled_flag=v.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(h=0;h<this.num_bytes_constraint_info-1;h++){var w=v.extract_bits(6);v.stream_read_1_bytes(u);var x=v.extract_bits(2);this.general_constraint_info[h]=w<<2|x}this.general_constraint_info[this.num_bytes_constraint_info-1]=v.extract_bits(6)}else v.extract_bits(6);if(this.num_sublayers>1){for(v.stream_read_1_bytes(u),this.ptl_sublayer_present_mask=0,p=this.num_sublayers-2;p>=0;--p){var S=v.extract_bits(1);this.ptl_sublayer_present_mask|=S<<p}for(p=this.num_sublayers;p<=8&&this.num_sublayers>1;++p)v.extract_bits(1);for(this.sublayer_level_idc=[],p=this.num_sublayers-2;p>=0;--p)this.ptl_sublayer_present_mask&1<<p&&(this.sublayer_level_idc[p]=u.readUint8())}if(this.ptl_num_sub_profiles=u.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(h=0;h<this.ptl_num_sub_profiles;h++)this.general_sub_profile_idc.push(u.readUint32())}this.max_picture_width=u.readUint16(),this.max_picture_height=u.readUint16(),this.avg_frame_rate=u.readUint16()}var E=12,P=13;this.nalu_arrays=[];var T=u.readUint8();for(h=0;h<T;h++){var A=[];this.nalu_arrays.push(A),v.stream_read_1_bytes(u),A.completeness=v.extract_bits(1),v.extract_bits(2),A.nalu_type=v.extract_bits(5);var R=1;for(A.nalu_type!=P&&A.nalu_type!=E&&(R=u.readUint16()),p=0;p<R;p++){var D=u.readUint16();A.push({data:u.readUint8Array(D),length:D})}}}),l.createFullBoxCtor("vvnC","VvcNALUConfigBox",function(u){var h=strm.readUint8();this.lengthSizeMinusOne=h&3}),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(u,h){var p=Number(u).toString(16);for(h=typeof h>"u"||h===null?h=2:h;p.length<h;)p="0"+p;return p},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?u+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):u},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var u,h=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(h+=".",this.hvcC.general_profile_space){case 0:h+="";break;case 1:h+="A";break;case 2:h+="B";break;case 3:h+="C";break}h+=this.hvcC.general_profile_idc,h+=".";var p=this.hvcC.general_profile_compatibility,v=0;for(u=0;u<32&&(v|=p&1,u!=31);u++)v<<=1,p>>=1;h+=l.decimalToHex(v,0),h+=".",this.hvcC.general_tier_flag===0?h+="L":h+="H",h+=this.hvcC.general_level_idc;var w=!1,x="";for(u=5;u>=0;u--)(this.hvcC.general_constraint_indicator[u]||w)&&(x="."+l.decimalToHex(this.hvcC.general_constraint_indicator[u],0)+x,w=!0);h+=x}return h},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var u,h=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){h+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?h+=".H":h+=".L",h+=this.vvcC.general_level_idc;var p="";if(this.vvcC.general_constraint_info){var v=[],w=0;w|=this.vvcC.ptl_frame_only_constraint<<7,w|=this.vvcC.ptl_multilayer_enabled<<6;var x;for(u=0;u<this.vvcC.general_constraint_info.length;++u)w|=this.vvcC.general_constraint_info[u]>>2&63,v.push(w),w&&(x=u),w=this.vvcC.general_constraint_info[u]>>2&3;if(x===void 0)p=".CA";else{p=".C";var S="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",E=0,P=0;for(u=0;u<=x;++u)for(E=E<<8|v[u],P+=8;P>=5;){var T=E>>P-5&31;p+=S[T],P-=5,E&=(1<<P)-1}P&&(E<<=5-P,p+=S[E&31])}}h+=p}return h},l.mp4aSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var h=this.esds.esd.getOTI(),p=this.esds.esd.getAudioConfig();return u+"."+l.decimalToHex(h)+(p?"."+p:"")}else return u},l.stxtSampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?u+"."+this.mime_format:u},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),h=this.vpcC.level;h==0&&(h="00");var p=this.vpcC.bitDepth;return p==8&&(p="08"),u+".0"+this.vpcC.profile+"."+h+"."+p},l.av01SampleEntry.prototype.getCodec=function(){var u=l.SampleEntry.prototype.getCodec.call(this),h=this.av1C.seq_level_idx_0;h<10&&(h="0"+h);var p;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?p=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(p=this.av1C.high_bitdepth===1?"10":"08"),u+"."+this.av1C.seq_profile+"."+h+(this.av1C.seq_tier_0?"H":"M")+"."+p},l.Box.prototype.writeHeader=function(u,h){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+u.getPosition()+(h||"")),this.size>s?u.writeUint32(1):(this.sizePosition=u.getPosition(),u.writeUint32(this.size)),u.writeString(this.type,null,4),this.type==="uuid"&&u.writeUint8Array(this.uuid),this.size>s&&u.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(u){this.size+=4,l.Box.prototype.writeHeader.call(this,u," v="+this.version+" f="+this.flags),u.writeUint8(this.version),u.writeUint24(this.flags)},l.Box.prototype.write=function(u){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(u),u.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(u),this.data&&u.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(u){this.size=0,this.writeHeader(u);for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&(this.boxes[h].write(u),this.size+=this.boxes[h].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(u){this.size=this.track_ids.length*4,this.writeHeader(u),u.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(u){var h;for(this.size=7,h=0;h<this.SPS.length;h++)this.size+=2+this.SPS[h].length;for(h=0;h<this.PPS.length;h++)this.size+=2+this.PPS[h].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8(this.AVCProfileIndication),u.writeUint8(this.profile_compatibility),u.writeUint8(this.AVCLevelIndication),u.writeUint8(this.lengthSizeMinusOne+252),u.writeUint8(this.SPS.length+224),h=0;h<this.SPS.length;h++)u.writeUint16(this.SPS[h].length),u.writeUint8Array(this.SPS[h].nalu);for(u.writeUint8(this.PPS.length),h=0;h<this.PPS.length;h++)u.writeUint16(this.PPS[h].length),u.writeUint8Array(this.PPS[h].nalu);this.ext&&u.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),h=0;h<this.chunk_offsets.length;h++)u.writeUint64(this.chunk_offsets[h])},l.cslgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeInt32(this.compositionToDTSShift),u.writeInt32(this.leastDecodeToDisplayDelta),u.writeInt32(this.greatestDecodeToDisplayDelta),u.writeInt32(this.compositionStartTime),u.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)u.writeUint32(this.sample_counts[h]),this.version===1?u.writeInt32(this.sample_offsets[h]):u.writeUint32(this.sample_offsets[h])},l.drefBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++)this.entries[h].write(u),this.size+=this.entries[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(u),u.writeString(this.extended_language)},l.elstBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(u),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var p=this.entries[h];u.writeUint32(p.segment_duration),u.writeInt32(p.media_time),u.writeInt16(p.media_rate_integer),u.writeInt16(p.media_rate_fraction)}},l.emsgBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(u),u.writeCString(this.scheme_id_uri),u.writeCString(this.value),u.writeUint32(this.timescale),u.writeUint32(this.presentation_time_delta),u.writeUint32(this.event_duration),u.writeUint32(this.id),u.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(u){this.size=8+4*this.compatible_brands.length,this.writeHeader(u),u.writeString(this.major_brand,null,4),u.writeUint32(this.minor_version);for(var h=0;h<this.compatible_brands.length;h++)u.writeString(this.compatible_brands[h],null,4)},l.hdlrBox.prototype.write=function(u){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(u),u.writeUint32(0),u.writeString(this.handler,null,4),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeCString(this.name)},l.hvcCBox.prototype.write=function(u){var h,p;for(this.size=23,h=0;h<this.nalu_arrays.length;h++)for(this.size+=3,p=0;p<this.nalu_arrays[h].length;p++)this.size+=2+this.nalu_arrays[h][p].data.length;for(this.writeHeader(u),u.writeUint8(this.configurationVersion),u.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),u.writeUint32(this.general_profile_compatibility),u.writeUint8Array(this.general_constraint_indicator),u.writeUint8(this.general_level_idc),u.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),u.writeUint8(this.parallelismType+252),u.writeUint8(this.chroma_format_idc+252),u.writeUint8(this.bit_depth_luma_minus8+248),u.writeUint8(this.bit_depth_chroma_minus8+248),u.writeUint16(this.avgFrameRate),u.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),u.writeUint8(this.nalu_arrays.length),h=0;h<this.nalu_arrays.length;h++)for(u.writeUint8((this.nalu_arrays[h].completeness<<7)+this.nalu_arrays[h].nalu_type),u.writeUint16(this.nalu_arrays[h].length),p=0;p<this.nalu_arrays[h].length;p++)u.writeUint16(this.nalu_arrays[h][p].data.length),u.writeUint8Array(this.nalu_arrays[h][p].data)},l.kindBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(u),u.writeCString(this.schemeURI),u.writeCString(this.value)},l.mdhdBox.prototype.write=function(u){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint16(this.language),u.writeUint16(0)},l.mehdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4,this.writeHeader(u),u.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.timescale),u.writeUint32(this.duration),u.writeUint32(this.rate),u.writeUint16(this.volume<<8),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32Array(this.matrix),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(u){this.size=8,l.Box.prototype.writeHeader.call(this,u),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint8(0),u.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(u){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(u),this.size+=this.boxes[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(u){this.writeHeader(u),u.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*7+6*4+32,u.writeUint16(0),u.writeUint16(0),u.writeUint32(0),u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.width),u.writeUint16(this.height),u.writeUint32(this.horizresolution),u.writeUint32(this.vertresolution),u.writeUint32(0),u.writeUint16(this.frame_count),u.writeUint8(Math.min(31,this.compressorname.length)),u.writeString(this.compressorname,null,31),u.writeUint16(this.depth),u.writeInt16(-1),this.writeFooter(u)},l.AudioSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=2*4+3*4,u.writeUint32(0),u.writeUint32(0),u.writeUint16(this.channel_count),u.writeUint16(this.samplesize),u.writeUint16(0),u.writeUint16(0),u.writeUint32(this.samplerate<<16),this.writeFooter(u)},l.stppSampleEntry.prototype.write=function(u){this.writeHeader(u),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,u.writeCString(this.namespace),u.writeCString(this.schema_location),u.writeCString(this.auxiliary_mime_types),this.writeFooter(u)},l.SampleGroupEntry.prototype.write=function(u){u.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(u){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(u),u.writeString(this.grouping_type,null,4),u.writeUint32(this.grouping_type_parameter),u.writeUint32(this.entries.length);for(var h=0;h<this.entries.length;h++){var p=this.entries[h];u.writeInt32(p.sample_count),u.writeInt32(p.group_description_index)}},l.sgpdBox.prototype.write=function(u){var h,p;for(this.flags=0,this.size=12,h=0;h<this.entries.length;h++)p=this.entries[h],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=p.data.length);for(this.writeHeader(u),u.writeString(this.grouping_type,null,4),this.version===1&&u.writeUint32(this.default_length),this.version>=2&&u.writeUint32(this.default_sample_description_index),u.writeUint32(this.entries.length),h=0;h<this.entries.length;h++)p=this.entries[h],this.version===1&&this.default_length===0&&u.writeUint32(p.description_length),p.write(u)},l.sidxBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(u),u.writeUint32(this.reference_ID),u.writeUint32(this.timescale),u.writeUint32(this.earliest_presentation_time),u.writeUint32(this.first_offset),u.writeUint16(0),u.writeUint16(this.references.length);for(var h=0;h<this.references.length;h++){var p=this.references[h];u.writeUint32(p.reference_type<<31|p.referenced_size),u.writeUint32(p.subsegment_duration),u.writeUint32(p.starts_with_SAP<<31|p.SAP_type<<28|p.SAP_delta_time)}},l.smhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=4,this.writeHeader(u),u.writeUint16(this.balance),u.writeUint16(0)},l.stcoBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(u),u.writeUint32(this.chunk_offsets.length),u.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(u),u.writeUint32(this.first_chunk.length),h=0;h<this.first_chunk.length;h++)u.writeUint32(this.first_chunk[h]),u.writeUint32(this.samples_per_chunk[h]),u.writeUint32(this.sample_description_index[h])},l.stsdBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(u),u.writeUint32(this.entries.length),this.size+=4,h=0;h<this.entries.length;h++)this.entries[h].write(u),this.size+=this.entries[h].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),u.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(u),u.writeUint32(this.shadowed_sample_numbers.length),h=0;h<this.shadowed_sample_numbers.length;h++)u.writeUint32(this.shadowed_sample_numbers[h]),u.writeUint32(this.sync_sample_numbers[h])},l.stssBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(u),u.writeUint32(this.sample_numbers.length),u.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(u){var h,p=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(h=0;h+1<this.sample_sizes.length;)if(this.sample_sizes[h+1]!==this.sample_sizes[0]){p=!1;break}else h++;else p=!1;this.size=8,p||(this.size+=4*this.sample_sizes.length),this.writeHeader(u),p?u.writeUint32(this.sample_sizes[0]):u.writeUint32(0),u.writeUint32(this.sample_sizes.length),p||u.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(u){var h;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(u),u.writeUint32(this.sample_counts.length),h=0;h<this.sample_counts.length;h++)u.writeUint32(this.sample_counts[h]),u.writeUint32(this.sample_deltas[h])},l.tfdtBox.prototype.write=function(u){var h=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>h?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(u),this.version===1?u.writeUint64(this.baseMediaDecodeTime):u.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(u),u.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&u.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&u.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&u.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&u.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&u.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(u){this.version=0,this.size=4*18+2*4,this.writeHeader(u),u.writeUint32(this.creation_time),u.writeUint32(this.modification_time),u.writeUint32(this.track_id),u.writeUint32(0),u.writeUint32(this.duration),u.writeUint32(0),u.writeUint32(0),u.writeInt16(this.layer),u.writeInt16(this.alternate_group),u.writeInt16(this.volume<<8),u.writeUint16(0),u.writeInt32Array(this.matrix),u.writeUint32(this.width),u.writeUint32(this.height)},l.trexBox.prototype.write=function(u){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(u),u.writeUint32(this.track_id),u.writeUint32(this.default_sample_description_index),u.writeUint32(this.default_sample_duration),u.writeUint32(this.default_sample_size),u.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(u){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(u),u.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=u.getPosition(),u.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&u.writeUint32(this.first_sample_flags);for(var h=0;h<this.sample_count;h++)this.flags&l.TRUN_FLAGS_DURATION&&u.writeUint32(this.sample_duration[h]),this.flags&l.TRUN_FLAGS_SIZE&&u.writeUint32(this.sample_size[h]),this.flags&l.TRUN_FLAGS_FLAGS&&u.writeUint32(this.sample_flags[h]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?u.writeUint32(this.sample_composition_time_offset[h]):u.writeInt32(this.sample_composition_time_offset[h]))},l["url Box"].prototype.write=function(u){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(u),this.location&&u.writeCString(this.location)},l["urn Box"].prototype.write=function(u){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(u),u.writeCString(this.name),this.location&&u.writeCString(this.location)},l.vmhdBox.prototype.write=function(u){this.version=0,this.flags=1,this.size=8,this.writeHeader(u),u.writeUint16(this.graphicsmode),u.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(u){var h,p,v;for(v=0,h=0;h<this.sample_counts.length;h++)for(p=0;p<this.sample_counts[h];p++)u[v].pts=u[v].dts+this.sample_offsets[h],v++},l.sttsBox.prototype.unpack=function(u){var h,p,v;for(v=0,h=0;h<this.sample_counts.length;h++)for(p=0;p<this.sample_counts[h];p++)v===0?u[v].dts=0:u[v].dts=u[v-1].dts+this.sample_deltas[h],v++},l.stcoBox.prototype.unpack=function(u){var h;for(h=0;h<this.chunk_offsets.length;h++)u[h].offset=this.chunk_offsets[h]},l.stscBox.prototype.unpack=function(u){var h,p,v,w,x;for(w=0,x=0,h=0;h<this.first_chunk.length;h++)for(p=0;p<(h+1<this.first_chunk.length?this.first_chunk[h+1]:1/0);p++)for(x++,v=0;v<this.samples_per_chunk[h];v++){if(u[w])u[w].description_index=this.sample_description_index[h],u[w].chunk_index=x;else return;w++}},l.stszBox.prototype.unpack=function(u){var h;for(h=0;h<this.sample_sizes.length;h++)u[h].size=this.sample_sizes[h]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(u,h){if(u&&!h)return!1;var p;for(p in u)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(p)>-1)){if(u[p]instanceof l.Box||h[p]instanceof l.Box)continue;if(typeof u[p]>"u"||typeof h[p]>"u")continue;if(typeof u[p]=="function"||typeof h[p]=="function")continue;if(u.subBoxNames&&u.subBoxNames.indexOf(p.slice(0,4))>-1||h.subBoxNames&&h.subBoxNames.indexOf(p.slice(0,4))>-1)continue;if(p==="data"||p==="start"||p==="size"||p==="creation_time"||p==="modification_time")continue;if(l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(p)>-1)continue;if(u[p]!==h[p])return!1}return!0},l.boxEqual=function(u,h){if(!l.boxEqualFields(u,h))return!1;for(var p=0;p<l.DIFF_BOXES_PROP_NAMES.length;p++){var v=l.DIFF_BOXES_PROP_NAMES[p];if(u[v]&&h[v]&&!l.boxEqual(u[v],h[v]))return!1}return!0};var m=function(){};m.prototype.parseSample=function(u){var h,p,v=new r(u.buffer);for(h=[];!v.isEos();)p=l.parseOneBox(v,!1),p.code===l.OK&&p.box.type==="vttc"&&h.push(p.box);return h},m.prototype.getText=function(u,h,p){function v(T,A,R){return R=R||"0",T=T+"",T.length>=A?T:new Array(A-T.length+1).join(R)+T}function w(T){var A=Math.floor(T/3600),R=Math.floor((T-A*3600)/60),D=Math.floor(T-A*3600-R*60),O=Math.floor((T-A*3600-R*60-D)*1e3);return""+v(A,2)+":"+v(R,2)+":"+v(D,2)+"."+v(O,3)}for(var x=this.parseSample(p),S="",E=0;E<x.length;E++){var P=x[E];S+=w(u)+" --> "+w(h)+"\r\n",S+=P.payl.text}return S};var g=function(){};g.prototype.parseSample=function(u){var h={},p;h.resources=[];var v=new r(u.data.buffer);if(!u.subsamples||u.subsamples.length===0)h.documentString=v.readString(u.data.length);else if(h.documentString=v.readString(u.subsamples[0].size),u.subsamples.length>1)for(p=1;p<u.subsamples.length;p++)h.resources[p]=v.readUint8Array(u.subsamples[p].size);return typeof DOMParser<"u"&&(h.document=new DOMParser().parseFromString(h.documentString,"application/xml")),h};var y=function(){};y.prototype.parseSample=function(u){var h,p=new r(u.data.buffer);return h=p.readString(u.data.length),h},y.prototype.parseConfig=function(u){var h,p=new r(u.buffer);return p.readUint32(),h=p.readCString(),h},t.VTTin4Parser=m,t.XMLSubtitlein4Parser=g,t.Textin4Parser=y;var _=function(u){this.stream=u||new a,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};_.prototype.setSegmentOptions=function(u,h,p){var v=this.getTrackById(u);if(v){var w={};this.fragmentedTracks.push(w),w.id=u,w.user=h,w.trak=v,v.nextSample=0,w.segmentStream=null,w.nb_samples=1e3,w.rapAlignement=!0,p&&(p.nbSamples&&(w.nb_samples=p.nbSamples),p.rapAlignement&&(w.rapAlignement=p.rapAlignement))}},_.prototype.unsetSegmentOptions=function(u){for(var h=-1,p=0;p<this.fragmentedTracks.length;p++){var v=this.fragmentedTracks[p];v.id==u&&(h=p)}h>-1&&this.fragmentedTracks.splice(h,1)},_.prototype.setExtractionOptions=function(u,h,p){var v=this.getTrackById(u);if(v){var w={};this.extractedTracks.push(w),w.id=u,w.user=h,w.trak=v,v.nextSample=0,w.nb_samples=1e3,w.samples=[],p&&p.nbSamples&&(w.nb_samples=p.nbSamples)}},_.prototype.unsetExtractionOptions=function(u){for(var h=-1,p=0;p<this.extractedTracks.length;p++){var v=this.extractedTracks[p];v.id==u&&(h=p)}h>-1&&this.extractedTracks.splice(h,1)},_.prototype.parse=function(){var u,h,p=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),u=l.parseOneBox(this.stream,p),u.code===l.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(u))continue;return}else return;else{var v;switch(h=u.box,v=h.type!=="uuid"?h.type:h.uuid,this.boxes.push(h),v){case"mdat":this.mdats.push(h);break;case"moof":this.moofs.push(h);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[v]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+v+", overriding previous occurrence"),this[v]=h;break}this.updateUsedBytes&&this.updateUsedBytes(h,u)}},_.prototype.checkBuffer=function(u){if(u==null)throw"Buffer must be defined and non empty";if(u.fileStart===void 0)throw"Buffer must have a fileStart property";return u.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+u.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+u.fileStart+")"),u.usedBytes=0,this.stream.insertBuffer(u),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},_.prototype.appendBuffer=function(u,h){var p;if(this.checkBuffer(u))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(h),this.nextSeekPosition?(p=this.nextSeekPosition,this.nextSeekPosition=void 0):p=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(p=this.stream.getEndFilePositionAfter(p))):this.nextParsePosition?p=this.nextParsePosition:p=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+u.fileStart+") - next buffer to fetch should have a fileStart position of "+p),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),p},_.prototype.getInfo=function(){var u,h,p={},v,w,x,S,E=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(p.hasMoov=!0,p.duration=this.moov.mvhd.duration,p.timescale=this.moov.mvhd.timescale,p.isFragmented=this.moov.mvex!=null,p.isFragmented&&this.moov.mvex.mehd&&(p.fragment_duration=this.moov.mvex.mehd.fragment_duration),p.isProgressive=this.isProgressive,p.hasIOD=this.moov.iods!=null,p.brands=[],p.brands.push(this.ftyp.major_brand),p.brands=p.brands.concat(this.ftyp.compatible_brands),p.created=new Date(E+this.moov.mvhd.creation_time*1e3),p.modified=new Date(E+this.moov.mvhd.modification_time*1e3),p.tracks=[],p.audioTracks=[],p.videoTracks=[],p.subtitleTracks=[],p.metadataTracks=[],p.hintTracks=[],p.otherTracks=[],u=0;u<this.moov.traks.length;u++){if(v=this.moov.traks[u],S=v.mdia.minf.stbl.stsd.entries[0],w={},p.tracks.push(w),w.id=v.tkhd.track_id,w.name=v.mdia.hdlr.name,w.references=[],v.tref)for(h=0;h<v.tref.boxes.length;h++)x={},w.references.push(x),x.type=v.tref.boxes[h].type,x.track_ids=v.tref.boxes[h].track_ids;v.edts&&(w.edits=v.edts.elst.entries),w.created=new Date(E+v.tkhd.creation_time*1e3),w.modified=new Date(E+v.tkhd.modification_time*1e3),w.movie_duration=v.tkhd.duration,w.movie_timescale=p.timescale,w.layer=v.tkhd.layer,w.alternate_group=v.tkhd.alternate_group,w.volume=v.tkhd.volume,w.matrix=v.tkhd.matrix,w.track_width=v.tkhd.width/65536,w.track_height=v.tkhd.height/65536,w.timescale=v.mdia.mdhd.timescale,w.cts_shift=v.mdia.minf.stbl.cslg,w.duration=v.mdia.mdhd.duration,w.samples_duration=v.samples_duration,w.codec=S.getCodec(),w.kind=v.udta&&v.udta.kinds.length?v.udta.kinds[0]:{schemeURI:"",value:""},w.language=v.mdia.elng?v.mdia.elng.extended_language:v.mdia.mdhd.languageString,w.nb_samples=v.samples.length,w.size=v.samples_size,w.bitrate=w.size*8*w.timescale/w.samples_duration,S.isAudio()?(w.type="audio",p.audioTracks.push(w),w.audio={},w.audio.sample_rate=S.getSampleRate(),w.audio.channel_count=S.getChannelCount(),w.audio.sample_size=S.getSampleSize()):S.isVideo()?(w.type="video",p.videoTracks.push(w),w.video={},w.video.width=S.getWidth(),w.video.height=S.getHeight()):S.isSubtitle()?(w.type="subtitles",p.subtitleTracks.push(w)):S.isHint()?(w.type="metadata",p.hintTracks.push(w)):S.isMetadata()?(w.type="metadata",p.metadataTracks.push(w)):(w.type="metadata",p.otherTracks.push(w))}else p.hasMoov=!1;if(p.mime="",p.hasMoov&&p.tracks){for(p.videoTracks&&p.videoTracks.length>0?p.mime+='video/mp4; codecs="':p.audioTracks&&p.audioTracks.length>0?p.mime+='audio/mp4; codecs="':p.mime+='application/mp4; codecs="',u=0;u<p.tracks.length;u++)u!==0&&(p.mime+=","),p.mime+=p.tracks[u].codec;p.mime+='"; profiles="',p.mime+=this.ftyp.compatible_brands.join(),p.mime+='"'}return p},_.prototype.setNextSeekPositionFromSample=function(u){u&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(u.offset+u.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=u.offset+u.alreadyRead)},_.prototype.processSamples=function(u){var h,p;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(h=0;h<this.fragmentedTracks.length;h++){var v=this.fragmentedTracks[h];for(p=v.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+v.id+" for sample "+p.nextSample);var w=this.createFragment(v.id,p.nextSample,v.segmentStream);if(w)v.segmentStream=w,p.nextSample++;else break;if((p.nextSample%v.nb_samples===0||u||p.nextSample>=p.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+v.id+" for samples ["+Math.max(0,p.nextSample-v.nb_samples)+","+(p.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(v.id,v.user,v.segmentStream.buffer,p.nextSample,u||p.nextSample>=p.samples.length),v.segmentStream=null,v!==this.fragmentedTracks[h]))break}}if(this.onSamples!==null)for(h=0;h<this.extractedTracks.length;h++){var x=this.extractedTracks[h];for(p=x.trak;p.nextSample<p.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+x.id+" sample #"+p.nextSample);var S=this.getSample(p,p.nextSample);if(S)p.nextSample++,x.samples.push(S);else{this.setNextSeekPositionFromSample(p.samples[p.nextSample]);break}if((p.nextSample%x.nb_samples===0||p.nextSample>=p.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+x.id+" for sample "+p.nextSample),this.onSamples&&this.onSamples(x.id,x.user,x.samples),x.samples=[],x!==this.extractedTracks[h]))break}}}},_.prototype.getBox=function(u){var h=this.getBoxes(u,!0);return h.length?h[0]:null},_.prototype.getBoxes=function(u,h){var p=[];return _._sweep.call(this,u,p,h),p},_._sweep=function(u,h,p){this.type&&this.type==u&&h.push(this);for(var v in this.boxes){if(h.length&&p)return;_._sweep.call(this.boxes[v],u,h,p)}},_.prototype.getTrackSamplesInfo=function(u){var h=this.getTrackById(u);if(h)return h.samples},_.prototype.getTrackSample=function(u,h){var p=this.getTrackById(u),v=this.getSample(p,h);return v},_.prototype.releaseUsedSamples=function(u,h){var p=0,v=this.getTrackById(u);v.lastValidSample||(v.lastValidSample=0);for(var w=v.lastValidSample;w<h;w++)p+=this.releaseSample(v,w);e.info("ISOFile","Track #"+u+" released samples up to "+h+" (released size: "+p+", remaining: "+this.samplesDataSize+")"),v.lastValidSample=h},_.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},_.prototype.stop=function(){this.sampleProcessingStarted=!1},_.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},_.prototype.seekTrack=function(u,h,p){var v,w,x=1/0,S=0,E=0,P;if(p.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(v=0;v<p.samples.length;v++){if(w=p.samples[v],v===0)E=0,P=w.timescale;else if(w.cts>u*w.timescale){E=v-1;break}h&&w.is_sync&&(S=v)}for(h&&(E=S),u=p.samples[E].cts,p.nextSample=E;p.samples[E].alreadyRead===p.samples[E].size&&p.samples[E+1];)E++;return x=p.samples[E].offset+p.samples[E].alreadyRead,e.info("ISOFile","Seeking to "+(h?"RAP":"")+" sample #"+p.nextSample+" on track "+p.tkhd.track_id+", time "+e.getDurationString(u,P)+" and offset: "+x),{offset:x,time:u/P}},_.prototype.getTrackDuration=function(u){var h;return u.samples?(h=u.samples[u.samples.length-1],(h.cts+h.duration)/h.timescale):1/0},_.prototype.seek=function(u,h){var p=this.moov,v,w,x,S={offset:1/0,time:1/0};if(this.moov){for(x=0;x<p.traks.length;x++)v=p.traks[x],!(u>this.getTrackDuration(v))&&(w=this.seekTrack(u,h,v),w.offset<S.offset&&(S.offset=w.offset),w.time<S.time&&(S.time=w.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(S.time,1)+" needs a buffer with a fileStart position of "+S.offset),S.offset===1/0?S={offset:this.nextParsePosition,time:0}:S.offset=this.stream.getEndFilePositionAfter(S.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+S.offset),S}else throw"Cannot seek: moov not received!"},_.prototype.equal=function(u){for(var h=0;h<this.boxes.length&&h<u.boxes.length;){var p=this.boxes[h],v=u.boxes[h];if(!l.boxEqual(p,v))return!1;h++}return!0},t.ISOFile=_,_.prototype.lastBoxStartPosition=0,_.prototype.parsingMdat=null,_.prototype.nextParsePosition=0,_.prototype.discardMdatData=!1,_.prototype.processIncompleteBox=function(u){var h,p,v;return u.type==="mdat"?(h=new l[u.type+"Box"](u.size),this.parsingMdat=h,this.boxes.push(h),this.mdats.push(h),h.start=u.start,h.hdr_size=u.hdr_size,this.stream.addUsedBytes(h.hdr_size),this.lastBoxStartPosition=h.start+h.size,v=this.stream.seek(h.start+h.size,!1,this.discardMdatData),v?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=h.start+h.size,!1)):(u.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),p=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,p?(this.nextParsePosition=this.stream.getEndPosition(),!0):(u.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+u.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},_.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},_.prototype.processIncompleteMdat=function(){var u,h;return u=this.parsingMdat,h=this.stream.seek(u.start+u.size,!1,this.discardMdatData),h?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},_.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},_.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},_.prototype.updateUsedBytes=function(u,h){this.stream.addUsedBytes&&(u.type==="mdat"?(this.stream.addUsedBytes(u.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(u.size-u.hdr_size)):this.stream.addUsedBytes(u.size))},_.prototype.add=l.Box.prototype.add,_.prototype.addBox=l.Box.prototype.addBox,_.prototype.init=function(u){var h=u||{};this.add("ftyp").set("major_brand",h.brands&&h.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",h.brands||["iso4"]);var p=this.add("moov");return p.add("mvhd").set("timescale",h.timescale||600).set("rate",h.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",h.duration||0).set("volume",h.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),p.add("mvex"),this},_.prototype.addTrack=function(u){this.moov||this.init(u);var h=u||{};h.width=h.width||320,h.height=h.height||320,h.id=h.id||this.moov.mvhd.next_track_id,h.type=h.type||"avc1";var p=this.moov.add("trak");this.moov.mvhd.next_track_id=h.id+1,p.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",h.id).set("duration",h.duration||0).set("layer",h.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",h.width<<16).set("height",h.height<<16);var v=p.add("mdia");v.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",h.timescale||1).set("duration",h.media_duration||0).set("language",h.language||"und"),v.add("hdlr").set("handler",h.hdlr||"vide").set("name",h.name||"Track created with MP4Box.js"),v.add("elng").set("extended_language",h.language||"fr-FR");var w=v.add("minf");if(l[h.type+"SampleEntry"]!==void 0){var x=new l[h.type+"SampleEntry"];x.data_reference_index=1;var S="";for(var E in l.sampleEntryCodes)for(var P=l.sampleEntryCodes[E],T=0;T<P.length;T++)if(P.indexOf(h.type)>-1){S=E;break}switch(S){case"Visual":if(w.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),x.set("width",h.width).set("height",h.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",h.type+" Compressor").set("depth",24),h.avcDecoderConfigRecord){var A=new l.avcCBox;A.parse(new r(h.avcDecoderConfigRecord)),x.addBox(A)}else if(h.hevcDecoderConfigRecord){var R=new l.hvcCBox;R.parse(new r(h.hevcDecoderConfigRecord)),x.addBox(R)}break;case"Audio":w.add("smhd").set("balance",h.balance||0),x.set("channel_count",h.channel_count||2).set("samplesize",h.samplesize||16).set("samplerate",h.samplerate||65536);break;case"Hint":w.add("hmhd");break;case"Subtitle":switch(w.add("sthd"),h.type){case"stpp":x.set("namespace",h.namespace||"nonamespace").set("schema_location",h.schema_location||"").set("auxiliary_mime_types",h.auxiliary_mime_types||"");break}break;case"Metadata":w.add("nmhd");break;case"System":w.add("nmhd");break;default:w.add("nmhd");break}h.description&&x.addBox(h.description),h.description_boxes&&h.description_boxes.forEach(function(O){x.addBox(O)}),w.add("dinf").add("dref").addEntry(new l["url Box"]().set("flags",1));var D=w.add("stbl");return D.add("stsd").addEntry(x),D.add("stts").set("sample_counts",[]).set("sample_deltas",[]),D.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),D.add("stco").set("chunk_offsets",[]),D.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",h.id).set("default_sample_description_index",h.default_sample_description_index||1).set("default_sample_duration",h.default_sample_duration||0).set("default_sample_size",h.default_sample_size||0).set("default_sample_flags",h.default_sample_flags||0),this.buildTrakSampleLists(p),h.id}},l.Box.prototype.computeSize=function(u){var h=u||new n;h.endianness=n.BIG_ENDIAN,this.write(h)},_.prototype.addSample=function(u,h,p){var v=p||{},w={},x=this.getTrackById(u);if(x!==null){w.number=x.samples.length,w.track_id=x.tkhd.track_id,w.timescale=x.mdia.mdhd.timescale,w.description_index=v.sample_description_index?v.sample_description_index-1:0,w.description=x.mdia.minf.stbl.stsd.entries[w.description_index],w.data=h,w.size=h.byteLength,w.alreadyRead=w.size,w.duration=v.duration||1,w.cts=v.cts||0,w.dts=v.dts||0,w.is_sync=v.is_sync||!1,w.is_leading=v.is_leading||0,w.depends_on=v.depends_on||0,w.is_depended_on=v.is_depended_on||0,w.has_redundancy=v.has_redundancy||0,w.degradation_priority=v.degradation_priority||0,w.offset=0,w.subsamples=v.subsamples,x.samples.push(w),x.samples_size+=w.size,x.samples_duration+=w.duration,x.first_dts===void 0&&(x.first_dts=v.dts),this.processSamples();var S=this.createSingleSampleMoof(w);return this.addBox(S),S.computeSize(),S.trafs[0].truns[0].data_offset=S.size+8,this.add("mdat").data=new Uint8Array(h),w}},_.prototype.createSingleSampleMoof=function(u){var h=0;u.is_sync?h=1<<25:h=65536;var p=new l.moofBox;p.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var v=p.add("traf"),w=this.getTrackById(u.track_id);return v.add("tfhd").set("track_id",u.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),v.add("tfdt").set("baseMediaDecodeTime",u.dts-(w.first_dts||0)),v.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[u.duration]).set("sample_size",[u.size]).set("sample_flags",[h]).set("sample_composition_time_offset",[u.cts-u.dts]),p},_.prototype.lastMoofIndex=0,_.prototype.samplesDataSize=0,_.prototype.resetTables=function(){var u,h,p,v,w,x,S,E;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,u=0;u<this.moov.traks.length;u++){h=this.moov.traks[u],h.tkhd.duration=0,h.mdia.mdhd.duration=0,p=h.mdia.minf.stbl.stco||h.mdia.minf.stbl.co64,p.chunk_offsets=[],v=h.mdia.minf.stbl.stsc,v.first_chunk=[],v.samples_per_chunk=[],v.sample_description_index=[],w=h.mdia.minf.stbl.stsz||h.mdia.minf.stbl.stz2,w.sample_sizes=[],x=h.mdia.minf.stbl.stts,x.sample_counts=[],x.sample_deltas=[],S=h.mdia.minf.stbl.ctts,S&&(S.sample_counts=[],S.sample_offsets=[]),E=h.mdia.minf.stbl.stss;var P=h.mdia.minf.stbl.boxes.indexOf(E);P!=-1&&(h.mdia.minf.stbl.boxes[P]=null)}},_.initSampleGroups=function(u,h,p,v,w){var x,S,E,P;function T(A,R,D){this.grouping_type=A,this.grouping_type_parameter=R,this.sbgp=D,this.last_sample_in_run=-1,this.entry_index=-1}for(h&&(h.sample_groups_info=[]),u.sample_groups_info||(u.sample_groups_info=[]),S=0;S<p.length;S++){for(P=p[S].grouping_type+"/"+p[S].grouping_type_parameter,E=new T(p[S].grouping_type,p[S].grouping_type_parameter,p[S]),h&&(h.sample_groups_info[P]=E),u.sample_groups_info[P]||(u.sample_groups_info[P]=E),x=0;x<v.length;x++)v[x].grouping_type===p[S].grouping_type&&(E.description=v[x],E.description.used=!0);if(w)for(x=0;x<w.length;x++)w[x].grouping_type===p[S].grouping_type&&(E.fragment_description=w[x],E.fragment_description.used=!0,E.is_fragment=!0)}if(h){if(w)for(S=0;S<w.length;S++)!w[S].used&&w[S].version>=2&&(P=w[S].grouping_type+"/0",E=new T(w[S].grouping_type,0),E.is_fragment=!0,h.sample_groups_info[P]||(h.sample_groups_info[P]=E))}else for(S=0;S<v.length;S++)!v[S].used&&v[S].version>=2&&(P=v[S].grouping_type+"/0",E=new T(v[S].grouping_type,0),u.sample_groups_info[P]||(u.sample_groups_info[P]=E))},_.setSampleGroupProperties=function(u,h,p,v){var w,x;h.sample_groups=[];for(w in v)if(h.sample_groups[w]={},h.sample_groups[w].grouping_type=v[w].grouping_type,h.sample_groups[w].grouping_type_parameter=v[w].grouping_type_parameter,p>=v[w].last_sample_in_run&&(v[w].last_sample_in_run<0&&(v[w].last_sample_in_run=0),v[w].entry_index++,v[w].entry_index<=v[w].sbgp.entries.length-1&&(v[w].last_sample_in_run+=v[w].sbgp.entries[v[w].entry_index].sample_count)),v[w].entry_index<=v[w].sbgp.entries.length-1?h.sample_groups[w].group_description_index=v[w].sbgp.entries[v[w].entry_index].group_description_index:h.sample_groups[w].group_description_index=-1,h.sample_groups[w].group_description_index!==0){var S;v[w].fragment_description?S=v[w].fragment_description:S=v[w].description,h.sample_groups[w].group_description_index>0?(h.sample_groups[w].group_description_index>65535?x=(h.sample_groups[w].group_description_index>>16)-1:x=h.sample_groups[w].group_description_index-1,S&&x>=0&&(h.sample_groups[w].description=S.entries[x])):S&&S.version>=2&&S.default_group_description_index>0&&(h.sample_groups[w].description=S.entries[S.default_group_description_index-1])}},_.process_sdtp=function(u,h,p){h&&(u?(h.is_leading=u.is_leading[p],h.depends_on=u.sample_depends_on[p],h.is_depended_on=u.sample_is_depended_on[p],h.has_redundancy=u.sample_has_redundancy[p]):(h.is_leading=0,h.depends_on=0,h.is_depended_on=0,h.has_redundancy=0))},_.prototype.buildSampleLists=function(){var u,h;for(u=0;u<this.moov.traks.length;u++)h=this.moov.traks[u],this.buildTrakSampleLists(h)},_.prototype.buildTrakSampleLists=function(u){var h,p,v,w,x,S,E,P,T,A,R,D,O,I,M,G,j,$,H,K,re,fe,ye,he;if(u.samples=[],u.samples_duration=0,u.samples_size=0,p=u.mdia.minf.stbl.stco||u.mdia.minf.stbl.co64,v=u.mdia.minf.stbl.stsc,w=u.mdia.minf.stbl.stsz||u.mdia.minf.stbl.stz2,x=u.mdia.minf.stbl.stts,S=u.mdia.minf.stbl.ctts,E=u.mdia.minf.stbl.stss,P=u.mdia.minf.stbl.stsd,T=u.mdia.minf.stbl.subs,D=u.mdia.minf.stbl.stdp,A=u.mdia.minf.stbl.sbgps,R=u.mdia.minf.stbl.sgpds,$=-1,H=-1,K=-1,re=-1,fe=0,ye=0,he=0,_.initSampleGroups(u,null,A,R),!(typeof w>"u")){for(h=0;h<w.sample_sizes.length;h++){var ue={};ue.number=h,ue.track_id=u.tkhd.track_id,ue.timescale=u.mdia.mdhd.timescale,ue.alreadyRead=0,u.samples[h]=ue,ue.size=w.sample_sizes[h],u.samples_size+=ue.size,h===0?(I=1,O=0,ue.chunk_index=I,ue.chunk_run_index=O,j=v.samples_per_chunk[O],G=0,O+1<v.first_chunk.length?M=v.first_chunk[O+1]-1:M=1/0):h<j?(ue.chunk_index=I,ue.chunk_run_index=O):(I++,ue.chunk_index=I,G=0,I<=M||(O++,O+1<v.first_chunk.length?M=v.first_chunk[O+1]-1:M=1/0),ue.chunk_run_index=O,j+=v.samples_per_chunk[O]),ue.description_index=v.sample_description_index[ue.chunk_run_index]-1,ue.description=P.entries[ue.description_index],ue.offset=p.chunk_offsets[ue.chunk_index-1]+G,G+=ue.size,h>$&&(H++,$<0&&($=0),$+=x.sample_counts[H]),h>0?(u.samples[h-1].duration=x.sample_deltas[H],u.samples_duration+=u.samples[h-1].duration,ue.dts=u.samples[h-1].dts+u.samples[h-1].duration):ue.dts=0,S?(h>=K&&(re++,K<0&&(K=0),K+=S.sample_counts[re]),ue.cts=u.samples[h].dts+S.sample_offsets[re]):ue.cts=ue.dts,E?(h==E.sample_numbers[fe]-1?(ue.is_sync=!0,fe++):(ue.is_sync=!1,ue.degradation_priority=0),T&&T.entries[ye].sample_delta+he==h+1&&(ue.subsamples=T.entries[ye].subsamples,he+=T.entries[ye].sample_delta,ye++)):ue.is_sync=!0,_.process_sdtp(u.mdia.minf.stbl.sdtp,ue,ue.number),D?ue.degradation_priority=D.priority[h]:ue.degradation_priority=0,T&&T.entries[ye].sample_delta+he==h&&(ue.subsamples=T.entries[ye].subsamples,he+=T.entries[ye].sample_delta),(A.length>0||R.length>0)&&_.setSampleGroupProperties(u,ue,h,u.sample_groups_info)}h>0&&(u.samples[h-1].duration=Math.max(u.mdia.mdhd.duration-u.samples[h-1].dts,0),u.samples_duration+=u.samples[h-1].duration)}},_.prototype.updateSampleLists=function(){var u,h,p,v,w,x,S,E,P,T,A,R,D,O,I;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(P=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,P.type=="moof")for(T=P,u=0;u<T.trafs.length;u++){for(A=T.trafs[u],R=this.getTrackById(A.tfhd.track_id),D=this.getTrexById(A.tfhd.track_id),A.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?v=A.tfhd.default_sample_description_index:v=D?D.default_sample_description_index:1,A.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?w=A.tfhd.default_sample_duration:w=D?D.default_sample_duration:0,A.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?x=A.tfhd.default_sample_size:x=D?D.default_sample_size:0,A.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?S=A.tfhd.default_sample_flags:S=D?D.default_sample_flags:0,A.sample_number=0,A.sbgps.length>0&&_.initSampleGroups(R,A,A.sbgps,R.mdia.minf.stbl.sgpds,A.sgpds),h=0;h<A.truns.length;h++){var M=A.truns[h];for(p=0;p<M.sample_count;p++){O={},O.moof_number=this.lastMoofIndex,O.number_in_traf=A.sample_number,A.sample_number++,O.number=R.samples.length,A.first_sample_index=R.samples.length,R.samples.push(O),O.track_id=R.tkhd.track_id,O.timescale=R.mdia.mdhd.timescale,O.description_index=v-1,O.description=R.mdia.minf.stbl.stsd.entries[O.description_index],O.size=x,M.flags&l.TRUN_FLAGS_SIZE&&(O.size=M.sample_size[p]),R.samples_size+=O.size,O.duration=w,M.flags&l.TRUN_FLAGS_DURATION&&(O.duration=M.sample_duration[p]),R.samples_duration+=O.duration,R.first_traf_merged||p>0?O.dts=R.samples[R.samples.length-2].dts+R.samples[R.samples.length-2].duration:(A.tfdt?O.dts=A.tfdt.baseMediaDecodeTime:O.dts=0,R.first_traf_merged=!0),O.cts=O.dts,M.flags&l.TRUN_FLAGS_CTS_OFFSET&&(O.cts=O.dts+M.sample_composition_time_offset[p]),I=S,M.flags&l.TRUN_FLAGS_FLAGS?I=M.sample_flags[p]:p===0&&M.flags&l.TRUN_FLAGS_FIRST_FLAG&&(I=M.first_sample_flags),O.is_sync=!(I>>16&1),O.is_leading=I>>26&3,O.depends_on=I>>24&3,O.is_depended_on=I>>22&3,O.has_redundancy=I>>20&3,O.degradation_priority=I&65535;var G=!!(A.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),j=!!(A.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),$=!!(M.flags&l.TRUN_FLAGS_DATA_OFFSET),H=0;G?H=A.tfhd.base_data_offset:j||h===0?H=T.start:H=E,h===0&&p===0?$?O.offset=H+M.data_offset:O.offset=H:O.offset=E,E=O.offset+O.size,(A.sbgps.length>0||A.sgpds.length>0||R.mdia.minf.stbl.sbgps.length>0||R.mdia.minf.stbl.sgpds.length>0)&&_.setSampleGroupProperties(R,O,O.number_in_traf,A.sample_groups_info)}}if(A.subs){R.has_fragment_subsamples=!0;var K=A.first_sample_index;for(h=0;h<A.subs.entries.length;h++)K+=A.subs.entries[h].sample_delta,O=R.samples[K-1],O.subsamples=A.subs.entries[h].subsamples}}}},_.prototype.getSample=function(u,h){var p,v=u.samples[h];if(!this.moov)return null;if(!v.data)v.data=new Uint8Array(v.size),v.alreadyRead=0,this.samplesDataSize+=v.size,e.debug("ISOFile","Allocating sample #"+h+" on track #"+u.tkhd.track_id+" of size "+v.size+" (total: "+this.samplesDataSize+")");else if(v.alreadyRead==v.size)return v;for(;;){var w=this.stream.findPosition(!0,v.offset+v.alreadyRead,!1);if(w>-1){p=this.stream.buffers[w];var x=p.byteLength-(v.offset+v.alreadyRead-p.fileStart);if(v.size-v.alreadyRead<=x)return e.debug("ISOFile","Getting sample #"+h+" data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+(v.size-v.alreadyRead)+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,v.size-v.alreadyRead),p.usedBytes+=v.size-v.alreadyRead,this.stream.logBufferLevel(),v.alreadyRead=v.size,v;if(x===0)return null;e.debug("ISOFile","Getting sample #"+h+" partial data (alreadyRead: "+v.alreadyRead+" offset: "+(v.offset+v.alreadyRead-p.fileStart)+" read size: "+x+" full size: "+v.size+")"),n.memcpy(v.data.buffer,v.alreadyRead,p,v.offset+v.alreadyRead-p.fileStart,x),v.alreadyRead+=x,p.usedBytes+=x,this.stream.logBufferLevel()}else return null}},_.prototype.releaseSample=function(u,h){var p=u.samples[h];return p.data?(this.samplesDataSize-=p.size,p.data=null,p.alreadyRead=0,p.size):0},_.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},_.prototype.getCodecs=function(){var u,h="";for(u=0;u<this.moov.traks.length;u++){var p=this.moov.traks[u];u>0&&(h+=","),h+=p.mdia.minf.stbl.stsd.entries[0].getCodec()}return h},_.prototype.getTrexById=function(u){var h;if(!this.moov||!this.moov.mvex)return null;for(h=0;h<this.moov.mvex.trexs.length;h++){var p=this.moov.mvex.trexs[h];if(p.track_id==u)return p}return null},_.prototype.getTrackById=function(u){if(this.moov===void 0)return null;for(var h=0;h<this.moov.traks.length;h++){var p=this.moov.traks[h];if(p.tkhd.track_id==u)return p}return null},_.prototype.itemsDataSize=0,_.prototype.flattenItemInfo=function(){var u=this.items,h=this.entity_groups,p,v,w,x=this.meta;if(x!=null&&x.hdlr!==void 0&&x.iinf!==void 0){for(p=0;p<x.iinf.item_infos.length;p++)w={},w.id=x.iinf.item_infos[p].item_ID,u[w.id]=w,w.ref_to=[],w.name=x.iinf.item_infos[p].item_name,x.iinf.item_infos[p].protection_index>0&&(w.protection=x.ipro.protections[x.iinf.item_infos[p].protection_index-1]),x.iinf.item_infos[p].item_type?w.type=x.iinf.item_infos[p].item_type:w.type="mime",w.content_type=x.iinf.item_infos[p].content_type,w.content_encoding=x.iinf.item_infos[p].content_encoding,w.item_uri_type=x.iinf.item_infos[p].item_uri_type;if(x.grpl)for(p=0;p<x.grpl.boxes.length;p++)entity_group={},entity_group.id=x.grpl.boxes[p].group_id,entity_group.entity_ids=x.grpl.boxes[p].entity_ids,entity_group.type=x.grpl.boxes[p].type,h[entity_group.id]=entity_group;if(x.iloc)for(p=0;p<x.iloc.items.length;p++){var S=x.iloc.items[p];switch(w=u[S.item_ID],S.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),w.source=x.dinf.boxes[S.data_reference_index-1]),S.construction_method){case 0:break;case 1:break;case 2:e.warn("Item storage with construction_method : not supported");break}for(w.extents=[],w.size=0,v=0;v<S.extents.length;v++)w.extents[v]={},w.extents[v].offset=S.extents[v].extent_offset+S.base_offset,S.construction_method==1&&(w.extents[v].offset+=x.idat.start+x.idat.hdr_size),w.extents[v].length=S.extents[v].extent_length,w.extents[v].alreadyRead=0,w.size+=w.extents[v].length}if(x.pitm&&(u[x.pitm.item_id].primary=!0),x.iref)for(p=0;p<x.iref.references.length;p++){var E=x.iref.references[p];for(v=0;v<E.references.length;v++)u[E.from_item_ID].ref_to.push({type:E.type,id:E.references[v]})}if(x.iprp)for(var P=0;P<x.iprp.ipmas.length;P++){var T=x.iprp.ipmas[P];for(p=0;p<T.associations.length;p++){var A=T.associations[p];if(w=u[A.id],w||(w=h[A.id]),w)for(w.properties===void 0&&(w.properties={},w.properties.boxes=[]),v=0;v<A.props.length;v++){var R=A.props[v];if(R.property_index>0&&R.property_index-1<x.iprp.ipco.boxes.length){var D=x.iprp.ipco.boxes[R.property_index-1];w.properties[D.type]=D,w.properties.boxes.push(D)}}}}}},_.prototype.getItem=function(u){var h,p;if(!this.meta)return null;if(p=this.items[u],!p.data&&p.size)p.data=new Uint8Array(p.size),p.alreadyRead=0,this.itemsDataSize+=p.size,e.debug("ISOFile","Allocating item #"+u+" of size "+p.size+" (total: "+this.itemsDataSize+")");else if(p.alreadyRead===p.size)return p;for(var v=0;v<p.extents.length;v++){var w=p.extents[v];if(w.alreadyRead!==w.length){var x=this.stream.findPosition(!0,w.offset+w.alreadyRead,!1);if(x>-1){h=this.stream.buffers[x];var S=h.byteLength-(w.offset+w.alreadyRead-h.fileStart);if(w.length-w.alreadyRead<=S)e.debug("ISOFile","Getting item #"+u+" extent #"+v+" data (alreadyRead: "+w.alreadyRead+" offset: "+(w.offset+w.alreadyRead-h.fileStart)+" read size: "+(w.length-w.alreadyRead)+" full extent size: "+w.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,h,w.offset+w.alreadyRead-h.fileStart,w.length-w.alreadyRead),h.usedBytes+=w.length-w.alreadyRead,this.stream.logBufferLevel(),p.alreadyRead+=w.length-w.alreadyRead,w.alreadyRead=w.length;else return e.debug("ISOFile","Getting item #"+u+" extent #"+v+" partial data (alreadyRead: "+w.alreadyRead+" offset: "+(w.offset+w.alreadyRead-h.fileStart)+" read size: "+S+" full extent size: "+w.length+" full item size: "+p.size+")"),n.memcpy(p.data.buffer,p.alreadyRead,h,w.offset+w.alreadyRead-h.fileStart,S),w.alreadyRead+=S,p.alreadyRead+=S,h.usedBytes+=S,this.stream.logBufferLevel(),null}else return null}}return p.alreadyRead===p.size?p:null},_.prototype.releaseItem=function(u){var h=this.items[u];if(h.data){this.itemsDataSize-=h.size,h.data=null,h.alreadyRead=0;for(var p=0;p<h.extents.length;p++){var v=h.extents[p];v.alreadyRead=0}return h.size}else return 0},_.prototype.processItems=function(u){for(var h in this.items){var p=this.items[h];this.getItem(p.id),u&&!p.sent&&(u(p),p.sent=!0,p.data=null)}},_.prototype.hasItem=function(u){for(var h in this.items){var p=this.items[h];if(p.name===u)return p.id}return-1},_.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},_.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},_.prototype.itemToFragmentedTrackFile=function(u){var h=u||{},p=null;if(h.itemId?p=this.getItem(h.itemId):p=this.getPrimaryItem(),p==null)return null;var v=new _;v.discardMdatData=!1;var w={type:p.type,description_boxes:p.properties.boxes};p.properties.ispe&&(w.width=p.properties.ispe.image_width,w.height=p.properties.ispe.image_height);var x=v.addTrack(w);return x?(v.addSample(x,p.data),v):null},_.prototype.write=function(u){for(var h=0;h<this.boxes.length;h++)this.boxes[h].write(u)},_.prototype.createFragment=function(u,h,p){var v=this.getTrackById(u),w=this.getSample(v,h);if(w==null)return this.setNextSeekPositionFromSample(v.samples[h]),null;var x=p||new n;x.endianness=n.BIG_ENDIAN;var S=this.createSingleSampleMoof(w);S.write(x),S.trafs[0].truns[0].data_offset=S.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+S.trafs[0].truns[0].data_offset),x.adjustUint32(S.trafs[0].truns[0].data_offset_position,S.trafs[0].truns[0].data_offset);var E=new l.mdatBox;return E.data=w.data,E.write(x),x},_.writeInitializationSegment=function(u,h,p,v){var w;e.debug("ISOFile","Generating initialization segment");var x=new n;x.endianness=n.BIG_ENDIAN,u.write(x);var S=h.add("mvex");for(p&&S.add("mehd").set("fragment_duration",p),w=0;w<h.traks.length;w++)S.add("trex").set("track_id",h.traks[w].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",v).set("default_sample_size",0).set("default_sample_flags",65536);return h.write(x),x.buffer},_.prototype.save=function(u){var h=new n;h.endianness=n.BIG_ENDIAN,this.write(h),h.save(u)},_.prototype.getBuffer=function(){var u=new n;return u.endianness=n.BIG_ENDIAN,this.write(u),u.buffer},_.prototype.initializeSegmentation=function(){var u,h,p,v;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),h=[],u=0;u<this.fragmentedTracks.length;u++){var w=new l.moovBox;w.mvhd=this.moov.mvhd,w.boxes.push(w.mvhd),p=this.getTrackById(this.fragmentedTracks[u].id),w.boxes.push(p),w.traks.push(p),v={},v.id=p.tkhd.track_id,v.user=this.fragmentedTracks[u].user,v.buffer=_.writeInitializationSegment(this.ftyp,w,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[u].samples.length>0?this.moov.traks[u].samples[0].duration:0),h.push(v)}return h},l.Box.prototype.printHeader=function(u){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),u.log(u.indent+"size:"+this.size),u.log(u.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(u){this.size+=4,l.Box.prototype.printHeader.call(this,u),u.log(u.indent+"version:"+this.version),u.log(u.indent+"flags:"+this.flags)},l.Box.prototype.print=function(u){this.printHeader(u)},l.ContainerBox.prototype.print=function(u){this.printHeader(u);for(var h=0;h<this.boxes.length;h++)if(this.boxes[h]){var p=u.indent;u.indent+=" ",this.boxes[h].print(u),u.indent=p}},_.prototype.print=function(u){u.indent="";for(var h=0;h<this.boxes.length;h++)this.boxes[h]&&this.boxes[h].print(u)},l.mvhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"timescale: "+this.timescale),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"rate: "+this.rate),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(u){l.FullBox.prototype.printHeader.call(this,u),u.log(u.indent+"creation_time: "+this.creation_time),u.log(u.indent+"modification_time: "+this.modification_time),u.log(u.indent+"track_id: "+this.track_id),u.log(u.indent+"duration: "+this.duration),u.log(u.indent+"volume: "+(this.volume>>8)),u.log(u.indent+"matrix: "+this.matrix.join(", ")),u.log(u.indent+"layer: "+this.layer),u.log(u.indent+"alternate_group: "+this.alternate_group),u.log(u.indent+"width: "+this.width),u.log(u.indent+"height: "+this.height)};var b={};b.createFile=function(u,h){var p=u!==void 0?u:!0,v=new _(h);return v.discardMdatData=!p,v},t.createFile=b.createFile})(AG);const MYe=ui(AG);var vge=typeof global=="object"&&global&&global.Object===Object&&global;const TG=vge;var yge=typeof self=="object"&&self&&self.Object===Object&&self,_ge=TG||yge||Function("return this")();const No=_ge;var bge=No.Symbol;const cp=bge;var PG=Object.prototype,wge=PG.hasOwnProperty,xge=PG.toString,Im=cp?cp.toStringTag:void 0;function Ege(t){var e=wge.call(t,Im),r=t[Im];try{t[Im]=void 0;var n=!0}catch(a){}var s=xge.call(t);return n&&(e?t[Im]=r:delete t[Im]),s}var Sge=Object.prototype,Cge=Sge.toString;function Age(t){return Cge.call(t)}var Tge="[object Null]",Pge="[object Undefined]",VL=cp?cp.toStringTag:void 0;function $p(t){return t==null?t===void 0?Pge:Tge:VL&&VL in Object(t)?Ege(t):Age(t)}function of(t){return t!=null&&typeof t=="object"}var Dge=Array.isArray;const Mv=Dge;function bc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function DG(t){return t}var Rge="[object AsyncFunction]",Oge="[object Function]",Ige="[object GeneratorFunction]",Bge="[object Proxy]";function XI(t){if(!bc(t))return!1;var e=$p(t);return e==Oge||e==Ige||e==Rge||e==Bge}var Fge=No["__core-js_shared__"];const bA=Fge;var GL=function(){var t=/[^.]+$/.exec(bA&&bA.keys&&bA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mge(t){return!!GL&&GL in t}var kge=Function.prototype,Nge=kge.toString;function lf(t){if(t!=null){try{return Nge.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var Lge=/[\\^$.*+?()[\]{}|]/g,Uge=/^\[object .+?Constructor\]$/,$ge=Function.prototype,jge=Object.prototype,zge=$ge.toString,Vge=jge.hasOwnProperty,Gge=RegExp("^"+zge.call(Vge).replace(Lge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hge(t){if(!bc(t)||Mge(t))return!1;var e=XI(t)?Gge:Uge;return e.test(lf(t))}function Wge(t,e){return t==null?void 0:t[e]}function uf(t,e){var r=Wge(t,e);return Hge(r)?r:void 0}var Kge=uf(No,"WeakMap");const FD=Kge;var HL=Object.create,Xge=function(){function t(){}return function(e){if(!bc(e))return{};if(HL)return HL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Yge=Xge;function qge(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function RG(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Zge=800,Jge=16,Qge=Date.now;function eve(t){var e=0,r=0;return function(){var n=Qge(),s=Jge-(n-r);if(r=n,s>0){if(++e>=Zge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function tve(t){return function(){return t}}var rve=function(){try{var t=uf(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const cw=rve;var nve=cw?function(t,e){return cw(t,"toString",{configurable:!0,enumerable:!1,value:tve(e),writable:!0})}:DG;const ive=nve;var sve=eve(ive);const ave=sve;function ove(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var lve=9007199254740991,uve=/^(?:0|[1-9]\d*)$/;function OG(t,e){var r=typeof t;return e=e==null?lve:e,!!e&&(r=="number"||r!="symbol"&&uve.test(t))&&t>-1&&t%1==0&&t<e}function YI(t,e,r){e=="__proto__"&&cw?cw(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function bE(t,e){return t===e||t!==t&&e!==e}var cve=Object.prototype,dve=cve.hasOwnProperty;function IG(t,e,r){var n=t[e];(!(dve.call(t,e)&&bE(n,r))||r===void 0&&!(e in t))&&YI(t,e,r)}function Wy(t,e,r,n){var s=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?YI(r,l,c):IG(r,l,c)}return r}var WL=Math.max;function fve(t,e,r){return e=WL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=WL(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),qge(t,this,l)}}function hve(t,e){return ave(fve(t,e,DG),t+"")}var pve=9007199254740991;function BG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pve}function wE(t){return t!=null&&BG(t.length)&&!XI(t)}function mve(t,e,r){if(!bc(r))return!1;var n=typeof e;return(n=="number"?wE(r)&&OG(e,r.length):n=="string"&&e in r)?bE(r[e],t):!1}function gve(t){return hve(function(e,r){var n=-1,s=r.length,a=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,o&&mve(r[0],r[1],o)&&(a=s<3?void 0:a,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,a)}return e})}var vve=Object.prototype;function qI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||vve;return t===r}function yve(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var _ve="[object Arguments]";function KL(t){return of(t)&&$p(t)==_ve}var FG=Object.prototype,bve=FG.hasOwnProperty,wve=FG.propertyIsEnumerable,xve=KL(function(){return arguments}())?KL:function(t){return of(t)&&bve.call(t,"callee")&&!wve.call(t,"callee")};const MD=xve;function Eve(){return!1}var MG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XL=MG&&typeof module=="object"&&module&&!module.nodeType&&module,Sve=XL&&XL.exports===MG,YL=Sve?No.Buffer:void 0,Cve=YL?YL.isBuffer:void 0,Ave=Cve||Eve;const ZI=Ave;var Tve="[object Arguments]",Pve="[object Array]",Dve="[object Boolean]",Rve="[object Date]",Ove="[object Error]",Ive="[object Function]",Bve="[object Map]",Fve="[object Number]",Mve="[object Object]",kve="[object RegExp]",Nve="[object Set]",Lve="[object String]",Uve="[object WeakMap]",$ve="[object ArrayBuffer]",jve="[object DataView]",zve="[object Float32Array]",Vve="[object Float64Array]",Gve="[object Int8Array]",Hve="[object Int16Array]",Wve="[object Int32Array]",Kve="[object Uint8Array]",Xve="[object Uint8ClampedArray]",Yve="[object Uint16Array]",qve="[object Uint32Array]",Rr={};Rr[zve]=Rr[Vve]=Rr[Gve]=Rr[Hve]=Rr[Wve]=Rr[Kve]=Rr[Xve]=Rr[Yve]=Rr[qve]=!0;Rr[Tve]=Rr[Pve]=Rr[$ve]=Rr[Dve]=Rr[jve]=Rr[Rve]=Rr[Ove]=Rr[Ive]=Rr[Bve]=Rr[Fve]=Rr[Mve]=Rr[kve]=Rr[Nve]=Rr[Lve]=Rr[Uve]=!1;function Zve(t){return of(t)&&BG(t.length)&&!!Rr[$p(t)]}function JI(t){return function(e){return t(e)}}var kG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bg=kG&&typeof module=="object"&&module&&!module.nodeType&&module,Jve=Bg&&Bg.exports===kG,wA=Jve&&TG.process,Qve=function(){try{var t=Bg&&Bg.require&&Bg.require("util").types;return t||wA&&wA.binding&&wA.binding("util")}catch(e){}}();const dp=Qve;var qL=dp&&dp.isTypedArray,eye=qL?JI(qL):Zve;const NG=eye;var tye=Object.prototype,rye=tye.hasOwnProperty;function LG(t,e){var r=Mv(t),n=!r&&MD(t),s=!r&&!n&&ZI(t),a=!r&&!n&&!s&&NG(t),o=r||n||s||a,l=o?yve(t.length,String):[],c=l.length;for(var d in t)(e||rye.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||OG(d,c)))&&l.push(d);return l}function UG(t,e){return function(r){return t(e(r))}}var nye=UG(Object.keys,Object);const iye=nye;var sye=Object.prototype,aye=sye.hasOwnProperty;function oye(t){if(!qI(t))return iye(t);var e=[];for(var r in Object(t))aye.call(t,r)&&r!="constructor"&&e.push(r);return e}function QI(t){return wE(t)?LG(t):oye(t)}function lye(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var uye=Object.prototype,cye=uye.hasOwnProperty;function dye(t){if(!bc(t))return lye(t);var e=qI(t),r=[];for(var n in t)n=="constructor"&&(e||!cye.call(t,n))||r.push(n);return r}function Ky(t){return wE(t)?LG(t,!0):dye(t)}var fye=uf(Object,"create");const kv=fye;function hye(){this.__data__=kv?kv(null):{},this.size=0}function pye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mye="__lodash_hash_undefined__",gye=Object.prototype,vye=gye.hasOwnProperty;function yye(t){var e=this.__data__;if(kv){var r=e[t];return r===mye?void 0:r}return vye.call(e,t)?e[t]:void 0}var _ye=Object.prototype,bye=_ye.hasOwnProperty;function wye(t){var e=this.__data__;return kv?e[t]!==void 0:bye.call(e,t)}var xye="__lodash_hash_undefined__";function Eye(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kv&&e===void 0?xye:e,this}function $d(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$d.prototype.clear=hye;$d.prototype.delete=pye;$d.prototype.get=yye;$d.prototype.has=wye;$d.prototype.set=Eye;function Sye(){this.__data__=[],this.size=0}function xE(t,e){for(var r=t.length;r--;)if(bE(t[r][0],e))return r;return-1}var Cye=Array.prototype,Aye=Cye.splice;function Tye(t){var e=this.__data__,r=xE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Aye.call(e,r,1),--this.size,!0}function Pye(t){var e=this.__data__,r=xE(e,t);return r<0?void 0:e[r][1]}function Dye(t){return xE(this.__data__,t)>-1}function Rye(t,e){var r=this.__data__,n=xE(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function jl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jl.prototype.clear=Sye;jl.prototype.delete=Tye;jl.prototype.get=Pye;jl.prototype.has=Dye;jl.prototype.set=Rye;var Oye=uf(No,"Map");const Nv=Oye;function Iye(){this.size=0,this.__data__={hash:new $d,map:new(Nv||jl),string:new $d}}function Bye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function EE(t,e){var r=t.__data__;return Bye(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Fye(t){var e=EE(this,t).delete(t);return this.size-=e?1:0,e}function Mye(t){return EE(this,t).get(t)}function kye(t){return EE(this,t).has(t)}function Nye(t,e){var r=EE(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function jp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jp.prototype.clear=Iye;jp.prototype.delete=Fye;jp.prototype.get=Mye;jp.prototype.has=kye;jp.prototype.set=Nye;function $G(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var Lye=UG(Object.getPrototypeOf,Object);const eB=Lye;var Uye="[object Object]",$ye=Function.prototype,jye=Object.prototype,jG=$ye.toString,zye=jye.hasOwnProperty,Vye=jG.call(Object);function Gye(t){if(!of(t)||$p(t)!=Uye)return!1;var e=eB(t);if(e===null)return!0;var r=zye.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&jG.call(r)==Vye}function Hye(){this.__data__=new jl,this.size=0}function Wye(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Kye(t){return this.__data__.get(t)}function Xye(t){return this.__data__.has(t)}var Yye=200;function qye(t,e){var r=this.__data__;if(r instanceof jl){var n=r.__data__;if(!Nv||n.length<Yye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new jp(n)}return r.set(t,e),this.size=r.size,this}function cf(t){var e=this.__data__=new jl(t);this.size=e.size}cf.prototype.clear=Hye;cf.prototype.delete=Wye;cf.prototype.get=Kye;cf.prototype.has=Xye;cf.prototype.set=qye;function Zye(t,e){return t&&Wy(e,QI(e),t)}function Jye(t,e){return t&&Wy(e,Ky(e),t)}var zG=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ZL=zG&&typeof module=="object"&&module&&!module.nodeType&&module,Qye=ZL&&ZL.exports===zG,JL=Qye?No.Buffer:void 0,QL=JL?JL.allocUnsafe:void 0;function VG(t,e){if(e)return t.slice();var r=t.length,n=QL?QL(r):new t.constructor(r);return t.copy(n),n}function e_e(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}function GG(){return[]}var t_e=Object.prototype,r_e=t_e.propertyIsEnumerable,eU=Object.getOwnPropertySymbols,n_e=eU?function(t){return t==null?[]:(t=Object(t),e_e(eU(t),function(e){return r_e.call(t,e)}))}:GG;const tB=n_e;function i_e(t,e){return Wy(t,tB(t),e)}var s_e=Object.getOwnPropertySymbols,a_e=s_e?function(t){for(var e=[];t;)$G(e,tB(t)),t=eB(t);return e}:GG;const HG=a_e;function o_e(t,e){return Wy(t,HG(t),e)}function WG(t,e,r){var n=e(t);return Mv(t)?n:$G(n,r(t))}function l_e(t){return WG(t,QI,tB)}function u_e(t){return WG(t,Ky,HG)}var c_e=uf(No,"DataView");const kD=c_e;var d_e=uf(No,"Promise");const ND=d_e;var f_e=uf(No,"Set");const LD=f_e;var tU="[object Map]",h_e="[object Object]",rU="[object Promise]",nU="[object Set]",iU="[object WeakMap]",sU="[object DataView]",p_e=lf(kD),m_e=lf(Nv),g_e=lf(ND),v_e=lf(LD),y_e=lf(FD),Yc=$p;(kD&&Yc(new kD(new ArrayBuffer(1)))!=sU||Nv&&Yc(new Nv)!=tU||ND&&Yc(ND.resolve())!=rU||LD&&Yc(new LD)!=nU||FD&&Yc(new FD)!=iU)&&(Yc=function(t){var e=$p(t),r=e==h_e?t.constructor:void 0,n=r?lf(r):"";if(n)switch(n){case p_e:return sU;case m_e:return tU;case g_e:return rU;case v_e:return nU;case y_e:return iU}return e});const rB=Yc;var __e=Object.prototype,b_e=__e.hasOwnProperty;function w_e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&b_e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var x_e=No.Uint8Array;const aU=x_e;function nB(t){var e=new t.constructor(t.byteLength);return new aU(e).set(new aU(t)),e}function E_e(t,e){var r=e?nB(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var S_e=/\w*$/;function C_e(t){var e=new t.constructor(t.source,S_e.exec(t));return e.lastIndex=t.lastIndex,e}var oU=cp?cp.prototype:void 0,lU=oU?oU.valueOf:void 0;function A_e(t){return lU?Object(lU.call(t)):{}}function KG(t,e){var r=e?nB(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var T_e="[object Boolean]",P_e="[object Date]",D_e="[object Map]",R_e="[object Number]",O_e="[object RegExp]",I_e="[object Set]",B_e="[object String]",F_e="[object Symbol]",M_e="[object ArrayBuffer]",k_e="[object DataView]",N_e="[object Float32Array]",L_e="[object Float64Array]",U_e="[object Int8Array]",$_e="[object Int16Array]",j_e="[object Int32Array]",z_e="[object Uint8Array]",V_e="[object Uint8ClampedArray]",G_e="[object Uint16Array]",H_e="[object Uint32Array]";function W_e(t,e,r){var n=t.constructor;switch(e){case M_e:return nB(t);case T_e:case P_e:return new n(+t);case k_e:return E_e(t,r);case N_e:case L_e:case U_e:case $_e:case j_e:case z_e:case V_e:case G_e:case H_e:return KG(t,r);case D_e:return new n;case R_e:case B_e:return new n(t);case O_e:return C_e(t);case I_e:return new n;case F_e:return A_e(t)}}function XG(t){return typeof t.constructor=="function"&&!qI(t)?Yge(eB(t)):{}}var K_e="[object Map]";function X_e(t){return of(t)&&rB(t)==K_e}var uU=dp&&dp.isMap,Y_e=uU?JI(uU):X_e;const q_e=Y_e;var Z_e="[object Set]";function J_e(t){return of(t)&&rB(t)==Z_e}var cU=dp&&dp.isSet,Q_e=cU?JI(cU):J_e;const e0e=Q_e;var t0e=1,r0e=2,n0e=4,YG="[object Arguments]",i0e="[object Array]",s0e="[object Boolean]",a0e="[object Date]",o0e="[object Error]",qG="[object Function]",l0e="[object GeneratorFunction]",u0e="[object Map]",c0e="[object Number]",ZG="[object Object]",d0e="[object RegExp]",f0e="[object Set]",h0e="[object String]",p0e="[object Symbol]",m0e="[object WeakMap]",g0e="[object ArrayBuffer]",v0e="[object DataView]",y0e="[object Float32Array]",_0e="[object Float64Array]",b0e="[object Int8Array]",w0e="[object Int16Array]",x0e="[object Int32Array]",E0e="[object Uint8Array]",S0e="[object Uint8ClampedArray]",C0e="[object Uint16Array]",A0e="[object Uint32Array]",xr={};xr[YG]=xr[i0e]=xr[g0e]=xr[v0e]=xr[s0e]=xr[a0e]=xr[y0e]=xr[_0e]=xr[b0e]=xr[w0e]=xr[x0e]=xr[u0e]=xr[c0e]=xr[ZG]=xr[d0e]=xr[f0e]=xr[h0e]=xr[p0e]=xr[E0e]=xr[S0e]=xr[C0e]=xr[A0e]=!0;xr[o0e]=xr[qG]=xr[m0e]=!1;function U1(t,e,r,n,s,a){var o,l=e&t0e,c=e&r0e,d=e&n0e;if(r&&(o=s?r(t,n,s,a):r(t)),o!==void 0)return o;if(!bc(t))return t;var f=Mv(t);if(f){if(o=w_e(t),!l)return RG(t,o)}else{var m=rB(t),g=m==qG||m==l0e;if(ZI(t))return VG(t,l);if(m==ZG||m==YG||g&&!s){if(o=c||g?{}:XG(t),!l)return c?o_e(t,Jye(o,t)):i_e(t,Zye(o,t))}else{if(!xr[m])return s?t:{};o=W_e(t,m,l)}}a||(a=new cf);var y=a.get(t);if(y)return y;a.set(t,o),e0e(t)?t.forEach(function(u){o.add(U1(u,e,r,u,t,a))}):q_e(t)&&t.forEach(function(u,h){o.set(h,U1(u,e,r,h,t,a))});var _=d?c?u_e:l_e:c?Ky:QI,b=f?void 0:_(t);return ove(b||t,function(u,h){b&&(h=u,u=t[h]),IG(o,h,U1(u,e,r,h,t,a))}),o}var T0e=1,P0e=4;function kYe(t){return U1(t,T0e|P0e)}function D0e(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var R0e=D0e();const O0e=R0e;function UD(t,e,r){(r!==void 0&&!bE(t[e],r)||r===void 0&&!(e in t))&&YI(t,e,r)}function I0e(t){return of(t)&&wE(t)}function $D(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function B0e(t){return Wy(t,Ky(t))}function F0e(t,e,r,n,s,a,o){var l=$D(t,r),c=$D(e,r),d=o.get(c);if(d){UD(t,r,d);return}var f=a?a(l,c,r+"",t,e,o):void 0,m=f===void 0;if(m){var g=Mv(c),y=!g&&ZI(c),_=!g&&!y&&NG(c);f=c,g||y||_?Mv(l)?f=l:I0e(l)?f=RG(l):y?(m=!1,f=VG(c,!0)):_?(m=!1,f=KG(c,!0)):f=[]:Gye(c)||MD(c)?(f=l,MD(l)?f=B0e(l):(!bc(l)||XI(l))&&(f=XG(c))):m=!1}m&&(o.set(c,f),s(f,c,n,a,o),o.delete(c)),UD(t,r,f)}function JG(t,e,r,n,s){t!==e&&O0e(e,function(a,o){if(s||(s=new cf),bc(a))F0e(t,e,o,r,JG,n,s);else{var l=n?n($D(t,o),a,o+"",t,e,s):void 0;l===void 0&&(l=a),UD(t,o,l)}},Ky)}var M0e=gve(function(t,e,r){JG(t,e,r)});const NYe=M0e;function rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.1
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ps={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},fp={duration:.5,overwrite:!1,delay:0},iB,si,Gr,ia=1e8,_r=1/ia,jD=Math.PI*2,k0e=jD/4,N0e=0,eH=Math.sqrt,L0e=Math.cos,U0e=Math.sin,qn=function(e){return typeof e=="string"},un=function(e){return typeof e=="function"},Pl=function(e){return typeof e=="number"},sB=function(e){return typeof e>"u"},Fo=function(e){return typeof e=="object"},ts=function(e){return e!==!1},aB=function(){return typeof window<"u"},x0=function(e){return un(e)||qn(e)},tH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_i=Array.isArray,$0e=/random\([^)]+\)/g,j0e=/,\s*/g,dU=/(?:-?\.?\d|\.)+/gi,rH=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,xA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,nH=/[+-]=-?[.\d]+/,z0e=/[^,'"\[\]\s]+/gi,V0e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Zr,fo,zD,oB,Os={},dw={},iH,sH=function(e){return(dw=hp(e,Os))&&as},lB=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Lv=function(e,r){return!r&&console.warn(e)},aH=function(e,r){return e&&(Os[e]=r)&&dw&&(dw[e]=r)||Os},Uv=function(){return 0},G0e={suppressEvents:!0,isStart:!0,kill:!1},$1={suppressEvents:!0,kill:!1},H0e={suppressEvents:!0},uB={},Gu=[],VD={},oH,vs={},EA={},fU=30,j1=[],cB="",dB=function(e){var r=e[0],n,s;if(Fo(r)||un(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=j1.length;s--&&!j1[s].targetTest(r););n=j1[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new OH(e[s],n)))||e.splice(s,1);return e},Ed=function(e){return e._gsap||dB(sa(e))[0]._gsap},lH=function(e,r,n){return(n=e[r])&&un(n)?e[r]():sB(n)&&e.getAttribute&&e.getAttribute(r)||n},rs=function(e,r){return(e=e.split(",")).forEach(r)||e},hn=function(e){return Math.round(e*1e5)/1e5||0},Yr=function(e){return Math.round(e*1e7)/1e7||0},Mh=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},W0e=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},fw=function(){var e=Gu.length,r=Gu.slice(0),n,s;for(VD={},Gu.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},fB=function(e){return!!(e._initted||e._startAt||e.add)},uH=function(e,r,n,s){Gu.length&&!si&&fw(),e.render(r,n,s||!!(si&&r<0&&fB(e))),Gu.length&&!si&&fw()},cH=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(z0e).length<2?r:qn(e)?e.trim():e},dH=function(e){return e},Is=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},K0e=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},hp=function(e,r){for(var n in r)e[n]=r[n];return e},hU=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Fo(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},hw=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},Fg=function(e){var r=e.parent||Zr,n=e.keyframes?K0e(_i(e.keyframes)):Is;if(ts(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},X0e=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},fH=function(e,r,n,s,a){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=e[s],l;if(a)for(l=r[a];o&&o[a]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=o,r.parent=r._dp=e,r},SE=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var a=r._prev,o=r._next;a?a._next=o:e[n]===r&&(e[n]=o),o?o._prev=a:e[s]===r&&(e[s]=a),r._next=r._prev=r.parent=null},tc=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Sd=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Y0e=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},GD=function(e,r,n,s){return e._startAt&&(si?e._startAt.revert($1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},q0e=function t(e){return!e||e._ts&&t(e.parent)},pU=function(e){return e._repeat?pp(e._tTime,e=e.duration()+e._rDelay)*e:0},pp=function(e,r){var n=Math.floor(e=Yr(e/r));return e&&n===e?n-1:n},pw=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},CE=function(e){return e._end=Yr(e._start+(e._tDur/Math.abs(e._ts||e._rts||_r)||0))},AE=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Yr(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),CE(e),n._dirty||Sd(n,e)),e},hH=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=pw(e.rawTime(),r),(!r._dur||Xy(0,r.totalDuration(),n)-r._tTime>_r)&&r.render(n,!0)),Sd(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-_r}},yo=function(e,r,n,s){return r.parent&&tc(r),r._start=Yr((Pl(n)?n:n||e!==Zr?Gs(e,n,r):e._time)+r._delay),r._end=Yr(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),fH(e,r,"_first","_last",e._sort?"_start":0),HD(r)||(e._recent=r),s||hH(e,r),e._ts<0&&AE(e,e._tTime),e},pH=function(e,r){return(Os.ScrollTrigger||lB("scrollTrigger",r))&&Os.ScrollTrigger.create(r,e)},mH=function(e,r,n,s,a){if(pB(e,r,a),!e._initted)return 1;if(!n&&e._pt&&!si&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&oH!==bs.frame)return Gu.push(e),e._lazy=[a,s],1},Z0e=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},HD=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},J0e=function(e,r,n,s){var a=e.ratio,o=r<0||!r&&(!e._start&&Z0e(e)&&!(!e._initted&&HD(e))||(e._ts<0||e._dp._ts<0)&&!HD(e))?0:1,l=e._rDelay,c=0,d,f,m;if(l&&e._repeat&&(c=Xy(0,e._tDur,r),f=pp(c,l),e._yoyo&&f&1&&(o=1-o),f!==pp(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||si||s||e._zTime===_r||!r&&e._zTime){if(!e._initted&&mH(e,r,s,n,c))return;for(m=e._zTime,e._zTime=r||(n?_r:0),n||(n=r&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,d=e._pt;d;)d.r(o,d.d),d=d._next;r<0&&GD(e,r,n,!0),e._onUpdate&&!n&&Ss(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Ss(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&tc(e,1),!n&&!si&&(Ss(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},Q0e=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},mp=function(e,r,n,s){var a=e._repeat,o=Yr(r)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Yr(o*(a+1)+e._rDelay*a):o,l>0&&!s&&AE(e,e._tTime=e._tDur*l),e.parent&&CE(e),n||Sd(e.parent,e),e},mU=function(e){return e instanceof Di?Sd(e):mp(e,e._dur)},e1e={_start:0,endTime:Uv,totalDuration:Uv},Gs=function t(e,r,n){var s=e.labels,a=e._recent||e1e,o=e.duration()>=ia?a.endTime(!1):e._dur,l,c,d;return qn(r)&&(isNaN(r)||r in s)?(c=r.charAt(0),d=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(l<0?a:n).totalDuration()/100:1)):l<0?(r in s||(s[r]=o),s[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),d&&n&&(c=c/100*(_i(n)?n[0]:n).totalDuration()),l>1?t(e,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},Mg=function(e,r,n){var s=Pl(r[1]),a=(s?2:1)+(e<2?0:1),o=r[a],l,c;if(s&&(o.duration=r[1]),o.parent=n,e){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=ts(c.vars.inherit)&&c.parent;o.immediateRender=ts(l.immediateRender),e<2?o.runBackwards=1:o.startAt=r[a-1]}return new _n(r[0],o,r[a+1])},wc=function(e,r){return e||e===0?r(e):r},Xy=function(e,r,n){return n<e?e:n>r?r:n},mi=function(e,r){return!qn(e)||!(r=V0e.exec(e))?"":r[1]},t1e=function(e,r,n){return wc(n,function(s){return Xy(e,r,s)})},WD=[].slice,gH=function(e,r){return e&&Fo(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&Fo(e[0]))&&!e.nodeType&&e!==fo},r1e=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var a;return qn(s)&&!r||gH(s,1)?(a=n).push.apply(a,sa(s)):n.push(s)})||n},sa=function(e,r,n){return Gr&&!r&&Gr.selector?Gr.selector(e):qn(e)&&!n&&(zD||!gp())?WD.call((r||oB).querySelectorAll(e),0):_i(e)?r1e(e,n):gH(e)?WD.call(e,0):e?[e]:[]},KD=function(e){return e=sa(e)[0]||Lv("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return sa(r,n.querySelectorAll?n:n===e?Lv("Invalid scope")||oB.createElement("div"):e)}},vH=function(e){return e.sort(function(){return .5-Math.random()})},yH=function(e){if(un(e))return e;var r=Fo(e)?e:{each:e},n=Cd(r.ease),s=r.from||0,a=parseFloat(r.base)||0,o={},l=s>0&&s<1,c=isNaN(s)||l,d=r.axis,f=s,m=s;return qn(s)?f=m={center:.5,edges:.5,end:1}[s]||0:!l&&c&&(f=s[0],m=s[1]),function(g,y,_){var b=(_||r).length,u=o[b],h,p,v,w,x,S,E,P,T;if(!u){if(T=r.grid==="auto"?0:(r.grid||[1,ia])[1],!T){for(E=-ia;E<(E=_[T++].getBoundingClientRect().left)&&T<b;);T<b&&T--}for(u=o[b]=[],h=c?Math.min(T,b)*f-.5:s%T,p=T===ia?0:c?b*m/T-.5:s/T|0,E=0,P=ia,S=0;S<b;S++)v=S%T-h,w=p-(S/T|0),u[S]=x=d?Math.abs(d==="y"?w:v):eH(v*v+w*w),x>E&&(E=x),x<P&&(P=x);s==="random"&&vH(u),u.max=E-P,u.min=P,u.v=b=(parseFloat(r.amount)||parseFloat(r.each)*(T>b?b-1:d?d==="y"?b/T:T:Math.max(T,b/T))||0)*(s==="edges"?-1:1),u.b=b<0?a-b:a,u.u=mi(r.amount||r.each)||0,n=n&&b<0?PH(n):n}return b=(u[g]-u.min)/u.max||0,Yr(u.b+(n?n(b):b)*u.v)+u.u}},XD=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=Yr(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(Pl(n)?0:mi(n))}},_H=function(e,r){var n=_i(e),s,a;return!n&&Fo(e)&&(s=n=e.radius||ia,e.values?(e=sa(e.values),(a=!Pl(e[0]))&&(s*=s)):e=XD(e.increment)),wc(r,n?un(e)?function(o){return a=e(o),Math.abs(a-o)<=s?a:o}:function(o){for(var l=parseFloat(a?o.x:o),c=parseFloat(a?o.y:0),d=ia,f=0,m=e.length,g,y;m--;)a?(g=e[m].x-l,y=e[m].y-c,g=g*g+y*y):g=Math.abs(e[m]-l),g<d&&(d=g,f=m);return f=!s||d<=s?e[f]:o,a||f===o||Pl(o)?f:f+mi(o)}:XD(e))},bH=function(e,r,n,s){return wc(_i(e)?!r:n===!0?!!(n=0):!s,function(){return _i(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},n1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(a,o){return o(a)},s)}},i1e=function(e,r){return function(n){return e(parseFloat(n))+(r||mi(n))}},s1e=function(e,r,n){return xH(e,r,0,1,n)},wH=function(e,r,n){return wc(n,function(s){return e[~~r(s)]})},a1e=function t(e,r,n){var s=r-e;return _i(e)?wH(e,t(0,e.length),r):wc(n,function(a){return(s+(a-e)%s)%s+e})},o1e=function t(e,r,n){var s=r-e,a=s*2;return _i(e)?wH(e,t(0,e.length-1),r):wc(n,function(o){return o=(a+(o-e)%a)%a||0,e+(o>s?a-o:o)})},$v=function(e){return e.replace($0e,function(r){var n=r.indexOf("[")+1,s=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(j0e);return bH(n?s:+s[0],n?0:+s[1],+s[2]||1e-5)})},xH=function(e,r,n,s,a){var o=r-e,l=s-n;return wc(a,function(c){return n+((c-e)/o*l||0)})},l1e=function t(e,r,n,s){var a=isNaN(e+r)?0:function(y){return(1-y)*e+y*r};if(!a){var o=qn(e),l={},c,d,f,m,g;if(n===!0&&(s=1)&&(n=null),o)e={p:e},r={p:r};else if(_i(e)&&!_i(r)){for(f=[],m=e.length,g=m-2,d=1;d<m;d++)f.push(t(e[d-1],e[d]));m--,a=function(_){_*=m;var b=Math.min(g,~~_);return f[b](_-b)},n=r}else s||(e=hp(_i(e)?[]:{},e));if(!f){for(c in r)hB.call(l,e,c,"get",r[c]);a=function(_){return vB(_,l)||(o?e.p:e)}}}return wc(n,a)},gU=function(e,r,n){var s=e.labels,a=ia,o,l,c;for(o in s)l=s[o]-r,l<0==!!n&&l&&a>(l=Math.abs(l))&&(c=o,a=l);return c},Ss=function(e,r,n){var s=e.vars,a=s[r],o=Gr,l=e._ctx,c,d,f;if(a)return c=s[r+"Params"],d=s.callbackScope||e,n&&Gu.length&&fw(),l&&(Gr=l),f=c?a.apply(d,c):a.call(d),Gr=o,f},ng=function(e){return tc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!si),e.progress()<1&&Ss(e,"onInterrupt"),e},yh,EH=[],SH=function(e){if(e)if(e=!e.name&&e.default||e,aB()||e.headless){var r=e.name,n=un(e),s=r&&!n&&e.init?function(){this._props=[]}:e,a={init:Uv,render:vB,add:hB,kill:S1e,modifier:E1e,rawVars:0},o={targetTest:0,get:0,getSetter:gB,aliases:{},register:0};if(gp(),e!==s){if(vs[r])return;Is(s,Is(hw(e,a),o)),hp(s.prototype,hp(a,hw(e,o))),vs[s.prop=r]=s,e.targetTest&&(j1.push(s),uB[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}aH(r,s),e.register&&e.register(as,s,ns)}else EH.push(e)},yr=255,ig={aqua:[0,yr,yr],lime:[0,yr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,yr],navy:[0,0,128],white:[yr,yr,yr],olive:[128,128,0],yellow:[yr,yr,0],orange:[yr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[yr,0,0],pink:[yr,192,203],cyan:[0,yr,yr],transparent:[yr,yr,yr,0]},SA=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*yr+.5|0},CH=function(e,r,n){var s=e?Pl(e)?[e>>16,e>>8&yr,e&yr]:0:ig.black,a,o,l,c,d,f,m,g,y,_;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ig[e])s=ig[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&yr,s&yr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&yr,e&yr]}else if(e.substr(0,3)==="hsl"){if(s=_=e.match(dU),!r)c=+s[0]%360/360,d=+s[1]/100,f=+s[2]/100,o=f<=.5?f*(d+1):f+d-f*d,a=f*2-o,s.length>3&&(s[3]*=1),s[0]=SA(c+1/3,a,o),s[1]=SA(c,a,o),s[2]=SA(c-1/3,a,o);else if(~e.indexOf("="))return s=e.match(rH),n&&s.length<4&&(s[3]=1),s}else s=e.match(dU)||ig.transparent;s=s.map(Number)}return r&&!_&&(a=s[0]/yr,o=s[1]/yr,l=s[2]/yr,m=Math.max(a,o,l),g=Math.min(a,o,l),f=(m+g)/2,m===g?c=d=0:(y=m-g,d=f>.5?y/(2-m-g):y/(m+g),c=m===a?(o-l)/y+(o<l?6:0):m===o?(l-a)/y+2:(a-o)/y+4,c*=60),s[0]=~~(c+.5),s[1]=~~(d*100+.5),s[2]=~~(f*100+.5)),n&&s.length<4&&(s[3]=1),s},AH=function(e){var r=[],n=[],s=-1;return e.split(Hu).forEach(function(a){var o=a.match(vh)||[];r.push.apply(r,o),n.push(s+=o.length+1)}),r.c=n,r},vU=function(e,r,n){var s="",a=(e+s).match(Hu),o=r?"hsla(":"rgba(",l=0,c,d,f,m;if(!a)return e;if(a=a.map(function(g){return(g=CH(g,r,1))&&o+(r?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(f=AH(e),c=n.c,c.join(s)!==f.c.join(s)))for(d=e.replace(Hu,"1").split(vh),m=d.length-1;l<m;l++)s+=d[l]+(~c.indexOf(l)?a.shift()||o+"0,0,0,0)":(f.length?f:a.length?a:n).shift());if(!d)for(d=e.split(Hu),m=d.length-1;l<m;l++)s+=d[l]+a[l];return s+d[m]},Hu=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ig)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),u1e=/hsl[a]?\(/,TH=function(e){var r=e.join(" "),n;if(Hu.lastIndex=0,Hu.test(r))return n=u1e.test(r),e[1]=vU(e[1],n),e[0]=vU(e[0],n,AH(e[1])),!0},jv,bs=function(){var t=Date.now,e=500,r=33,n=t(),s=n,a=1e3/240,o=a,l=[],c,d,f,m,g,y,_=function b(u){var h=t()-s,p=u===!0,v,w,x,S;if((h>e||h<0)&&(n+=h-r),s+=h,x=s-n,v=x-o,(v>0||p)&&(S=++m.frame,g=x-m.time*1e3,m.time=x=x/1e3,o+=v+(v>=a?4:a-v),w=1),p||(c=d(b)),w)for(y=0;y<l.length;y++)l[y](x,g,S,u)};return m={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(u){return g/(1e3/(u||60))},wake:function(){iH&&(!zD&&aB()&&(fo=zD=window,oB=fo.document||{},Os.gsap=as,(fo.gsapVersions||(fo.gsapVersions=[])).push(as.version),sH(dw||fo.GreenSockGlobals||!fo.gsap&&fo||{}),EH.forEach(SH)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&m.sleep(),d=f||function(u){return setTimeout(u,o-m.time*1e3+1|0)},jv=1,_(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),jv=0,d=Uv},lagSmoothing:function(u,h){e=u||1/0,r=Math.min(h||33,e)},fps:function(u){a=1e3/(u||240),o=m.time*1e3+a},add:function(u,h,p){var v=h?function(w,x,S,E){u(w,x,S,E),m.remove(v)}:u;return m.remove(u),l[p?"unshift":"push"](v),gp(),v},remove:function(u,h){~(h=l.indexOf(u))&&l.splice(h,1)&&y>=h&&y--},_listeners:l},m}(),gp=function(){return!jv&&bs.wake()},Qt={},c1e=/^[\d.\-M][\d.\-,\s]/,d1e=/["']/g,f1e=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],a=1,o=n.length,l,c,d;a<o;a++)c=n[a],l=a!==o-1?c.lastIndexOf(","):c.length,d=c.substr(0,l),r[s]=isNaN(d)?d.replace(d1e,"").trim():+d,s=c.substr(l+1).trim();return r},h1e=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},p1e=function(e){var r=(e+"").split("("),n=Qt[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[f1e(r[1])]:h1e(e).split(",").map(cH)):Qt._CE&&c1e.test(e)?Qt._CE("",e):n},PH=function(e){return function(r){return 1-e(1-r)}},DH=function t(e,r){for(var n=e._first,s;n;)n instanceof Di?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},Cd=function(e,r){return e&&(un(e)?e:Qt[e]||p1e(e))||r},df=function(e,r,n,s){n===void 0&&(n=function(c){return 1-r(1-c)}),s===void 0&&(s=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var a={easeIn:r,easeOut:n,easeInOut:s},o;return rs(e,function(l){Qt[l]=Os[l]=a,Qt[o=l.toLowerCase()]=n;for(var c in a)Qt[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Qt[l+"."+c]=a[c]}),a},RH=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},CA=function t(e,r,n){var s=r>=1?r:1,a=(n||(e?.3:.45))/(r<1?r:1),o=a/jD*(Math.asin(1/s)||0),l=function(f){return f===1?1:s*Math.pow(2,-10*f)*U0e((f-o)*a)+1},c=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:RH(l);return a=jD/a,c.config=function(d,f){return t(e,d,f)},c},AA=function t(e,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},s=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:RH(n);return s.config=function(a){return t(e,a)},s};rs("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;df(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Qt.Linear.easeNone=Qt.none=Qt.Linear.easeIn;df("Elastic",CA("in"),CA("out"),CA());(function(t,e){var r=1/e,n=2*r,s=2.5*r,a=function(l){return l<r?t*l*l:l<n?t*Math.pow(l-1.5/e,2)+.75:l<s?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};df("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);df("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});df("Circ",function(t){return-(eH(1-t*t)-1)});df("Sine",function(t){return t===1?1:-L0e(t*k0e)+1});df("Back",AA("in"),AA("out"),AA());Qt.SteppedEase=Qt.steps=Os.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),a=r?1:0,o=1-_r;return function(l){return((s*Xy(0,o,l)|0)+a)*n}}};fp.ease=Qt["quad.out"];rs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return cB+=t+","+t+"Params,"});var OH=function(e,r){this.id=N0e++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:lH,this.set=r?r.getSetter:gB},zv=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,mp(this,+r.duration,1,1),this.data=r.data,Gr&&(this._ctx=Gr,Gr.data.push(this)),jv||bs.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,mp(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(gp(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(AE(this,n),!a._dp||a.parent||hH(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&yo(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===_r||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),uH(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+pU(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+pU(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,s):this._repeat?pp(this._tTime,a)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-_r?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?pw(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-_r?0:this._rts,this.totalTime(Xy(-Math.abs(this._delay),this.totalDuration(),a),s!==!1),CE(this),Y0e(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(gp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_r&&(this._tTime-=_r)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=Yr(n);var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&yo(s,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ts(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pw(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=H0e);var s=si;return si=n,fB(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),si=s,this},e.globalTime=function(n){for(var s=this,a=arguments.length?n:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,mU(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,mU(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(Gs(this,n),ts(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,ts(s)),this._dur||(this._zTime=-_r),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-_r:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-_r,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=s&&a<this.endTime(!0)-_r)},e.eventCallback=function(n,s,a){var o=this.vars;return arguments.length>1?(s?(o[n]=s,a&&(o[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=s)):delete o[n],this):o[n]},e.then=function(n){var s=this,a=s._prom;return new Promise(function(o){var l=un(n)?n:dH,c=function(){var f=s.then;s.then=null,a&&a(),un(l)&&(l=l(s))&&(l.then||l===s)&&(s.then=f),o(l),s.then=f};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?c():s._prom=c})},e.kill=function(){ng(this)},t}();Is(zv.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_r,_prom:0,_ps:!1,_rts:1});var Di=function(t){QG(e,t);function e(n,s){var a;return n===void 0&&(n={}),a=t.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=ts(n.sortChildren),Zr&&yo(n.parent||Zr,rl(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&pH(rl(a),n.scrollTrigger),a}var r=e.prototype;return r.to=function(s,a,o){return Mg(0,arguments,this),this},r.from=function(s,a,o){return Mg(1,arguments,this),this},r.fromTo=function(s,a,o,l){return Mg(2,arguments,this),this},r.set=function(s,a,o){return a.duration=0,a.parent=this,Fg(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new _n(s,a,Gs(this,o),1),this},r.call=function(s,a,o){return yo(this,_n.delayedCall(0,s,a),o)},r.staggerTo=function(s,a,o,l,c,d,f){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new _n(s,o,Gs(this,c)),this},r.staggerFrom=function(s,a,o,l,c,d,f){return o.runBackwards=1,Fg(o).immediateRender=ts(o.immediateRender),this.staggerTo(s,a,o,l,c,d,f)},r.staggerFromTo=function(s,a,o,l,c,d,f,m){return l.startAt=o,Fg(l).immediateRender=ts(l.immediateRender),this.staggerTo(s,a,l,c,d,f,m)},r.render=function(s,a,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=s<=0?0:Yr(s),m=this._zTime<0!=s<0&&(this._initted||!d),g,y,_,b,u,h,p,v,w,x,S,E;if(this!==Zr&&f>c&&s>=0&&(f=c),f!==this._tTime||o||m){if(l!==this._time&&d&&(f+=this._time-l,s+=this._time-l),g=f,w=this._start,v=this._ts,h=!v,m&&(d||(l=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(S=this._yoyo,u=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(u*100+s,a,o);if(g=Yr(f%u),f===c?(b=this._repeat,g=d):(x=Yr(f/u),b=~~x,b&&b===x&&(g=d,b--),g>d&&(g=d)),x=pp(this._tTime,u),!l&&this._tTime&&x!==b&&this._tTime-x*u-this._dur<=0&&(x=b),S&&b&1&&(g=d-g,E=1),b!==x&&!this._lock){var P=S&&x&1,T=P===(S&&b&1);if(b<x&&(P=!P),l=P?0:f%d?d:f,this._lock=1,this.render(l||(E?0:Yr(b*u)),a,!d)._lock=0,this._tTime=f,!a&&this.parent&&Ss(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1,x=b),l&&l!==this._time||h!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,T&&(this._lock=2,l=P?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;DH(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(p=Q0e(this,Yr(l),Yr(g)),p&&(f-=g-(g=p._start))),this._tTime=f,this._time=g,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&f&&d&&!a&&!x&&(Ss(this,"onStart"),this._tTime!==f))return this;if(g>=l&&s>=0)for(y=this._first;y;){if(_=y._next,(y._act||g>=y._start)&&y._ts&&p!==y){if(y.parent!==this)return this.render(s,a,o);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,a,o),g!==this._time||!this._ts&&!h){p=0,_&&(f+=this._zTime=-_r);break}}y=_}else{y=this._last;for(var A=s<0?s:g;y;){if(_=y._prev,(y._act||A<=y._end)&&y._ts&&p!==y){if(y.parent!==this)return this.render(s,a,o);if(y.render(y._ts>0?(A-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(A-y._start)*y._ts,a,o||si&&fB(y)),g!==this._time||!this._ts&&!h){p=0,_&&(f+=this._zTime=A?-_r:_r);break}}y=_}}if(p&&!a&&(this.pause(),p.render(g>=l?0:-_r)._zTime=g>=l?1:-1,this._ts))return this._start=w,CE(this),this.render(s,a,o);this._onUpdate&&!a&&Ss(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&l)&&(w===this._start||Math.abs(v)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(f===c&&this._ts>0||!f&&this._ts<0)&&tc(this,1),!a&&!(s<0&&!l)&&(f||l||!c)&&(Ss(this,f===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,a){var o=this;if(Pl(a)||(a=Gs(this,a,s)),!(s instanceof zv)){if(_i(s))return s.forEach(function(l){return o.add(l,a)}),this;if(qn(s))return this.addLabel(s,a);if(un(s))s=_n.delayedCall(0,s);else return this}return this!==s?yo(this,s,a):this},r.getChildren=function(s,a,o,l){s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-ia);for(var c=[],d=this._first;d;)d._start>=l&&(d instanceof _n?a&&c.push(d):(o&&c.push(d),s&&c.push.apply(c,d.getChildren(!0,a,o)))),d=d._next;return c},r.getById=function(s){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===s)return a[o]},r.remove=function(s){return qn(s)?this.removeLabel(s):un(s)?this.killTweensOf(s):(s.parent===this&&SE(this,s),s===this._recent&&(this._recent=this._last),Sd(this))},r.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Yr(bs.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},r.addLabel=function(s,a){return this.labels[s]=Gs(this,a),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,a,o){var l=_n.delayedCall(0,a||Uv,o);return l.data="isPause",this._hasPause=1,yo(this,l,Gs(this,s))},r.removePause=function(s){var a=this._first;for(s=Gs(this,s);a;)a._start===s&&a.data==="isPause"&&tc(a),a=a._next},r.killTweensOf=function(s,a,o){for(var l=this.getTweensOf(s,o),c=l.length;c--;)Au!==l[c]&&l[c].kill(s,a);return this},r.getTweensOf=function(s,a){for(var o=[],l=sa(s),c=this._first,d=Pl(a),f;c;)c instanceof _n?W0e(c._targets,l)&&(d?(!Au||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&o.push(c):(f=c.getTweensOf(l,a)).length&&o.push.apply(o,f),c=c._next;return o},r.tweenTo=function(s,a){a=a||{};var o=this,l=Gs(o,s),c=a,d=c.startAt,f=c.onStart,m=c.onStartParams,g=c.immediateRender,y,_=_n.to(o,Is({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||_r,onStart:function(){if(o.pause(),!y){var u=a.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());_._dur!==u&&mp(_,u,0,1).render(_._time,!0,!0),y=1}f&&f.apply(_,m||[])}},a));return g?_.render(0):_},r.tweenFromTo=function(s,a,o){return this.tweenTo(a,Is({startAt:{time:Gs(this,s)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),gU(this,Gs(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),gU(this,Gs(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+_r)},r.shiftChildren=function(s,a,o){o===void 0&&(o=0);var l=this._first,c=this.labels,d;for(s=Yr(s);l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(a)for(d in c)c[d]>=o&&(c[d]+=s);return Sd(this)},r.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Sd(this)},r.totalDuration=function(s){var a=0,o=this,l=o._last,c=ia,d,f,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(m=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,yo(o,l,f-l._delay,1)._lock=0):c=f,f<0&&l._ts&&(a-=f,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=Yr(f/o._ts),o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),c=0),l._end>a&&l._ts&&(a=l._end),l=d;mp(o,o===Zr&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Zr._ts&&(uH(Zr,pw(s,Zr)),oH=bs.frame),bs.frame>=fU){fU+=Ps.autoSleep||120;var a=Zr._first;if((!a||!a._ts)&&Ps.autoSleep&&bs._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||bs.sleep()}}},e}(zv);Is(Di.prototype,{_lock:0,_hasPause:0,_forcing:0});var m1e=function(e,r,n,s,a,o,l){var c=new ns(this._pt,e,r,0,1,NH,null,a),d=0,f=0,m,g,y,_,b,u,h,p;for(c.b=n,c.e=s,n+="",s+="",(h=~s.indexOf("random("))&&(s=$v(s)),o&&(p=[n,s],o(p,e,r),n=p[0],s=p[1]),g=n.match(xA)||[];m=xA.exec(s);)_=m[0],b=s.substring(d,m.index),y?y=(y+1)%5:b.substr(-5)==="rgba("&&(y=1),_!==g[f++]&&(u=parseFloat(g[f-1])||0,c._pt={_next:c._pt,p:b||f===1?b:",",s:u,c:_.charAt(1)==="="?Mh(u,_)-u:parseFloat(_)-u,m:y&&y<4?Math.round:0},d=xA.lastIndex);return c.c=d<s.length?s.substring(d,s.length):"",c.fp=l,(nH.test(s)||h)&&(c.e=0),this._pt=c,c},hB=function(e,r,n,s,a,o,l,c,d,f){un(s)&&(s=s(a||0,e,o));var m=e[r],g=n!=="get"?n:un(m)?d?e[r.indexOf("set")||!un(e["get"+r.substr(3)])?r:"get"+r.substr(3)](d):e[r]():m,y=un(m)?d?b1e:MH:mB,_;if(qn(s)&&(~s.indexOf("random(")&&(s=$v(s)),s.charAt(1)==="="&&(_=Mh(g,s)+(mi(g)||0),(_||_===0)&&(s=_))),!f||g!==s||YD)return!isNaN(g*s)&&s!==""?(_=new ns(this._pt,e,r,+g||0,s-(g||0),typeof m=="boolean"?x1e:kH,0,y),d&&(_.fp=d),l&&_.modifier(l,this,e),this._pt=_):(!m&&!(r in e)&&lB(r,s),m1e.call(this,e,r,g,s,y,c||Ps.stringFilter,d))},g1e=function(e,r,n,s,a){if(un(e)&&(e=kg(e,a,r,n,s)),!Fo(e)||e.style&&e.nodeType||_i(e)||tH(e))return qn(e)?kg(e,a,r,n,s):e;var o={},l;for(l in e)o[l]=kg(e[l],a,r,n,s);return o},IH=function(e,r,n,s,a,o){var l,c,d,f;if(vs[e]&&(l=new vs[e]).init(a,l.rawVars?r[e]:g1e(r[e],s,a,o,n),n,s,o)!==!1&&(n._pt=c=new ns(n._pt,a,e,0,1,l.render,l,0,l.priority),n!==yh))for(d=n._ptLookup[n._targets.indexOf(a)],f=l._props.length;f--;)d[l._props[f]]=c;return l},Au,YD,pB=function t(e,r,n){var s=e.vars,a=s.ease,o=s.startAt,l=s.immediateRender,c=s.lazy,d=s.onUpdate,f=s.runBackwards,m=s.yoyoEase,g=s.keyframes,y=s.autoRevert,_=e._dur,b=e._startAt,u=e._targets,h=e.parent,p=h&&h.data==="nested"?h.vars.targets:u,v=e._overwrite==="auto"&&!iB,w=e.timeline,x,S,E,P,T,A,R,D,O,I,M,G,j;if(w&&(!g||!a)&&(a="none"),e._ease=Cd(a,fp.ease),e._yEase=m?PH(Cd(m===!0?a:m,fp.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!w&&!!s.runBackwards,!w||g&&!s.stagger){if(D=u[0]?Ed(u[0]).harness:0,G=D&&s[D.prop],x=hw(s,uB),b&&(b._zTime<0&&b.progress(1),r<0&&f&&l&&!y?b.render(-1,!0):b.revert(f&&_?$1:G0e),b._lazy=0),o){if(tc(e._startAt=_n.set(u,Is({data:"isStart",overwrite:!1,parent:h,immediateRender:!0,lazy:!b&&ts(c),startAt:null,delay:0,onUpdate:d&&function(){return Ss(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(si||!l&&!y)&&e._startAt.revert($1),l&&_&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(f&&_&&!b){if(r&&(l=!1),E=Is({overwrite:!1,data:"isFromStart",lazy:l&&!b&&ts(c),immediateRender:l,stagger:0,parent:h},x),G&&(E[D.prop]=G),tc(e._startAt=_n.set(u,E)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(si?e._startAt.revert($1):e._startAt.render(-1,!0)),e._zTime=r,!l)t(e._startAt,_r,_r);else if(!r)return}for(e._pt=e._ptCache=0,c=_&&ts(c)||c&&!_,S=0;S<u.length;S++){if(T=u[S],R=T._gsap||dB(u)[S]._gsap,e._ptLookup[S]=I={},VD[R.id]&&Gu.length&&fw(),M=p===u?S:p.indexOf(T),D&&(O=new D).init(T,G||x,e,M,p)!==!1&&(e._pt=P=new ns(e._pt,T,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function($){I[$]=P}),O.priority&&(A=1)),!D||G)for(E in x)vs[E]&&(O=IH(E,x,e,M,T,p))?O.priority&&(A=1):I[E]=P=hB.call(e,T,E,"get",x[E],M,p,0,s.stringFilter);e._op&&e._op[S]&&e.kill(T,e._op[S]),v&&e._pt&&(Au=e,Zr.killTweensOf(T,I,e.globalTime(r)),j=!e.parent,Au=0),e._pt&&c&&(VD[R.id]=1)}A&&LH(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!j,g&&r<=0&&w.render(ia,!0,!0)},v1e=function(e,r,n,s,a,o,l,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[r],f,m,g,y;if(!d)for(d=e._ptCache[r]=[],g=e._ptLookup,y=e._targets.length;y--;){if(f=g[y][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return YD=1,e.vars[r]="+=0",pB(e,l),YD=0,c?Lv(r+" not eligible for reset"):1;d.push(f)}for(y=d.length;y--;)m=d[y],f=m._pt||m,f.s=(s||s===0)&&!a?s:f.s+(s||0)+o*f.c,f.c=n-f.s,m.e&&(m.e=hn(n)+mi(m.e)),m.b&&(m.b=f.s+mi(m.b))},y1e=function(e,r){var n=e[0]?Ed(e[0]).harness:0,s=n&&n.aliases,a,o,l,c;if(!s)return r;a=hp({},r);for(o in s)if(o in a)for(c=s[o].split(","),l=c.length;l--;)a[c[l]]=a[o];return a},_1e=function(e,r,n,s){var a=r.ease||s||"power1.inOut",o,l;if(_i(r))l=n[e]||(n[e]=[]),r.forEach(function(c,d){return l.push({t:d/(r.length-1)*100,v:c,e:a})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:r[o],e:a})},kg=function(e,r,n,s,a){return un(e)?e.call(r,n,s,a):qn(e)&&~e.indexOf("random(")?$v(e):e},BH=cB+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",FH={};rs(BH+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return FH[t]=1});var _n=function(t){QG(e,t);function e(n,s,a,o){var l;typeof s=="number"&&(a.duration=s,s=a,a=null),l=t.call(this,o?s:Fg(s))||this;var c=l.vars,d=c.duration,f=c.delay,m=c.immediateRender,g=c.stagger,y=c.overwrite,_=c.keyframes,b=c.defaults,u=c.scrollTrigger,h=c.yoyoEase,p=s.parent||Zr,v=(_i(n)||tH(n)?Pl(n[0]):"length"in s)?[n]:sa(n),w,x,S,E,P,T,A,R;if(l._targets=v.length?dB(v):Lv("GSAP target "+n+" not found. https://gsap.com",!Ps.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,_||g||x0(d)||x0(f)){if(s=l.vars,w=l.timeline=new Di({data:"nested",defaults:b||{},targets:p&&p.data==="nested"?p.vars.targets:v}),w.kill(),w.parent=w._dp=rl(l),w._start=0,g||x0(d)||x0(f)){if(E=v.length,A=g&&yH(g),Fo(g))for(P in g)~BH.indexOf(P)&&(R||(R={}),R[P]=g[P]);for(x=0;x<E;x++)S=hw(s,FH),S.stagger=0,h&&(S.yoyoEase=h),R&&hp(S,R),T=v[x],S.duration=+kg(d,rl(l),x,T,v),S.delay=(+kg(f,rl(l),x,T,v)||0)-l._delay,!g&&E===1&&S.delay&&(l._delay=f=S.delay,l._start+=f,S.delay=0),w.to(T,S,A?A(x,T,v):0),w._ease=Qt.none;w.duration()?d=f=0:l.timeline=0}else if(_){Fg(Is(w.vars.defaults,{ease:"none"})),w._ease=Cd(_.ease||s.ease||"none");var D=0,O,I,M;if(_i(_))_.forEach(function(G){return w.to(v,G,">")}),w.duration();else{S={};for(P in _)P==="ease"||P==="easeEach"||_1e(P,_[P],S,_.easeEach);for(P in S)for(O=S[P].sort(function(G,j){return G.t-j.t}),D=0,x=0;x<O.length;x++)I=O[x],M={ease:I.e,duration:(I.t-(x?O[x-1].t:0))/100*d},M[P]=I.v,w.to(v,M,D),D+=M.duration;w.duration()<d&&w.to({},{duration:d-w.duration()})}}d||l.duration(d=w.duration())}else l.timeline=0;return y===!0&&!iB&&(Au=rl(l),Zr.killTweensOf(v),Au=0),yo(p,rl(l),a),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(m||!d&&!_&&l._start===Yr(p._time)&&ts(m)&&q0e(rl(l))&&p.data!=="nested")&&(l._tTime=-_r,l.render(Math.max(0,-f)||0)),u&&pH(rl(l),u),l}var r=e.prototype;return r.render=function(s,a,o){var l=this._time,c=this._tDur,d=this._dur,f=s<0,m=s>c-_r&&!f?c:s<_r?0:s,g,y,_,b,u,h,p,v,w;if(!d)J0e(this,s,a,o);else if(m!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=m,v=this.timeline,this._repeat){if(b=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(b*100+s,a,o);if(g=Yr(m%b),m===c?(_=this._repeat,g=d):(u=Yr(m/b),_=~~u,_&&_===u?(g=d,_--):g>d&&(g=d)),h=this._yoyo&&_&1,h&&(w=this._yEase,g=d-g),u=pp(this._tTime,b),g===l&&!o&&this._initted&&_===u)return this._tTime=m,this;_!==u&&(v&&this._yEase&&DH(v,h),this.vars.repeatRefresh&&!h&&!this._lock&&g!==b&&this._initted&&(this._lock=o=1,this.render(Yr(b*_),!0).invalidate()._lock=0))}if(!this._initted){if(mH(this,f?s:g,o,a,m))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&_!==u))return this;if(d!==this._dur)return this.render(s,a,o)}if(this._tTime=m,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=p=(w||this._ease)(g/d),this._from&&(this.ratio=p=1-p),!l&&m&&!a&&!u&&(Ss(this,"onStart"),this._tTime!==m))return this;for(y=this._pt;y;)y.r(p,y.d),y=y._next;v&&v.render(s<0?s:v._dur*v._ease(g/this._dur),a,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(f&&GD(this,s,a,o),Ss(this,"onUpdate")),this._repeat&&_!==u&&this.vars.onRepeat&&!a&&this.parent&&Ss(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(f&&!this._onUpdate&&GD(this,s,!0,!0),(s||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&tc(this,1),!a&&!(f&&!l)&&(m||l||h)&&(Ss(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,a,o,l,c){jv||bs.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||pB(this,d),f=this._ease(d/this._dur),v1e(this,s,a,o,l,f,d,c)?this.resetTo(s,a,o,l,1):(AE(this,0),this.parent||fH(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?ng(this):this.scrollTrigger&&this.scrollTrigger.kill(!!si),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,Au&&Au.vars.overwrite!==!0)._first||ng(this),this.parent&&o!==this.timeline.totalDuration()&&mp(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=s?sa(s):l,d=this._ptLookup,f=this._pt,m,g,y,_,b,u,h;if((!a||a==="all")&&X0e(l,c))return a==="all"&&(this._pt=0),ng(this);for(m=this._op=this._op||[],a!=="all"&&(qn(a)&&(b={},rs(a,function(p){return b[p]=1}),a=b),a=y1e(l,a)),h=l.length;h--;)if(~c.indexOf(l[h])){g=d[h],a==="all"?(m[h]=a,_=g,y={}):(y=m[h]=m[h]||{},_=a);for(b in _)u=g&&g[b],u&&((!("kill"in u.d)||u.d.kill(b)===!0)&&SE(this,u,"_pt"),delete g[b]),y!=="all"&&(y[b]=1)}return this._initted&&!this._pt&&f&&ng(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return Mg(1,arguments)},e.delayedCall=function(s,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,a,o){return Mg(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,o){return Zr.killTweensOf(s,a,o)},e}(zv);Is(_n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});rs("staggerTo,staggerFrom,staggerFromTo",function(t){_n[t]=function(){var e=new Di,r=WD.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var mB=function(e,r,n){return e[r]=n},MH=function(e,r,n){return e[r](n)},b1e=function(e,r,n,s){return e[r](s.fp,n)},w1e=function(e,r,n){return e.setAttribute(r,n)},gB=function(e,r){return un(e[r])?MH:sB(e[r])&&e.setAttribute?w1e:mB},kH=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},x1e=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},NH=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},vB=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},E1e=function(e,r,n,s){for(var a=this._pt,o;a;)o=a._next,a.p===s&&a.modifier(e,r,n),a=o},S1e=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?SE(this,r,"_pt"):r.dep||(n=1),r=s;return!n},C1e=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},LH=function(e){for(var r=e._pt,n,s,a,o;r;){for(n=r._next,s=a;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:o)?r._prev._next=r:a=r,(r._next=s)?s._prev=r:o=r,r=n}e._pt=a},ns=function(){function t(r,n,s,a,o,l,c,d,f){this.t=n,this.s=a,this.c=o,this.p=s,this.r=l||kH,this.d=c||this,this.set=d||mB,this.pr=f||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,a){this.mSet=this.mSet||this.set,this.set=C1e,this.m=n,this.mt=a,this.tween=s},t}();rs(cB+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return uB[t]=1});Os.TweenMax=Os.TweenLite=_n;Os.TimelineLite=Os.TimelineMax=Di;Zr=new Di({sortChildren:!1,defaults:fp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ps.stringFilter=TH;var Ad=[],z1={},A1e=[],yU=0,T1e=0,TA=function(e){return(z1[e]||A1e).map(function(r){return r()})},qD=function(){var e=Date.now(),r=[];e-yU>2&&(TA("matchMediaInit"),Ad.forEach(function(n){var s=n.queries,a=n.conditions,o,l,c,d;for(l in s)o=fo.matchMedia(s[l]).matches,o&&(c=1),o!==a[l]&&(a[l]=o,d=1);d&&(n.revert(),c&&r.push(n))}),TA("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),yU=e,TA("matchMedia"))},UH=function(){function t(r,n){this.selector=n&&KD(n),this.data=[],this._r=[],this.isReverted=!1,this.id=T1e++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,a){un(n)&&(a=s,s=n,n=un);var o=this,l=function(){var d=Gr,f=o.selector,m;return d&&d!==o&&d.data.push(o),a&&(o.selector=KD(a)),Gr=o,m=s.apply(o,arguments),un(m)&&o._r.push(m),Gr=d,o.selector=f,o.isReverted=!1,m};return o.last=l,n===un?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},e.ignore=function(n){var s=Gr;Gr=null,n(this),Gr=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof _n&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var a=this;if(n?function(){for(var l=a.getTweens(),c=a.data.length,d;c--;)d=a.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,m){return m.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),c=a.data.length;c--;)d=a.data[c],d instanceof Di?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof _n)&&d.revert&&d.revert(n);a._r.forEach(function(f){return f(n,a)}),a.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=Ad.length;o--;)Ad[o].id===this.id&&Ad.splice(o,1)},e.revert=function(n){this.kill(n||{})},t}(),P1e=function(){function t(r){this.contexts=[],this.scope=r,Gr&&Gr.data.push(this)}var e=t.prototype;return e.add=function(n,s,a){Fo(n)||(n={matches:n});var o=new UH(0,a||this.scope),l=o.conditions={},c,d,f;Gr&&!o.selector&&(o.selector=Gr.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=n;for(d in n)d==="all"?f=1:(c=fo.matchMedia(n[d]),c&&(Ad.indexOf(o)<0&&Ad.push(o),(l[d]=c.matches)&&(f=1),c.addListener?c.addListener(qD):c.addEventListener("change",qD)));return f&&s(o,function(m){return o.add(null,m)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),mw={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return SH(s)})},timeline:function(e){return new Di(e)},getTweensOf:function(e,r){return Zr.getTweensOf(e,r)},getProperty:function(e,r,n,s){qn(e)&&(e=sa(e)[0]);var a=Ed(e||{}).get,o=n?dH:cH;return n==="native"&&(n=""),e&&(r?o((vs[r]&&vs[r].get||a)(e,r,n,s)):function(l,c,d){return o((vs[l]&&vs[l].get||a)(e,l,c,d))})},quickSetter:function(e,r,n){if(e=sa(e),e.length>1){var s=e.map(function(f){return as.quickSetter(f,r,n)}),a=s.length;return function(f){for(var m=a;m--;)s[m](f)}}e=e[0]||{};var o=vs[r],l=Ed(e),c=l.harness&&(l.harness.aliases||{})[r]||r,d=o?function(f){var m=new o;yh._pt=0,m.init(e,n?f+n:f,yh,0,[e]),m.render(1,m),yh._pt&&vB(1,yh)}:l.set(e,c);return o?d:function(f){return d(e,c,n?f+n:f,l,1)}},quickTo:function(e,r,n){var s,a=as.to(e,Is((s={},s[r]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),o=function(c,d,f){return a.resetTo(r,c,d,f)};return o.tween=a,o},isTweening:function(e){return Zr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Cd(e.ease,fp.ease)),hU(fp,e||{})},config:function(e){return hU(Ps,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,a=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!vs[l]&&!Os[l]&&Lv(r+" effect requires "+l+" plugin.")}),EA[r]=function(l,c,d){return n(sa(l),Is(c||{},a),d)},o&&(Di.prototype[r]=function(l,c,d){return this.add(EA[r](l,Fo(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,r){Qt[e]=Cd(r)},parseEase:function(e,r){return arguments.length?Cd(e,r):Qt},getById:function(e){return Zr.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new Di(e),s,a;for(n.smoothChildTiming=ts(e.smoothChildTiming),Zr.remove(n),n._dp=0,n._time=n._tTime=Zr._time,s=Zr._first;s;)a=s._next,(r||!(!s._dur&&s instanceof _n&&s.vars.onComplete===s._targets[0]))&&yo(n,s,s._start-s._delay),s=a;return yo(Zr,n,0),n},context:function(e,r){return e?new UH(e,r):Gr},matchMedia:function(e){return new P1e(e)},matchMediaRefresh:function(){return Ad.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||qD()},addEventListener:function(e,r){var n=z1[e]||(z1[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=z1[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:a1e,wrapYoyo:o1e,distribute:yH,random:bH,snap:_H,normalize:s1e,getUnit:mi,clamp:t1e,splitColor:CH,toArray:sa,selector:KD,mapRange:xH,pipe:n1e,unitize:i1e,interpolate:l1e,shuffle:vH},install:sH,effects:EA,ticker:bs,updateRoot:Di.updateRoot,plugins:vs,globalTimeline:Zr,core:{PropTween:ns,globals:aH,Tween:_n,Timeline:Di,Animation:zv,getCache:Ed,_removeLinkedListItem:SE,reverting:function(){return si},context:function(e){return e&&Gr&&(Gr.data.push(e),e._ctx=Gr),Gr},suppressOverwrites:function(e){return iB=e}}};rs("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return mw[t]=_n[t]});bs.add(Di.updateRoot);yh=mw.to({},{duration:0});var D1e=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},R1e=function(e,r){var n=e._targets,s,a,o;for(s in r)for(a=n.length;a--;)o=e._ptLookup[a][s],o&&(o=o.d)&&(o._pt&&(o=D1e(o,s)),o&&o.modifier&&o.modifier(r[s],e,n[a],s))},PA=function(e,r){return{name:e,headless:1,rawVars:1,init:function(s,a,o){o._onInit=function(l){var c,d;if(qn(a)&&(c={},rs(a,function(f){return c[f]=1}),a=c),r){c={};for(d in a)c[d]=r(a[d]);a=c}R1e(l,a)}}}},as=mw.registerPlugin({name:"attr",init:function(e,r,n,s,a){var o,l,c;this.tween=n;for(o in r)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",r[o],s,a,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,r){for(var n=r._pt;n;)si?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},PA("roundProps",XD),PA("modifiers"),PA("snap",_H))||mw;_n.version=Di.version=as.version="3.14.1";iH=1;aB()&&gp();Qt.Power0;Qt.Power1;Qt.Power2;Qt.Power3;Qt.Power4;Qt.Linear;Qt.Quad;Qt.Cubic;Qt.Quart;Qt.Quint;Qt.Strong;Qt.Elastic;Qt.Back;Qt.SteppedEase;Qt.Bounce;Qt.Sine;Qt.Expo;Qt.Circ;/*!
 * CSSPlugin 3.14.1
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var _U,Tu,kh,yB,ld,bU,_B,O1e=function(){return typeof window<"u"},Dl={},qc=180/Math.PI,Nh=Math.PI/180,Pf=Math.atan2,wU=1e8,bB=/([A-Z])/g,I1e=/(left|right|width|margin|padding|x)/i,B1e=/[\s,\(]\S/,xo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ZD=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},F1e=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},M1e=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},k1e=function(e,r){return r.set(r.t,r.p,e===1?r.e:e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},N1e=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},$H=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},jH=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},L1e=function(e,r,n){return e.style[r]=n},U1e=function(e,r,n){return e.style.setProperty(r,n)},$1e=function(e,r,n){return e._gsap[r]=n},j1e=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},z1e=function(e,r,n,s,a){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(a,o)},V1e=function(e,r,n,s,a){var o=e._gsap;o[r]=n,o.renderTransform(a,o)},Qr="transform",is=Qr+"Origin",G1e=function t(e,r){var n=this,s=this.target,a=s.style,o=s._gsap;if(e in Dl&&a){if(this.tfm=this.tfm||{},e!=="transform")e=xo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=sl(s,l)}):this.tfm[e]=o.x?o[e]:sl(s,e),e===is&&(this.tfm.zOrigin=o.zOrigin);else return xo.transform.split(",").forEach(function(l){return t.call(n,l,r)});if(this.props.indexOf(Qr)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(is,r,"")),e=Qr}(a||r)&&this.props.push(e,r,a[e])},zH=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},H1e=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?r[e[a]](e[a+2]):r[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(bB,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),a=_B(),(!a||!a.isStart)&&!n[Qr]&&(zH(n),s.zOrigin&&n[is]&&(n[is]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},VH=function(e,r){var n={target:e,props:[],revert:H1e,save:G1e};return e._gsap||as.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(s){return n.save(s)}),n},GH,JD=function(e,r){var n=Tu.createElementNS?Tu.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Tu.createElement(e);return n&&n.style?n:Tu.createElement(e)},Cs=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(bB,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,vp(r)||r,1)||""},xU="O,Moz,ms,Ms,Webkit".split(","),vp=function(e,r,n){var s=r||ld,a=s.style,o=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(xU[o]+e in a););return o<0?null:(o===3?"ms":o>=0?xU[o]:"")+e},QD=function(){O1e()&&window.document&&(_U=window,Tu=_U.document,kh=Tu.documentElement,ld=JD("div")||{style:{}},JD("div"),Qr=vp(Qr),is=Qr+"Origin",ld.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",GH=!!vp("perspective"),_B=as.core.reverting,yB=1)},EU=function(e){var r=e.ownerSVGElement,n=JD("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",n.appendChild(s),kh.appendChild(n);try{a=s.getBBox()}catch(o){}return n.removeChild(s),kh.removeChild(n),a},SU=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},HH=function(e){var r,n;try{r=e.getBBox()}catch(s){r=EU(e),n=1}return r&&(r.width||r.height)||n||(r=EU(e)),r&&!r.width&&!r.x&&!r.y?{x:+SU(e,["x","cx","x1"])||0,y:+SU(e,["y","cy","y1"])||0,width:0,height:0}:r},WH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&HH(e))},rc=function(e,r){if(r){var n=e.style,s;r in Dl&&r!==is&&(r=Qr),n.removeProperty?(s=r.substr(0,2),(s==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(s==="--"?r:r.replace(bB,"-$1").toLowerCase())):n.removeAttribute(r)}},Pu=function(e,r,n,s,a,o){var l=new ns(e._pt,r,n,0,1,o?jH:$H);return e._pt=l,l.b=s,l.e=a,e._props.push(n),l},CU={deg:1,rad:1,turn:1},W1e={grid:1,flex:1},nc=function t(e,r,n,s){var a=parseFloat(n)||0,o=(n+"").trim().substr((a+"").length)||"px",l=ld.style,c=I1e.test(r),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(c?"Width":"Height"),m=100,g=s==="px",y=s==="%",_,b,u,h;if(s===o||!a||CU[s]||CU[o])return a;if(o!=="px"&&!g&&(a=t(e,r,n,"px")),h=e.getCTM&&WH(e),(y||o==="%")&&(Dl[r]||~r.indexOf("adius")))return _=h?e.getBBox()[c?"width":"height"]:e[f],hn(y?a/_*m:a/100*_);if(l[c?"width":"height"]=m+(g?o:s),b=s!=="rem"&&~r.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,h&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===Tu||!b.appendChild)&&(b=Tu.body),u=b._gsap,u&&y&&u.width&&c&&u.time===bs.time&&!u.uncache)return hn(a/u.width*m);if(y&&(r==="height"||r==="width")){var p=e.style[r];e.style[r]=m+s,_=e[f],p?e.style[r]=p:rc(e,r)}else(y||o==="%")&&!W1e[Cs(b,"display")]&&(l.position=Cs(e,"position")),b===e&&(l.position="static"),b.appendChild(ld),_=ld[f],b.removeChild(ld),l.position="absolute";return c&&y&&(u=Ed(b),u.time=bs.time,u.width=b[f]),hn(g?_*a/m:_&&a?m/_*a:0)},sl=function(e,r,n,s){var a;return yB||QD(),r in xo&&r!=="transform"&&(r=xo[r],~r.indexOf(",")&&(r=r.split(",")[0])),Dl[r]&&r!=="transform"?(a=Gv(e,s),a=r!=="transformOrigin"?a[r]:a.svg?a.origin:vw(Cs(e,is))+" "+a.zOrigin+"px"):(a=e.style[r],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=gw[r]&&gw[r](e,r,n)||Cs(e,r)||lH(e,r)||(r==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?nc(e,r,a,n)+n:a},K1e=function(e,r,n,s){if(!n||n==="none"){var a=vp(r,e,1),o=a&&Cs(e,a,1);o&&o!==n?(r=a,n=o):r==="borderColor"&&(n=Cs(e,"borderTopColor"))}var l=new ns(this._pt,e.style,r,0,1,NH),c=0,d=0,f,m,g,y,_,b,u,h,p,v,w,x;if(l.b=n,l.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=Cs(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(b=e.style[r],e.style[r]=s,s=Cs(e,r)||s,b?e.style[r]=b:rc(e,r)),f=[n,s],TH(f),n=f[0],s=f[1],g=n.match(vh)||[],x=s.match(vh)||[],x.length){for(;m=vh.exec(s);)u=m[0],p=s.substring(c,m.index),_?_=(_+1)%5:(p.substr(-5)==="rgba("||p.substr(-5)==="hsla(")&&(_=1),u!==(b=g[d++]||"")&&(y=parseFloat(b)||0,w=b.substr((y+"").length),u.charAt(1)==="="&&(u=Mh(y,u)+w),h=parseFloat(u),v=u.substr((h+"").length),c=vh.lastIndex-v.length,v||(v=v||Ps.units[r]||w,c===s.length&&(s+=v,l.e+=v)),w!==v&&(y=nc(e,r,b,v)||0),l._pt={_next:l._pt,p:p||d===1?p:",",s:y,c:h-y,m:_&&_<4||r==="zIndex"?Math.round:0});l.c=c<s.length?s.substring(c,s.length):""}else l.r=r==="display"&&s==="none"?jH:$H;return nH.test(s)&&(l.e=0),this._pt=l,l},AU={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},X1e=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=AU[n]||n,r[1]=AU[s]||s,r.join(" ")},Y1e=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,a=r.u,o=n._gsap,l,c,d;if(a==="all"||a===!0)s.cssText="",c=1;else for(a=a.split(","),d=a.length;--d>-1;)l=a[d],Dl[l]&&(c=1,l=l==="transformOrigin"?is:Qr),rc(n,l);c&&(rc(n,Qr),o&&(o.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Gv(n,1),o.uncache=1,zH(s)))}},gw={clearProps:function(e,r,n,s,a){if(a.data!=="isFromStart"){var o=e._pt=new ns(e._pt,r,n,0,0,Y1e);return o.u=s,o.pr=-10,o.tween=a,e._props.push(n),1}}},Vv=[1,0,0,1,0,0],KH={},XH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},TU=function(e){var r=Cs(e,Qr);return XH(r)?Vv:r.substr(7).match(rH).map(hn)},wB=function(e,r){var n=e._gsap||Ed(e),s=e.style,a=TU(e),o,l,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?Vv:a):(a===Vv&&!e.offsetParent&&e!==kh&&!n.svg&&(c=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,kh.appendChild(e)),a=TU(e),c?s.display=c:rc(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):kh.removeChild(e))),r&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},e2=function(e,r,n,s,a,o){var l=e._gsap,c=a||wB(e,!0),d=l.xOrigin||0,f=l.yOrigin||0,m=l.xOffset||0,g=l.yOffset||0,y=c[0],_=c[1],b=c[2],u=c[3],h=c[4],p=c[5],v=r.split(" "),w=parseFloat(v[0])||0,x=parseFloat(v[1])||0,S,E,P,T;n?c!==Vv&&(E=y*u-_*b)&&(P=w*(u/E)+x*(-b/E)+(b*p-u*h)/E,T=w*(-_/E)+x*(y/E)-(y*p-_*h)/E,w=P,x=T):(S=HH(e),w=S.x+(~v[0].indexOf("%")?w/100*S.width:w),x=S.y+(~(v[1]||v[0]).indexOf("%")?x/100*S.height:x)),s||s!==!1&&l.smooth?(h=w-d,p=x-f,l.xOffset=m+(h*y+p*b)-h,l.yOffset=g+(h*_+p*u)-p):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=x,l.smooth=!!s,l.origin=r,l.originIsAbsolute=!!n,e.style[is]="0px 0px",o&&(Pu(o,l,"xOrigin",d,w),Pu(o,l,"yOrigin",f,x),Pu(o,l,"xOffset",m,l.xOffset),Pu(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",w+" "+x)},Gv=function(e,r){var n=e._gsap||new OH(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,a=n.scaleX<0,o="px",l="deg",c=getComputedStyle(e),d=Cs(e,is)||"0",f,m,g,y,_,b,u,h,p,v,w,x,S,E,P,T,A,R,D,O,I,M,G,j,$,H,K,re,fe,ye,he,ue;return f=m=g=b=u=h=p=v=w=0,y=_=1,n.svg=!!(e.getCTM&&WH(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[Qr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Qr]!=="none"?c[Qr]:"")),s.scale=s.rotate=s.translate="none"),E=wB(e,n.svg),n.svg&&(n.uncache?($=e.getBBox(),d=n.xOrigin-$.x+"px "+(n.yOrigin-$.y)+"px",j=""):j=!r&&e.getAttribute("data-svg-origin"),e2(e,j||d,!!j||n.originIsAbsolute,n.smooth!==!1,E)),x=n.xOrigin||0,S=n.yOrigin||0,E!==Vv&&(R=E[0],D=E[1],O=E[2],I=E[3],f=M=E[4],m=G=E[5],E.length===6?(y=Math.sqrt(R*R+D*D),_=Math.sqrt(I*I+O*O),b=R||D?Pf(D,R)*qc:0,p=O||I?Pf(O,I)*qc+b:0,p&&(_*=Math.abs(Math.cos(p*Nh))),n.svg&&(f-=x-(x*R+S*O),m-=S-(x*D+S*I))):(ue=E[6],ye=E[7],K=E[8],re=E[9],fe=E[10],he=E[11],f=E[12],m=E[13],g=E[14],P=Pf(ue,fe),u=P*qc,P&&(T=Math.cos(-P),A=Math.sin(-P),j=M*T+K*A,$=G*T+re*A,H=ue*T+fe*A,K=M*-A+K*T,re=G*-A+re*T,fe=ue*-A+fe*T,he=ye*-A+he*T,M=j,G=$,ue=H),P=Pf(-O,fe),h=P*qc,P&&(T=Math.cos(-P),A=Math.sin(-P),j=R*T-K*A,$=D*T-re*A,H=O*T-fe*A,he=I*A+he*T,R=j,D=$,O=H),P=Pf(D,R),b=P*qc,P&&(T=Math.cos(P),A=Math.sin(P),j=R*T+D*A,$=M*T+G*A,D=D*T-R*A,G=G*T-M*A,R=j,M=$),u&&Math.abs(u)+Math.abs(b)>359.9&&(u=b=0,h=180-h),y=hn(Math.sqrt(R*R+D*D+O*O)),_=hn(Math.sqrt(G*G+ue*ue)),P=Pf(M,G),p=Math.abs(P)>2e-4?P*qc:0,w=he?1/(he<0?-he:he):0),n.svg&&(j=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!XH(Cs(e,Qr)),j&&e.setAttribute("transform",j))),Math.abs(p)>90&&Math.abs(p)<270&&(a?(y*=-1,p+=b<=0?180:-180,b+=b<=0?180:-180):(_*=-1,p+=p<=0?180:-180)),r=r||n.uncache,n.x=f-((n.xPercent=f&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=m-((n.yPercent=m&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=hn(y),n.scaleY=hn(_),n.rotation=hn(b)+l,n.rotationX=hn(u)+l,n.rotationY=hn(h)+l,n.skewX=p+l,n.skewY=v+l,n.transformPerspective=w+o,(n.zOrigin=parseFloat(d.split(" ")[2])||!r&&n.zOrigin||0)&&(s[is]=vw(d)),n.xOffset=n.yOffset=0,n.force3D=Ps.force3D,n.renderTransform=n.svg?Z1e:GH?YH:q1e,n.uncache=0,n},vw=function(e){return(e=e.split(" "))[0]+" "+e[1]},DA=function(e,r,n){var s=mi(r);return hn(parseFloat(r)+parseFloat(nc(e,"x",n+"px",s)))+s},q1e=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,YH(e,r)},Uc="0deg",Bm="0px",$c=") ",YH=function(e,r){var n=r||this,s=n.xPercent,a=n.yPercent,o=n.x,l=n.y,c=n.z,d=n.rotation,f=n.rotationY,m=n.rotationX,g=n.skewX,y=n.skewY,_=n.scaleX,b=n.scaleY,u=n.transformPerspective,h=n.force3D,p=n.target,v=n.zOrigin,w="",x=h==="auto"&&e&&e!==1||h===!0;if(v&&(m!==Uc||f!==Uc)){var S=parseFloat(f)*Nh,E=Math.sin(S),P=Math.cos(S),T;S=parseFloat(m)*Nh,T=Math.cos(S),o=DA(p,o,E*T*-v),l=DA(p,l,-Math.sin(S)*-v),c=DA(p,c,P*T*-v+v)}u!==Bm&&(w+="perspective("+u+$c),(s||a)&&(w+="translate("+s+"%, "+a+"%) "),(x||o!==Bm||l!==Bm||c!==Bm)&&(w+=c!==Bm||x?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+$c),d!==Uc&&(w+="rotate("+d+$c),f!==Uc&&(w+="rotateY("+f+$c),m!==Uc&&(w+="rotateX("+m+$c),(g!==Uc||y!==Uc)&&(w+="skew("+g+", "+y+$c),(_!==1||b!==1)&&(w+="scale("+_+", "+b+$c),p.style[Qr]=w||"translate(0, 0)"},Z1e=function(e,r){var n=r||this,s=n.xPercent,a=n.yPercent,o=n.x,l=n.y,c=n.rotation,d=n.skewX,f=n.skewY,m=n.scaleX,g=n.scaleY,y=n.target,_=n.xOrigin,b=n.yOrigin,u=n.xOffset,h=n.yOffset,p=n.forceCSS,v=parseFloat(o),w=parseFloat(l),x,S,E,P,T;c=parseFloat(c),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,c+=f),c||d?(c*=Nh,d*=Nh,x=Math.cos(c)*m,S=Math.sin(c)*m,E=Math.sin(c-d)*-g,P=Math.cos(c-d)*g,d&&(f*=Nh,T=Math.tan(d-f),T=Math.sqrt(1+T*T),E*=T,P*=T,f&&(T=Math.tan(f),T=Math.sqrt(1+T*T),x*=T,S*=T)),x=hn(x),S=hn(S),E=hn(E),P=hn(P)):(x=m,P=g,S=E=0),(v&&!~(o+"").indexOf("px")||w&&!~(l+"").indexOf("px"))&&(v=nc(y,"x",o,"px"),w=nc(y,"y",l,"px")),(_||b||u||h)&&(v=hn(v+_-(_*x+b*E)+u),w=hn(w+b-(_*S+b*P)+h)),(s||a)&&(T=y.getBBox(),v=hn(v+s/100*T.width),w=hn(w+a/100*T.height)),T="matrix("+x+","+S+","+E+","+P+","+v+","+w+")",y.setAttribute("transform",T),p&&(y.style[Qr]=T)},J1e=function(e,r,n,s,a){var o=360,l=qn(a),c=parseFloat(a)*(l&&~a.indexOf("rad")?qc:1),d=c-s,f=s+d+"deg",m,g;return l&&(m=a.split("_")[1],m==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),m==="cw"&&d<0?d=(d+o*wU)%o-~~(d/o)*o:m==="ccw"&&d>0&&(d=(d-o*wU)%o-~~(d/o)*o)),e._pt=g=new ns(e._pt,r,n,s,d,F1e),g.e=f,g.u="deg",e._props.push(n),g},PU=function(e,r){for(var n in r)e[n]=r[n];return e},Q1e=function(e,r,n){var s=PU({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,d,f,m,g,y,_;s.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),o[Qr]=r,l=Gv(n,1),rc(n,Qr),n.setAttribute("transform",d)):(d=getComputedStyle(n)[Qr],o[Qr]=r,l=Gv(n,1),o[Qr]=d);for(c in Dl)d=s[c],f=l[c],d!==f&&a.indexOf(c)<0&&(y=mi(d),_=mi(f),m=y!==_?nc(n,c,d,_):parseFloat(d),g=parseFloat(f),e._pt=new ns(e._pt,l,c,m,g-m,ZD),e._pt.u=_||0,e._props.push(c));PU(l,s)};rs("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",a="Left",o=(e<3?[r,n,s,a]:[r+a,r+n,s+n,s+a]).map(function(l){return e<2?t+l:"border"+l+t});gw[e>1?"border"+t:t]=function(l,c,d,f,m){var g,y;if(arguments.length<4)return g=o.map(function(_){return sl(l,_,d)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(f+"").split(" "),y={},o.forEach(function(_,b){return y[_]=g[b]=g[b]||g[(b-1)/2|0]}),l.init(c,y,m)}});var qH={name:"css",register:QD,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,a){var o=this._props,l=e.style,c=n.vars.startAt,d,f,m,g,y,_,b,u,h,p,v,w,x,S,E,P,T;yB||QD(),this.styles=this.styles||VH(e),P=this.styles.props,this.tween=n;for(b in r)if(b!=="autoRound"&&(f=r[b],!(vs[b]&&IH(b,r,n,s,e,a)))){if(y=typeof f,_=gw[b],y==="function"&&(f=f.call(n,s,e,a),y=typeof f),y==="string"&&~f.indexOf("random(")&&(f=$v(f)),_)_(this,e,b,f,n)&&(E=1);else if(b.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(b)+"").trim(),f+="",Hu.lastIndex=0,Hu.test(d)||(u=mi(d),h=mi(f),h?u!==h&&(d=nc(e,b,d,h)+h):u&&(f+=u)),this.add(l,"setProperty",d,f,s,a,0,0,b),o.push(b),P.push(b,0,l[b]);else if(y!=="undefined"){if(c&&b in c?(d=typeof c[b]=="function"?c[b].call(n,s,e,a):c[b],qn(d)&&~d.indexOf("random(")&&(d=$v(d)),mi(d+"")||d==="auto"||(d+=Ps.units[b]||mi(sl(e,b))||""),(d+"").charAt(1)==="="&&(d=sl(e,b))):d=sl(e,b),g=parseFloat(d),p=y==="string"&&f.charAt(1)==="="&&f.substr(0,2),p&&(f=f.substr(2)),m=parseFloat(f),b in xo&&(b==="autoAlpha"&&(g===1&&sl(e,"visibility")==="hidden"&&m&&(g=0),P.push("visibility",0,l.visibility),Pu(this,l,"visibility",g?"inherit":"hidden",m?"inherit":"hidden",!m)),b!=="scale"&&b!=="transform"&&(b=xo[b],~b.indexOf(",")&&(b=b.split(",")[0]))),v=b in Dl,v){if(this.styles.save(b),T=f,y==="string"&&f.substring(0,6)==="var(--"){if(f=Cs(e,f.substring(4,f.indexOf(")"))),f.substring(0,5)==="calc("){var A=e.style.perspective;e.style.perspective=f,f=Cs(e,"perspective"),A?e.style.perspective=A:rc(e,"perspective")}m=parseFloat(f)}if(w||(x=e._gsap,x.renderTransform&&!r.parseTransform||Gv(e,r.parseTransform),S=r.smoothOrigin!==!1&&x.smooth,w=this._pt=new ns(this._pt,l,Qr,0,1,x.renderTransform,x,0,-1),w.dep=1),b==="scale")this._pt=new ns(this._pt,x,"scaleY",x.scaleY,(p?Mh(x.scaleY,p+m):m)-x.scaleY||0,ZD),this._pt.u=0,o.push("scaleY",b),b+="X";else if(b==="transformOrigin"){P.push(is,0,l[is]),f=X1e(f),x.svg?e2(e,f,0,S,0,this):(h=parseFloat(f.split(" ")[2])||0,h!==x.zOrigin&&Pu(this,x,"zOrigin",x.zOrigin,h),Pu(this,l,b,vw(d),vw(f)));continue}else if(b==="svgOrigin"){e2(e,f,1,S,0,this);continue}else if(b in KH){J1e(this,x,b,g,p?Mh(g,p+f):f);continue}else if(b==="smoothOrigin"){Pu(this,x,"smooth",x.smooth,f);continue}else if(b==="force3D"){x[b]=f;continue}else if(b==="transform"){Q1e(this,f,e);continue}}else b in l||(b=vp(b)||b);if(v||(m||m===0)&&(g||g===0)&&!B1e.test(f)&&b in l)u=(d+"").substr((g+"").length),m||(m=0),h=mi(f)||(b in Ps.units?Ps.units[b]:u),u!==h&&(g=nc(e,b,d,h)),this._pt=new ns(this._pt,v?x:l,b,g,(p?Mh(g,p+m):m)-g,!v&&(h==="px"||b==="zIndex")&&r.autoRound!==!1?N1e:ZD),this._pt.u=h||0,v&&T!==f?(this._pt.b=d,this._pt.e=T,this._pt.r=k1e):u!==h&&h!=="%"&&(this._pt.b=d,this._pt.r=M1e);else if(b in l)K1e.call(this,e,b,d,p?p+f:f);else if(b in e)this.add(e,b,d||e[b],p?p+f:f,s,a);else if(b!=="parseTransform"){lB(b,f);continue}v||(b in l?P.push(b,0,l[b]):typeof e[b]=="function"?P.push(b,2,e[b]()):P.push(b,1,d||e[b])),o.push(b)}}E&&LH(this)},render:function(e,r){if(r.tween._time||!_B())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:sl,aliases:xo,getSetter:function(e,r,n){var s=xo[r];return s&&s.indexOf(",")<0&&(r=s),r in Dl&&r!==is&&(e._gsap.x||sl(e,"x"))?n&&bU===n?r==="scale"?j1e:$1e:(bU=n||{})&&(r==="scale"?z1e:V1e):e.style&&!sB(e.style[r])?L1e:~r.indexOf("-")?U1e:gB(e,r)},core:{_removeProperty:rc,_getMatrix:wB}};as.utils.checkPrefix=vp;as.core.getStyleSaver=VH;(function(t,e,r,n){var s=rs(t+","+e+","+r,function(a){Dl[a]=1});rs(e,function(a){Ps.units[a]="deg",KH[a]=1}),xo[s[13]]=t+","+e,rs(n,function(a){var o=a.split(":");xo[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");rs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Ps.units[t]="px"});as.registerPlugin(qH);var ebe=as.registerPlugin(qH)||as;ebe.core.Tween;/*!
 * PixiPlugin 3.14.1
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Du,yw,DU,Js,Ng,ZH,t2,TE,JH=function(){return typeof window<"u"},QH=function(){return Du||JH()&&(Du=window.gsap)&&Du.registerPlugin&&Du},r2=function(e){return typeof e=="function"},eW=function(e){return console.warn(e)},tbe=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Hs=.212671,Ws=.71516,Ks=.072169,tW=function(e){return r2(Js[e])?Js[e]:Js.filters[e]},PE=function(e,r){var n=[],s=0,a=0,o,l;for(o=0;o<4;o++){for(l=0;l<5;l++)a=l===4?e[s+4]:0,n[s+l]=e[s]*r[l]+e[s+1]*r[l+5]+e[s+2]*r[l+10]+e[s+3]*r[l+15]+a;s+=5}return n},RU=function(e,r){var n=1-r,s=n*Hs,a=n*Ws,o=n*Ks;return PE([s+r,a,o,0,0,s,a+r,o,0,0,s,a,o+r,0,0,0,0,0,1,0],e)},OU=function(e,r,n){var s=yw(r),a=s[0]/255,o=s[1]/255,l=s[2]/255,c=1-n;return PE([c+n*a*Hs,n*a*Ws,n*a*Ks,0,0,n*o*Hs,c+n*o*Ws,n*o*Ks,0,0,n*l*Hs,n*l*Ws,c+n*l*Ks,0,0,0,0,0,1,0],e)},IU=function(e,r){r*=Math.PI/180;var n=Math.cos(r),s=Math.sin(r);return PE([Hs+n*(1-Hs)+s*-Hs,Ws+n*-Ws+s*-Ws,Ks+n*-Ks+s*(1-Ks),0,0,Hs+n*-Hs+s*.143,Ws+n*(1-Ws)+s*.14,Ks+n*-Ks+s*-.283,0,0,Hs+n*-Hs+s*-(1-Hs),Ws+n*-Ws+s*Ws,Ks+n*(1-Ks)+s*Ks,0,0,0,0,0,1,0,0,0,0,0,1],e)},BU=function(e,r){return PE([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],e)},rW=function(e,r){var n=tW(r),s=e.filters||[],a=s.length,o;for(n||eW(r+" not found. PixiPlugin.registerPIXI(PIXI)");--a>-1;)if(s[a]instanceof n)return s[a];return o=new n,r==="BlurFilter"&&(TE?o.strength=0:o.blur=0),e.filters=[].concat(s,[o]),o},Nn=function(e,r,n,s){r.add(n,e,n[e],s[e]),r._props.push(e)},FU=function(e,r){var n=tW("ColorMatrixFilter"),s=new n;return s.matrix=r,s.brightness(e,!0),s.matrix},rbe=function(e){var r={},n;for(n in e)r[n]=e[n];return r},os={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},nbe=function(e,r,n){var s=rW(e,"ColorMatrixFilter"),a=e._gsColorMatrixFilter=e._gsColorMatrixFilter||rbe(os),o=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter),l,c,d;for(d=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===d.length?(c=r.matrix,a.contrast!==1&&Nn("contrast",n,a,os),a.hue&&Nn("hue",n,a,os),a.brightness!==1&&Nn("brightness",n,a,os),a.colorizeAmount&&(Nn("colorize",n,a,os),Nn("colorizeAmount",n,a,os)),a.saturation!==1&&Nn("saturation",n,a,os)):(c=tbe.slice(),r.contrast!=null?(c=BU(c,+r.contrast),Nn("contrast",n,a,r)):a.contrast!==1&&(o?c=BU(c,a.contrast):Nn("contrast",n,a,os)),r.hue!=null?(c=IU(c,+r.hue),Nn("hue",n,a,r)):a.hue&&(o?c=IU(c,a.hue):Nn("hue",n,a,os)),r.brightness!=null?(c=FU(+r.brightness,c),Nn("brightness",n,a,r)):a.brightness!==1&&(o?c=FU(a.brightness,c):Nn("brightness",n,a,os)),r.colorize!=null?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,c=OU(c,r.colorize,r.colorizeAmount),Nn("colorize",n,a,r),Nn("colorizeAmount",n,a,r)):a.colorizeAmount&&(o?c=OU(c,a.colorize,a.colorizeAmount):(Nn("colorize",n,a,os),Nn("colorizeAmount",n,a,os))),r.saturation!=null?(c=RU(c,+r.saturation),Nn("saturation",n,a,r)):a.saturation!==1&&(o?c=RU(c,a.saturation):Nn("saturation",n,a,os))),l=c.length;--l>-1;)c[l]!==d[l]&&n.add(d,l,d[l],c[l],"colorMatrixFilter");n._props.push("colorMatrixFilter")},ibe=function(e,r){var n=r.t,s=r.p,a=r.color,o=r.set;o(n,s,a[0]<<16|a[1]<<8|a[2])},sbe=function(e,r){var n=r.g;TE?(n.fill(),n.stroke()):n&&(n.dirty++,n.clearDirty++)},abe=function(e,r){r.t.visible=!!r.t.alpha},MU=function(e,r,n,s){var a=e[r],o=yw(r2(a)?e[r.indexOf("set")||!r2(e["get"+r.substr(3)])?r:"get"+r.substr(3)]():a),l=yw(n);s._pt=new Ng(s._pt,e,r,0,0,ibe,{t:e,p:r,color:o,set:ZH(e,r)}),s.add(o,0,o[0],l[0]),s.add(o,1,o[1],l[1]),s.add(o,2,o[2],l[2])},obe={tint:1,lineColor:1,fillColor:1,strokeColor:1},kU="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),n2={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},lbe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},_w=Math.PI/180,nW=function(e){return typeof e=="string"},ube=function(e){return nW(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*_w:e*_w},cbe=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e5)/1e5,r)},dbe=function(e,r,n,s,a,o){var l=360*(o?_w:1),c=nW(a),d=c&&a.charAt(1)==="="?+(a.charAt(0)+"1"):0,f=parseFloat(d?a.substr(2):a)*(o?_w:1),m=d?f*d:f-s,g=s+m,y,_;return c&&(y=a.split("_")[1],y==="short"&&(m%=l,m!==m%(l/2)&&(m+=m<0?l:-l)),y==="cw"&&m<0?m=(m+l*1e10)%l-~~(m/l)*l:y==="ccw"&&m>0&&(m=(m-l*1e10)%l-~~(m/l)*l)),e._pt=_=new Ng(e._pt,r,n,s,m,cbe),_.e=g,_},NU=function(){if(!DU){Du=QH(),Js=DU=Js||JH()&&window.PIXI;var e=Js&&Js.VERSION&&parseFloat(Js.VERSION.split(".")[0])||0;t2=e===4,TE=e>=8,yw=function(n){return Du.utils.splitColor((n+"").substr(0,2)==="0x"?"#"+n.substr(2):n)}}},E0,Fm;for(E0=0;E0<kU.length;E0++)Fm=kU[E0],n2[Fm+"X"]=Fm,n2[Fm+"Y"]=Fm;var fbe={version:"3.14.1",name:"pixi",register:function(e,r,n){Du=e,Ng=n,ZH=r.getSetter,NU()},headless:!0,registerPIXI:function(e){Js=e},init:function(e,r,n,s,a){if(Js||NU(),!Js)return eW("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,l,c,d,f,m,g,y,_,b;for(m in r){if(o=n2[m],c=r[m],o)l=~m.charAt(m.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],l,e[o][l],o==="skew"?ube(c):c,0,0,0,0,0,1);else if(m==="scale"||m==="anchor"||m==="pivot"||m==="tileScale")this.add(e[m],"x",e[m].x,c),this.add(e[m],"y",e[m].y,c);else if(m==="rotation"||m==="angle")dbe(this,e,m,e[m],c,m==="rotation");else if(lbe[m])d||(nbe(e,r.colorMatrixFilter||r,this),d=!0);else if(m==="blur"||m==="blurX"||m==="blurY"||m==="blurPadding"){if(f=rW(e,"BlurFilter"),this.add(f,m,f[m],c),r.blurPadding!==0)for(g=r.blurPadding||Math.max(f[m],c)*2,y=e.filters.length;--y>-1;)e.filters[y].padding=Math.max(e.filters[y].padding,g)}else if(obe[m])if((m==="lineColor"||m==="fillColor"||m==="strokeColor")&&e instanceof Js.Graphics)for(_=("fillStyle"in e)?[e]:(e.geometry||e).graphicsData,b=m.substr(0,m.length-5),TE&&b==="line"&&(b="stroke"),this._pt=new Ng(this._pt,e,m,0,0,sbe,{g:e.geometry||e}),y=_.length;--y>-1;)MU(t2?_[y]:_[y][b+"Style"],t2?m:"color",c,this);else MU(e,m,c,this);else m==="autoAlpha"?(this._pt=new Ng(this._pt,e,"visible",0,0,abe),this.add(e,"alpha",e.alpha,c),this._props.push("alpha","visible")):m!=="resolution"&&this.add(e,m,"get",c);this._props.push(m)}}};QH()&&Du.registerPlugin(fbe);class bw{constructor(e=0,r=0,n=0,s=0){this._x=Number(e),this._y=Number(r),this._width=Number(n),this._height=Number(s),this._hull=[new ze,new ze,new ze,new ze],this.currentID=-1,this.dirtyID=0}get x(){return this._x}set x(e){this._x=e,this.dirtyID++}get y(){return this._y}set y(e){this._y=e,this.dirtyID++}get width(){return this._width}set width(e){this._width=e,this.dirtyID++}get height(){return this._height}set height(e){this._height=e,this.dirtyID++}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}isDirty(){return this.currentID!==this.dirtyID}update(){const[e,r,n,s]=this._hull;e.set(this._x,this._y),r.set(this._x+this._width,this._y),n.set(this._x+this._width,this._y+this._height),s.set(this._x,this._y+this._height)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new bw(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}equals(e){return e?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:!1}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=a-s,this}}const LU=new ze;class V1{constructor(e=0,r=0,n=0,s=0,a=0){e instanceof bw&&(a=r||0,r=e.y,n=e.width,s=e.height,e=e.x),this.innerBounds=new bw(e,r,n,s),this._rotation=a,this._center=new ka(this.updateCenter,this),this._hull=[new ze,new ze,new ze,new ze],this._matrix=new er,this.currentID=-1,this.dirtyID=0}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.dirtyID++}get center(){return this.isDirty()&&this.update(),this._center}set center(e){this.center.copyFrom(e)}get hull(){return this.isDirty()&&this.update(),this._hull}get topLeft(){return this.isDirty()&&this.update(),this._hull[0]}get topRight(){return this.isDirty()&&this.update(),this._hull[1]}get bottomRight(){return this.isDirty()&&this.update(),this._hull[2]}get bottomLeft(){return this.isDirty()&&this.update(),this._hull[3]}equals(e){return e?this.innerBounds.equals(e.innerBounds)&&this.rotation===e.rotation:!1}contains(e,r){typeof e=="number"&&(e=LU.set(e,r));const n=this._matrix.applyInverse(e,LU);return this.innerBounds.contains(n.x,n.y)}copyFrom(e){return this.innerBounds.copyFrom(e.innerBounds),this.rotation=e.rotation,this.dirtyID++,this}isDirty(){return this.currentID!==this.dirtyID+this.innerBounds.dirtyID}update(){const e=this.innerBounds,r=this._rotation,n=this._center,[s,a,o,l]=this._hull,c=this._matrix;n._x=e.x+e.width/2,n._y=e.y+e.height/2,c.identity().translate(-n.x,-n.y).rotate(r).translate(n.x,n.y),c.apply(e.topLeft,s),c.apply(e.topRight,a),c.apply(e.bottomRight,o),c.apply(e.bottomLeft,l),this.currentID=this.dirtyID+this.innerBounds.dirtyID}updateCenter(){const e=this.center,r=this.innerBounds;r.x=e.x-r.width/2,r.y=e.y-r.height/2}}class UU{constructor(e,r){this._history=new Array(e),this._decayRatio=r,this._currentIndex=0;for(let n=0;n<e;n++)this._history[n]=0}next(e){const{_history:r,_decayRatio:n}=this,s=r.length;this._currentIndex=this._currentIndex<s-1?this._currentIndex+1:0,r[this._currentIndex]=e;let a=0,o=0;for(let l=this._currentIndex+1;l<s;l++)a=(a+r[l])*n,o=(o+1)*n;for(let l=0;l<=this._currentIndex;l++)a=(a+r[l])*n,o=(o+1)*n;return this._average=a/o,this._average}absDev(){let e=0;for(let r=0,n=this._history.length;r<n;r++)e+=Math.abs(this._history[r]-this._average);return e/this._history.length}}class ww{constructor(e={}){ww.prototype.__init.call(this),this._freeList=[],this._freeCount=0,this._borrowRate=0,this._returnRate=0,this._flowRate=0,this._borrowRateAverage=0,this._reserveCount=e.reserve||0,this._capacityRatio=e.capacityRatio||1.2,this._decayRatio=e.decayRatio||.67,this._marginAverage=0,this._borrowRateAverageProvider=new UU(128,this._decayRatio),this._marginAverageProvider=new UU(128,this._decayRatio)}get capacity(){return this._freeList.length}set capacity(e){this._freeList.length=Math.ceil(e)}allocate(){return++this._borrowRate,++this._flowRate,this._freeCount>0?this._freeList[--this._freeCount]:this.create()}allocateArray(e){let r,n;Array.isArray(e)?(r=e,n=e.length):(n=e,r=new Array(n)),this._borrowRate+=n,this._flowRate+=n;let s=0;if(this._freeCount>0){const a=this._freeList,o=Math.min(this._freeCount,n);let l=this._freeCount;for(let c=0;c<o;c++)r[s]=a[l-1],++s,--l;this._freeCount=l}for(;s<n;)r[s]=this.create(),++s;return r}release(e){++this._returnRate,--this._flowRate,this._freeCount===this.capacity&&(this.capacity*=this._capacityRatio),this._freeList[this._freeCount]=e,++this._freeCount}releaseArray(e){this._returnRate+=e.length,this._flowRate-=e.length,this._freeCount+e.length>this.capacity&&(this.capacity=Math.max(this.capacity*this._capacityRatio,this._freeCount+e.length));for(let r=0,n=e.length;r<n;r++)this._freeList[this._freeCount]=e[r],++this._freeCount}reserve(e){if(this._reserveCount=e,this._freeCount<e){const r=this._freeCount-e;for(let n=0;n<r;n++)this._freeList[this._freeCount]=this.create(),++this._freeCount}}limit(e){if(this._freeCount>e){this.capacity>e*this._capacityRatio&&(this.capacity=e*this._capacityRatio);const n=Math.min(this._freeCount,this.capacity);for(let s=e;s<n;s++)this._freeList[s]=null}}startGC(e=En.shared){e.add(this._gcTick,null,Bo.UTILITY)}stopGC(e=En.shared){e.remove(this._gcTick)}__init(){this._gcTick=()=>{this._borrowRateAverage=this._borrowRateAverageProvider.next(this._borrowRate),this._marginAverage=this._marginAverageProvider.next(this._freeCount-this._borrowRate);const e=this._borrowRateAverageProvider.absDev();this._flowRate=0,this._borrowRate=0,this._returnRate=0;const r=this._freeCount,n=this._freeList.length;if(r<128&&this._borrowRateAverage<128&&n<128)return;const s=Math.max(this._borrowRateAverage*(this._capacityRatio-1),this._reserveCount);if(this._freeCount>s+e){const a=s+e;this.capacity=Math.min(this._freeList.length,Math.ceil(a)),this._freeCount=this._freeList.length}}}}var RA;const $U=new Map;class iW{static build(e){let r=$U.get(e);return r||(r=new class extends ww{create(){return new e}},$U.set(e,r),r)}static buildFunctional(e){return new(RA=class extends ww{constructor(...n){super(...n),RA.prototype.__init.call(this)}__init(){this.create=e}},RA)}}const jU={color:16777215,outlineColor:0,outlineThickness:1,radius:8,shape:"tooth"},hbe=hl;class pbe extends hbe{constructor(e,r,n={},s,a,o){super(),this.transformer=e;const l=Object.assign({},jU,n);this._handle=r,this._style=l,this.onHandleDelta=s,this.onHandleCommit=a,this._dirty=!0,this.interactive=!0,this.cursor=o||"move",this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new ze,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onpointerdown=this.onPointerDown,this.onpointermove=this.onPointerMove,this.onpointerup=this.onPointerUp,this.onpointerupoutside=this.onPointerUp}get handle(){return this._handle}set handle(e){this._handle=e,this._dirty=!0}get style(){return this._style}set style(e){this._style=Object.assign({},jU,e),this._dirty=!0}render(e){this._dirty&&(this.draw(),this._dirty=!1),super.render(e)}draw(){const e=this._handle,r=this._style,n=r.radius;if(this.clear().lineStyle(r.outlineThickness,r.outlineColor).beginFill(r.color),r.shape==="square")this.drawRect(-n/2,-n/2,n,n);else if(r.shape==="tooth")switch(e){case"middleLeft":this.drawPolygon([-n/2,-n/2,-n/2,n/2,n/2,n/2,n*1.1,0,n/2,-n/2]);break;case"topCenter":this.drawPolygon([-n/2,-n/2,n/2,-n/2,n/2,n/2,0,n*1.1,-n/2,n/2]);break;case"middleRight":this.drawPolygon([-n/2,n/2,-n*1.1,0,-n/2,-n/2,n/2,-n/2,n/2,n/2]);break;case"bottomCenter":this.drawPolygon([0,-n*1.1,n/2,-n/2,n/2,n/2,-n/2,n/2,-n/2,-n/2]);break;case"rotator":this.drawCircle(0,0,n/Math.sqrt(2));break;default:this.drawRect(-n/2,-n/2,n,n);break}else this.drawCircle(0,0,n);this.endFill()}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.transformer.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){this._pointerDown&&(this._pointerDragging?this.onDrag(e):this.onDragStart(e),e.stopPropagation())}onPointerUp(e){this._pointerDragging&&this.onDragEnd(e),this._pointerDown=!1,this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}onDragStart(e){this._pointerPosition.copyFrom(e.data.global),this._pointerDragging=!0}onDrag(e){const r=e.data.global;this.onHandleDelta&&this.onHandleDelta(r),this._pointerPosition.copyFrom(r)}onDragEnd(e){this._pointerDragging=!1,this.onHandleCommit&&this.onHandleCommit()}}function S0(t,e,r,n){const{x:s,y:a}=r,{x:o,y:l}=n;if(Math.abs(o-s)<.01)return Math.abs(t-s);if(Math.abs(l-a)<.01)return Math.abs(e-a);const c=(l-a)/(o-s);return Math.abs((c*t-e+(l-c*o))/Math.sqrt(c*c+1))}const zU=iW.build(ze),mbe=[new ze,new ze,new ze,new ze],gbe=new er,Df=new ze,vbe=[0,0,0,1,-1,1,-1,-1,1,-1,1,0],ybe=[0,0,-1,0,-1,-1,1,-1,1,1,0,1],_be=[0,0,1,0,1,1,-1,1,-1,-1,0,-1],bbe=[0,0,0,-1,1,-1,1,1,-1,1,-1,0],OA=new Array(12),wbe=[vbe,ybe,_be,bbe],xbe=hl;class Ebe extends xbe{constructor(e){super(),this.transformer=e,this.boxScalingHandles=[this.addChild(new hl),this.addChild(new hl),this.addChild(new hl),this.addChild(new hl)],this.boxScalingHandles.forEach(r=>{r.interactive=!0}),this.boxScalingHandles[0].cursor=sg.topCenter,this.boxScalingHandles[1].cursor=sg.middleRight,this.boxScalingHandles[2].cursor=sg.bottomCenter,this.boxScalingHandles[3].cursor=sg.middleLeft}hitHandleType(e,r,n){const{boxRotationEnabled:s,boxRotationTolerance:a,boxScalingEnabled:o,boxScalingTolerance:l}=this.transformer,[c,d,f,m]=e.hull,{x:g,y}=r.applyInverse(n,Df);if(o){const _=S0(g,y,c,d)*r.d,b=S0(g,y,c,m)*r.a,u=S0(g,y,d,f)*r.a,h=S0(g,y,m,f)*r.d,p=Math.min(_,b,u,h);if(p<l)switch(p){case _:return"topCenter";case b:return"middleLeft";case u:return"middleRight";case h:return"bottomCenter"}}if(s&&!e.contains(g,y)){const _=Math.sqrt((c.x-g)**2+(c.y-y)**2),b=Math.sqrt((d.x-g)**2+(d.y-y)**2),u=Math.sqrt((m.x-g)**2+(m.y-y)**2),h=Math.sqrt((f.x-g)**2+(f.y-y)**2),p=Math.min(_,b,u,h);if(p<a*1.45)switch(p){case _:return"boxRotateTopLeft";case b:return"boxRotateTopRight";case u:return"boxRotateBottomLeft";case h:return"boxRotateBottomRight"}}return null}drawBounds(e){const r=mbe;for(let n=0;n<4;n++)this.transformer.projectToLocal(e.hull[n],r[n]);this.drawPolygon(r)}drawBoxScalingTolerance(e,r=this.transformer.boxScalingTolerance){e.innerBounds.pad(-r);const n=zU.allocateArray(4);n.forEach((a,o)=>{this.projectToLocal(e.hull[o],a)}),e.innerBounds.pad(2.5*r);const s=zU.allocateArray(4);s.forEach((a,o)=>{this.projectToLocal(e.hull[o],a)}),e.innerBounds.pad(-1.5*this.transformer.boxScalingTolerance);for(let a=0;a<4;a++){const o=n[a],l=n[(a+1)%4],c=s[a],d=s[(a+1)%4];this.boxScalingHandles[a].clear().beginFill(16777215,1e-4).drawPolygon(o,c,d,l).endFill()}}drawBoxRotationTolerance(){const{boxRotateTopLeft:e,boxRotateTopRight:r,boxRotateBottomLeft:n,boxRotateBottomRight:s}=this.transformer.handleAnchors,a=this.transformer.boxRotationTolerance*2,o=gbe.identity().scale(a,a).rotate(this.transformer.getGroupBounds().rotation);for(let l=0;l<4;l++){const c=wbe[l];let d;switch(l){case 0:d=e;break;case 1:d=r;break;case 2:d=n;break;case 3:d=s;break}for(let f=0;f<c.length;f+=2){const m=c[f],g=c[f+1];Df.set(m,g),o.apply(Df,Df),OA[f]=Df.x+d.x,OA[f+1]=Df.y+d.y}this.drawPolygon(OA.slice())}}projectToLocal(e,r){return this.transformer.projectToLocal(e,r)}}const sW=new er;function VU(t){const e=sW.identity();return e.c=Math.tan(t),e}function GU(t){const e=sW.identity();return e.b=Math.tan(t),e}function aW(t,e,r,n=t.pivot){const s=e.a,a=e.b,o=e.c,l=e.d,c=-Math.atan2(-o,l),d=Math.atan2(a,s);return r=r!=null?r:d,t.pivot.set(n.x,n.y),t.rotation=r,t.skew.x=r+c,t.skew.y=-r+d,t.scale.x=Math.sqrt(s*s+a*a),t.scale.y=Math.sqrt(o*o+l*l),t.position.x=e.tx+(n.x*e.a+n.y*e.c),t.position.y=e.ty+(n.x*e.b+n.y*e.d),t}const C0=new er,Sbe=new er;function Cbe(t,e,r){if(!r){const a=t.parent?t.parent:t.enableTempParent();t.updateTransform(),t.disableTempParent(a)}const n=t.worldTransform,s=t.parent?Sbe.copyFrom(t.parent.worldTransform):er.IDENTITY;C0.copyFrom(n),C0.prepend(e),C0.prepend(s.invert()),aW(t.transform,C0)}const A0=new Np,Abe=[new ze,new ze,new ze,new ze],Rf=new er,Of=new ze,IA=new V1,Tbe=new Bt,HU=[new ze,new ze,new ze,new ze],WU=new ze,KU=new er,T0=iW.build(ze),sg={topLeft:"nw-resize",topCenter:"n-resize",topRight:"ne-resize",middleLeft:"w-resize",middleRight:"e-resize",bottomLeft:"sw-resize",bottomCenter:"s-resize",bottomRight:"se-resize"},G1=["topLeft","topCenter","topRight","middleLeft","middleCenter","middleRight","bottomLeft","bottomCenter","bottomRight"],XU={topLeft:{x:-1,y:-1},topCenter:{x:0,y:-1},topRight:{x:1,y:-1},middleLeft:{x:-1,y:0},middleCenter:{x:0,y:0},middleRight:{x:1,y:0},bottomLeft:{x:-1,y:1},bottomCenter:{x:0,y:1},bottomRight:{x:1,y:1}},Pbe=[...G1,"rotator","skewHorizontal","skewVertical"],Dbe=4,Rbe=16,Obe=[Math.PI/4,Math.PI/2,Math.PI*3/4,Math.PI,0,-Math.PI/4,-Math.PI/2,-Math.PI*3/4,-Math.PI],Ibe=Math.PI/90,Bbe=[Math.PI/4,-Math.PI/4],Fbe=Math.PI/90,YU={color:0,thickness:2},Mbe=ss;class zs extends Mbe{constructor(e={}){super(),zs.prototype.__init.call(this),zs.prototype.__init2.call(this),zs.prototype.__init3.call(this),zs.prototype.__init4.call(this),zs.prototype.__init5.call(this),this.interactive=!0,this.cursors=Object.assign({default:"move"},e.cursors),this.cursor=this.cursors.default,this.boundingBoxes=e.boundingBoxes||"all",this.group=e.group||[],this.boxRotationTolerance=e.boxRotationTolerance||Rbe,this.boxScalingTolerance=e.boxScalingTolerance||Dbe,this.centeredScaling=!!e.centeredScaling,this.projectionTransform=new er,this.lockAspectRatio=e.lockAspectRatio===!0,this.rotationSnaps=e.rotationSnaps||Obe,this.rotationSnapTolerance=e.rotationSnapTolerance!==void 0?e.rotationSnapTolerance:Ibe,this.skewRadius=e.skewRadius||64,this.skewSnaps=e.skewSnaps||Bbe,this.skewSnapTolerance=e.skewSnapTolerance!==void 0?e.skewSnapTolerance:Fbe,this.boxRotationEnabled=e.boxRotationEnabled===!0,this.boxScalingEnabled=e.boxScalingEnabled===!0,this._rotateEnabled=e.rotateEnabled!==!1,this._scaleEnabled=e.scaleEnabled!==!1,this._skewEnabled=e.skewEnabled===!0,this.translateEnabled=e.translateEnabled!==!1,this.transientGroupTilt=e.transientGroupTilt!==void 0?e.transientGroupTilt:!0,this.wireframe=this.addChild(new Ebe(this)),this.wireframe.cursor="none",this.stage=e.stage||null,this._skewX=0,this._skewY=0,this._transformType="none",this._wireframeStyle=Object.assign({},YU,e.wireframeStyle||{});const r=e.handleConstructor||pbe,n=e.handleStyle||{};this._handleStyle=n;const s={rotator:this.addChild(new r(this,"rotator",n,l=>{this.rotateGroup("rotator",l)},this.commitGroup))},a=G1.reduce((l,c)=>{const d=new r(this,c,n,null,this.commitGroup,sg[c]);return d.onHandleDelta=f=>{this.scaleGroup(d.handle,f)},d.visible=this._scaleEnabled,l[c]=d,this.addChild(l[c]),l},{}),o={skewHorizontal:this.addChild(new r(this,"skewHorizontal",n,l=>{this.skewGroup("skewHorizontal",l)},this.commitGroup,"pointer")),skewVertical:this.addChild(new r(this,"skewVertical",n,l=>{this.skewGroup("skewVertical",l)},this.commitGroup,"pointer"))};this.handles=Object.assign({},a,s,o),this.handles.middleCenter.visible=!1,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,this.handleAnchors={rotator:new ze,boxRotateTopLeft:new ze,boxRotateTopRight:new ze,boxRotateBottomLeft:new ze,boxRotateBottomRight:new ze,topLeft:new ze,topCenter:new ze,topRight:new ze,middleLeft:new ze,middleCenter:new ze,middleRight:new ze,bottomLeft:new ze,bottomCenter:new ze,bottomRight:new ze,skewHorizontal:new ze,skewVertical:new ze},this.groupBounds=new V1,this.updateGroupBounds(),this._pointerDown=!1,this._pointerDragging=!1,this._pointerPosition=new ze,this._pointerMoveTarget=null,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.addEventListener("pointerdown",this.onPointerDown),this.addEventListener("pointerup",this.onPointerUp),this.addEventListener("pointerupoutside",this.onPointerUp)}get enabledHandles(){return this._enabledHandles}set enabledHandles(e){!this._enabledHandles&&!e||(this._enabledHandles=e,Pbe.forEach(r=>{this.handles[r].visible=!1}),e?e.forEach(r=>{this.handles[r].visible=!0}):(this.handles.rotator.visible=this._rotateEnabled,this.handles.skewHorizontal.visible=this._skewEnabled,this.handles.skewVertical.visible=this._skewEnabled,G1.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=this._scaleEnabled)})))}get handleStyle(){return this._handleStyle}set handleStyle(e){const r=this.handles;for(const n in r)r[n].style=e;this._handleStyle=e}get rotateEnabled(){return this._rotateEnabled}set rotateEnabled(e){if(this._rotateEnabled!==e){if(this._rotateEnabled=e,this._enabledHandles)return;this.handles.rotator.visible=e}}get scaleEnabled(){return this._scaleEnabled}set scaleEnabled(e){if(this._scaleEnabled!==e){if(this._scaleEnabled=e,this._enabledHandles)return;G1.forEach(r=>{r!=="middleCenter"&&(this.handles[r].visible=e)})}}get skewEnabled(){return this._skewEnabled}set skewEnabled(e){if(this._skewEnabled!==e){if(this._skewEnabled=e,this._enabledHandles)return;this.handles.skewHorizontal.visible=e,this.handles.skewVertical.visible=e}}get transformType(){return this._transformType}get wireframeStyle(){return this._wireframeStyle}set wireframeStyle(e){this._wireframeStyle=Object.assign({},YU,e)}getGroupBounds(e=!1){return e&&this.updateGroupBounds(),this.groupBounds}__init(){this.translateGroup=e=>{this._transformHandle=null,this._transformType="translate";const r=Rf.identity().translate(e.x,e.y);this.prependTransform(r)}}__init2(){this.rotateGroup=(e,r)=>{this._transformHandle=e,this._transformType="rotate";const n=this.groupBounds,s=this.worldTransform.apply(this.handleAnchors[e],Of);this.projectionTransform.applyInverse(s,s),r=this.projectionTransform.applyInverse(r,WU);const a=n.center,o=Math.atan2(s.y-a.y,s.x-a.x);let c=Math.atan2(r.y-a.y,r.x-a.x)-o,d=this.groupBounds.rotation+c;d=this.snapAngle(d,this.rotationSnapTolerance,this.rotationSnaps),c=d-this.groupBounds.rotation;const f=Rf.identity().translate(-a.x,-a.y).rotate(c).translate(a.x,a.y);this.prependTransform(f,!0),this.updateGroupBounds(d),this._skewX+=c,this._skewY+=c}}__init3(){this.scaleGroup=(e,r)=>{this._transformHandle=e,this._transformType="scale";const n=XU[e].x,s=XU[e].y,a=this.handles,o=this.groupBounds,l=o.rotation,c=o.innerBounds,d=this.worldTransform.apply(this.handleAnchors[e],Of);this.projectionTransform.applyInverse(d,d),r=this.projectionTransform.applyInverse(r,WU);const f=r.x-d.x,m=r.y-d.y,g=(o.topRight.x-o.topLeft.x)/c.width,y=(o.topRight.y-o.topLeft.y)/c.width,_=(o.bottomLeft.x-o.topLeft.x)/c.height,b=(o.bottomLeft.y-o.topLeft.y)/c.height,u=f*g+m*y,h=f*_+m*b;let p=1+u*n/c.width,v=1+h*s/c.height;this.lockAspectRatio&&(e==="topLeft"||e==="topRight"||e==="bottomLeft"||e==="bottomRight")&&(p>v?v=p:p=v);const x=Rf.identity();if(n!==0&&p!==0){const S=this.centeredScaling?o.center:n===1?o.topLeft:o.topRight;x.translate(-S.x,-S.y).rotate(-l).scale(p,1).rotate(l).translate(S.x,S.y)}if(s!==0&&v!==0){const S=this.centeredScaling?o.center:s===1?o.topLeft:o.bottomLeft;x.translate(-S.x,-S.y).rotate(-l).scale(1,v).rotate(l).translate(S.x,S.y)}if((v<0||p<0)&&!(v<0&&p<0))switch(e){case"topLeft":case"bottomLeft":this.swapHandles(a.topLeft,a.bottomLeft);break;case"topCenter":case"bottomCenter":this.swapHandles(a.topCenter,a.bottomCenter);break;case"topRight":case"bottomRight":this.swapHandles(a.topRight,a.bottomRight);break}this.prependTransform(x)}}__init4(){this.skewGroup=(e,r)=>{this._transformHandle=e,this._transformType="skew";const n=this.groupBounds,s=Of.copyFrom(r);this.projectionTransform.applyInverse(s,s);const a=n.center,o=Rf.identity().translate(-a.x,-a.y);let l=this.groupBounds.rotation;if(e==="skewHorizontal"){const c=this._skewX;this._skewX=Math.atan2(s.y-a.y,s.x-a.x),this._skewX=this.snapAngle(this._skewX,this.skewSnapTolerance,this.skewSnaps),o.prepend(GU(-c)),o.prepend(GU(this._skewX))}else{const c=this._skewY,d=Math.atan2(s.y-a.y,s.x-a.x)-Math.PI/2;this._skewY=d,this._skewY=this.snapAngle(this._skewY,this.skewSnapTolerance,this.skewSnaps),o.prepend(VU(c)),o.prepend(VU(-this._skewY)),l-=this._skewY-c}o.translate(a.x,a.y),this.prependTransform(o,!0),this.updateGroupBounds(l)}}__init5(){this.commitGroup=()=>{this._transformHandle=null,this._transformType="none",this.transientGroupTilt!==!1&&this.group.length>1&&this.updateGroupBounds(0),this.emit("transformcommit")}}render(e){this.renderable&&this.visible&&(!this.lazyMode||this.lazyDirty)&&this.draw(),super.render(e)}draw(){const e=this.group,{color:r,thickness:n}=this._wireframeStyle;this.wireframe.clear(),this.boundingBoxes!=="none"&&this.wireframe.lineStyle(n,r),this.translateEnabled&&this.wireframe.beginFill(16777215,1e-4);for(let a=0,o=e.length;a<o&&this.boundingBoxes==="all";a++)this.wireframe.drawBounds(zs.calculateOrientedBounds(e[a],IA));const s=e.length!==1?zs.calculateGroupOrientedBounds(e,this.groupBounds.rotation,IA,!0):zs.calculateOrientedBounds(e[0],IA);this.wireframe.drawBounds(s),this.drawHandles(s),this.groupBounds.copyFrom(s),this.boxRotationEnabled&&(this.wireframe.closePath().beginFill(16777215,1e-4).lineStyle(),this.wireframe.drawBoxRotationTolerance()),this.boxScalingEnabled&&(this.wireframe.closePath().beginFill(16773375,1e-4).lineStyle(),this.wireframe.drawBoxScalingTolerance(s)),this.lazyDirty=!1}drawHandles(e){const r=this.handles,n=this.handleAnchors,{topLeft:s,topRight:a,bottomLeft:o,bottomRight:l,center:c}=e,[d,f,m,g]=HU,y=Of;if(this.projectToLocal(s,d),this.projectToLocal(a,f),this.projectToLocal(o,m),this.projectToLocal(l,g),this.projectToLocal(c,y),n.topLeft.copyFrom(d),n.topCenter.set((d.x+f.x)/2,(d.y+f.y)/2),n.topRight.copyFrom(f),n.middleLeft.set((d.x+m.x)/2,(d.y+m.y)/2),n.middleCenter.set((d.x+g.x)/2,(d.y+g.y)/2),n.middleRight.set((f.x+g.x)/2,(f.y+g.y)/2),n.bottomLeft.copyFrom(m),n.bottomCenter.set((m.x+g.x)/2,(m.y+g.y)/2),n.bottomRight.copyFrom(g),this.boxRotationEnabled&&(n.boxRotateTopLeft.copyFrom(n.topLeft),n.boxRotateTopRight.copyFrom(n.topRight),n.boxRotateBottomLeft.copyFrom(n.bottomLeft),n.boxRotateBottomRight.copyFrom(n.bottomRight)),this._rotateEnabled){const _=(d.x+f.x)/2,b=(d.y+f.y)/2;let u=-(d.y-f.y),h=d.x-f.x;const p=Math.sqrt(u*u+h*h);u*=32/p,h*=32/p,r.rotator.position.x=_+u,r.rotator.position.y=b+h,this.wireframe.moveTo(_,b).lineTo(r.rotator.position.x,r.rotator.position.y),this.handleAnchors.rotator.copyFrom(r.rotator.position)}if(this._skewEnabled){const _=y.x,b=y.y;this.worldTransform.apply(y,y),n.skewHorizontal.set(y.x+Math.cos(this._skewX)*this.skewRadius,y.y+Math.sin(this._skewX)*this.skewRadius),n.skewVertical.set(y.x+-Math.sin(this._skewY)*this.skewRadius,y.y+Math.cos(this._skewY)*this.skewRadius),this.worldTransform.applyInverse(n.skewHorizontal,n.skewHorizontal),this.worldTransform.applyInverse(n.skewVertical,n.skewVertical),y.set(_,b),this.wireframe.beginFill(this.wireframeStyle.color).drawCircle(y.x,y.y,this.wireframeStyle.thickness*2).endFill(),this.wireframe.moveTo(y.x,y.y).lineTo(r.skewHorizontal.x,r.skewHorizontal.y).moveTo(y.x,y.y).lineTo(r.skewVertical.x,r.skewVertical.y)}for(const _ in r){let b=this.groupBounds.rotation;_==="skewHorizontal"?b=this._skewX:_==="skewVertical"&&(b=this._skewY);const u=r[_];u.rotation=b,u.position.copyFrom(n[_]),u.getBounds(!1,Tbe)}}onPointerDown(e){this._pointerDown=!0,this._pointerDragging=!1,e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null),this._pointerMoveTarget=this.stage||this,this._pointerMoveTarget.addEventListener("globalpointermove",this.onPointerMove)}onPointerMove(e){const r=this._pointerPosition,n=T0.allocate().copyFrom(e.data.global),s=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n);if(!this._pointerDown)this.setCursorFromHoveredHandle(s);else{const a=n.x,o=n.y;if(this._pointerDragging)switch(this._transformHandle){case"boxRotateTopLeft":case"boxRotateTopRight":case"boxRotateBottomLeft":case"boxRotateBottomRight":this.rotateGroup(this._transformHandle,n);break;case"topCenter":case"middleLeft":case"middleRight":case"bottomCenter":this.scaleGroup(this._transformHandle,n);break;default:if(this.translateEnabled){const[l,c,d]=HU;l.set(0,0),c.set(n.x-r.x,n.y-r.y),this.projectionTransform.applyInverse(l,l),this.projectionTransform.applyInverse(c,c),d.set(c.x-l.x,c.y-l.y),this.translateGroup(d)}}else this._transformHandle=this.wireframe.hitHandleType(this.groupBounds,this.projectionTransform,n),this.setCursorFromHoveredHandle(s);this._pointerPosition.x=a,this._pointerPosition.y=o,this._pointerDragging=!0,e.stopPropagation()}T0.release(n)}onPointerUp(e){this._pointerDragging=!1,this._pointerDown=!1,this.commitGroup(),e.stopPropagation(),this._pointerMoveTarget&&(this._pointerMoveTarget.removeEventListener("globalpointermove",this.onPointerMove),this._pointerMoveTarget=null)}prependTransform(e,r=!1){const n=this.group;for(let s=0,a=n.length;s<a;s++)Cbe(n[s],e,!1);KU.copyFrom(e),r||this.updateGroupBounds(),this.emit("transformchange",KU)}updateGroupBounds(e=this.groupBounds.rotation){zs.calculateGroupOrientedBounds(this.group,e,this.groupBounds),this.drawHandles(this.groupBounds),this.lazyDirty=!0}snapAngle(e,r,n){if(e=e%(Math.PI*2),!n||n.length===1||!r)return e;for(let s=0,a=n.length;s<a;s++)if(Math.abs(e-n[s])<=r)return n[s];return e}swapHandles(e,r){const n=e.handle,s=r.handle,a=e.cursor,o=r.cursor,l=e.x,c=r.x,d=e.y,f=r.y;e.handle=s,r.handle=n,e.position.set(c,f),r.position.set(l,d),e.cursor=o,r.cursor=a,this.handles[n]=r,this.handles[s]=e,this._transformHandle===n?this._transformHandle=s:this._transformHandle===s&&(this._transformHandle=n)}setCursorFromHoveredHandle(e){if(e&&e.startsWith("boxRotate"))this.cursor=this.cursors.boxRotate||this.cursors.default;else if(e)switch(e){case"topCenter":this.cursor=this.cursors.boxScaleTop||this.cursors.default;break;case"middleLeft":this.cursor=this.cursors.boxScaleLeft||this.cursors.default;break;case"middleRight":this.cursor=this.cursors.boxScaleRight||this.cursors.default;break;case"bottomCenter":this.cursor=this.cursors.boxScaleBottom||this.cursors.default;break}else this.cursor=this.cursors.translate||this.cursors.default}projectToLocal(e,r){return r||(r=new ze),this.projectionTransform.apply(e,r),this.worldTransform.applyInverse(r,r),r}static calculateTransformedCorners(e,r=e.worldTransform,n,s=0){const a=e.getLocalBounds();return e.getBounds(),n=n||[new ze,new ze,new ze,new ze],n[s].set(a.x,a.y),n[s+1].set(a.x+a.width,a.y),n[s+2].set(a.x+a.width,a.y+a.height),n[s+3].set(a.x,a.y+a.height),r.apply(n[s],n[s]),r.apply(n[s+1],n[s+1]),r.apply(n[s+2],n[s+2]),r.apply(n[s+3],n[s+3]),n}static calculateOrientedBounds(e,r){const n=e.parent?e.parent:e.enableTempParent();e.updateTransform(),e.disableTempParent(n),aW(A0,e.worldTransform),A0.updateLocalTransform();const s=A0.rotation,a=zs.calculateTransformedCorners(e,e.worldTransform,Abe),o=(a[0].x+a[1].x+a[2].x+a[3].x)/4,l=(a[0].y+a[1].y+a[2].y+a[3].y)/4,c=Rf.identity().translate(-o,-l).rotate(-A0.rotation).translate(o,l);return c.apply(a[0],a[0]),c.apply(a[1],a[1]),c.apply(a[2],a[2]),c.apply(a[3],a[3]),r=r||new V1,r.rotation=s,r.innerBounds.x=Math.min(a[0].x,a[1].x,a[2].x,a[3].x),r.innerBounds.y=Math.min(a[0].y,a[1].y,a[2].y,a[3].y),r.innerBounds.width=Math.max(a[0].x,a[1].x,a[2].x,a[3].x)-r.innerBounds.x,r.innerBounds.height=Math.max(a[0].y,a[1].y,a[2].y,a[3].y)-r.innerBounds.y,r}static calculateGroupOrientedBounds(e,r,n,s=!1){const a=e.length,o=T0.allocateArray(a*4);for(let g=0;g<a;g++){const y=e[g];if(!s){const _=y.parent?y.parent:y.enableTempParent();y.updateTransform(),y.disableTempParent(_)}zs.calculateTransformedCorners(y,y.worldTransform,o,g*4)}const l=Rf.identity().rotate(-r);let c=Number.MAX_VALUE,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,m=-Number.MAX_VALUE;for(let g=0,y=o.length;g<y;g++){const _=o[g];l.apply(_,_);const b=_.x,u=_.y;c=b<c?b:c,d=u<d?u:d,f=b>f?b:f,m=u>m?u:m}return T0.releaseArray(o),n=n||new V1,n.innerBounds.x=c,n.innerBounds.y=d,n.innerBounds.width=f-c,n.innerBounds.height=m-d,n.rotation=r,l.applyInverse(n.center,Of),n.center.copyFrom(Of),n}}var oW=Symbol.for("immer-nothing"),qU=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Qs(t,...e){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var Hv=Object.getPrototypeOf;function jd(t){return!!t&&!!t[fr]}function Rl(t){var e;return t?lW(t)||Array.isArray(t)||!!t[qU]||!!((e=t.constructor)!=null&&e[qU])||Yy(t)||RE(t):!1}var kbe=Object.prototype.constructor.toString(),ZU=new WeakMap;function lW(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=ZU.get(r);return n===void 0&&(n=Function.toString.call(r),ZU.set(r,n)),n===kbe}function Wv(t,e,r=!0){DE(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(s=>{e(s,t[s],t)}):t.forEach((n,s)=>e(s,n,t))}function DE(t){const e=t[fr];return e?e.type_:Array.isArray(t)?1:Yy(t)?2:RE(t)?3:0}function i2(t,e){return DE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function uW(t,e,r){const n=DE(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Nbe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yy(t){return t instanceof Map}function RE(t){return t instanceof Set}function zn(t){return t.copy_||t.base_}function s2(t,e){if(Yy(t))return new Map(t);if(RE(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=lW(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[fr];let s=Reflect.ownKeys(n);for(let a=0;a<s.length;a++){const o=s[a],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Hv(t),n)}else{const n=Hv(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function xB(t,e=!1){return OE(t)||jd(t)||!Rl(t)||(DE(t)>1&&Object.defineProperties(t,{set:P0,add:P0,clear:P0,delete:P0}),Object.freeze(t),e&&Object.values(t).forEach(r=>xB(r,!0))),t}function Lbe(){Qs(2)}var P0={value:Lbe};function OE(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var a2={};function zd(t){const e=a2[t];return e||Qs(0,t),e}function Ube(t,e){a2[t]||(a2[t]=e)}var Kv;function xw(){return Kv}function $be(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JU(t,e){e&&(zd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function o2(t){l2(t),t.drafts_.forEach(jbe),t.drafts_=null}function l2(t){t===Kv&&(Kv=t.parent_)}function QU(t){return Kv=$be(Kv,t)}function jbe(t){const e=t[fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function e$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[fr].modified_&&(o2(e),Qs(4)),Rl(t)&&(t=Ew(e,t),e.parent_||Sw(e,t)),e.patches_&&zd("Patches").generateReplacementPatches_(r[fr].base_,t,e.patches_,e.inversePatches_)):t=Ew(e,r,[]),o2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==oW?t:void 0}function Ew(t,e,r){if(OE(e))return e;const n=t.immer_.shouldUseStrictIteration(),s=e[fr];if(!s)return Wv(e,(a,o)=>t$(t,s,e,a,o,r),n),e;if(s.scope_!==t)return e;if(!s.modified_)return Sw(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let o=a,l=!1;s.type_===3&&(o=new Set(a),a.clear(),l=!0),Wv(o,(c,d)=>t$(t,s,a,c,d,r,l),n),Sw(t,a,!1),r&&t.patches_&&zd("Patches").generatePatches_(s,r,t.patches_,t.inversePatches_)}return s.copy_}function t$(t,e,r,n,s,a,o){if(s==null||typeof s!="object"&&!o)return;const l=OE(s);if(!(l&&!o)){if(jd(s)){const c=a&&e&&e.type_!==3&&!i2(e.assigned_,n)?a.concat(n):void 0,d=Ew(t,s,c);if(uW(r,n,d),jd(d))t.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Rl(s)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===s&&l)return;Ew(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Yy(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Sw(t,s)}}}function Sw(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&xB(e,r)}function zbe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:xw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,a=EB;r&&(s=[n],a=Xv);const{revoke:o,proxy:l}=Proxy.revocable(s,a);return n.draft_=l,n.revoke_=o,l}var EB={get(t,e){if(e===fr)return t;const r=zn(t);if(!i2(r,e))return Vbe(t,r,e);const n=r[e];return t.finalized_||!Rl(n)?n:n===BA(t.base_,e)?(FA(t),t.copy_[e]=Yv(n,t)):n},has(t,e){return e in zn(t)},ownKeys(t){return Reflect.ownKeys(zn(t))},set(t,e,r){const n=cW(zn(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=BA(zn(t),e),a=s==null?void 0:s[fr];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Nbe(r,s)&&(r!==void 0||i2(t.base_,e)))return!0;FA(t),al(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return BA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,FA(t),al(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=zn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Qs(11)},getPrototypeOf(t){return Hv(t.base_)},setPrototypeOf(){Qs(12)}},Xv={};Wv(EB,(t,e)=>{Xv[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xv.deleteProperty=function(t,e){return Xv.set.call(this,t,e,void 0)};Xv.set=function(t,e,r){return EB.set.call(this,t[0],e,r,t[0])};function BA(t,e){const r=t[fr];return(r?zn(r):t)[e]}function Vbe(t,e,r){var s;const n=cW(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function cW(t,e){if(!(e in t))return;let r=Hv(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Hv(r)}}function al(t){t.modified_||(t.modified_=!0,t.parent_&&al(t.parent_))}function FA(t){t.copy_||(t.copy_=s2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Gbe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(c=a,...d){return o.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&Qs(6),n!==void 0&&typeof n!="function"&&Qs(7);let s;if(Rl(e)){const a=QU(this),o=Yv(e,void 0);let l=!0;try{s=r(o),l=!1}finally{l?o2(a):l2(a)}return JU(a,n),e$(s,a)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===oW&&(s=void 0),this.autoFreeze_&&xB(s,!0),n){const a=[],o=[];zd("Patches").generateReplacementPatches_(e,s,a,o),n(a,o)}return s}else Qs(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let n,s;return[this.produce(e,r,(o,l)=>{n=o,s=l}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Rl(t)||Qs(8),jd(t)&&(t=Hbe(t));const e=QU(this),r=Yv(t,void 0);return r[fr].isManual_=!0,l2(e),r}finishDraft(t,e){const r=t&&t[fr];(!r||!r.isManual_)&&Qs(9);const{scope_:n}=r;return JU(n,e),e$(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=zd("Patches").applyPatches_;return jd(t)?n(t,e):this.produce(t,s=>n(s,e))}};function Yv(t,e){const r=Yy(t)?zd("MapSet").proxyMap_(t,e):RE(t)?zd("MapSet").proxySet_(t,e):zbe(t,e);return(e?e.scope_:xw()).drafts_.push(r),r}function Hbe(t){return jd(t)||Qs(10,t),dW(t)}function dW(t){if(!Rl(t)||OE(t))return t;const e=t[fr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=s2(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=s2(t,!0);return Wv(r,(s,a)=>{uW(r,s,dW(a))},n),e&&(e.finalized_=!1),r}function Wbe(){class t extends Map{constructor(c,d){super(),this[fr]={type_:2,parent_:d,scope_:d?d.scope_:xw(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return zn(this[fr]).size}has(c){return zn(this[fr]).has(c)}set(c,d){const f=this[fr];return o(f),(!zn(f).has(c)||zn(f).get(c)!==d)&&(r(f),al(f),f.assigned_.set(c,!0),f.copy_.set(c,d),f.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const d=this[fr];return o(d),r(d),al(d),d.base_.has(c)?d.assigned_.set(c,!1):d.assigned_.delete(c),d.copy_.delete(c),!0}clear(){const c=this[fr];o(c),zn(c).size&&(r(c),al(c),c.assigned_=new Map,Wv(c.base_,d=>{c.assigned_.set(d,!1)}),c.copy_.clear())}forEach(c,d){const f=this[fr];zn(f).forEach((m,g,y)=>{c.call(d,this.get(g),g,this)})}get(c){const d=this[fr];o(d);const f=zn(d).get(c);if(d.finalized_||!Rl(f)||f!==d.base_.get(c))return f;const m=Yv(f,d);return r(d),d.copy_.set(c,m),m}keys(){return zn(this[fr]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const d=c.next();return d.done?d:{done:!1,value:this.get(d.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const d=c.next();if(d.done)return d;const f=this.get(d.value);return{done:!1,value:[d.value,f]}}}}[Symbol.iterator](){return this.entries()}}function e(l,c){return new t(l,c)}function r(l){l.copy_||(l.assigned_=new Map,l.copy_=new Map(l.base_))}class n extends Set{constructor(c,d){super(),this[fr]={type_:3,parent_:d,scope_:d?d.scope_:xw(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return zn(this[fr]).size}has(c){const d=this[fr];return o(d),d.copy_?!!(d.copy_.has(c)||d.drafts_.has(c)&&d.copy_.has(d.drafts_.get(c))):d.base_.has(c)}add(c){const d=this[fr];return o(d),this.has(c)||(a(d),al(d),d.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const d=this[fr];return o(d),a(d),al(d),d.copy_.delete(c)||(d.drafts_.has(c)?d.copy_.delete(d.drafts_.get(c)):!1)}clear(){const c=this[fr];o(c),zn(c).size&&(a(c),al(c),c.copy_.clear())}values(){const c=this[fr];return o(c),a(c),c.copy_.values()}entries(){const c=this[fr];return o(c),a(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,d){const f=this.values();let m=f.next();for(;!m.done;)c.call(d,m.value,m.value,this),m=f.next()}}function s(l,c){return new n(l,c)}function a(l){l.copy_||(l.copy_=new Set,l.base_.forEach(c=>{if(Rl(c)){const d=Yv(c,l);l.drafts_.set(c,d),l.copy_.add(d)}else l.copy_.add(c)}))}function o(l){l.revoked_&&Qs(3,JSON.stringify(zn(l)))}Ube("MapSet",{proxyMap_:e,proxySet_:s})}var Vd=new Gbe,qy=Vd.produce,Kbe=Vd.setAutoFreeze.bind(Vd),r$=Vd.createDraft.bind(Vd),n$=Vd.finishDraft.bind(Vd);const Xbe=t=>(e,r,n)=>(n.setState=(s,a,...o)=>{const l=typeof s=="function"?qy(s):s;return e(l,a,...o)},t(n.setState,r,n)),$Ye=Xbe;function i$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zy(...t){return e=>{let r=!1;const n=t.map(s=>{const a=i$(s,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():i$(t[s],null)}}}}function Et(...t){return C.useCallback(Zy(...t),t)}function Gd(t){const e=Ybe(t),r=C.forwardRef((n,s)=>{const{children:a,...o}=n,l=C.Children.toArray(a),c=l.find(qbe);if(c){const d=c.props.children,f=l.map(m=>m===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:m);return k.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return k.jsx(e,{...o,ref:s,children:a})});return r.displayName="".concat(t,".Slot"),r}function Ybe(t){const e=C.forwardRef((r,n)=>{const{children:s,...a}=r;if(C.isValidElement(s)){const o=Jbe(s),l=Zbe(a,s.props);return s.type!==C.Fragment&&(l.ref=n?Zy(n,o):o),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName="".concat(t,".SlotClone"),e}var fW=Symbol("radix.slottable");function hW(t){const e=({children:r})=>k.jsx(k.Fragment,{children:r});return e.displayName="".concat(t,".Slottable"),e.__radixId=fW,e}function qbe(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fW}function Zbe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function Jbe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Qbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=Qbe.reduce((t,e)=>{const r=Gd("Primitive.".concat(e)),n=C.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(c,{...l,ref:a})});return n.displayName="Primitive.".concat(e),{...t,[e]:n}},{});function SB(t,e){t&&Ul.flushSync(()=>t.dispatchEvent(e))}var Zn=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function ewe(t,e){return C.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var Jn=t=>{const{present:e,children:r}=t,n=twe(e),s=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),a=Et(n.ref,rwe(s));return typeof r=="function"||n.isPresent?C.cloneElement(s,{ref:a}):null};Jn.displayName="Presence";function twe(t){const[e,r]=C.useState(),n=C.useRef(null),s=C.useRef(t),a=C.useRef("none"),o=t?"mounted":"unmounted",[l,c]=ewe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=D0(n.current);a.current=l==="mounted"?d:"none"},[l]),Zn(()=>{const d=n.current,f=s.current;if(f!==t){const g=a.current,y=D0(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Zn(()=>{var d;if(e){let f;const m=(d=e.ownerDocument.defaultView)!=null?d:window,g=_=>{const u=D0(n.current).includes(CSS.escape(_.animationName));if(_.target===e&&u&&(c("ANIMATION_END"),!s.current)){const h=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=h)})}},y=_=>{_.target===e&&(a.current=D0(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function D0(t){return(t==null?void 0:t.animationName)||"none"}function rwe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function nwe(t,e){const r=C.createContext(e),n=a=>{const{children:o,...l}=a,c=C.useMemo(()=>l,Object.values(l));return k.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=C.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error("`".concat(a,"` must be used within `").concat(t,"`"))}return[n,s]}function Qn(t,e=[]){let r=[];function n(a,o){const l=C.createContext(o),c=r.length;r=[...r,o];const d=m=>{var h;const{scope:g,children:y,..._}=m,b=((h=g==null?void 0:g[t])==null?void 0:h[c])||l,u=C.useMemo(()=>_,Object.values(_));return k.jsx(b.Provider,{value:u,children:y})};d.displayName=a+"Provider";function f(m,g){var b;const y=((b=g==null?void 0:g[t])==null?void 0:b[c])||l,_=C.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error("`".concat(m,"` must be used within `").concat(a,"`"))}return[d,f]}const s=()=>{const a=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return C.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,iwe(s,...e)]}function iwe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)["__scope".concat(d)];return{...l,...m}},{});return C.useMemo(()=>({["__scope".concat(e.scopeName)]:o}),[o])}};return r.scopeName=e.scopeName,r}function ln(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var swe=C.createContext(void 0);function zl(t){const e=C.useContext(swe);return t||e||"ltr"}function qv(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ce(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function awe(t,e){return C.useReducer((r,n)=>{const s=e[r][n];return s!=null?s:r},t)}var CB="ScrollArea",[pW,jYe]=Qn(CB),[owe,ga]=pW(CB),mW=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=C.useState(null),[d,f]=C.useState(null),[m,g]=C.useState(null),[y,_]=C.useState(null),[b,u]=C.useState(null),[h,p]=C.useState(0),[v,w]=C.useState(0),[x,S]=C.useState(!1),[E,P]=C.useState(!1),T=Et(e,R=>c(R)),A=zl(s);return k.jsx(owe,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:_,scrollbarXEnabled:x,onScrollbarXEnabledChange:S,scrollbarY:b,onScrollbarYChange:u,scrollbarYEnabled:E,onScrollbarYEnabledChange:P,onCornerWidthChange:p,onCornerHeightChange:w,children:k.jsx(rt.div,{dir:A,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":h+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});mW.displayName=CB;var gW="ScrollAreaViewport",vW=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=t,o=ga(gW,r),l=C.useRef(null),c=Et(e,l,o.onViewportChange);return k.jsxs(k.Fragment,{children:[k.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),k.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:k.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});vW.displayName=gW;var Lo="ScrollAreaScrollbar",lwe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ga(Lo,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return C.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?k.jsx(uwe,{...n,ref:e,forceMount:r}):s.type==="scroll"?k.jsx(cwe,{...n,ref:e,forceMount:r}):s.type==="auto"?k.jsx(yW,{...n,ref:e,forceMount:r}):s.type==="always"?k.jsx(AB,{...n,ref:e}):null});lwe.displayName=Lo;var uwe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ga(Lo,t.__scopeScrollArea),[a,o]=C.useState(!1);return C.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),k.jsx(Jn,{present:r||a,children:k.jsx(yW,{"data-state":a?"visible":"hidden",...n,ref:e})})}),cwe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=ga(Lo,t.__scopeScrollArea),a=t.orientation==="horizontal",o=BE(()=>c("SCROLL_END"),100),[l,c]=awe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),C.useEffect(()=>{const d=s.viewport,f=a?"scrollLeft":"scrollTop";if(d){let m=d[f];const g=()=>{const y=d[f];m!==y&&(c("SCROLL"),o()),m=y};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[s.viewport,a,c,o]),k.jsx(Jn,{present:r||l!=="hidden",children:k.jsx(AB,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yW=C.forwardRef((t,e)=>{const r=ga(Lo,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=C.useState(!1),l=t.orientation==="horizontal",c=BE(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:f)}},10);return yp(r.viewport,c),yp(r.content,c),k.jsx(Jn,{present:n||a,children:k.jsx(AB,{"data-state":a?"visible":"hidden",...s,ref:e})})}),AB=C.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=ga(Lo,t.__scopeScrollArea),a=C.useRef(null),o=C.useRef(0),[l,c]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=xW(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function m(g,y){return vwe(g,o.current,l,y)}return r==="horizontal"?k.jsx(dwe,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const g=s.viewport.scrollLeft,y=s$(g,l,s.dir);a.current.style.transform="translate3d(".concat(y,"px, 0, 0)")}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=m(g,s.dir))}}):r==="vertical"?k.jsx(fwe,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const g=s.viewport.scrollTop,y=s$(g,l);a.current.style.transform="translate3d(0, ".concat(y,"px, 0)")}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=m(g))}}):null}),dwe=C.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=ga(Lo,t.__scopeScrollArea),[o,l]=C.useState(),c=C.useRef(null),d=Et(e,c,a.onScrollbarXChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),k.jsx(bW,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":IE(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),SW(g,m)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Aw(o.paddingLeft),paddingEnd:Aw(o.paddingRight)}})}})}),fwe=C.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=ga(Lo,t.__scopeScrollArea),[o,l]=C.useState(),c=C.useRef(null),d=Et(e,c,a.onScrollbarYChange);return C.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),k.jsx(bW,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":IE(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),SW(g,m)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Aw(o.paddingTop),paddingEnd:Aw(o.paddingBottom)}})}})}),[hwe,_W]=pW(Lo),bW=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:m,...g}=t,y=ga(Lo,r),[_,b]=C.useState(null),u=Et(e,T=>b(T)),h=C.useRef(null),p=C.useRef(""),v=y.viewport,w=n.content-n.viewport,x=ln(f),S=ln(c),E=BE(m,10);function P(T){if(h.current){const A=T.clientX-h.current.left,R=T.clientY-h.current.top;d({x:A,y:R})}}return C.useEffect(()=>{const T=A=>{const R=A.target;(_==null?void 0:_.contains(R))&&x(A,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[v,_,w,x]),C.useEffect(S,[n,S]),yp(_,E),yp(y.content,E),k.jsx(hwe,{scope:r,scrollbar:_,hasThumb:s,onThumbChange:ln(a),onThumbPointerUp:ln(o),onThumbPositionChange:S,onThumbPointerDown:ln(l),children:k.jsx(rt.div,{...g,ref:u,style:{position:"absolute",...g.style},onPointerDown:Ce(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),h.current=_.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(T))}),onPointerMove:Ce(t.onPointerMove,P),onPointerUp:Ce(t.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),h.current=null})})})}),Cw="ScrollAreaThumb",pwe=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=_W(Cw,t.__scopeScrollArea);return k.jsx(Jn,{present:r||s.hasThumb,children:k.jsx(mwe,{ref:e,...n})})}),mwe=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=ga(Cw,r),o=_W(Cw,r),{onThumbPositionChange:l}=o,c=Et(e,m=>o.onThumbChange(m)),d=C.useRef(void 0),f=BE(()=>{d.current&&(d.current(),d.current=void 0)},100);return C.useEffect(()=>{const m=a.viewport;if(m){const g=()=>{if(f(),!d.current){const y=ywe(m,l);d.current=y,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,f,l]),k.jsx(rt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(t.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),_=m.clientX-y.left,b=m.clientY-y.top;o.onThumbPointerDown({x:_,y:b})}),onPointerUp:Ce(t.onPointerUp,o.onThumbPointerUp)})});pwe.displayName=Cw;var TB="ScrollAreaCorner",wW=C.forwardRef((t,e)=>{const r=ga(TB,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?k.jsx(gwe,{...t,ref:e}):null});wW.displayName=TB;var gwe=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=ga(TB,r),[a,o]=C.useState(0),[l,c]=C.useState(0),d=!!(a&&l);return yp(s.scrollbarX,()=>{var m;const f=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),yp(s.scrollbarY,()=>{var m;const f=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),d?k.jsx(rt.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Aw(t){return t?parseInt(t,10):0}function xW(t,e){const r=t/e;return isNaN(r)?0:r}function IE(t){const e=xW(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function vwe(t,e,r,n="ltr"){const s=IE(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,m=n==="ltr"?[0,f]:[f*-1,0];return EW([c,d],m)(t)}function s$(t,e,r="ltr"){const n=IE(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],d=qv(t,c);return EW([0,o],[0,l])(d)}function EW(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function SW(t,e){return t>0&&t<e}var ywe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function BE(t,e){const r=ln(t),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function yp(t,e){const r=ln(e);Zn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var zYe=mW,VYe=vW,GYe=wW;const a$=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,u2=np,HYe=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return u2(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],m=a==null?void 0:a[d];if(f===null)return null;const g=a$(f)||a$(m);return s[d][g]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,g]=f;return g===void 0||(d[m]=g),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:g,...y}=f;return Object.entries(y).every(_=>{let[b,u]=_;return Array.isArray(u)?u.includes({...a,...l}[b]):{...a,...l}[b]===u})?[...d,m,g]:d},[]);return u2(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _we=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CW=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bwe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wwe=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...bwe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:CW("lucide",s),...l},[...o.map(([d,f])=>C.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=C.forwardRef(({className:n,...s},a)=>C.createElement(wwe,{ref:a,iconNode:e,className:CW("lucide-".concat(_we(t)),n),...s}));return r.displayName="".concat(t),r};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WYe=De("ALargeSmall",[["path",{d:"M21 14h-5",key:"1vh23k"}],["path",{d:"M16 16v-3.5a2.5 2.5 0 0 1 5 0V16",key:"1wh10o"}],["path",{d:"M4.5 13h6",key:"dfilno"}],["path",{d:"m3 16 4.5-9 4.5 9",key:"2dxa0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KYe=De("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XYe=De("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YYe=De("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qYe=De("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZYe=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JYe=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QYe=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eqe=De("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tqe=De("Baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rqe=De("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nqe=De("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iqe=De("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sqe=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aqe=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oqe=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lqe=De("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uqe=De("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cqe=De("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dqe=De("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fqe=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hqe=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pqe=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mqe=De("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gqe=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vqe=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yqe=De("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _qe=De("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bqe=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wqe=De("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xqe=De("FlipHorizontal2",[["path",{d:"m3 7 5 5-5 5V7",key:"couhi7"}],["path",{d:"m21 7-5 5 5 5V7",key:"6ouia7"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eqe=De("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sqe=De("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cqe=De("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aqe=De("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tqe=De("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pqe=De("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dqe=De("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rqe=De("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oqe=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iqe=De("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bqe=De("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fqe=De("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mqe=De("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kqe=De("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nqe=De("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lqe=De("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uqe=De("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $qe=De("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jqe=De("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zqe=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vqe=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gqe=De("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hqe=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wqe=De("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kqe=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xqe=De("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yqe=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qqe=De("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zqe=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jqe=De("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qqe=De("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZe=De("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZe=De("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZe=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZe=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZe=De("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZe=De("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZe=De("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZe=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZe=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZe=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZe=De("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZe=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZe=De("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZe=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZe=De("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZe=De("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZe=De("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZe=De("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZe=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ze=De("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZe=De("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZe=De("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZe=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZe=De("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZe=De("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZe=De("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZe=De("Ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZe=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZe=De("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZe=De("Wallpaper",[["circle",{cx:"8",cy:"9",r:"2",key:"gjzl9d"}],["path",{d:"m9 17 6.1-6.1a2 2 0 0 1 2.81.01L22 15V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"69xh40"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZe=De("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZe=De("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZe=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var xwe=Ty[" useInsertionEffect ".trim().toString()]||Zn;function wi({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,a,o]=Ewe({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const f=C.useRef(t!==void 0);C.useEffect(()=>{const m=f.current;if(m!==l){const g=m?"controlled":"uncontrolled",y=l?"controlled":"uncontrolled";console.warn("".concat(n," is changing from ").concat(g," to ").concat(y,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}f.current=l},[l,n])}const d=C.useCallback(f=>{var m;if(l){const g=Swe(f)?f(t):f;g!==t&&((m=o.current)==null||m.call(o,g))}else a(f)},[l,t,a,o]);return[c,d]}function Ewe({defaultProp:t,onChange:e}){const[r,n]=C.useState(t),s=C.useRef(r),a=C.useRef(e);return xwe(()=>{a.current=e},[e]),C.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Swe(t){return typeof t=="function"}function zp(t){const e=t+"CollectionProvider",[r,n]=Qn(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:u,children:h}=b,p=q.useRef(null),v=q.useRef(new Map).current;return k.jsx(s,{scope:u,itemMap:v,collectionRef:p,children:h})};o.displayName=e;const l=t+"CollectionSlot",c=Gd(l),d=q.forwardRef((b,u)=>{const{scope:h,children:p}=b,v=a(l,h),w=Et(u,v.collectionRef);return k.jsx(c,{ref:w,children:p})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",g=Gd(f),y=q.forwardRef((b,u)=>{const{scope:h,children:p,...v}=b,w=q.useRef(null),x=Et(u,w),S=a(f,h);return q.useEffect(()=>(S.itemMap.set(w,{ref:w,...v}),()=>void S.itemMap.delete(w))),k.jsx(g,{[m]:"",ref:x,children:p})});y.displayName=f;function _(b){const u=a(t+"CollectionConsumer",b);return q.useCallback(()=>{const p=u.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll("[".concat(m,"]")));return Array.from(u.itemMap.values()).sort((S,E)=>v.indexOf(S.ref.current)-v.indexOf(E.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},_,n]}function Cwe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t);C.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Awe="DismissableLayer",c2="dismissableLayer.update",Twe="dismissableLayer.pointerDownOutside",Pwe="dismissableLayer.focusOutside",o$,AW=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ff=C.forwardRef((t,e)=>{var E;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=C.useContext(AW),[f,m]=C.useState(null),g=(E=f==null?void 0:f.ownerDocument)!=null?E:globalThis==null?void 0:globalThis.document,[,y]=C.useState({}),_=Et(e,P=>m(P)),b=Array.from(d.layers),[u]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=b.indexOf(u),p=f?b.indexOf(f):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,w=p>=h,x=Rwe(P=>{const T=P.target,A=[...d.branches].some(R=>R.contains(T));!w||A||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},g),S=Owe(P=>{const T=P.target;[...d.branches].some(R=>R.contains(T))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},g);return Cwe(P=>{p===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},g),C.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(o$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),l$(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=o$)}},[f,g,r,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),l$())},[f,d]),C.useEffect(()=>{const P=()=>y({});return document.addEventListener(c2,P),()=>document.removeEventListener(c2,P)},[]),k.jsx(rt.div,{...c,ref:_,style:{pointerEvents:v?w?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,x.onPointerDownCapture)})});ff.displayName=Awe;var Dwe="DismissableLayerBranch",TW=C.forwardRef((t,e)=>{const r=C.useContext(AW),n=C.useRef(null),s=Et(e,n);return C.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),k.jsx(rt.div,{...t,ref:s})});TW.displayName=Dwe;function Rwe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t),n=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){PW(Twe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Owe(t,e=globalThis==null?void 0:globalThis.document){const r=ln(t),n=C.useRef(!1);return C.useEffect(()=>{const s=a=>{a.target&&!n.current&&PW(Pwe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function l$(){const t=new CustomEvent(c2);document.dispatchEvent(t)}function PW(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?SB(s,a):s.dispatchEvent(a)}var Iwe=ff,Bwe=TW,MA=0;function FE(){C.useEffect(()=>{var e,r;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!=null?e:u$()),document.body.insertAdjacentElement("beforeend",(r=t[1])!=null?r:u$()),MA++,()=>{MA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),MA--}},[])}function u$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kA="focusScope.autoFocusOnMount",NA="focusScope.autoFocusOnUnmount",c$={bubbles:!1,cancelable:!0},Fwe="FocusScope",Jy=C.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=C.useState(null),d=ln(s),f=ln(a),m=C.useRef(null),g=Et(e,b=>c(b)),y=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let b=function(v){if(y.paused||!l)return;const w=v.target;l.contains(w)?m.current=w:ou(m.current,{select:!0})},u=function(v){if(y.paused||!l)return;const w=v.relatedTarget;w!==null&&(l.contains(w)||ou(m.current,{select:!0}))},h=function(v){if(document.activeElement===document.body)for(const x of v)x.removedNodes.length>0&&ou(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",u);const p=new MutationObserver(h);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",u),p.disconnect()}}},[n,l,y.paused]),C.useEffect(()=>{if(l){f$.add(y);const b=document.activeElement;if(!l.contains(b)){const h=new CustomEvent(kA,c$);l.addEventListener(kA,d),l.dispatchEvent(h),h.defaultPrevented||(Mwe($we(DW(l)),{select:!0}),document.activeElement===b&&ou(l))}return()=>{l.removeEventListener(kA,d),setTimeout(()=>{const h=new CustomEvent(NA,c$);l.addEventListener(NA,f),l.dispatchEvent(h),h.defaultPrevented||ou(b!=null?b:document.body,{select:!0}),l.removeEventListener(NA,f),f$.remove(y)},0)}}},[l,d,f,y]);const _=C.useCallback(b=>{if(!r&&!n||y.paused)return;const u=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,h=document.activeElement;if(u&&h){const p=b.currentTarget,[v,w]=kwe(p);v&&w?!b.shiftKey&&h===w?(b.preventDefault(),r&&ou(v,{select:!0})):b.shiftKey&&h===v&&(b.preventDefault(),r&&ou(w,{select:!0})):h===p&&b.preventDefault()}},[r,n,y.paused]);return k.jsx(rt.div,{tabIndex:-1,...o,ref:g,onKeyDown:_})});Jy.displayName=Fwe;function Mwe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ou(n,{select:e}),document.activeElement!==r)return}function kwe(t){const e=DW(t),r=d$(e,t),n=d$(e.reverse(),t);return[r,n]}function DW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function d$(t,e){for(const r of t)if(!Nwe(r,{upTo:e}))return r}function Nwe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lwe(t){return t instanceof HTMLInputElement&&"select"in t}function ou(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Lwe(t)&&e&&t.select()}}var f$=Uwe();function Uwe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=h$(t,e),t.unshift(e)},remove(e){var r;t=h$(t,e),(r=t[0])==null||r.resume()}}}function h$(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function $we(t){return t.filter(e=>e.tagName!=="A")}var jwe=Ty[" useId ".trim().toString()]||(()=>{}),zwe=0;function ai(t){const[e,r]=C.useState(jwe());return Zn(()=>{t||r(n=>n!=null?n:String(zwe++))},[t]),t||(e?"radix-".concat(e):"")}const Vwe=["top","right","bottom","left"],ic=Math.min,_s=Math.max,Tw=Math.round,R0=Math.floor,Po=t=>({x:t,y:t}),Gwe={left:"right",right:"left",bottom:"top",top:"bottom"},Hwe={start:"end",end:"start"};function d2(t,e,r){return _s(t,ic(e,r))}function Ol(t,e){return typeof t=="function"?t(e):t}function Il(t){return t.split("-")[0]}function Vp(t){return t.split("-")[1]}function PB(t){return t==="x"?"y":"x"}function DB(t){return t==="y"?"height":"width"}const Wwe=new Set(["top","bottom"]);function Eo(t){return Wwe.has(Il(t))?"y":"x"}function RB(t){return PB(Eo(t))}function Kwe(t,e,r){r===void 0&&(r=!1);const n=Vp(t),s=RB(t),a=DB(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Pw(o)),[o,Pw(o)]}function Xwe(t){const e=Pw(t);return[f2(t),e,f2(e)]}function f2(t){return t.replace(/start|end/g,e=>Hwe[e])}const p$=["left","right"],m$=["right","left"],Ywe=["top","bottom"],qwe=["bottom","top"];function Zwe(t,e,r){switch(t){case"top":case"bottom":return r?e?m$:p$:e?p$:m$;case"left":case"right":return e?Ywe:qwe;default:return[]}}function Jwe(t,e,r,n){const s=Vp(t);let a=Zwe(Il(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(f2)))),a}function Pw(t){return t.replace(/left|right|bottom|top/g,e=>Gwe[e])}function Qwe(t){return{top:0,right:0,bottom:0,left:0,...t}}function RW(t){return typeof t!="number"?Qwe(t):{top:t,right:t,bottom:t,left:t}}function Dw(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function g$(t,e,r){let{reference:n,floating:s}=t;const a=Eo(e),o=RB(e),l=DB(o),c=Il(e),d=a==="y",f=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:f,y:n.y-s.height};break;case"bottom":y={x:f,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-s.width,y:m};break;default:y={x:n.x,y:n.y}}switch(Vp(e)){case"start":y[o]-=g*(r&&d?-1:1);break;case"end":y[o]+=g*(r&&d?-1:1);break}return y}const exe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:m}=g$(d,n,c),g=n,y={},_=0;for(let b=0;b<l.length;b++){const{name:u,fn:h}=l[b],{x:p,y:v,data:w,reset:x}=await h({x:f,y:m,initialPlacement:n,placement:g,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});f=p!=null?p:f,m=v!=null?v:m,y={...y,[u]:{...y[u],...w}},x&&_<=50&&(_++,typeof x=="object"&&(x.placement&&(g=x.placement),x.rects&&(d=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:f,y:m}=g$(d,g,c)),b=-1)}return{x:f,y:m,placement:g,strategy:s,middlewareData:y}};async function Zv(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=Ol(e,t),_=RW(y),u=l[g?m==="floating"?"reference":"floating":m],h=Dw(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(u)))==null||r?u:u.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),p=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},x=Dw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(h.top-x.top+_.top)/w.y,bottom:(x.bottom-h.bottom+_.bottom)/w.y,left:(h.left-x.left+_.left)/w.x,right:(x.right-h.right+_.right)/w.x}}const txe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=Ol(t,e)||{};if(d==null)return{};const m=RW(f),g={x:r,y:n},y=RB(s),_=DB(y),b=await o.getDimensions(d),u=y==="y",h=u?"top":"left",p=u?"bottom":"right",v=u?"clientHeight":"clientWidth",w=a.reference[_]+a.reference[y]-g[y]-a.floating[_],x=g[y]-a.reference[y],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=S?S[v]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[v]||a.floating[_]);const P=w/2-x/2,T=E/2-b[_]/2-1,A=ic(m[h],T),R=ic(m[p],T),D=A,O=E-b[_]-R,I=E/2-b[_]/2+P,M=d2(D,I,O),G=!c.arrow&&Vp(s)!=null&&I!==M&&a.reference[_]/2-(I<D?A:R)-b[_]/2<0,j=G?I<D?I-D:I-O:0;return{[y]:g[y]+j,data:{[y]:M,centerOffset:I-M-j,...G&&{alignmentOffset:j}},reset:G}}}),rxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...u}=Ol(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const h=Il(s),p=Eo(l),v=Il(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),x=g||(v||!b?[Pw(l)]:Xwe(l)),S=_!=="none";!g&&S&&x.push(...Jwe(l,b,_,w));const E=[l,...x],P=await Zv(e,u),T=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&T.push(P[h]),m){const I=Kwe(s,o,w);T.push(P[I[0]],P[I[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(I=>I<=0)){var R,D;const I=(((R=a.flip)==null?void 0:R.index)||0)+1,M=E[I];if(M&&(!(m==="alignment"?p!==Eo(M):!1)||A.every($=>Eo($.placement)===p?$.overflows[0]>0:!0)))return{data:{index:I,overflows:A},reset:{placement:M}};let G=(D=A.filter(j=>j.overflows[0]<=0).sort((j,$)=>j.overflows[1]-$.overflows[1])[0])==null?void 0:D.placement;if(!G)switch(y){case"bestFit":{var O;const j=(O=A.filter($=>{if(S){const H=Eo($.placement);return H===p||H==="y"}return!0}).map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,K)=>H+K,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:O[0];j&&(G=j);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function v$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function y$(t){return Vwe.some(e=>t[e]>=0)}const nxe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Ol(t,e);switch(n){case"referenceHidden":{const a=await Zv(e,{...s,elementContext:"reference"}),o=v$(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:y$(o)}}}case"escaped":{const a=await Zv(e,{...s,altBoundary:!0}),o=v$(a,r.floating);return{data:{escapedOffsets:o,escaped:y$(o)}}}default:return{}}}}},OW=new Set(["left","top"]);async function ixe(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Il(r),l=Vp(r),c=Eo(r)==="y",d=OW.has(o)?-1:1,f=a&&c?-1:1,m=Ol(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof _=="number"&&(y=l==="end"?_*-1:_),c?{x:y*f,y:g*d}:{x:g*d,y:y*f}}const sxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await ixe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},axe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:u=>{let{x:h,y:p}=u;return{x:h,y:p}}},...c}=Ol(t,e),d={x:r,y:n},f=await Zv(e,c),m=Eo(Il(s)),g=PB(m);let y=d[g],_=d[m];if(a){const u=g==="y"?"top":"left",h=g==="y"?"bottom":"right",p=y+f[u],v=y-f[h];y=d2(p,y,v)}if(o){const u=m==="y"?"top":"left",h=m==="y"?"bottom":"right",p=_+f[u],v=_-f[h];_=d2(p,_,v)}const b=l.fn({...e,[g]:y,[m]:_});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:a,[m]:o}}}}}},oxe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ol(t,e),f={x:r,y:n},m=Eo(s),g=PB(m);let y=f[g],_=f[m];const b=Ol(l,e),u=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const v=g==="y"?"height":"width",w=a.reference[g]-a.floating[v]+u.mainAxis,x=a.reference[g]+a.reference[v]-u.mainAxis;y<w?y=w:y>x&&(y=x)}if(d){var h,p;const v=g==="y"?"width":"height",w=OW.has(Il(s)),x=a.reference[m]-a.floating[v]+(w&&((h=o.offset)==null?void 0:h[m])||0)+(w?0:u.crossAxis),S=a.reference[m]+a.reference[v]+(w?0:((p=o.offset)==null?void 0:p[m])||0)-(w?u.crossAxis:0);_<x?_=x:_>S&&(_=S)}return{[g]:y,[m]:_}}}},lxe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Ol(t,e),f=await Zv(e,d),m=Il(s),g=Vp(s),y=Eo(s)==="y",{width:_,height:b}=a.floating;let u,h;m==="top"||m==="bottom"?(u=m,h=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(h=m,u=g==="end"?"top":"bottom");const p=b-f.top-f.bottom,v=_-f.left-f.right,w=ic(b-f[u],p),x=ic(_-f[h],v),S=!e.middlewareData.shift;let E=w,P=x;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(P=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=p),S&&!g){const A=_s(f.left,0),R=_s(f.right,0),D=_s(f.top,0),O=_s(f.bottom,0);y?P=_-2*(A!==0||R!==0?A+R:_s(f.left,f.right)):E=b-2*(D!==0||O!==0?D+O:_s(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:E});const T=await o.getDimensions(l.floating);return _!==T.width||b!==T.height?{reset:{rects:!0}}:{}}}};function ME(){return typeof window<"u"}function Gp(t){return IW(t)?(t.nodeName||"").toLowerCase():"#document"}function Ds(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(t){var e;return(e=(IW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function IW(t){return ME()?t instanceof Node||t instanceof Ds(t).Node:!1}function vi(t){return ME()?t instanceof Element||t instanceof Ds(t).Element:!1}function Mo(t){return ME()?t instanceof HTMLElement||t instanceof Ds(t).HTMLElement:!1}function h2(t){return!ME()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ds(t).ShadowRoot}const uxe=new Set(["inline","contents"]);function Qy(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!uxe.has(s)}const cxe=new Set(["table","td","th"]);function dxe(t){return cxe.has(Gp(t))}const fxe=[":popover-open",":modal"];function kE(t){return fxe.some(e=>{try{return t.matches(e)}catch(r){return!1}})}const hxe=["transform","translate","scale","rotate","perspective"],pxe=["transform","translate","scale","rotate","perspective","filter"],mxe=["paint","layout","strict","content"];function OB(t){const e=IB(),r=vi(t)?Xa(t):t;return hxe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||pxe.some(n=>(r.willChange||"").includes(n))||mxe.some(n=>(r.contain||"").includes(n))}function gxe(t){let e=sc(t);for(;Mo(e)&&!_p(e);){if(OB(e))return e;if(kE(e))return null;e=sc(e)}return null}function IB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vxe=new Set(["html","body","#document"]);function _p(t){return vxe.has(Gp(t))}function Xa(t){return Ds(t).getComputedStyle(t)}function NE(t){return vi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sc(t){if(Gp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||h2(t)&&t.host||Uo(t);return h2(e)?e.host:e}function BW(t){const e=sc(t);return _p(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mo(e)&&Qy(e)?e:BW(e)}function Jv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=BW(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=Ds(s);if(a){const l=p2(o);return e.concat(o,o.visualViewport||[],Qy(s)?s:[],l&&r?Jv(l):[])}return e.concat(s,Jv(s,[],r))}function p2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FW(t){const e=Xa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Mo(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Tw(r)!==a||Tw(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function BB(t){return vi(t)?t:t.contextElement}function Lh(t){const e=BB(t);if(!Mo(e))return Po(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=FW(e);let o=(a?Tw(r.width):r.width)/n,l=(a?Tw(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yxe=Po(0);function MW(t){const e=Ds(t);return!IB()||!e.visualViewport?yxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _xe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ds(t)?!1:e}function Hd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=BB(t);let o=Po(1);e&&(n?vi(n)&&(o=Lh(n)):o=Lh(t));const l=_xe(a,r,n)?MW(a):Po(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(a){const g=Ds(a),y=n&&vi(n)?Ds(n):n;let _=g,b=p2(_);for(;b&&n&&y!==_;){const u=Lh(b),h=b.getBoundingClientRect(),p=Xa(b),v=h.left+(b.clientLeft+parseFloat(p.paddingLeft))*u.x,w=h.top+(b.clientTop+parseFloat(p.paddingTop))*u.y;c*=u.x,d*=u.y,f*=u.x,m*=u.y,c+=v,d+=w,_=Ds(b),b=p2(_)}}return Dw({width:f,height:m,x:c,y:d})}function LE(t,e){const r=NE(t).scrollLeft;return e?e.left+r:Hd(Uo(t)).left+r}function kW(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-LE(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function bxe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=Uo(n),l=e?kE(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Po(1);const f=Po(0),m=Mo(n);if((m||!m&&!a)&&((Gp(n)!=="body"||Qy(o))&&(c=NE(n)),Mo(n))){const y=Hd(n);d=Lh(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}const g=o&&!m&&!a?kW(o,c):Po(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:r.y*d.y-c.scrollTop*d.y+f.y+g.y}}function wxe(t){return Array.from(t.getClientRects())}function xxe(t){const e=Uo(t),r=NE(t),n=t.ownerDocument.body,s=_s(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=_s(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+LE(t);const l=-r.scrollTop;return Xa(n).direction==="rtl"&&(o+=_s(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const _$=25;function Exe(t,e){const r=Ds(t),n=Uo(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const f=IB();(!f||f&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=LE(n);if(d<=0){const f=n.ownerDocument,m=f.body,g=getComputedStyle(m),y=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,_=Math.abs(n.clientWidth-m.clientWidth-y);_<=_$&&(a-=_)}else d<=_$&&(a+=d);return{width:a,height:o,x:l,y:c}}const Sxe=new Set(["absolute","fixed"]);function Cxe(t,e){const r=Hd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=Mo(t)?Lh(t):Po(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function b$(t,e,r){let n;if(e==="viewport")n=Exe(t,r);else if(e==="document")n=xxe(Uo(t));else if(vi(e))n=Cxe(e,r);else{const s=MW(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Dw(n)}function NW(t,e){const r=sc(t);return r===e||!vi(r)||_p(r)?!1:Xa(r).position==="fixed"||NW(r,e)}function Axe(t,e){const r=e.get(t);if(r)return r;let n=Jv(t,[],!1).filter(l=>vi(l)&&Gp(l)!=="body"),s=null;const a=Xa(t).position==="fixed";let o=a?sc(t):t;for(;vi(o)&&!_p(o);){const l=Xa(o),c=OB(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Sxe.has(s.position)||Qy(o)&&!c&&NW(t,o))?n=n.filter(f=>f!==o):s=l,o=sc(o)}return e.set(t,n),n}function Txe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?kE(e)?[]:Axe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const m=b$(e,f,s);return d.top=_s(m.top,d.top),d.right=ic(m.right,d.right),d.bottom=ic(m.bottom,d.bottom),d.left=_s(m.left,d.left),d},b$(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Pxe(t){const{width:e,height:r}=FW(t);return{width:e,height:r}}function Dxe(t,e,r){const n=Mo(e),s=Uo(e),a=r==="fixed",o=Hd(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Po(0);function d(){c.x=LE(s)}if(n||!n&&!a)if((Gp(e)!=="body"||Qy(s))&&(l=NE(e)),n){const y=Hd(e,!0,a,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();a&&!n&&s&&d();const f=s&&!n&&!a?kW(s,l):Po(0),m=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function LA(t){return Xa(t).position==="static"}function w$(t,e){if(!Mo(t)||Xa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Uo(t)===r&&(r=r.ownerDocument.body),r}function LW(t,e){const r=Ds(t);if(kE(t))return r;if(!Mo(t)){let s=sc(t);for(;s&&!_p(s);){if(vi(s)&&!LA(s))return s;s=sc(s)}return r}let n=w$(t,e);for(;n&&dxe(n)&&LA(n);)n=w$(n,e);return n&&_p(n)&&LA(n)&&!OB(n)?r:n||gxe(t)||r}const Rxe=async function(t){const e=this.getOffsetParent||LW,r=this.getDimensions,n=await r(t.floating);return{reference:Dxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Oxe(t){return Xa(t).direction==="rtl"}const Ixe={convertOffsetParentRelativeRectToViewportRelativeRect:bxe,getDocumentElement:Uo,getClippingRect:Txe,getOffsetParent:LW,getElementRects:Rxe,getClientRects:wxe,getDimensions:Pxe,getScale:Lh,isElement:vi,isRTL:Oxe};function UW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Bxe(t,e){let r=null,n;const s=Uo(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:m,width:g,height:y}=d;if(l||e(),!g||!y)return;const _=R0(m),b=R0(s.clientWidth-(f+g)),u=R0(s.clientHeight-(m+y)),h=R0(f),v={rootMargin:-_+"px "+-b+"px "+-u+"px "+-h+"px",threshold:_s(0,ic(1,c))||1};let w=!0;function x(S){const E=S[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!UW(d,t.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(x,{...v,root:s.ownerDocument})}catch(S){r=new IntersectionObserver(x,v)}r.observe(t)}return o(!0),a}function $W(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=BB(t),f=s||a?[...d?Jv(d):[],...Jv(e)]:[];f.forEach(h=>{s&&h.addEventListener("scroll",r,{passive:!0}),a&&h.addEventListener("resize",r)});const m=d&&l?Bxe(d,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(h=>{let[p]=h;p&&p.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=y)==null||v.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let _,b=c?Hd(t):null;c&&u();function u(){const h=Hd(t);b&&!UW(b,h)&&r(),b=h,_=requestAnimationFrame(u)}return r(),()=>{var h;f.forEach(p=>{s&&p.removeEventListener("scroll",r),a&&p.removeEventListener("resize",r)}),m==null||m(),(h=y)==null||h.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const Fxe=sxe,Mxe=axe,kxe=rxe,Nxe=lxe,Lxe=nxe,x$=txe,Uxe=oxe,$xe=(t,e,r)=>{const n=new Map,s={platform:Ixe,...r},a={...s.platform,_c:n};return exe(t,e,{...s,platform:a})};var jxe=typeof document<"u",zxe=function(){},H1=jxe?C.useLayoutEffect:zxe;function Rw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Rw(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Rw(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function jW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E$(t,e){const r=jW(t);return Math.round(e*r)/r}function UA(t){const e=C.useRef(t);return H1(()=>{e.current=t}),e}function zW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=C.useState(n);Rw(g,n)||y(n);const[_,b]=C.useState(null),[u,h]=C.useState(null),p=C.useCallback($=>{$!==S.current&&(S.current=$,b($))},[]),v=C.useCallback($=>{$!==E.current&&(E.current=$,h($))},[]),w=a||_,x=o||u,S=C.useRef(null),E=C.useRef(null),P=C.useRef(f),T=c!=null,A=UA(c),R=UA(s),D=UA(d),O=C.useCallback(()=>{if(!S.current||!E.current)return;const $={placement:e,strategy:r,middleware:g};R.current&&($.platform=R.current),$xe(S.current,E.current,$).then(H=>{const K={...H,isPositioned:D.current!==!1};I.current&&!Rw(P.current,K)&&(P.current=K,Ul.flushSync(()=>{m(K)}))})},[g,e,r,R,D]);H1(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m($=>({...$,isPositioned:!1})))},[d]);const I=C.useRef(!1);H1(()=>(I.current=!0,()=>{I.current=!1}),[]),H1(()=>{if(w&&(S.current=w),x&&(E.current=x),w&&x){if(A.current)return A.current(w,x,O);O()}},[w,x,O,A,T]);const M=C.useMemo(()=>({reference:S,floating:E,setReference:p,setFloating:v}),[p,v]),G=C.useMemo(()=>({reference:w,floating:x}),[w,x]),j=C.useMemo(()=>{const $={position:r,left:0,top:0};if(!G.floating)return $;const H=E$(G.floating,f.x),K=E$(G.floating,f.y);return l?{...$,transform:"translate("+H+"px, "+K+"px)",...jW(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:K}},[r,l,G.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:O,refs:M,elements:G,floatingStyles:j}),[f,O,M,G,j])}const Vxe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?x$({element:n.current,padding:s}).fn(r):{}:n?x$({element:n,padding:s}).fn(r):{}}}},Gxe=(t,e)=>({...Fxe(t),options:[t,e]}),Hxe=(t,e)=>({...Mxe(t),options:[t,e]}),Wxe=(t,e)=>({...Uxe(t),options:[t,e]}),Kxe=(t,e)=>({...kxe(t),options:[t,e]}),Xxe=(t,e)=>({...Nxe(t),options:[t,e]}),Yxe=(t,e)=>({...Lxe(t),options:[t,e]}),qxe=(t,e)=>({...Vxe(t),options:[t,e]});var Zxe="Arrow",VW=C.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return k.jsx(rt.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});VW.displayName=Zxe;var Jxe=VW;function FB(t){const[e,r]=C.useState(void 0);return Zn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var MB="Popper",[GW,xc]=Qn(MB),[Qxe,HW]=GW(MB),WW=t=>{const{__scopePopper:e,children:r}=t,[n,s]=C.useState(null);return k.jsx(Qxe,{scope:e,anchor:n,onAnchorChange:s,children:r})};WW.displayName=MB;var KW="PopperAnchor",XW=C.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=HW(KW,r),o=C.useRef(null),l=Et(e,o),c=C.useRef(null);return C.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:k.jsx(rt.div,{...s,ref:l})});XW.displayName=KW;var kB="PopperContent",[eEe,tEe]=GW(kB),YW=C.forwardRef((t,e)=>{var z,V,Y,ne,ie,me,xe,we;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:_,...b}=t,u=HW(kB,r),[h,p]=C.useState(null),v=Et(e,Ee=>p(Ee)),[w,x]=C.useState(null),S=FB(w),E=(z=S==null?void 0:S.width)!=null?z:0,P=(V=S==null?void 0:S.height)!=null?V:0,T=n+(a!=="center"?"-"+a:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(d)?d:[d],D=R.length>0,O={padding:A,boundary:R.filter(nEe),altBoundary:D},{refs:I,floatingStyles:M,placement:G,isPositioned:j,middlewareData:$}=zW({strategy:"fixed",placement:T,whileElementsMounted:(...Ee)=>$W(...Ee,{animationFrame:y==="always"}),elements:{reference:u.anchor},middleware:[Gxe({mainAxis:s+P,alignmentAxis:o}),c&&Hxe({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Wxe():void 0,...O}),c&&Kxe({...O}),Xxe({...O,apply:({elements:Ee,rects:tt,availableWidth:xt,availableHeight:_t})=>{const{width:Gt,height:X}=tt.reference,oe=Ee.floating.style;oe.setProperty("--radix-popper-available-width","".concat(xt,"px")),oe.setProperty("--radix-popper-available-height","".concat(_t,"px")),oe.setProperty("--radix-popper-anchor-width","".concat(Gt,"px")),oe.setProperty("--radix-popper-anchor-height","".concat(X,"px"))}}),w&&qxe({element:w,padding:l}),iEe({arrowWidth:E,arrowHeight:P}),g&&Yxe({strategy:"referenceHidden",...O})]}),[H,K]=JW(G),re=ln(_);Zn(()=>{j&&(re==null||re())},[j,re]);const fe=(Y=$.arrow)==null?void 0:Y.x,ye=(ne=$.arrow)==null?void 0:ne.y,he=((ie=$.arrow)==null?void 0:ie.centerOffset)!==0,[ue,Z]=C.useState();return Zn(()=>{h&&Z(window.getComputedStyle(h).zIndex)},[h]),k.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:j?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(me=$.transformOrigin)==null?void 0:me.x,(xe=$.transformOrigin)==null?void 0:xe.y].join(" "),...((we=$.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:k.jsx(eEe,{scope:r,placedSide:H,onArrowChange:x,arrowX:fe,arrowY:ye,shouldHideArrow:he,children:k.jsx(rt.div,{"data-side":H,"data-align":K,...b,ref:v,style:{...b.style,animation:j?void 0:"none"}})})})});YW.displayName=kB;var qW="PopperArrow",rEe={top:"bottom",right:"left",bottom:"top",left:"right"},ZW=C.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=tEe(qW,n),o=rEe[a.placedSide];return k.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:k.jsx(Jxe,{...s,ref:r,style:{...s.style,display:"block"}})})});ZW.displayName=qW;function nEe(t){return t!==null}var iEe=t=>({name:"transformOrigin",options:t,fn(e){var u,h,p,v,w;const{placement:r,rects:n,middlewareData:s}=e,o=((u=s.arrow)==null?void 0:u.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=JW(r),m={start:"0%",center:"50%",end:"100%"}[f],g=((p=(h=s.arrow)==null?void 0:h.x)!=null?p:0)+l/2,y=((w=(v=s.arrow)==null?void 0:v.y)!=null?w:0)+c/2;let _="",b="";return d==="bottom"?(_=o?m:"".concat(g,"px"),b="".concat(-c,"px")):d==="top"?(_=o?m:"".concat(g,"px"),b="".concat(n.floating.height+c,"px")):d==="right"?(_="".concat(-c,"px"),b=o?m:"".concat(y,"px")):d==="left"&&(_="".concat(n.floating.width+c,"px"),b=o?m:"".concat(y,"px")),{data:{x:_,y:b}}}});function JW(t){const[e,r="center"]=t.split("-");return[e,r]}var e_=WW,t_=XW,UE=YW,$E=ZW,sEe="Portal",hf=C.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=C.useState(!1);Zn(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ZO.createPortal(k.jsx(rt.div,{...n,ref:e}),o):null});hf.displayName=sEe;var $A="rovingFocusGroup.onEntryFocus",aEe={bubbles:!1,cancelable:!0},r_="RovingFocusGroup",[m2,QW,oEe]=zp(r_),[lEe,$o]=Qn(r_,[oEe]),[uEe,cEe]=lEe(r_),eK=C.forwardRef((t,e)=>k.jsx(m2.Provider,{scope:t.__scopeRovingFocusGroup,children:k.jsx(m2.Slot,{scope:t.__scopeRovingFocusGroup,children:k.jsx(dEe,{...t,ref:e})})}));eK.displayName=r_;var dEe=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,g=C.useRef(null),y=Et(e,g),_=zl(a),[b,u]=wi({prop:o,defaultProp:l!=null?l:null,onChange:c,caller:r_}),[h,p]=C.useState(!1),v=ln(d),w=QW(r),x=C.useRef(!1),[S,E]=C.useState(0);return C.useEffect(()=>{const P=g.current;if(P)return P.addEventListener($A,v),()=>P.removeEventListener($A,v)},[v]),k.jsx(uEe,{scope:r,orientation:n,dir:_,loop:s,currentTabStopId:b,onItemFocus:C.useCallback(P=>u(P),[u]),onItemShiftTab:C.useCallback(()=>p(!0),[]),onFocusableItemAdd:C.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:C.useCallback(()=>E(P=>P-1),[]),children:k.jsx(rt.div,{tabIndex:h||S===0?-1:0,"data-orientation":n,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{x.current=!0}),onFocus:Ce(t.onFocus,P=>{const T=!x.current;if(P.target===P.currentTarget&&T&&!h){const A=new CustomEvent($A,aEe);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=w().filter(G=>G.focusable),D=R.find(G=>G.active),O=R.find(G=>G.id===b),M=[D,O,...R].filter(Boolean).map(G=>G.ref.current);nK(M,f)}}x.current=!1}),onBlur:Ce(t.onBlur,()=>p(!1))})})}),tK="RovingFocusGroupItem",rK=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=t,c=ai(),d=a||c,f=cEe(tK,r),m=f.currentTabStopId===d,g=QW(r),{onFocusableItemAdd:y,onFocusableItemRemove:_,currentTabStopId:b}=f;return C.useEffect(()=>{if(n)return y(),()=>_()},[n,y,_]),k.jsx(m2.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:k.jsx(rt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,u=>{n?f.onItemFocus(d):u.preventDefault()}),onFocus:Ce(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ce(t.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){f.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const h=pEe(u,f.orientation,f.dir);if(h!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let v=g().filter(w=>w.focusable).map(w=>w.ref.current);if(h==="last")v.reverse();else if(h==="prev"||h==="next"){h==="prev"&&v.reverse();const w=v.indexOf(u.currentTarget);v=f.loop?mEe(v,w+1):v.slice(w+1)}setTimeout(()=>nK(v))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:b!=null}):o})})});rK.displayName=tK;var fEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hEe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pEe(t,e,r){const n=hEe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return fEe[n]}function nK(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function mEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var n_=eK,Hp=rK,gEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},If=new WeakMap,O0=new WeakMap,I0={},jA=0,iK=function(t){return t&&(t.host||iK(t.parentNode))},vEe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=iK(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},yEe=function(t,e,r,n){var s=vEe(e,Array.isArray(t)?t:[t]);I0[r]||(I0[r]=new WeakMap);var a=I0[r],o=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))f(g);else try{var y=g.getAttribute(n),_=y!==null&&y!=="false",b=(If.get(g)||0)+1,u=(a.get(g)||0)+1;If.set(g,b),a.set(g,u),o.push(g),b===1&&_&&O0.set(g,!0),u===1&&g.setAttribute(r,"true"),_||g.setAttribute(n,"true")}catch(h){console.error("aria-hidden: cannot operate on ",g,h)}})};return f(e),l.clear(),jA++,function(){o.forEach(function(m){var g=If.get(m)-1,y=a.get(m)-1;If.set(m,g),a.set(m,y),g||(O0.has(m)||m.removeAttribute(n),O0.delete(m)),y||m.removeAttribute(r)}),jA--,jA||(If=new WeakMap,If=new WeakMap,O0=new WeakMap,I0={})}},jE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=e||gEe(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),yEe(n,s,r,"aria-hidden")):function(){return null}},_o=function(){return _o=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_o.apply(this,arguments)};function sK(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function _Ee(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var W1="right-scroll-bar-position",K1="width-before-scroll-bar",bEe="with-scroll-bars-hidden",wEe="--removed-body-scroll-bar-size";function zA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xEe(t,e){var r=C.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var EEe=typeof window<"u"?C.useLayoutEffect:C.useEffect,S$=new WeakMap;function SEe(t,e){var r=xEe(e||null,function(n){return t.forEach(function(s){return zA(s,n)})});return EEe(function(){var n=S$.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||zA(l,null)}),a.forEach(function(l){s.has(l)||zA(l,o)})}S$.set(r,t)},[t]),r}function CEe(t){return t}function AEe(t,e){e===void 0&&(e=CEe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return s}function TEe(t){t===void 0&&(t={});var e=AEe(null);return e.options=_o({async:!0,ssr:!1},t),e}var aK=function(t){var e=t.sideCar,r=sK(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,_o({},r))};aK.isSideCarExport=!0;function PEe(t,e){return t.useMedium(e),aK}var oK=TEe(),VA=function(){},zE=C.forwardRef(function(t,e){var r=C.useRef(null),n=C.useState({onScrollCapture:VA,onWheelCapture:VA,onTouchMoveCapture:VA}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,g=t.sideCar,y=t.noRelative,_=t.noIsolation,b=t.inert,u=t.allowPinchZoom,h=t.as,p=h===void 0?"div":h,v=t.gapMode,w=sK(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=g,S=SEe([r,e]),E=_o(_o({},w),s);return C.createElement(C.Fragment,null,f&&C.createElement(x,{sideCar:oK,removeScrollBar:d,shards:m,noRelative:y,noIsolation:_,inert:b,setCallbacks:a,allowPinchZoom:!!u,lockRef:r,gapMode:v}),o?C.cloneElement(C.Children.only(l),_o(_o({},E),{ref:S})):C.createElement(p,_o({},E,{className:c,ref:S}),l))});zE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zE.classNames={fullWidth:K1,zeroRight:W1};var C$,DEe=function(){if(C$)return C$;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function REe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DEe();return e&&t.setAttribute("nonce",e),t}function OEe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function IEe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var BEe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=REe())&&(OEe(e,r),IEe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FEe=function(){var t=BEe();return function(e,r){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},lK=function(){var t=FEe(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},MEe={left:0,top:0,right:0,gap:0},GA=function(t){return parseInt(t||"",10)||0},kEe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[GA(r),GA(n),GA(s)]},NEe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MEe;var e=kEe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},LEe=lK(),Uh="data-scroll-locked",UEe=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),"\n  .".concat(bEe," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(Uh,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(n,";"),r==="margin"&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(W1," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(K1," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(W1," .").concat(W1," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(K1," .").concat(K1," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Uh,"] {\n    ").concat(wEe,": ").concat(l,"px;\n  }\n")},A$=function(){var t=parseInt(document.body.getAttribute(Uh)||"0",10);return isFinite(t)?t:0},$Ee=function(){C.useEffect(function(){return document.body.setAttribute(Uh,(A$()+1).toString()),function(){var t=A$()-1;t<=0?document.body.removeAttribute(Uh):document.body.setAttribute(Uh,t.toString())}},[])},jEe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;$Ee();var a=C.useMemo(function(){return NEe(s)},[s]);return C.createElement(LEe,{styles:UEe(a,!e,s,r?"":"!important")})},g2=!1;if(typeof window<"u")try{var B0=Object.defineProperty({},"passive",{get:function(){return g2=!0,!0}});window.addEventListener("test",B0,B0),window.removeEventListener("test",B0,B0)}catch(t){g2=!1}var Bf=g2?{passive:!1}:!1,zEe=function(t){return t.tagName==="TEXTAREA"},uK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!zEe(t)&&r[e]==="visible")},VEe=function(t){return uK(t,"overflowY")},GEe=function(t){return uK(t,"overflowX")},T$=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=cK(t,n);if(s){var a=dK(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},HEe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},WEe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},cK=function(t,e){return t==="v"?VEe(e):GEe(e)},dK=function(t,e){return t==="v"?HEe(e):WEe(e)},KEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},XEe=function(t,e,r,n,s){var a=KEe(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),d=!1,f=o>0,m=0,g=0;do{if(!l)break;var y=dK(t,l),_=y[0],b=y[1],u=y[2],h=b-u-a*_;(_||h)&&cK(t,l)&&(m+=h,g+=_);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&(s&&Math.abs(m)<1||!s&&o>m)||!f&&(s&&Math.abs(g)<1||!s&&-o>g))&&(d=!0),d},F0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},P$=function(t){return[t.deltaX,t.deltaY]},D$=function(t){return t&&"current"in t?t.current:t},YEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qEe=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},ZEe=0,Ff=[];function JEe(t){var e=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),s=C.useState(ZEe++)[0],a=C.useState(lK)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=_Ee([t.lockRef.current],(t.shards||[]).map(D$),!0).filter(Boolean);return b.forEach(function(u){return u.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=C.useCallback(function(b,u){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var h=F0(b),p=r.current,v="deltaX"in b?b.deltaX:p[0]-h[0],w="deltaY"in b?b.deltaY:p[1]-h[1],x,S=b.target,E=Math.abs(v)>Math.abs(w)?"h":"v";if("touches"in b&&E==="h"&&S.type==="range")return!1;var P=window.getSelection(),T=P&&P.anchorNode,A=T?T===S||T.contains(S):!1;if(A)return!1;var R=T$(E,S);if(!R)return!0;if(R?x=E:(x=E==="v"?"h":"v",R=T$(E,S)),!R)return!1;if(!n.current&&"changedTouches"in b&&(v||w)&&(n.current=x),!x)return!0;var D=n.current||x;return XEe(D,u,b,D==="h"?v:w,!0)},[]),c=C.useCallback(function(b){var u=b;if(!(!Ff.length||Ff[Ff.length-1]!==a)){var h="deltaY"in u?P$(u):F0(u),p=e.current.filter(function(x){return x.name===u.type&&(x.target===u.target||u.target===x.shadowParent)&&YEe(x.delta,h)})[0];if(p&&p.should){u.cancelable&&u.preventDefault();return}if(!p){var v=(o.current.shards||[]).map(D$).filter(Boolean).filter(function(x){return x.contains(u.target)}),w=v.length>0?l(u,v[0]):!o.current.noIsolation;w&&u.cancelable&&u.preventDefault()}}},[]),d=C.useCallback(function(b,u,h,p){var v={name:b,delta:u,target:h,should:p,shadowParent:QEe(h)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(w){return w!==v})},1)},[]),f=C.useCallback(function(b){r.current=F0(b),n.current=void 0},[]),m=C.useCallback(function(b){d(b.type,P$(b),b.target,l(b,t.lockRef.current))},[]),g=C.useCallback(function(b){d(b.type,F0(b),b.target,l(b,t.lockRef.current))},[]);C.useEffect(function(){return Ff.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Bf),document.addEventListener("touchmove",c,Bf),document.addEventListener("touchstart",f,Bf),function(){Ff=Ff.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,Bf),document.removeEventListener("touchmove",c,Bf),document.removeEventListener("touchstart",f,Bf)}},[]);var y=t.removeScrollBar,_=t.inert;return C.createElement(C.Fragment,null,_?C.createElement(a,{styles:qEe(s)}):null,y?C.createElement(jEe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eSe=PEe(oK,JEe);var fK=C.forwardRef(function(t,e){return C.createElement(zE,_o({},t,{ref:e,sideCar:eSe}))});fK.classNames=zE.classNames;const VE=fK;var v2=["Enter"," "],tSe=["ArrowDown","PageUp","Home"],hK=["ArrowUp","PageDown","End"],rSe=[...tSe,...hK],nSe={ltr:[...v2,"ArrowRight"],rtl:[...v2,"ArrowLeft"]},iSe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},i_="Menu",[Qv,sSe,aSe]=zp(i_),[pf,NB]=Qn(i_,[aSe,xc,$o]),s_=xc(),pK=$o(),[mK,Ec]=pf(i_),[oSe,a_]=pf(i_),gK=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,l=s_(e),[c,d]=C.useState(null),f=C.useRef(!1),m=ln(a),g=zl(s);return C.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),k.jsx(e_,{...l,children:k.jsx(mK,{scope:e,open:r,onOpenChange:m,content:c,onContentChange:d,children:k.jsx(oSe,{scope:e,onClose:C.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};gK.displayName=i_;var lSe="MenuAnchor",LB=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=s_(r);return k.jsx(t_,{...s,...n,ref:e})});LB.displayName=lSe;var UB="MenuPortal",[uSe,vK]=pf(UB,{forceMount:void 0}),yK=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=Ec(UB,e);return k.jsx(uSe,{scope:e,forceMount:r,children:k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:n})})})};yK.displayName=UB;var da="MenuContent",[cSe,$B]=pf(da),_K=C.forwardRef((t,e)=>{const r=vK(da,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=Ec(da,t.__scopeMenu),o=a_(da,t.__scopeMenu);return k.jsx(Qv.Provider,{scope:t.__scopeMenu,children:k.jsx(Jn,{present:n||a.open,children:k.jsx(Qv.Slot,{scope:t.__scopeMenu,children:o.modal?k.jsx(dSe,{...s,ref:e}):k.jsx(fSe,{...s,ref:e})})})})}),dSe=C.forwardRef((t,e)=>{const r=Ec(da,t.__scopeMenu),n=C.useRef(null),s=Et(e,n);return C.useEffect(()=>{const a=n.current;if(a)return jE(a)},[]),k.jsx(jB,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),fSe=C.forwardRef((t,e)=>{const r=Ec(da,t.__scopeMenu);return k.jsx(jB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hSe=Gd("MenuContent.ScrollLock"),jB=C.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:y,disableOutsideScroll:_,...b}=t,u=Ec(da,r),h=a_(da,r),p=s_(r),v=pK(r),w=sSe(r),[x,S]=C.useState(null),E=C.useRef(null),P=Et(e,E,u.onContentChange),T=C.useRef(0),A=C.useRef(""),R=C.useRef(0),D=C.useRef(null),O=C.useRef("right"),I=C.useRef(0),M=_?VE:C.Fragment,G=_?{as:hSe,allowPinchZoom:!0}:void 0,j=H=>{var z,V;const K=A.current+H,re=w().filter(Y=>!Y.disabled),fe=document.activeElement,ye=(z=re.find(Y=>Y.ref.current===fe))==null?void 0:z.textValue,he=re.map(Y=>Y.textValue),ue=CSe(he,K,ye),Z=(V=re.find(Y=>Y.textValue===ue))==null?void 0:V.ref.current;(function Y(ne){A.current=ne,window.clearTimeout(T.current),ne!==""&&(T.current=window.setTimeout(()=>Y(""),1e3))})(K),Z&&setTimeout(()=>Z.focus())};C.useEffect(()=>()=>window.clearTimeout(T.current),[]),FE();const $=C.useCallback(H=>{var re,fe;return O.current===((re=D.current)==null?void 0:re.side)&&TSe(H,(fe=D.current)==null?void 0:fe.area)},[]);return k.jsx(cSe,{scope:r,searchRef:A,onItemEnter:C.useCallback(H=>{$(H)&&H.preventDefault()},[$]),onItemLeave:C.useCallback(H=>{var K;$(H)||((K=E.current)==null||K.focus(),S(null))},[$]),onTriggerLeave:C.useCallback(H=>{$(H)&&H.preventDefault()},[$]),pointerGraceTimerRef:R,onPointerGraceIntentChange:C.useCallback(H=>{D.current=H},[]),children:k.jsx(M,{...G,children:k.jsx(Jy,{asChild:!0,trapped:s,onMountAutoFocus:Ce(a,H=>{var K;H.preventDefault(),(K=E.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:y,children:k.jsx(n_,{asChild:!0,...v,dir:h.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:S,onEntryFocus:Ce(c,H=>{h.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:k.jsx(UE,{role:"menu","aria-orientation":"vertical","data-state":kK(u.open),"data-radix-menu-content":"",dir:h.dir,...p,...b,ref:P,style:{outline:"none",...b.style},onKeyDown:Ce(b.onKeyDown,H=>{const re=H.target.closest("[data-radix-menu-content]")===H.currentTarget,fe=H.ctrlKey||H.altKey||H.metaKey,ye=H.key.length===1;re&&(H.key==="Tab"&&H.preventDefault(),!fe&&ye&&j(H.key));const he=E.current;if(H.target!==he||!rSe.includes(H.key))return;H.preventDefault();const Z=w().filter(z=>!z.disabled).map(z=>z.ref.current);hK.includes(H.key)&&Z.reverse(),ESe(Z)}),onBlur:Ce(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(T.current),A.current="")}),onPointerMove:Ce(t.onPointerMove,ey(H=>{const K=H.target,re=I.current!==H.clientX;if(H.currentTarget.contains(K)&&re){const fe=H.clientX>I.current?"right":"left";O.current=fe,I.current=H.clientX}}))})})})})})})});_K.displayName=da;var pSe="MenuGroup",zB=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return k.jsx(rt.div,{role:"group",...n,ref:e})});zB.displayName=pSe;var mSe="MenuLabel",bK=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return k.jsx(rt.div,{...n,ref:e})});bK.displayName=mSe;var Ow="MenuItem",R$="menu.itemSelect",GE=C.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=C.useRef(null),o=a_(Ow,t.__scopeMenu),l=$B(Ow,t.__scopeMenu),c=Et(e,a),d=C.useRef(!1),f=()=>{const m=a.current;if(!r&&m){const g=new CustomEvent(R$,{bubbles:!0,cancelable:!0});m.addEventListener(R$,y=>n==null?void 0:n(y),{once:!0}),SB(m,g),g.defaultPrevented?d.current=!1:o.onClose()}};return k.jsx(wK,{...s,ref:c,disabled:r,onClick:Ce(t.onClick,f),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),d.current=!0},onPointerUp:Ce(t.onPointerUp,m=>{var g;d.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:Ce(t.onKeyDown,m=>{const g=l.searchRef.current!=="";r||g&&m.key===" "||v2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});GE.displayName=Ow;var wK=C.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,o=$B(Ow,r),l=pK(r),c=C.useRef(null),d=Et(e,c),[f,m]=C.useState(!1),[g,y]=C.useState("");return C.useEffect(()=>{var b;const _=c.current;_&&y(((b=_.textContent)!=null?b:"").trim())},[a.children]),k.jsx(Qv.ItemSlot,{scope:r,disabled:n,textValue:s!=null?s:g,children:k.jsx(Hp,{asChild:!0,...l,focusable:!n,children:k.jsx(rt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Ce(t.onPointerMove,ey(_=>{n?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,ey(_=>o.onItemLeave(_))),onFocus:Ce(t.onFocus,()=>m(!0)),onBlur:Ce(t.onBlur,()=>m(!1))})})})}),gSe="MenuCheckboxItem",xK=C.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return k.jsx(TK,{scope:t.__scopeMenu,checked:r,children:k.jsx(GE,{role:"menuitemcheckbox","aria-checked":Iw(r)?"mixed":r,...s,ref:e,"data-state":HB(r),onSelect:Ce(s.onSelect,()=>n==null?void 0:n(Iw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});xK.displayName=gSe;var EK="MenuRadioGroup",[vSe,ySe]=pf(EK,{value:void 0,onValueChange:()=>{}}),SK=C.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=ln(n);return k.jsx(vSe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:k.jsx(zB,{...s,ref:e})})});SK.displayName=EK;var CK="MenuRadioItem",AK=C.forwardRef((t,e)=>{const{value:r,...n}=t,s=ySe(CK,t.__scopeMenu),a=r===s.value;return k.jsx(TK,{scope:t.__scopeMenu,checked:a,children:k.jsx(GE,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":HB(a),onSelect:Ce(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});AK.displayName=CK;var VB="MenuItemIndicator",[TK,_Se]=pf(VB,{checked:!1}),PK=C.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=_Se(VB,r);return k.jsx(Jn,{present:n||Iw(a.checked)||a.checked===!0,children:k.jsx(rt.span,{...s,ref:e,"data-state":HB(a.checked)})})});PK.displayName=VB;var bSe="MenuSeparator",DK=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return k.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});DK.displayName=bSe;var wSe="MenuArrow",RK=C.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=s_(r);return k.jsx($E,{...s,...n,ref:e})});RK.displayName=wSe;var GB="MenuSub",[xSe,OK]=pf(GB),IK=t=>{const{__scopeMenu:e,children:r,open:n=!1,onOpenChange:s}=t,a=Ec(GB,e),o=s_(e),[l,c]=C.useState(null),[d,f]=C.useState(null),m=ln(s);return C.useEffect(()=>(a.open===!1&&m(!1),()=>m(!1)),[a.open,m]),k.jsx(e_,{...o,children:k.jsx(mK,{scope:e,open:n,onOpenChange:m,content:d,onContentChange:f,children:k.jsx(xSe,{scope:e,contentId:ai(),triggerId:ai(),trigger:l,onTriggerChange:c,children:r})})})};IK.displayName=GB;var ag="MenuSubTrigger",BK=C.forwardRef((t,e)=>{const r=Ec(ag,t.__scopeMenu),n=a_(ag,t.__scopeMenu),s=OK(ag,t.__scopeMenu),a=$B(ag,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),k.jsx(LB,{asChild:!0,...d,children:k.jsx(wK,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":kK(r.open),...t,ref:Zy(e,s.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,ey(m=>{a.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ce(t.onPointerLeave,ey(m=>{var y,_;f();const g=(y=r.content)==null?void 0:y.getBoundingClientRect();if(g){const b=(_=r.content)==null?void 0:_.dataset.side,u=b==="right",h=u?-5:5,p=g[u?"left":"right"],v=g[u?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+h,y:m.clientY},{x:p,y:g.top},{x:v,y:g.top},{x:v,y:g.bottom},{x:p,y:g.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,m=>{var y;const g=a.searchRef.current!=="";t.disabled||g&&m.key===" "||nSe[n.dir].includes(m.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),m.preventDefault())})})})});BK.displayName=ag;var FK="MenuSubContent",MK=C.forwardRef((t,e)=>{const r=vK(da,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=Ec(da,t.__scopeMenu),o=a_(da,t.__scopeMenu),l=OK(FK,t.__scopeMenu),c=C.useRef(null),d=Et(e,c);return k.jsx(Qv.Provider,{scope:t.__scopeMenu,children:k.jsx(Jn,{present:n||a.open,children:k.jsx(Qv.Slot,{scope:t.__scopeMenu,children:k.jsx(jB,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{var y;const m=f.currentTarget.contains(f.target),g=iSe[o.dir].includes(f.key);m&&g&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),f.preventDefault())})})})})})});MK.displayName=FK;function kK(t){return t?"open":"closed"}function Iw(t){return t==="indeterminate"}function HB(t){return Iw(t)?"indeterminate":t?"checked":"unchecked"}function ESe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function SSe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function CSe(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=SSe(t,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function ASe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,f=l.y,m=c.x,g=c.y;f>n!=g>n&&r<(m-d)*(n-f)/(g-f)+d&&(s=!s)}return s}function TSe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return ASe(r,e)}function ey(t){return e=>e.pointerType==="mouse"?t(e):void 0}var NK=gK,LK=LB,UK=yK,$K=_K,jK=zB,zK=bK,VK=GE,GK=xK,HK=SK,WK=AK,KK=PK,XK=DK,YK=RK,PSe=IK,qK=BK,ZK=MK,HE="DropdownMenu",[DSe,BZe]=Qn(HE,[NB]),xi=NB(),[RSe,JK]=DSe(HE),QK=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=xi(e),d=C.useRef(null),[f,m]=wi({prop:s,defaultProp:a!=null?a:!1,onChange:o,caller:HE});return k.jsx(RSe,{scope:e,triggerId:ai(),triggerRef:d,contentId:ai(),open:f,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(g=>!g),[m]),modal:l,children:k.jsx(NK,{...c,open:f,onOpenChange:m,dir:n,modal:l,children:r})})};QK.displayName=HE;var eX="DropdownMenuTrigger",tX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=JK(eX,r),o=xi(r);return k.jsx(LK,{asChild:!0,...o,children:k.jsx(rt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Zy(e,a.triggerRef),onPointerDown:Ce(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ce(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tX.displayName=eX;var OSe="DropdownMenuPortal",rX=t=>{const{__scopeDropdownMenu:e,...r}=t,n=xi(e);return k.jsx(UK,{...n,...r})};rX.displayName=OSe;var nX="DropdownMenuContent",iX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=JK(nX,r),a=xi(r),o=C.useRef(!1);return k.jsx($K,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iX.displayName=nX;var ISe="DropdownMenuGroup",BSe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(jK,{...s,...n,ref:e})});BSe.displayName=ISe;var FSe="DropdownMenuLabel",sX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(zK,{...s,...n,ref:e})});sX.displayName=FSe;var MSe="DropdownMenuItem",aX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(VK,{...s,...n,ref:e})});aX.displayName=MSe;var kSe="DropdownMenuCheckboxItem",oX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(GK,{...s,...n,ref:e})});oX.displayName=kSe;var NSe="DropdownMenuRadioGroup",LSe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(HK,{...s,...n,ref:e})});LSe.displayName=NSe;var USe="DropdownMenuRadioItem",lX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(WK,{...s,...n,ref:e})});lX.displayName=USe;var $Se="DropdownMenuItemIndicator",uX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(KK,{...s,...n,ref:e})});uX.displayName=$Se;var jSe="DropdownMenuSeparator",cX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(XK,{...s,...n,ref:e})});cX.displayName=jSe;var zSe="DropdownMenuArrow",VSe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(YK,{...s,...n,ref:e})});VSe.displayName=zSe;var GSe=t=>{const{__scopeDropdownMenu:e,children:r,open:n,onOpenChange:s,defaultOpen:a}=t,o=xi(e),[l,c]=wi({prop:n,defaultProp:a!=null?a:!1,onChange:s,caller:"DropdownMenuSub"});return k.jsx(PSe,{...o,open:l,onOpenChange:c,children:r})},HSe="DropdownMenuSubTrigger",dX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(qK,{...s,...n,ref:e})});dX.displayName=HSe;var WSe="DropdownMenuSubContent",fX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=xi(r);return k.jsx(ZK,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fX.displayName=WSe;var FZe=QK,MZe=tX,kZe=rX,NZe=iX,LZe=sX,UZe=aX,$Ze=oX,jZe=lX,zZe=uX,VZe=cX,GZe=GSe,HZe=dX,WZe=fX;function mf(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var KSe=["color"],KZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,KSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),XSe=["color"],XZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,XSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),YSe=["color"],YZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,YSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),qSe=["color"],qZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,qSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),ZSe=["color"],ZZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,ZSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),JSe=["color"],JZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,JSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),QSe=["color"],QZe=C.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=mf(t,QSe);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:e}),C.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sn=Object.keys,yi=Array.isArray;function Mi(t,e){return typeof e!="object"||Sn(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||Ir.Promise||(Ir.Promise=Promise);const ty=Object.getPrototypeOf,eCe={}.hasOwnProperty;function Bs(t,e){return eCe.call(t,e)}function bp(t,e){typeof e=="function"&&(e=e(ty(t))),(typeof Reflect>"u"?Sn:Reflect.ownKeys)(e).forEach(r=>{yl(t,r,e[r])})}const hX=Object.defineProperty;function yl(t,e,r,n){hX(t,e,Mi(r&&Bs(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function $h(t){return{from:function(e){return t.prototype=Object.create(e.prototype),yl(t.prototype,"constructor",t),{extend:bp.bind(null,t.prototype)}}}}const tCe=Object.getOwnPropertyDescriptor;function WB(t,e){let r;return tCe(t,e)||(r=ty(t))&&WB(r,e)}const rCe=[].slice;function Bw(t,e,r){return rCe.call(t,e,r)}function pX(t,e){return e(t)}function og(t){if(!t)throw new Error("Assertion Failed")}function mX(t){Ir.setImmediate?setImmediate(t):setTimeout(t,0)}function gX(t,e){return t.reduce((r,n,s)=>{var a=e(n,s);return a&&(r[a[0]]=a[1]),r},{})}function _l(t,e){if(typeof e=="string"&&Bs(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var a=_l(t,e[n]);r.push(a)}return r}var o=e.indexOf(".");if(o!==-1){var l=t[e.substr(0,o)];return l==null?void 0:_l(l,e.substr(o+1))}}function Ha(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){og(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)Ha(t,e[n],r[n])}else{var a=e.indexOf(".");if(a!==-1){var o=e.substr(0,a),l=e.substr(a+1);if(l==="")r===void 0?yi(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=r;else{var c=t[o];c&&Bs(t,o)||(c=t[o]={}),Ha(c,l,r)}}else r===void 0?yi(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function vX(t){var e={};for(var r in t)Bs(t,r)&&(e[r]=t[r]);return e}const nCe=[].concat;function yX(t){return nCe.apply([],t)}const _X="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(yX([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>Ir[t]),iCe=_X.map(t=>Ir[t]);gX(_X,t=>[t,!0]);let hu=null;function o_(t){hu=typeof WeakMap<"u"&&new WeakMap;const e=y2(t);return hu=null,e}function y2(t){if(!t||typeof t!="object")return t;let e=hu&&hu.get(t);if(e)return e;if(yi(t)){e=[],hu&&hu.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(y2(t[r]))}else if(iCe.indexOf(t.constructor)>=0)e=t;else{const a=ty(t);for(var s in e=a===Object.prototype?{}:Object.create(a),hu&&hu.set(t,e),t)Bs(t,s)&&(e[s]=y2(t[s]))}return e}const{toString:sCe}={};function _2(t){return sCe.call(t).slice(8,-1)}const b2=typeof Symbol<"u"?Symbol.iterator:"@@iterator",aCe=typeof b2=="symbol"?function(t){var e;return t!=null&&(e=t[b2])&&e.apply(t)}:function(){return null},Qf={};function ll(t){var e,r,n,s;if(arguments.length===1){if(yi(t))return t.slice();if(this===Qf&&typeof t=="string")return[t];if(s=aCe(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const KB=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var jo=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bX(t,e){jo=t,wX=e}var wX=()=>!0;const oCe=!new Error("").stack;function gf(){if(oCe)try{throw gf.arguments,new Error}catch(t){return t}return new Error}function w2(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(wX).map(n=>"\n"+n).join("")):""}var xX=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],XB=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(xX),lCe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function jh(t,e){this._e=gf(),this.name=t,this.message=e}function EX(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join("\n")}function Fw(t,e,r,n){this._e=gf(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=EX(t,e)}function Lg(t,e){this._e=gf(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=EX(t,e)}$h(jh).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+w2(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$h(Fw).from(jh),$h(Lg).from(jh);var YB=XB.reduce((t,e)=>(t[e]=e+"Error",t),{});const uCe=jh;var Tt=XB.reduce((t,e)=>{var r=e+"Error";function n(s,a){this._e=gf(),this.name=r,s?typeof s=="string"?(this.message="".concat(s).concat(a?"\n "+a:""),this.inner=a||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=lCe[e]||r,this.inner=null)}return $h(n).from(uCe),t[e]=n,t},{});Tt.Syntax=SyntaxError,Tt.Type=TypeError,Tt.Range=RangeError;var O$=xX.reduce((t,e)=>(t[e+"Error"]=Tt[e],t),{}),X1=XB.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Tt[e]),t),{});function br(){}function ry(t){return t}function cCe(t,e){return t==null||t===ry?e:function(r){return e(t(r))}}function Wd(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function dCe(t,e){return t===br?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Wd(n,this.onsuccess):n),s&&(this.onerror=this.onerror?Wd(s,this.onerror):s),a!==void 0?a:r}}function fCe(t,e){return t===br?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Wd(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Wd(n,this.onerror):n)}}function hCe(t,e){return t===br?e:function(r){var n=t.apply(this,arguments);Mi(r,n);var s=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Wd(s,this.onsuccess):s),a&&(this.onerror=this.onerror?Wd(a,this.onerror):a),n===void 0?o===void 0?void 0:o:Mi(n,o)}}function pCe(t,e){return t===br?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function qB(t,e){return t===br?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,a=new Array(s);s--;)a[s]=arguments[s];return r.then(function(){return e.apply(n,a)})}return e.apply(this,arguments)}}X1.ModifyError=Fw,X1.DexieError=jh,X1.BulkError=Lg;var ny={};const SX=100,[x2,Mw,E2]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,ty(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,ty(e),t]})(),CX=Mw&&Mw.then,Y1=x2&&x2.constructor,ZB=!!E2;var S2=!1,mCe=E2?()=>{E2.then(M0)}:Ir.setImmediate?setImmediate.bind(null,M0):Ir.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{M0(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(M0,0)},Ug=function(t,e){lg.push([t,e]),kw&&(mCe(),kw=!1)},C2=!0,kw=!0,Td=[],q1=[],A2=null,T2=ry,zh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:F$,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{F$(t[0],t[1])}catch(e){}})}},yt=zh,lg=[],Pd=0,Z1=[];function nt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=br,this._lib=!1;var e=this._PSD=yt;if(jo&&(this._stackHolder=gf(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ny)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&D2(this,this._value))}this._state=null,this._value=null,++e.ref,TX(this,t)}const P2={get:function(){var t=yt,e=Nw;function r(n,s){var a=!t.global&&(t!==yt||e!==Nw);const o=a&&!Bl();var l=new nt((c,d)=>{JB(this,new AX(Lw(n,t,a,o),Lw(s,t,a,o),c,d,t))});return jo&&RX(l,this),l}return r.prototype=ny,r},set:function(t){yl(this,"then",t&&t.prototype===ny?P2:{get:function(){return t},set:P2.set})}};function AX(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function TX(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&l_();r&&typeof r.then=="function"?TX(t,(s,a)=>{r instanceof nt?r._then(s,a):r.then(s,a)}):(t._state=!0,t._value=r,PX(t)),n&&u_()}},D2.bind(null,t))}catch(r){D2(t,r)}}function D2(t,e){if(q1.push(e),t._state===null){var r=t._lib&&l_();e=T2(e),t._state=!1,t._value=e,jo&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,a){try{n.apply(null,a)}catch(o){s&&s(o)}}(()=>{var n=WB(e,"stack");e._promise=t,yl(e,"stack",{get:()=>S2?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){Td.some(s=>s._value===n._value)||Td.push(n)}(t),PX(t),r&&u_()}}function PX(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)JB(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),Pd===0&&(++Pd,Ug(()=>{--Pd==0&&QB()},[]))}function JB(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Pd,Ug(gCe,[r,t,e])}else t._listeners.push(e)}function gCe(t,e,r){try{A2=e;var n,s=e._value;e._state?n=t(s):(q1.length&&(q1=[]),n=t(s),q1.indexOf(s)===-1&&function(a){for(var o=Td.length;o;)if(Td[--o]._value===a._value)return void Td.splice(o,1)}(e)),r.resolve(n)}catch(a){r.reject(a)}finally{A2=null,--Pd==0&&QB(),--r.psd.ref||r.psd.finalize()}}function DX(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,a,o=t._value;o!=null?(s=o.name||"Error",a=o.message||o,n=w2(o,0)):(s=o,a=""),e.push(s+(a?": "+a:"")+n)}return jo&&((n=w2(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&DX(t._prev,e,r)),e}function RX(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function M0(){l_()&&u_()}function l_(){var t=C2;return C2=!1,kw=!1,t}function u_(){var t,e,r;do for(;lg.length>0;)for(t=lg,lg=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(lg.length>0);C2=!0,kw=!0}function QB(){var t=Td;Td=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=Z1.slice(0),r=e.length;r;)e[--r]()}function k0(t){return new nt(ny,!1,t)}function zr(t,e){var r=yt;return function(){var n=l_(),s=yt;try{return oc(r,!0),t.apply(this,arguments)}catch(a){e&&e(a)}finally{oc(s,!1),n&&u_()}}}bp(nt.prototype,{then:P2,_then:function(t,e){JB(this,new AX(null,null,t,e,yt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):k0(n)):this.then(null,n=>n&&n.name===e?r(n):k0(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),k0(e)))},stack:{get:function(){if(this._stack)return this._stack;try{S2=!0;var t=DX(this,[],20).join("\nFrom previous: ");return this._state!==null&&(this._stack=t),t}finally{S2=!1}}},timeout:function(t,e){return t<1/0?new nt((r,n)=>{var s=setTimeout(()=>n(new Tt.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&yl(nt.prototype,Symbol.toStringTag,"Dexie.Promise"),zh.env=OX(),bp(nt,{all:function(){var t=ll.apply(null,arguments).map(N0);return new nt(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,a)=>nt.resolve(s).then(o=>{t[a]=o,--n||e(t)},r))})},resolve:t=>{if(t instanceof nt)return t;if(t&&typeof t.then=="function")return new nt((r,n)=>{t.then(r,n)});var e=new nt(ny,!0,t);return RX(e,A2),e},reject:k0,race:function(){var t=ll.apply(null,arguments).map(N0);return new nt((e,r)=>{t.map(n=>nt.resolve(n).then(e,r))})},PSD:{get:()=>yt,set:t=>yt=t},totalEchoes:{get:()=>Nw},newPSD:ac,usePSD:Kp,scheduler:{get:()=>Ug,set:t=>{Ug=t}},rejectionMapper:{get:()=>T2,set:t=>{T2=t}},follow:(t,e)=>new nt((r,n)=>ac((s,a)=>{var o=yt;o.unhandleds=[],o.onunhandled=a,o.finalize=Wd(function(){(function(l){function c(){l(),Z1.splice(Z1.indexOf(c),1)}Z1.push(c),++Pd,Ug(()=>{--Pd==0&&QB()},[])})(()=>{this.unhandleds.length===0?s():a(this.unhandleds[0])})},o.finalize),t()},e,r,n))}),Y1&&(Y1.allSettled&&yl(nt,"allSettled",function(){const t=ll.apply(null,arguments).map(N0);return new nt(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,a)=>nt.resolve(s).then(o=>n[a]={status:"fulfilled",value:o},o=>n[a]={status:"rejected",reason:o}).then(()=>--r||e(n)))})}),Y1.any&&typeof AggregateError<"u"&&yl(nt,"any",function(){const t=ll.apply(null,arguments).map(N0);return new nt((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((a,o)=>nt.resolve(a).then(l=>e(l),l=>{s[o]=l,--n||r(new AggregateError(s))}))})}));const gi={awaits:0,echoes:0,id:0};var vCe=0,J1=[],HA=0,Nw=0,yCe=0;function ac(t,e,r,n){var s=yt,a=Object.create(s);a.parent=s,a.ref=0,a.global=!1,a.id=++yCe;var o=zh.env;a.env=ZB?{Promise:nt,PromiseProp:{value:nt,configurable:!0,writable:!0},all:nt.all,race:nt.race,allSettled:nt.allSettled,any:nt.any,resolve:nt.resolve,reject:nt.reject,nthen:I$(o.nthen,a),gthen:I$(o.gthen,a)}:{},e&&Mi(a,e),++s.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=Kp(a,t,r,n);return a.ref===0&&a.finalize(),l}function Wp(){return gi.id||(gi.id=++vCe),++gi.awaits,gi.echoes+=SX,gi.id}function Bl(){return!!gi.awaits&&(--gi.awaits==0&&(gi.id=0),gi.echoes=gi.awaits*SX,!0)}function N0(t){return gi.echoes&&t&&t.constructor===Y1?(Wp(),t.then(e=>(Bl(),e),e=>(Bl(),In(e)))):t}function _Ce(t){++Nw,gi.echoes&&--gi.echoes!=0||(gi.echoes=gi.id=0),J1.push(yt),oc(t,!0)}function bCe(){var t=J1[J1.length-1];J1.pop(),oc(t,!1)}function oc(t,e){var r=yt;if((e?!gi.echoes||HA++&&t===yt:!HA||--HA&&t===yt)||IX(e?_Ce.bind(null,t):bCe),t!==yt&&(yt=t,r===zh&&(zh.env=OX()),ZB)){var n=zh.env.Promise,s=t.env;Mw.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(Ir,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function OX(){var t=Ir.Promise;return ZB?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Ir,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Mw.then,gthen:t.prototype.then}:{}}function Kp(t,e,r,n,s){var a=yt;try{return oc(t,!0),e(r,n,s)}finally{oc(a,!1)}}function IX(t){CX.call(x2,t)}function Lw(t,e,r,n){return typeof t!="function"?t:function(){var s=yt;r&&Wp(),oc(e,!0);try{return t.apply(this,arguments)}finally{oc(s,!1),n&&IX(Bl)}}}function I$(t,e){return function(r,n){return t.call(this,Lw(r,e),Lw(n,e))}}(""+CX).indexOf("[native code]")===-1&&(Wp=Bl=br);const B$="unhandledrejection";function F$(t,e){var r;try{r=e.onuncatched(t)}catch(a){}if(r!==!1)try{var n,s={promise:e,reason:t};if(Ir.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(B$,!0,!0),Mi(n,s)):Ir.CustomEvent&&Mi(n=new CustomEvent(B$,{detail:s}),s),n&&Ir.dispatchEvent&&(dispatchEvent(n),!Ir.PromiseRejectionEvent&&Ir.onunhandledrejection))try{Ir.onunhandledrejection(n)}catch(a){}jo&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: ".concat(t.stack||t))}catch(a){}}var In=nt.reject;function R2(t,e,r,n){if(t.idbdb&&(t._state.openComplete||yt.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===YB.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>R2(t,e,r,n))):In(a)}return s._promise(e,(a,o)=>ac(()=>(yt.trans=s,n(a,o,s)))).then(a=>s._completion.then(()=>a))}if(t._state.openComplete)return In(new Tt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return In(new Tt.DatabaseClosed);t.open().catch(br)}return t._state.dbReadyPromise.then(()=>R2(t,e,r,n))}const M$="3.2.7",ud=String.fromCharCode(65535),O2=-1/0,Ko="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",BX="String expected.",$g=[],WE=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),wCe=WE,xCe=WE,FX=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),KE="__dbnames",WA="readonly",KA="readwrite";function Kd(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const MX={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function L0(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=o_(e))[t],e)}class ECe{_trans(e,r,n){const s=this._tx||yt.trans,a=this.name;function o(c,d,f){if(!f.schema[a])throw new Tt.NotFound("Table "+a+" not part of transaction");return r(f.idbtrans,f)}const l=l_();try{return s&&s.db===this.db?s===yt.trans?s._promise(e,o,n):ac(()=>s._promise(e,o,n),{trans:s,transless:yt.transless||yt}):R2(this.db,e,[this.name],o)}finally{l&&u_()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(yi(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));const r=Sn(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(d=>{if(d.compound&&r.every(f=>d.keyPath.indexOf(f)>=0)){for(let f=0;f<r.length;++f)if(r.indexOf(d.keyPath[f])===-1)return!1;return!0}return!1}).sort((d,f)=>d.keyPath.length-f.keyPath.length)[0];if(n&&this.db._maxKey!==ud){const d=n.keyPath.slice(0,r.length);return this.where(d).equals(d.map(f=>e[f]))}!n&&jo&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(r.join("+"),"]"));const{idxByName:s}=this.schema,a=this.db._deps.indexedDB;function o(d,f){try{return a.cmp(d,f)===0}catch(m){return!1}}const[l,c]=r.reduce(([d,f],m)=>{const g=s[m],y=e[m];return[d||g,d||!g?Kd(f,g&&g.multi?_=>{const b=_l(_,m);return yi(b)&&b.some(u=>o(y,u))}:_=>o(y,_l(_,m))):f]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(c):n?this.filter(c):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,yi(e)?"[".concat(e.join("+"),"]"):e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var a in n)if(Bs(n,a))try{s[a]=n[a]}catch(o){}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){Mi(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let a=e;return s&&n&&(a=L0(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:r!=null?[r]:null,values:[a]})).then(o=>o.numFailures?nt.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ha(e,s,o)}catch(l){}return o})}update(e,r){if(typeof e!="object"||yi(e))return this.where(":id").equals(e).modify(r);{const n=_l(e,this.schema.primKey.keyPath);if(n===void 0)return In(new Tt.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?Sn(r).forEach(s=>{Ha(e,s,r[s])}):r(e,{value:e,primKey:n})}catch(s){}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let a=e;return s&&n&&(a=L0(s)(e)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[a],keys:r!=null?[r]:null})).then(o=>o.numFailures?nt.reject(o.failures[0]):o.lastResult).then(o=>{if(s)try{Ha(e,s,o)}catch(l){}return o})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?nt.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:MX})).then(e=>e.numFailures?nt.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,a=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Tt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Tt.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=c&&l?e.map(L0(c)):e;return this.core.mutate({trans:o,type:"add",keys:s,values:f,wantResults:a}).then(({numFailures:m,results:g,lastResult:y,failures:_})=>{if(m===0)return a?g:y;throw new Lg("".concat(this.name,".bulkAdd(): ").concat(m," of ").concat(d," operations failed"),_)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,a=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:l,keyPath:c}=this.schema.primKey;if(c&&s)throw new Tt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new Tt.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let f=c&&l?e.map(L0(c)):e;return this.core.mutate({trans:o,type:"put",keys:s,values:f,wantResults:a}).then(({numFailures:m,results:g,lastResult:y,failures:_})=>{if(m===0)return a?g:y;throw new Lg("".concat(this.name,".bulkPut(): ").concat(m," of ").concat(d," operations failed"),_)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:a})=>{if(n===0)return s;throw new Lg("".concat(this.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),a)})}}function jg(t){var e={},r=function(o,l){if(l){for(var c=arguments.length,d=new Array(c-1);--c;)d[c-1]=arguments[c];return e[o].subscribe.apply(null,d),t}if(typeof o=="string")return e[o]};r.addEventType=a;for(var n=1,s=arguments.length;n<s;++n)a(arguments[n]);return r;function a(o,l,c){if(typeof o!="object"){var d;l||(l=pCe),c||(c=br);var f={subscribers:[],fire:c,subscribe:function(m){f.subscribers.indexOf(m)===-1&&(f.subscribers.push(m),f.fire=l(f.fire,m))},unsubscribe:function(m){f.subscribers=f.subscribers.filter(function(g){return g!==m}),f.fire=f.subscribers.reduce(l,c)}};return e[o]=r[o]=f,f}Sn(d=o).forEach(function(m){var g=d[m];if(yi(g))a(m,d[m][0],d[m][1]);else{if(g!=="asap")throw new Tt.InvalidArgument("Invalid event config");var y=a(m,ry,function(){for(var _=arguments.length,b=new Array(_);_--;)b[_]=arguments[_];y.subscribers.forEach(function(u){mX(function(){u.apply(null,b)})})})}})}}function Mm(t,e){return $h(e).from({prototype:t}),e}function Mf(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function XA(t,e){t.filter=Kd(t.filter,e)}function YA(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Kd(n(),e()):e,t.justLimit=r&&!n}function Q1(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new Tt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function k$(t,e,r){const n=Q1(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function U0(t,e,r,n){const s=t.replayFilter?Kd(t.filter,t.replayFilter()):t.filter;if(t.or){const a={},o=(l,c,d)=>{if(!s||s(c,d,g=>c.stop(g),g=>c.fail(g))){var f=c.primaryKey,m=""+f;m==="[object ArrayBuffer]"&&(m=""+new Uint8Array(f)),Bs(a,m)||(a[m]=!0,e(l,c,d))}};return Promise.all([t.or._iterate(o,r),N$(k$(t,n,r),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}return N$(k$(t,n,r),Kd(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function N$(t,e,r,n){var s=zr(n?(a,o,l)=>r(n(a),o,l):r);return t.then(a=>{if(a)return a.start(()=>{var o=()=>a.continue();e&&!e(a,l=>o=l,l=>{a.stop(l),o=br},l=>{a.fail(l),o=br})||s(a.value,a,l=>o=l),o()})})}function Ri(t,e){try{const r=L$(t),n=L$(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,a){const o=s.length,l=a.length,c=o<l?o:l;for(let d=0;d<c;++d)if(s[d]!==a[d])return s[d]<a[d]?-1:1;return o===l?0:o<l?-1:1}(U$(t),U$(e));case"Array":return function(s,a){const o=s.length,l=a.length,c=o<l?o:l;for(let d=0;d<c;++d){const f=Ri(s[d],a[d]);if(f!==0)return f}return o===l?0:o<l?-1:1}(t,e)}}catch(r){}return NaN}function L$(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=_2(t);return r==="ArrayBuffer"?"binary":r}function U$(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class SCe{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,In.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,In.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=Kd(r.algorithm,e)}_iterate(e,r){return U0(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Mi(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>U0(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Mf(n,!0))return s.count({trans:r,query:{index:Q1(n,s.schema),range:n.range}}).then(o=>Math.min(o,n.limit));var a=0;return U0(n,()=>(++a,!1),r,s).then(()=>a)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],a=n.length-1;function o(d,f){return f?o(d[n[f]],f-1):d[s]}var l=this._ctx.dir==="next"?1:-1;function c(d,f){var m=o(d,a),g=o(f,a);return m<g?-l:m>g?l:0}return this.toArray(function(d){return d.sort(c)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Mf(n,!0)&&n.limit>0){const{valueMapper:s}=n,a=Q1(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:a,range:n.range}}).then(({result:o})=>s?o.map(s):o)}{const s=[];return U0(n,a=>s.push(a),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Mf(r)?YA(r,()=>{var n=e;return(s,a)=>n===0||(n===1?(--n,!1):(a(()=>{s.advance(n),n=0}),!1))}):YA(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),YA(this._ctx,()=>{var r=e;return function(n,s,a){return--r<=0&&s(a),r>=0}},!0),this}until(e,r){return XA(this._ctx,function(n,s,a){return!e(n.value)||(s(a),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return XA(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=Kd(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,a){n.push(a.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Mf(r,!0)&&r.limit>0)return this._read(s=>{var a=Q1(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:a,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,a){n.push(a.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return XA(this._ctx,function(s){var a=s.primaryKey.toString(),o=Bs(n,a);return n[a]=!0,!o}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var a=Sn(e),o=a.length;s=function(b){for(var u=!1,h=0;h<o;++h){var p=a[h],v=e[p];_l(b,p)!==v&&(Ha(b,p,v),u=!0)}return u}}const l=r.table.core,{outbound:c,extractKey:d}=l.schema.primaryKey,f=this.db._options.modifyChunkSize||200,m=[];let g=0;const y=[],_=(b,u)=>{const{failures:h,numFailures:p}=u;g+=b-p;for(let v of Sn(h))m.push(h[v])};return this.clone().primaryKeys().then(b=>{const u=h=>{const p=Math.min(f,b.length-h);return l.getMany({trans:n,keys:b.slice(h,h+p),cache:"immutable"}).then(v=>{const w=[],x=[],S=c?[]:null,E=[];for(let T=0;T<p;++T){const A=v[T],R={value:o_(A),primKey:b[h+T]};s.call(R,R.value,R)!==!1&&(R.value==null?E.push(b[h+T]):c||Ri(d(A),d(R.value))===0?(x.push(R.value),c&&S.push(b[h+T])):(E.push(b[h+T]),w.push(R.value)))}const P=Mf(r)&&r.limit===1/0&&(typeof e!="function"||e===qA)&&{index:r.index,range:r.range};return Promise.resolve(w.length>0&&l.mutate({trans:n,type:"add",values:w}).then(T=>{for(let A in T.failures)E.splice(parseInt(A),1);_(w.length,T)})).then(()=>(x.length>0||P&&typeof e=="object")&&l.mutate({trans:n,type:"put",keys:S,values:x,criteria:P,changeSpec:typeof e!="function"&&e}).then(T=>_(x.length,T))).then(()=>(E.length>0||P&&e===qA)&&l.mutate({trans:n,type:"delete",keys:E,criteria:P}).then(T=>_(E.length,T))).then(()=>b.length>h+p&&u(h+f))})};return u(0).then(()=>{if(m.length>0)throw new Fw("Error modifying one or more objects",m,g,y);return b.length})})})}delete(){var e=this._ctx,r=e.range;return Mf(e)&&(e.isPrimKey&&!xCe||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,a=r;return e.table.core.count({trans:n,query:{index:s,range:a}}).then(o=>e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(({failures:l,lastResult:c,results:d,numFailures:f})=>{if(f)throw new Fw("Could not delete some values",Object.keys(l).map(m=>l[m]),o-f);return o-f}))}):this.modify(qA)}}const qA=(t,e)=>e.value=null;function CCe(t,e){return t<e?-1:t===e?0:1}function ACe(t,e){return t>e?-1:t===e?0:1}function cs(t,e,r){var n=t instanceof NX?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function kf(t){return new t.Collection(t,()=>kX("")).limit(0)}function TCe(t,e,r,n,s,a){for(var o=Math.min(t.length,n.length),l=-1,c=0;c<o;++c){var d=e[c];if(d!==n[c])return s(t[c],r[c])<0?t.substr(0,c)+r[c]+r.substr(c+1):s(t[c],n[c])<0?t.substr(0,c)+n[c]+r.substr(c+1):l>=0?t.substr(0,l)+e[l]+r.substr(l+1):null;s(t[c],d)<0&&(l=c)}return o<n.length&&a==="next"?t+r.substr(t.length):o<t.length&&a==="prev"?t.substr(0,r.length):l<0?null:t.substr(0,l)+n[l]+r.substr(l+1)}function $0(t,e,r,n){var s,a,o,l,c,d,f,m=r.length;if(!r.every(b=>typeof b=="string"))return cs(t,BX);function g(b){s=function(h){return h==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(b),a=function(h){return h==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(b),o=b==="next"?CCe:ACe;var u=r.map(function(h){return{lower:a(h),upper:s(h)}}).sort(function(h,p){return o(h.lower,p.lower)});l=u.map(function(h){return h.upper}),c=u.map(function(h){return h.lower}),d=b,f=b==="next"?"":n}g("next");var y=new t.Collection(t,()=>lu(l[0],c[m-1]+n));y._ondirectionchange=function(b){g(b)};var _=0;return y._addAlgorithm(function(b,u,h){var p=b.key;if(typeof p!="string")return!1;var v=a(p);if(e(v,c,_))return!0;for(var w=null,x=_;x<m;++x){var S=TCe(p,v,l[x],c[x],o,d);S===null&&w===null?_=x+1:(w===null||o(w,S)>0)&&(w=S)}return u(w!==null?function(){b.continue(w+f)}:h),!1}),y}function lu(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function kX(t){return{type:1,lower:t,upper:t}}class NX{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?kf(this):new this.Collection(this,()=>lu(e,r,!n,!s))}catch(a){return cs(this,Ko)}}equals(e){return e==null?cs(this,Ko):new this.Collection(this,()=>kX(e))}above(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(e,void 0,!0))}aboveOrEqual(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(e,void 0,!1))}below(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(void 0,e,!1,!0))}belowOrEqual(e){return e==null?cs(this,Ko):new this.Collection(this,()=>lu(void 0,e))}startsWith(e){return typeof e!="string"?cs(this,BX):this.between(e,e+ud,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):$0(this,(r,n)=>r.indexOf(n[0])===0,[e],ud)}equalsIgnoreCase(e){return $0(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=ll.apply(Qf,arguments);return e.length===0?kf(this):$0(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=ll.apply(Qf,arguments);return e.length===0?kf(this):$0(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,ud)}anyOf(){const e=ll.apply(Qf,arguments);let r=this._cmp;try{e.sort(r)}catch(a){return cs(this,Ko)}if(e.length===0)return kf(this);const n=new this.Collection(this,()=>lu(e[0],e[e.length-1]));n._ondirectionchange=a=>{r=a==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((a,o,l)=>{const c=a.key;for(;r(c,e[s])>0;)if(++s,s===e.length)return o(l),!1;return r(c,e[s])===0||(o(()=>{a.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[O2,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ll.apply(Qf,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return cs(this,Ko)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[O2,s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,a=this._descending,o=this._min,l=this._max;if(e.length===0)return kf(this);if(!e.every(p=>p[0]!==void 0&&p[1]!==void 0&&s(p[0],p[1])<=0))return cs(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Tt.InvalidArgument);const c=!r||r.includeLowers!==!1,d=r&&r.includeUppers===!0;let f,m=s;function g(p,v){return m(p[0],v[0])}try{f=e.reduce(function(p,v){let w=0,x=p.length;for(;w<x;++w){const S=p[w];if(n(v[0],S[1])<0&&n(v[1],S[0])>0){S[0]=o(S[0],v[0]),S[1]=l(S[1],v[1]);break}}return w===x&&p.push(v),p},[]),f.sort(g)}catch(p){return cs(this,Ko)}let y=0;const _=d?p=>s(p,f[y][1])>0:p=>s(p,f[y][1])>=0,b=c?p=>a(p,f[y][0])>0:p=>a(p,f[y][0])>=0;let u=_;const h=new this.Collection(this,()=>lu(f[0][0],f[f.length-1][1],!c,!d));return h._ondirectionchange=p=>{p==="next"?(u=_,m=s):(u=b,m=a),f.sort(g)},h._addAlgorithm((p,v,w)=>{for(var x=p.key;u(x);)if(++y,y===f.length)return v(w),!1;return!!function(S){return!_(S)&&!b(S)}(x)||(this._cmp(x,f[y][1])===0||this._cmp(x,f[y][0])===0||v(()=>{m===s?p.continue(f[y][0]):p.continue(f[y][1])}),!1)}),h}startsWithAnyOf(){const e=ll.apply(Qf,arguments);return e.every(r=>typeof r=="string")?e.length===0?kf(this):this.inAnyRange(e.map(r=>[r,r+ud])):cs(this,"startsWithAnyOf() only works with strings")}}function ho(t){return zr(function(e){return iy(e),t(e.target.error),!1})}function iy(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const sy="storagemutated",wu="x-storagemutated-1",lc=jg(null,sy);class PCe{_lock(){return og(!yt.global),++this._reculock,this._reculock!==1||yt.global||(yt.lockOwnerFor=this),this}_unlock(){if(og(!yt.global),--this._reculock==0)for(yt.global||(yt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Kp(e[1],e[0])}catch(r){}}return this}_locked(){return this._reculock&&yt.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(og(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new Tt.DatabaseClosed(n);case"MissingAPIError":throw new Tt.MissingAPI(n.message,n);default:throw new Tt.OpenFailed(n)}if(!this.active)throw new Tt.TransactionInactive;return og(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=zr(s=>{iy(s),this._reject(e.error)}),e.onabort=zr(s=>{iy(s),this.active&&this._reject(new Tt.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=zr(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&lc.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return In(new Tt.ReadOnly("Transaction is readonly"));if(!this.active)return In(new Tt.TransactionInactive);if(this._locked())return new nt((a,o)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(a,o)},yt])});if(n)return ac(()=>{var a=new nt((o,l)=>{this._lock();const c=r(o,l,this);c&&c.then&&c.then(o,l)});return a.finally(()=>this._unlock()),a._lib=!0,a});var s=new nt((a,o)=>{var l=r(a,o,this);l&&l.then&&l.then(a,o)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=nt.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var a=r._waitingFor;return new nt((o,l)=>{n.then(c=>r._waitingQueue.push(zr(o.bind(null,c))),c=>r._waitingQueue.push(zr(l.bind(null,c)))).finally(()=>{r._waitingFor===a&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Tt.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(Bs(r,e))return r[e];const n=this.schema[e];if(!n)throw new Tt.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function I2(t,e,r,n,s,a,o){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:a,src:(r&&!o?"&":"")+(n?"*":"")+(s?"++":"")+LX(e)}}function LX(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function UX(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:gX(r,n=>[n.name,n])}}let ay=t=>{try{return t.only([[]]),ay=()=>[[]],[[]]}catch(e){return ay=()=>ud,ud}};function B2(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>_l(n,e)}(t):e=>_l(e,t)}function $$(t){return[].slice.call(t)}let DCe=0;function zg(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function RCe(t,e,r){function n(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:f,lowerOpen:m,upperOpen:g}=c;return d===void 0?f===void 0?null:e.upperBound(f,!!g):f===void 0?e.lowerBound(d,!!m):e.bound(d,f,!!m,!!g)}const{schema:s,hasGetAll:a}=function(c,d){const f=$$(c.objectStoreNames);return{schema:{name:c.name,tables:f.map(m=>d.objectStore(m)).map(m=>{const{keyPath:g,autoIncrement:y}=m,_=yi(g),b=g==null,u={},h={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:_,keyPath:g,autoIncrement:y,unique:!0,extractKey:B2(g)},indexes:$$(m.indexNames).map(p=>m.index(p)).map(p=>{const{name:v,unique:w,multiEntry:x,keyPath:S}=p,E={name:v,compound:yi(S),keyPath:S,unique:w,multiEntry:x,extractKey:B2(S)};return u[zg(S)]=E,E}),getIndexByKeyPath:p=>u[zg(p)]};return u[":id"]=h.primaryKey,g!=null&&(u[zg(g)]=h.primaryKey),h})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),o=s.tables.map(c=>function(d){const f=d.name;return{name:f,schema:d,mutate:function({trans:m,type:g,keys:y,values:_,range:b}){return new Promise((u,h)=>{u=zr(u);const p=m.objectStore(f),v=p.keyPath==null,w=g==="put"||g==="add";if(!w&&g!=="delete"&&g!=="deleteRange")throw new Error("Invalid operation type: "+g);const{length:x}=y||_||{length:1};if(y&&_&&y.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return u({numFailures:0,failures:{},results:[],lastResult:void 0});let S;const E=[],P=[];let T=0;const A=D=>{++T,iy(D)};if(g==="deleteRange"){if(b.type===4)return u({numFailures:T,failures:P,results:[],lastResult:void 0});b.type===3?E.push(S=p.clear()):E.push(S=p.delete(n(b)))}else{const[D,O]=w?v?[_,y]:[_,null]:[y,null];if(w)for(let I=0;I<x;++I)E.push(S=O&&O[I]!==void 0?p[g](D[I],O[I]):p[g](D[I])),S.onerror=A;else for(let I=0;I<x;++I)E.push(S=p[g](D[I])),S.onerror=A}const R=D=>{const O=D.target.result;E.forEach((I,M)=>I.error!=null&&(P[M]=I.error)),u({numFailures:T,failures:P,results:g==="delete"?y:E.map(I=>I.result),lastResult:O})};S.onerror=D=>{A(D),R(D)},S.onsuccess=R})},getMany:({trans:m,keys:g})=>new Promise((y,_)=>{y=zr(y);const b=m.objectStore(f),u=g.length,h=new Array(u);let p,v=0,w=0;const x=E=>{const P=E.target;h[P._pos]=P.result,++w===v&&y(h)},S=ho(_);for(let E=0;E<u;++E)g[E]!=null&&(p=b.get(g[E]),p._pos=E,p.onsuccess=x,p.onerror=S,++v);v===0&&y(h)}),get:({trans:m,key:g})=>new Promise((y,_)=>{y=zr(y);const b=m.objectStore(f).get(g);b.onsuccess=u=>y(u.target.result),b.onerror=ho(_)}),query:function(m){return g=>new Promise((y,_)=>{y=zr(y);const{trans:b,values:u,limit:h,query:p}=g,v=h===1/0?void 0:h,{index:w,range:x}=p,S=b.objectStore(f),E=w.isPrimaryKey?S:S.index(w.name),P=n(x);if(h===0)return y({result:[]});if(m){const T=u?E.getAll(P,v):E.getAllKeys(P,v);T.onsuccess=A=>y({result:A.target.result}),T.onerror=ho(_)}else{let T=0;const A=u||!("openKeyCursor"in E)?E.openCursor(P):E.openKeyCursor(P),R=[];A.onsuccess=D=>{const O=A.result;return O?(R.push(u?O.value:O.primaryKey),++T===h?y({result:R}):void O.continue()):y({result:R})},A.onerror=ho(_)}})}(a),openCursor:function({trans:m,values:g,query:y,reverse:_,unique:b}){return new Promise((u,h)=>{u=zr(u);const{index:p,range:v}=y,w=m.objectStore(f),x=p.isPrimaryKey?w:w.index(p.name),S=_?b?"prevunique":"prev":b?"nextunique":"next",E=g||!("openKeyCursor"in x)?x.openCursor(n(v),S):x.openKeyCursor(n(v),S);E.onerror=ho(h),E.onsuccess=zr(P=>{const T=E.result;if(!T)return void u(null);T.___id=++DCe,T.done=!1;const A=T.continue.bind(T);let R=T.continuePrimaryKey;R&&(R=R.bind(T));const D=T.advance.bind(T),O=()=>{throw new Error("Cursor not stopped")};T.trans=m,T.stop=T.continue=T.continuePrimaryKey=T.advance=()=>{throw new Error("Cursor not started")},T.fail=zr(h),T.next=function(){let I=1;return this.start(()=>I--?this.continue():this.stop()).then(()=>this)},T.start=I=>{const M=new Promise((j,$)=>{j=zr(j),E.onerror=ho($),T.fail=$,T.stop=H=>{T.stop=T.continue=T.continuePrimaryKey=T.advance=O,j(H)}}),G=()=>{if(E.result)try{I()}catch(j){T.fail(j)}else T.done=!0,T.start=()=>{throw new Error("Cursor behind last entry")},T.stop()};return E.onsuccess=zr(j=>{E.onsuccess=G,G()}),T.continue=A,T.continuePrimaryKey=R,T.advance=D,G(),M},u(T)},h)})},count({query:m,trans:g}){const{index:y,range:_}=m;return new Promise((b,u)=>{const h=g.objectStore(f),p=y.isPrimaryKey?h:h.index(y.name),v=n(_),w=v?p.count(v):p.count();w.onsuccess=zr(x=>b(x.target.result)),w.onerror=ho(u)})}}}(c)),l={};return o.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!l[c])throw new Error("Table '".concat(c,"' not found"));return l[c]},MIN_KEY:-1/0,MAX_KEY:ay(e),schema:s}}function F2({_novip:t},e){const r=e.db,n=function(s,a,{IDBKeyRange:o,indexedDB:l},c){return{dbcore:function(f,m){return m.reduce((g,{create:y})=>({...g,...y(g)}),f)}(RCe(a,o,c),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const a=s.name;t.core.schema.tables.some(o=>o.name===a)&&(s.core=t.core.table(a),t[a]instanceof t.Table&&(t[a].core=s.core))})}function Uw({_novip:t},e,r,n){r.forEach(s=>{const a=n[s];e.forEach(o=>{const l=WB(o,s);(!l||"value"in l&&l.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?yl(o,s,{get(){return this.table(s)},set(c){hX(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):o[s]=new t.Table(s,a))})})}function M2({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function OCe(t,e){return t._cfg.version-e._cfg.version}function ICe(t,e,r,n){const s=t._dbSchema,a=t._createTransaction("readwrite",t._storeNames,s);a.create(r),a._completion.catch(n);const o=a._reject.bind(a),l=yt.transless||yt;ac(()=>{yt.trans=a,yt.transless=l,e===0?(Sn(s).forEach(c=>{ZA(r,c,s[c].primKey,s[c].indexes)}),F2(t,r),nt.follow(()=>t.on.populate.fire(a)).catch(o)):function({_novip:c},d,f,m){const g=[],y=c._versions;let _=c._dbSchema=N2(c,c.idbdb,m),b=!1;const u=y.filter(p=>p._cfg.version>=d);function h(){return g.length?nt.resolve(g.shift()(f.idbtrans)).then(h):nt.resolve()}return u.forEach(p=>{g.push(()=>{const v=_,w=p._cfg.dbschema;L2(c,v,m),L2(c,w,m),_=c._dbSchema=w;const x=$X(v,w);x.add.forEach(E=>{ZA(m,E[0],E[1].primKey,E[1].indexes)}),x.change.forEach(E=>{if(E.recreate)throw new Tt.Upgrade("Not yet support for changing primary key");{const P=m.objectStore(E.name);E.add.forEach(T=>k2(P,T)),E.change.forEach(T=>{P.deleteIndex(T.name),k2(P,T)}),E.del.forEach(T=>P.deleteIndex(T))}});const S=p._cfg.contentUpgrade;if(S&&p._cfg.version>d){F2(c,m),f._memoizedTables={},b=!0;let E=vX(w);x.del.forEach(R=>{E[R]=v[R]}),M2(c,[c.Transaction.prototype]),Uw(c,[c.Transaction.prototype],Sn(E),E),f.schema=E;const P=KB(S);let T;P&&Wp();const A=nt.follow(()=>{if(T=S(f),T&&P){var R=Bl.bind(null,null);T.then(R,R)}});return T&&typeof T.then=="function"?nt.resolve(T):A.then(()=>T)}}),g.push(v=>{(!b||!wCe)&&function(w,x){[].slice.call(x.db.objectStoreNames).forEach(S=>w[S]==null&&x.db.deleteObjectStore(S))}(p._cfg.dbschema,v),M2(c,[c.Transaction.prototype]),Uw(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),f.schema=c._dbSchema})}),h().then(()=>{var p,v;v=m,Sn(p=_).forEach(w=>{v.db.objectStoreNames.contains(w)||ZA(v,w,p[w].primKey,p[w].indexes)})})}(t,e,a,r).catch(o)})}function $X(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],a=e[n];if(s){const o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||s.primKey.auto!==a.primKey.auto&&!WE)o.recreate=!0,r.change.push(o);else{const l=s.idxByName,c=a.idxByName;let d;for(d in l)c[d]||o.del.push(d);for(d in c){const f=l[d],m=c[d];f?f.src!==m.src&&o.change.push(m):o.add.push(m)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([n,a])}return r}function ZA(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(a=>k2(s,a)),s}function k2(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function N2(t,e,r){const n={};return Bw(e.objectStoreNames,0).forEach(s=>{const a=r.objectStore(s);let o=a.keyPath;const l=I2(LX(o),o||"",!1,!1,!!a.autoIncrement,o&&typeof o!="string",!0),c=[];for(let f=0;f<a.indexNames.length;++f){const m=a.index(a.indexNames[f]);o=m.keyPath;var d=I2(m.name,o,!!m.unique,!!m.multiEntry,!1,o&&typeof o!="string",!1);c.push(d)}n[s]=UX(s,l,c)}),n}function L2({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const a=n[s],o=r.objectStore(a);t._hasGetAll="getAll"in o;for(let l=0;l<o.indexNames.length;++l){const c=o.indexNames[l],d=o.index(c).keyPath,f=typeof d=="string"?d:"["+Bw(d).join("+")+"]";if(e[a]){const m=e[a].idxByName[f];m&&(m.name=c,delete e[a].idxByName[f],e[a].idxByName[c]=m)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ir.WorkerGlobalScope&&Ir instanceof Ir.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class BCe{_parseStoresSpec(e,r){Sn(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((o,l)=>{const c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return I2(c,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),yi(d),l===0)}),a=s.shift();if(a.multi)throw new Tt.Schema("Primary key cannot be multi-valued");s.forEach(o=>{if(o.auto)throw new Tt.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new Tt.Schema("Index must have a name and cannot be an empty string")}),r[n]=UX(n,a,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Mi(this._cfg.storesSource,e):e;const n=r._versions,s={};let a={};return n.forEach(o=>{Mi(s,o._cfg.storesSource),a=o._cfg.dbschema={},o._parseStoresSpec(s,a)}),r._dbSchema=a,M2(r,[r._allTables,r,r.Transaction.prototype]),Uw(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],Sn(a),a),r._storeNames=Sn(a),this}upgrade(e){return this._cfg.contentUpgrade=qB(this._cfg.contentUpgrade||br,e),this}}function eF(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new xn(KE,{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function tF(t){return t&&typeof t.databases=="function"}function U2(t){return ac(function(){return yt.letThrough=!0,t()})}function FCe(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function MCe(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?In(e.dbOpenError):t);jo&&(e.openCanceller._stackHolder=gf()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new Tt.DatabaseClosed("db.open() was cancelled")}let a=e.dbReadyResolve,o=null,l=!1;const c=()=>new nt((d,f)=>{if(s(),!r)throw new Tt.MissingAPI;const m=t.name,g=e.autoSchema?r.open(m):r.open(m,Math.round(10*t.verno));if(!g)throw new Tt.MissingAPI;g.onerror=ho(f),g.onblocked=zr(t._fireOnBlocked),g.onupgradeneeded=zr(y=>{if(o=g.transaction,e.autoSchema&&!t._options.allowEmptyDB){g.onerror=iy,o.abort(),g.result.close();const b=r.deleteDatabase(m);b.onsuccess=b.onerror=zr(()=>{f(new Tt.NoSuchDatabase("Database ".concat(m," doesnt exist")))})}else{o.onerror=ho(f);var _=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;l=_<1,t._novip.idbdb=g.result,ICe(t,_/10,o,f)}},f),g.onsuccess=zr(()=>{o=null;const y=t._novip.idbdb=g.result,_=Bw(y.objectStoreNames);if(_.length>0)try{const u=y.transaction((b=_).length===1?b[0]:b,"readonly");e.autoSchema?function({_novip:h},p,v){h.verno=p.version/10;const w=h._dbSchema=N2(0,p,v);h._storeNames=Bw(p.objectStoreNames,0),Uw(h,[h._allTables],Sn(w),w)}(t,y,u):(L2(t,t._dbSchema,u),function(h,p){const v=$X(N2(0,h.idbdb,p),h._dbSchema);return!(v.add.length||v.change.some(w=>w.add.length||w.change.length))}(t,u)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),F2(t,u)}catch(u){}var b;$g.push(t),y.onversionchange=zr(u=>{e.vcFired=!0,t.on("versionchange").fire(u)}),y.onclose=zr(u=>{t.on("close").fire(u)}),l&&function({indexedDB:u,IDBKeyRange:h},p){!tF(u)&&p!==KE&&eF(u,h).put({name:p}).catch(br)}(t._deps,m),d()},f)}).catch(d=>d&&d.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):nt.reject(d));return nt.race([n,(typeof navigator>"u"?nt.resolve():FCe()).then(c)]).then(()=>(s(),e.onReadyBeingFired=[],nt.resolve(U2(()=>t.on.ready.fire(t.vip))).then(function d(){if(e.onReadyBeingFired.length>0){let f=e.onReadyBeingFired.reduce(qB,br);return e.onReadyBeingFired=[],nt.resolve(U2(()=>f(t.vip))).then(d)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(d=>{e.dbOpenError=d;try{o&&o.abort()}catch(f){}return n===e.openCanceller&&t._close(),In(d)}).finally(()=>{e.openComplete=!0,a()})}function $2(t){var e=a=>t.next(a),r=s(e),n=s(a=>t.throw(a));function s(a){return o=>{var l=a(o),c=l.value;return l.done?c:c&&typeof c.then=="function"?c.then(r,n):yi(c)?Promise.all(c).then(r,n):r(c)}}return s(e)()}function kCe(t,e,r){var n=arguments.length;if(n<2)throw new Tt.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];return r=s.pop(),[t,yX(s),r]}function jX(t,e,r,n,s){return nt.resolve().then(()=>{const a=yt.transless||yt,o=t._createTransaction(e,r,t._dbSchema,n),l={trans:o,transless:a};if(n)o.idbtrans=n.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(m){return m.name===YB.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>jX(t,e,r,null,s))):In(m)}const c=KB(s);let d;c&&Wp();const f=nt.follow(()=>{if(d=s.call(o,o),d)if(c){var m=Bl.bind(null,null);d.then(m,m)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=$2(d))},l);return(d&&typeof d.then=="function"?nt.resolve(d).then(m=>o.active?m:In(new Tt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):f.then(()=>d)).then(m=>(n&&o._resolve(),o._completion.then(()=>m))).catch(m=>(o._reject(m),In(m)))})}function j0(t,e,r){const n=yi(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const NCe={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},a=[];function o(f,m,g){const y=zg(f),_=s[y]=s[y]||[],b=f==null?0:typeof f=="string"?1:f.length,u=m>0,h={...g,isVirtual:u,keyTail:m,keyLength:b,extractKey:B2(f),unique:!u&&g.unique};return _.push(h),h.isPrimaryKey||a.push(h),b>1&&o(b===2?f[0]:f.slice(0,b-1),m+1,g),_.sort((p,v)=>p.keyTail-v.keyTail),h}const l=o(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[l];for(const f of n.indexes)o(f.keyPath,0,f);function c(f){const m=f.query.index;return m.isVirtual?{...f,query:{index:m,range:(g=f.query.range,y=m.keyTail,{type:g.type===1?2:g.type,lower:j0(g.lower,g.lowerOpen?t.MAX_KEY:t.MIN_KEY,y),lowerOpen:!0,upper:j0(g.upper,g.upperOpen?t.MIN_KEY:t.MAX_KEY,y),upperOpen:!0})}}:f;var g,y}return{...r,schema:{...n,primaryKey:l,indexes:a,getIndexByKeyPath:function(f){const m=s[zg(f)];return m&&m[0]}},count:f=>r.count(c(f)),query:f=>r.query(c(f)),openCursor(f){const{keyTail:m,isVirtual:g,keyLength:y}=f.query.index;return g?r.openCursor(c(f)).then(_=>_&&function(b){return Object.create(b,{continue:{value:function(h){h!=null?b.continue(j0(h,f.reverse?t.MAX_KEY:t.MIN_KEY,m)):f.unique?b.continue(b.key.slice(0,y).concat(f.reverse?t.MIN_KEY:t.MAX_KEY,m)):b.continue()}},continuePrimaryKey:{value(h,p){b.continuePrimaryKey(j0(h,t.MAX_KEY,m),p)}},primaryKey:{get:()=>b.primaryKey},key:{get(){const h=b.key;return y===1?h[0]:h.slice(0,y)}},value:{get:()=>b.value}})}(_)):r.openCursor(f)}}}}}};function rF(t,e,r,n){return r=r||{},n=n||"",Sn(t).forEach(s=>{if(Bs(e,s)){var a=t[s],o=e[s];if(typeof a=="object"&&typeof o=="object"&&a&&o){const l=_2(a);l!==_2(o)?r[n+s]=e[s]:l==="Object"?rF(a,o,r,n+s+"."):a!==o&&(r[n+s]=e[s])}else a!==o&&(r[n+s]=e[s])}else r[n+s]=void 0}),Sn(e).forEach(s=>{Bs(t,s)||(r[n+s]=e[s])}),r}const LCe={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(a){const o=yt.trans,{deleting:l,creating:c,updating:d}=o.table(e).hook;switch(a.type){case"add":if(c.fire===br)break;return o._promise("readwrite",()=>f(a),!0);case"put":if(c.fire===br&&d.fire===br)break;return o._promise("readwrite",()=>f(a),!0);case"delete":if(l.fire===br)break;return o._promise("readwrite",()=>f(a),!0);case"deleteRange":if(l.fire===br)break;return o._promise("readwrite",()=>function(g){return m(g.trans,g.range,1e4)}(a),!0)}return r.mutate(a);function f(g){const y=yt.trans,_=g.keys||function(b,u){return u.type==="delete"?u.keys:u.keys||u.values.map(b.extractKey)}(n,g);if(!_)throw new Error("Keys missing");return(g=g.type==="add"||g.type==="put"?{...g,keys:_}:{...g}).type!=="delete"&&(g.values=[...g.values]),g.keys&&(g.keys=[...g.keys]),function(b,u,h){return u.type==="add"?Promise.resolve([]):b.getMany({trans:u.trans,keys:h,cache:"immutable"})}(r,g,_).then(b=>{const u=_.map((h,p)=>{const v=b[p],w={onerror:null,onsuccess:null};if(g.type==="delete")l.fire.call(w,h,v,y);else if(g.type==="add"||v===void 0){const x=c.fire.call(w,h,g.values[p],y);h==null&&x!=null&&(h=x,g.keys[p]=h,n.outbound||Ha(g.values[p],n.keyPath,h))}else{const x=rF(v,g.values[p]),S=d.fire.call(w,x,h,v,y);if(S){const E=g.values[p];Object.keys(S).forEach(P=>{Bs(E,P)?E[P]=S[P]:Ha(E,P,S[P])})}}return w});return r.mutate(g).then(({failures:h,results:p,numFailures:v,lastResult:w})=>{for(let x=0;x<_.length;++x){const S=p?p[x]:_[x],E=u[x];S==null?E.onerror&&E.onerror(h[x]):E.onsuccess&&E.onsuccess(g.type==="put"&&b[x]?g.values[x]:S)}return{failures:h,results:p,numFailures:v,lastResult:w}}).catch(h=>(u.forEach(p=>p.onerror&&p.onerror(h)),Promise.reject(h)))})}function m(g,y,_){return r.query({trans:g,values:!1,query:{index:n,range:y},limit:_}).then(({result:b})=>f({type:"delete",keys:b,trans:g}).then(u=>u.numFailures>0?Promise.reject(u.failures[0]):b.length<_?{failures:[],numFailures:0,lastResult:void 0}:m(g,{...y,lower:b[b.length-1],lowerOpen:!0},_)))}}}}})};function zX(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,a=0;s<e.keys.length&&a<t.length;++s)Ri(e.keys[s],t[a])===0&&(n.push(r?o_(e.values[s]):e.values[s]),++a);return n.length===t.length?n:null}catch(n){return null}}const UCe={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=zX(n.keys,n.trans._cache,n.cache==="clone");return s?nt.resolve(s):r.getMany(n).then(a=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?o_(a):a},a))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function nF(t){return!("from"in t)}const ol=function(t,e){if(!this){const r=new ol;return t&&"d"in t&&Mi(r,t),r}Mi(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function oy(t,e,r){const n=Ri(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(nF(t))return Mi(t,{from:e,to:r,d:1});const s=t.l,a=t.r;if(Ri(r,t.from)<0)return s?oy(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},j$(t);if(Ri(e,t.to)>0)return a?oy(a,e,r):t.r={from:e,to:r,d:1,l:null,r:null},j$(t);Ri(e,t.from)<0&&(t.from=e,t.l=null,t.d=a?a.d+1:1),Ri(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const o=!t.r;s&&!t.l&&$w(t,s),a&&o&&$w(t,a)}function $w(t,e){nF(e)||function r(n,{from:s,to:a,l:o,r:l}){oy(n,s,a),o&&r(n,o),l&&r(n,l)}(t,e)}function $Ce(t,e){const r=j2(e);let n=r.next();if(n.done)return!1;let s=n.value;const a=j2(t);let o=a.next(s.from),l=o.value;for(;!n.done&&!o.done;){if(Ri(l.from,s.to)<=0&&Ri(l.to,s.from)>=0)return!0;Ri(s.from,l.from)<0?s=(n=r.next(l.from)).value:l=(o=a.next(s.from)).value}return!1}function j2(t){let e=nF(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&Ri(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||Ri(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function j$(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const a=s==="r"?"l":"r",o={...t},l=t[s];t.from=l.from,t.to=l.to,t[s]=l[s],o[s]=l[a],t[a]=o,o.d=z$(o)}t.d=z$(t)}function z$({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}bp(ol.prototype,{add(t){return $w(this,t),this},addKey(t){return oy(this,t,t),this},addKeys(t){return t.forEach(e=>oy(this,e,e)),this},[b2](){return j2(this)}});const jCe={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new ol(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:a}=s,{primaryKey:o}=a,{extractKey:l,outbound:c}=o,d={...s,mutate:g=>{const y=g.trans,_=y.mutatedParts||(y.mutatedParts={}),b=S=>{const E="idb://".concat(e,"/").concat(n,"/").concat(S);return _[E]||(_[E]=new ol)},u=b(""),h=b(":dels"),{type:p}=g;let[v,w]=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[[],g.values]:[];const x=g.trans._cache;return s.mutate(g).then(S=>{if(yi(v)){p!=="delete"&&(v=S.results),u.addKeys(v);const E=zX(v,x);E||p==="add"||h.addKeys(v),(E||w)&&function(P,T,A,R){function D(O){const I=P(O.name||"");function M(j){return j!=null?O.extractKey(j):null}const G=j=>O.multiEntry&&yi(j)?j.forEach($=>I.addKey($)):I.addKey(j);(A||R).forEach((j,$)=>{const H=A&&M(A[$]),K=R&&M(R[$]);Ri(H,K)!==0&&(H!=null&&G(H),K!=null&&G(K))})}T.indexes.forEach(D)}(b,a,E,w)}else if(v){const E={from:v.lower,to:v.upper};h.add(E),u.add(E)}else u.add(r),h.add(r),a.indexes.forEach(E=>b(E.name).add(r));return S})}},f=({query:{index:g,range:y}})=>{var _,b;return[g,new ol((_=y.lower)!==null&&_!==void 0?_:t.MIN_KEY,(b=y.upper)!==null&&b!==void 0?b:t.MAX_KEY)]},m={get:g=>[o,new ol(g.key)],getMany:g=>[o,new ol().addKeys(g.keys)],count:f,query:f,openCursor:f};return Sn(m).forEach(g=>{d[g]=function(y){const{subscr:_}=yt;if(_){const b=w=>{const x="idb://".concat(e,"/").concat(n,"/").concat(w);return _[x]||(_[x]=new ol)},u=b(""),h=b(":dels"),[p,v]=m[g](y);if(b(p.name||"").add(v),!p.isPrimaryKey){if(g!=="count"){const w=g==="query"&&c&&y.values&&s.query({...y,values:!1});return s[g].apply(this,arguments).then(x=>{if(g==="query"){if(c&&y.values)return w.then(({result:E})=>(u.addKeys(E),x));const S=y.values?x.result.map(l):x.result;y.values?u.addKeys(S):h.addKeys(S)}else if(g==="openCursor"){const S=x,E=y.values;return S&&Object.create(S,{key:{get:()=>(h.addKey(S.primaryKey),S.key)},primaryKey:{get(){const P=S.primaryKey;return h.addKey(P),P}},value:{get:()=>(E&&u.addKey(S.primaryKey),S.value)}})}return x})}h.add(r)}}return s[g].apply(this,arguments)}}),d}}}};class xn{constructor(e,r){this._middlewares={},this.verno=0;const n=xn.dependencies;this._options=r={addons:xn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:br,dbReadyPromise:null,cancelOpen:br,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;a.dbReadyPromise=new nt(l=>{a.dbReadyResolve=l}),a.openCanceller=new nt((l,c)=>{a.cancelOpen=c}),this._state=a,this.name=e,this.on=jg(this,"populate","blocked","versionchange","close",{ready:[qB,br]}),this.on.ready.subscribe=pX(this.on.ready.subscribe,l=>(c,d)=>{xn.vip(()=>{const f=this._state;if(f.openComplete)f.dbOpenError||nt.resolve().then(c),d&&l(c);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(c),d&&l(c);else{l(c);const m=this;d||l(function g(){m.on.ready.unsubscribe(c),m.on.ready.unsubscribe(g)})}})}),this.Collection=(o=this,Mm(SCe.prototype,function(l,c){this.db=o;let d=MX,f=null;if(c)try{d=c()}catch(_){f=_}const m=l._ctx,g=m.table,y=g.hook.reading.fire;this._ctx={table:g,index:m.index,isPrimKey:!m.index||g.schema.primKey.keyPath&&m.index===g.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:m.or,valueMapper:y!==ry?y:null}})),this.Table=function(l){return Mm(ECe.prototype,function(c,d,f){this.db=l,this._tx=f,this.name=c,this.schema=d,this.hook=l._allTables[c]?l._allTables[c].hook:jg(null,{creating:[dCe,br],reading:[cCe,ry],updating:[hCe,br],deleting:[fCe,br]})})}(this),this.Transaction=function(l){return Mm(PCe.prototype,function(c,d,f,m,g){this.db=l,this.mode=c,this.storeNames=d,this.schema=f,this.chromeTransactionDurability=m,this.idbtrans=null,this.on=jg(this,"complete","error","abort"),this.parent=g||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new nt((y,_)=>{this._resolve=y,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},y=>{var _=this.active;return this.active=!1,this.on.error.fire(y),this.parent?this.parent._reject(y):_&&this.idbtrans&&this.idbtrans.abort(),In(y)})})}(this),this.Version=function(l){return Mm(BCe.prototype,function(c){this.db=l,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return Mm(NX.prototype,function(c,d,f){this.db=l,this._ctx={table:c,index:d===":id"?null:d,or:f};const m=l._deps.indexedDB;if(!m)throw new Tt.MissingAPI;this._cmp=this._ascending=m.cmp.bind(m),this._descending=(g,y)=>m.cmp(y,g),this._max=(g,y)=>m.cmp(g,y)>0?g:y,this._min=(g,y)=>m.cmp(g,y)<0?g:y,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(this.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(this.name,"'. Closing db now to resume the delete request.")),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('".concat(this.name,"') was blocked")):console.warn("Upgrade '".concat(this.name,"' blocked by other connection holding version ").concat(l.oldVersion/10))}),this._maxKey=ay(r.IDBKeyRange),this._createTransaction=(l,c,d,f)=>new this.Transaction(l,c,d,this._options.chromeTransactionDurability,f),this._fireOnBlocked=l=>{this.on("blocked").fire(l),$g.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(l))},this.use(NCe),this.use(LCe),this.use(jCe),this.use(UCe),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(e){if(isNaN(e)||e<.1)throw new Tt.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Tt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(OCe),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||yt.letThrough||this._vip)?e():new nt((r,n)=>{if(this._state.openComplete)return n(new Tt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new Tt.DatabaseClosed);this.open().catch(br)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:r,level:n==null?10:n,name:s}),a.sort((o,l)=>o.level-l.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return MCe(this)}_close(){const e=this._state,r=$g.indexOf(this);if(r>=0&&$g.splice(r,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}e.dbReadyPromise=new nt(n=>{e.dbReadyResolve=n}),e.openCanceller=new nt((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Tt.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new nt((n,s)=>{const a=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=zr(()=>{(function({indexedDB:l,IDBKeyRange:c},d){!tF(l)&&d!==KE&&eF(l,c).delete(d).catch(br)})(this._deps,this.name),n()}),o.onerror=ho(s),o.onblocked=this._fireOnBlocked};if(e)throw new Tt.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Sn(this._allTables).map(e=>this._allTables[e])}transaction(){const e=kCe.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=yt.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const a=e.indexOf("?")!==-1;let o,l;e=e.replace("!","").replace("?","");try{if(l=r.map(d=>{var f=d instanceof this.Table?d.name:d;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),e=="r"||e===WA)o=WA;else{if(e!="rw"&&e!=KA)throw new Tt.InvalidArgument("Invalid transaction mode: "+e);o=KA}if(s){if(s.mode===WA&&o===KA){if(!a)throw new Tt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(d=>{if(s&&s.storeNames.indexOf(d)===-1){if(!a)throw new Tt.SubTransaction("Table "+d+" not included in parent transaction.");s=null}}),a&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,(f,m)=>{m(d)}):In(d)}const c=jX.bind(null,this,o,l,s,n);return s?s._promise(o,c,"lock"):yt.trans?Kp(yt.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!Bs(this._allTables,e))throw new Tt.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}const zCe=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class VCe{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[zCe](){return this}}function VX(t,e){return Sn(e).forEach(r=>{$w(t[r]||(t[r]=new ol),e[r])}),t}function GX(t){let e,r=!1;const n=new VCe(s=>{const a=KB(t);let o=!1,l={},c={};const d={get closed(){return o},unsubscribe:()=>{o=!0,lc.storagemutated.unsubscribe(y)}};s.start&&s.start(d);let f=!1,m=!1;function g(){return Sn(c).some(b=>l[b]&&$Ce(l[b],c[b]))}const y=b=>{VX(l,b),g()&&_()},_=()=>{if(f||o)return;l={};const b={},u=function(h){a&&Wp();const p=()=>ac(t,{subscr:h,trans:null}),v=yt.trans?Kp(yt.transless,p):p();return a&&v.then(Bl,Bl),v}(b);m||(lc(sy,y),m=!0),f=!0,Promise.resolve(u).then(h=>{r=!0,e=h,f=!1,o||(g()?_():(l={},c=b,s.next&&s.next(h)))},h=>{f=!1,r=!1,s.error&&s.error(h),d.unsubscribe()})};return _(),d});return n.hasValue=()=>r,n.getValue=()=>e,n}let z2;try{z2={indexedDB:Ir.indexedDB||Ir.mozIndexedDB||Ir.webkitIndexedDB||Ir.msIndexedDB,IDBKeyRange:Ir.IDBKeyRange||Ir.webkitIDBKeyRange}}catch(t){z2={indexedDB:null,IDBKeyRange:null}}const jc=xn;function eb(t){let e=pl;try{pl=!0,lc.storagemutated.fire(t)}finally{pl=e}}bp(jc,{...X1,delete:t=>new jc(t,{addons:[]}).delete(),exists:t=>new jc(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return tF(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!==KE)):eF(e,r).toCollection().primaryKeys()}(jc.dependencies).then(t)}catch(e){return In(new Tt.MissingAPI)}},defineClass:()=>function(t){Mi(this,t)},ignoreTransaction:t=>yt.trans?Kp(yt.transless,t):t(),vip:U2,async:function(t){return function(){try{var e=$2(t.apply(this,arguments));return e&&typeof e.then=="function"?e:nt.resolve(e)}catch(r){return In(r)}}},spawn:function(t,e,r){try{var n=$2(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:nt.resolve(n)}catch(s){return In(s)}},currentTransaction:{get:()=>yt.trans||null},waitFor:function(t,e){const r=nt.resolve(typeof t=="function"?jc.ignoreTransaction(t):t).timeout(e||6e4);return yt.trans?yt.trans.waitFor(r):r},Promise:nt,debug:{get:()=>jo,set:t=>{bX(t,t==="dexie"?()=>!0:FX)}},derive:$h,extend:Mi,props:bp,override:pX,Events:jg,on:lc,liveQuery:GX,extendObservabilitySet:VX,getByKeyPath:_l,setByKeyPath:Ha,delByKeyPath:function(t,e){typeof e=="string"?Ha(t,e,void 0):"length"in e&&[].map.call(e,function(r){Ha(t,r,void 0)})},shallowClone:vX,deepClone:o_,getObjectDiff:rF,cmp:Ri,asap:mX,minKey:O2,addons:[],connections:$g,errnames:YB,dependencies:z2,semVer:M$,version:M$.split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),jc.maxKey=ay(jc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(lc(sy,t=>{if(!pl){let e;WE?(e=document.createEvent("CustomEvent"),e.initCustomEvent(wu,!0,!0,t)):e=new CustomEvent(wu,{detail:t}),pl=!0,dispatchEvent(e),pl=!1}}),addEventListener(wu,({detail:t})=>{pl||eb(t)}));let pl=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(wu);typeof t.unref=="function"&&t.unref(),lc(sy,e=>{pl||t.postMessage(e)}),t.onmessage=e=>{e.data&&eb(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){lc(sy,e=>{try{pl||(typeof localStorage<"u"&&localStorage.setItem(wu,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:wu,changedParts:e})))}catch(r){}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===wu){const r=JSON.parse(e.newValue);r&&eb(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===wu&&eb(e.changedParts)})}nt.rejectionMapper=function(t,e){if(!t||t instanceof jh||t instanceof TypeError||t instanceof SyntaxError||!t.name||!O$[t.name])return t;var r=new O$[t.name](e||t.message,t);return"stack"in t&&yl(r,"stack",{get:function(){return this.inner.stack}}),r},bX(jo,FX);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jw=function(){return jw=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jw.apply(this,arguments)};function uc(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function c(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,c)}d((n=n.apply(t,e||[])).next())})}function Na(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function GCe(t){var e=[t.schema.primKey].concat(t.schema.indexes);return e.map(function(r){return r.src}).join(",")}function HCe(t){for(var e={},r=0,n=t.tables;r<n.length;r++){var s=n[r];e[s.name]=s.schema}return e}function HX(t,e){return new Promise(function(r,n){var s=new FileReader;s.onabort=function(a){return n(new Error("file read aborted"))},s.onerror=function(a){return n(a.target.error)},s.onload=function(a){return r(a.target.result)},e==="binary"?s.readAsArrayBuffer(t):s.readAsText(t)})}function WX(t,e){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var r=new FileReaderSync,n=e==="binary"?r.readAsArrayBuffer(t):r.readAsText(t);return n}var V2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iF(t,e){return e={exports:{}},t(e,e.exports),e.exports}var XE=iF(function(t,e){(function(r,n){t.exports=n()})(V2,function(){function r(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(V){return typeof V}:r=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},r(z)}function n(z,V,Y,ne,ie,me,xe){try{var we=z[me](xe),Ee=we.value}catch(tt){Y(tt);return}we.done?V(Ee):Promise.resolve(Ee).then(ne,ie)}function s(z){return function(){var V=this,Y=arguments;return new Promise(function(ne,ie){var me=z.apply(V,Y);function xe(Ee){n(me,ne,ie,xe,we,"next",Ee)}function we(Ee){n(me,ne,ie,xe,we,"throw",Ee)}xe(void 0)})}}function a(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")}function o(z,V){for(var Y=0;Y<V.length;Y++){var ne=V[Y];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(z,ne.key,ne)}}function l(z,V,Y){return V&&o(z.prototype,V),Y&&o(z,Y),z}function c(z,V,Y){return V in z?Object.defineProperty(z,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[V]=Y,z}function d(z,V){var Y=Object.keys(z);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(z);V&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(z,ie).enumerable})),Y.push.apply(Y,ne)}return Y}function f(z){for(var V=1;V<arguments.length;V++){var Y=arguments[V]!=null?arguments[V]:{};V%2?d(Object(Y),!0).forEach(function(ne){c(z,ne,Y[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(Y)):d(Object(Y)).forEach(function(ne){Object.defineProperty(z,ne,Object.getOwnPropertyDescriptor(Y,ne))})}return z}function m(z,V){return _(z)||u(z,V)||p()}function g(z){return y(z)||b(z)||h()}function y(z){if(Array.isArray(z)){for(var V=0,Y=new Array(z.length);V<z.length;V++)Y[V]=z[V];return Y}}function _(z){if(Array.isArray(z))return z}function b(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}function u(z,V){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]"){var Y=[],ne=!0,ie=!1,me=void 0;try{for(var xe=z[Symbol.iterator](),we;!(ne=(we=xe.next()).done)&&(Y.push(we.value),!(V&&Y.length===V));ne=!0);}catch(Ee){ie=!0,me=Ee}finally{try{!ne&&xe.return!=null&&xe.return()}finally{if(ie)throw me}}return Y}}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var v=function z(V){a(this,z),this.p=new Promise(V)};v.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(v.prototype[Symbol.toStringTag]="TypesonPromise"),v.prototype.then=function(z,V){var Y=this;return new v(function(ne,ie){Y.p.then(function(me){ne(z?z(me):me)}).catch(function(me){return V?V(me):Promise.reject(me)}).then(ne,ie)})},v.prototype.catch=function(z){return this.then(null,z)},v.resolve=function(z){return new v(function(V){V(z)})},v.reject=function(z){return new v(function(V,Y){Y(z)})},["all","race"].forEach(function(z){v[z]=function(V){return new v(function(Y,ne){Promise[z](V.map(function(ie){return ie&&ie.constructor&&ie.constructor.__typeson__type__==="TypesonPromise"?ie.p:ie})).then(Y,ne)})}});var w={},x=w.toString,S={}.hasOwnProperty,E=Object.getPrototypeOf,P=S.toString;function T(z,V){return I(z)&&typeof z.then=="function"&&(!V||typeof z.catch=="function")}function A(z){return x.call(z).slice(8,-1)}function R(z,V){if(!z||r(z)!=="object")return!1;var Y=E(z);if(!Y)return V===null;var ne=S.call(Y,"constructor")&&Y.constructor;return typeof ne!="function"?V===null:V===ne||V!==null&&P.call(ne)===P.call(V)||typeof V=="function"&&typeof ne.__typeson__type__=="string"&&ne.__typeson__type__===V.__typeson__type__}function D(z){if(!z||A(z)!=="Object")return!1;var V=E(z);return V?R(z,Object):!0}function O(z){if(!z||A(z)!=="Object")return!1;var V=E(z);return V?R(z,Object)||O(V):!0}function I(z){return z&&r(z)==="object"}function M(z){return z.replace(/~/g,"~0").replace(/\./g,"~1")}function G(z){return z.replace(/~1/g,".").replace(/~0/g,"~")}function j(z,V){if(V==="")return z;var Y=V.indexOf(".");if(Y>-1){var ne=z[G(V.slice(0,Y))];return ne===void 0?void 0:j(ne,V.slice(Y+1))}return z[G(V)]}function $(z,V,Y){if(V==="")return Y;var ne=V.indexOf(".");if(ne>-1){var ie=z[G(V.slice(0,ne))];return $(ie,V.slice(ne+1),Y)}return z[G(V)]=Y,z}function H(z){return z===null?"null":Array.isArray(z)?"array":r(z)}var K=Object.keys,re=Array.isArray,fe={}.hasOwnProperty,ye=["type","replaced","iterateIn","iterateUnsetNumeric"];function he(z,V){if(z.keypath==="")return-1;var Y=z.keypath.match(/\./g)||0,ne=V.keypath.match(/\./g)||0;return Y&&(Y=Y.length),ne&&(ne=ne.length),Y>ne?-1:Y<ne?1:z.keypath<V.keypath?-1:z.keypath>V.keypath}var ue=function(){function z(V){a(this,z),this.options=V,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return l(z,[{key:"stringify",value:function(Y,ne,ie,me){me=f({},this.options,{},me,{stringification:!0});var xe=this.encapsulate(Y,null,me);return re(xe)?JSON.stringify(xe[0],ne,ie):xe.then(function(we){return JSON.stringify(we,ne,ie)})}},{key:"stringifySync",value:function(Y,ne,ie,me){return this.stringify(Y,ne,ie,f({throwOnBadSyncType:!0},me,{sync:!0}))}},{key:"stringifyAsync",value:function(Y,ne,ie,me){return this.stringify(Y,ne,ie,f({throwOnBadSyncType:!0},me,{sync:!1}))}},{key:"parse",value:function(Y,ne,ie){return ie=f({},this.options,{},ie,{parse:!0}),this.revive(JSON.parse(Y,ne),ie)}},{key:"parseSync",value:function(Y,ne,ie){return this.parse(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!0}))}},{key:"parseAsync",value:function(Y,ne,ie){return this.parse(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!1}))}},{key:"specialTypeNames",value:function(Y,ne){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.returnTypeNames=!0,this.encapsulate(Y,ne,ie)}},{key:"rootTypeName",value:function(Y,ne){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ie.iterateNone=!0,this.encapsulate(Y,ne,ie)}},{key:"encapsulate",value:function(Y,ne,ie){ie=f({sync:!0},this.options,{},ie);var me=ie,xe=me.sync,we=this,Ee={},tt=[],xt=[],_t=[],Gt="cyclic"in ie?ie.cyclic:!0,X=ie,oe=X.encapsulateObserver,le=Ye("",Y,Gt,ne||{},_t);function Ae(Pe){var L=Object.values(Ee);if(ie.iterateNone)return L.length?L[0]:z.getJSONType(Pe);if(L.length){if(ie.returnTypeNames)return g(new Set(L));!Pe||!D(Pe)||fe.call(Pe,"$types")?Pe={$:Pe,$types:{$:Ee}}:Pe.$types=Ee}else I(Pe)&&fe.call(Pe,"$types")&&(Pe={$:Pe,$types:!0});return ie.returnTypeNames?!1:Pe}function _e(Pe,L){return ce.apply(this,arguments)}function ce(){return ce=s(regeneratorRuntime.mark(function Pe(L,B){var U;return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,Promise.all(B.map(function(ke){return ke[1].p}));case 2:return U=ae.sent,ae.next=5,Promise.all(U.map(function(){var ke=s(regeneratorRuntime.mark(function Ne(at){var Ve,ht,Ft,Mt,jt,Ht,Ut,ar,Jt,Ct,Fr,ot,$e,W;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(Ve=[],ht=B.splice(0,1),Ft=m(ht,1),Mt=Ft[0],jt=m(Mt,7),Ht=jt[0],Ut=jt[2],ar=jt[3],Jt=jt[4],Ct=jt[5],Fr=jt[6],ot=Ye(Ht,at,Ut,ar,Ve,!0,Fr),$e=R(ot,v),!(Ht&&$e)){se.next=11;break}return se.next=8,ot.p;case 8:return W=se.sent,Jt[Ct]=W,se.abrupt("return",_e(L,Ve));case 11:return Ht?Jt[Ct]=ot:$e?L=ot.p:L=ot,se.abrupt("return",_e(L,Ve));case 13:case"end":return se.stop()}},Ne)}));return function(Ne){return ke.apply(this,arguments)}}()));case 5:return ae.abrupt("return",L);case 6:case"end":return ae.stop()}},Pe)})),ce.apply(this,arguments)}function be(Pe,L,B){Object.assign(Pe,L);var U=ye.map(function(J){var ae=Pe[J];return delete Pe[J],ae});B(),ye.forEach(function(J,ae){Pe[J]=U[ae]})}function Ye(Pe,L,B,U,J,ae,ke){var Ne,at={},Ve=r(L),ht=oe?function($e){var W=ke||U.type||z.getJSONType(L);oe(Object.assign($e||at,{keypath:Pe,value:L,cyclic:B,stateObj:U,promisesData:J,resolvingTypesonPromise:ae,awaitingTypesonPromise:R(L,v)},{type:W}))}:null;if(["string","boolean","number","undefined"].includes(Ve))return L===void 0||Ve==="number"&&(isNaN(L)||L===-1/0||L===1/0)?(U.replaced?Ne=L:Ne=Xe(Pe,L,U,J,!1,ae,ht),Ne!==L&&(at={replaced:Ne})):Ne=L,ht&&ht(),Ne;if(L===null)return ht&&ht(),L;if(B&&!U.iterateIn&&!U.iterateUnsetNumeric&&L&&r(L)==="object"){var Ft=tt.indexOf(L);if(Ft<0)B===!0&&(tt.push(L),xt.push(Pe));else return Ee[Pe]="#",ht&&ht({cyclicKeypath:xt[Ft]}),"#"+xt[Ft]}var Mt=D(L),jt=re(L),Ht=(Mt||jt)&&(!we.plainObjectReplacers.length||U.replaced)||U.iterateIn?L:Xe(Pe,L,U,J,Mt||jt,null,ht),Ut;if(Ht!==L?(Ne=Ht,at={replaced:Ht}):Pe===""&&R(L,v)?(J.push([Pe,L,B,U,void 0,void 0,U.type]),Ne=L):jt&&U.iterateIn!=="object"||U.iterateIn==="array"?(Ut=new Array(L.length),at={clone:Ut}):!["function","symbol"].includes(r(L))&&!("toJSON"in L)&&!R(L,v)&&!R(L,Promise)&&!R(L,ArrayBuffer)||Mt||U.iterateIn==="object"?(Ut={},U.addLength&&(Ut.length=L.length),at={clone:Ut}):Ne=L,ht&&ht(),ie.iterateNone)return Ut||Ne;if(!Ut)return Ne;if(U.iterateIn){var ar=function(W){var Q={ownKeys:fe.call(L,W)};be(U,Q,function(){var se=Pe+(Pe?".":"")+M(W),pe=Ye(se,L[W],!!B,U,J,ae);R(pe,v)?J.push([se,pe,!!B,U,Ut,W,U.type]):pe!==void 0&&(Ut[W]=pe)})};for(var Jt in L)ar(Jt);ht&&ht({endIterateIn:!0,end:!0})}else K(L).forEach(function($e){var W=Pe+(Pe?".":"")+M($e),Q={ownKeys:!0};be(U,Q,function(){var se=Ye(W,L[$e],!!B,U,J,ae);R(se,v)?J.push([W,se,!!B,U,Ut,$e,U.type]):se!==void 0&&(Ut[$e]=se)})}),ht&&ht({endIterateOwn:!0,end:!0});if(U.iterateUnsetNumeric){for(var Ct=L.length,Fr=function(W){if(!(W in L)){var Q=Pe+(Pe?".":"")+W,se={ownKeys:!1};be(U,se,function(){var pe=Ye(Q,void 0,!!B,U,J,ae);R(pe,v)?J.push([Q,pe,!!B,U,Ut,W,U.type]):pe!==void 0&&(Ut[W]=pe)})}},ot=0;ot<Ct;ot++)Fr(ot);ht&&ht({endIterateUnsetNumeric:!0,end:!0})}return Ut}function Xe(Pe,L,B,U,J,ae,ke){for(var Ne=J?we.plainObjectReplacers:we.nonplainObjectReplacers,at=Ne.length;at--;){var Ve=Ne[at];if(Ve.test(L,B)){var ht=Ve.type;if(we.revivers[ht]){var Ft=Ee[Pe];Ee[Pe]=Ft?[ht].concat(Ft):ht}if(Object.assign(B,{type:ht,replaced:!0}),(xe||!Ve.replaceAsync)&&!Ve.replace)return ke&&ke({typeDetected:!0}),Ye(Pe,L,Gt&&"readonly",B,U,ae,ht);ke&&ke({replacing:!0});var Mt=xe||!Ve.replaceAsync?"replace":"replaceAsync";return Ye(Pe,Ve[Mt](L,B),Gt&&"readonly",B,U,ae,ht)}}return L}return _t.length?xe&&ie.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(_e(le,_t)).then(Ae):!xe&&ie.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ie.stringification&&xe?[Ae(le)]:xe?Ae(le):Promise.resolve(Ae(le))}},{key:"encapsulateSync",value:function(Y,ne,ie){return this.encapsulate(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!0}))}},{key:"encapsulateAsync",value:function(Y,ne,ie){return this.encapsulate(Y,ne,f({throwOnBadSyncType:!0},ie,{sync:!1}))}},{key:"revive",value:function(Y,ne){var ie=Y&&Y.$types;if(!ie)return Y;if(ie===!0)return Y.$;ne=f({sync:!0},this.options,{},ne);var me=ne,xe=me.sync,we=[],Ee={},tt=!0;ie.$&&D(ie.$)&&(Y=Y.$,ie=ie.$,tt=!1);var xt=this;function _t(ce,be){var Ye=xt.revivers[ce]||[],Xe=m(Ye,1),Pe=Xe[0];if(!Pe)throw new Error("Unregistered type: "+ce);return xe&&!("revive"in Pe)?be:Pe[xe&&Pe.revive?"revive":!xe&&Pe.reviveAsync?"reviveAsync":"revive"](be,Ee)}function Gt(){var ce=[];if(Object.entries(ie).forEach(function(be){var Ye=m(be,2),Xe=Ye[0],Pe=Ye[1];Pe!=="#"&&[].concat(Pe).forEach(function(L){var B=xt.revivers[L]||[null,{}],U=m(B,2),J=U[1].plain;J&&(ce.push({keypath:Xe,type:L}),delete ie[Xe])})}),!!ce.length)return ce.sort(he).reduce(function be(Ye,Xe){var Pe=Xe.keypath,L=Xe.type;if(T(Ye))return Ye.then(function(J){return be(J,{keypath:Pe,type:L})});var B=j(Y,Pe);if(B=_t(L,B),R(B,v))return B.then(function(J){var ae=$(Y,Pe,J);ae===J&&(Y=ae)});var U=$(Y,Pe,B);U===B&&(Y=U)},void 0)}var X=[];function oe(ce,be,Ye,Xe,Pe){if(!(tt&&ce==="$types")){var L=ie[ce],B=re(be);if(B||D(be)){var U=B?new Array(be.length):{};for(K(be).forEach(function(Ft){var Mt=oe(ce+(ce?".":"")+M(Ft),be[Ft],Ye||U,U,Ft),jt=function(Ut){return R(Ut,Z)?U[Ft]=void 0:Ut!==void 0&&(U[Ft]=Ut),Ut};R(Mt,v)?X.push(Mt.then(function(Ht){return jt(Ht)})):jt(Mt)}),be=U;we.length;){var J=m(we[0],4),ae=J[0],ke=J[1],Ne=J[2],at=J[3],Ve=j(ae,ke);if(Ve!==void 0)Ne[at]=Ve;else break;we.splice(0,1)}}if(!L)return be;if(L==="#"){var ht=j(Ye,be.slice(1));return ht===void 0&&we.push([Ye,be.slice(1),Xe,Pe]),ht}return[].concat(L).reduce(function Ft(Mt,jt){return R(Mt,v)?Mt.then(function(Ht){return Ft(Ht,jt)}):_t(jt,Mt)},be)}}function le(ce){return R(ce,Z)?void 0:ce}var Ae=Gt(),_e;return R(Ae,v)?_e=Ae.then(function(){return Y}):(_e=oe("",Y,null),X.length&&(_e=v.resolve(_e).then(function(ce){return v.all([ce].concat(X))}).then(function(ce){var be=m(ce,1),Ye=be[0];return Ye}))),T(_e)?xe&&ne.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():R(_e,v)?_e.p.then(le):_e:!xe&&ne.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():xe?le(_e):Promise.resolve(le(_e))}},{key:"reviveSync",value:function(Y,ne){return this.revive(Y,f({throwOnBadSyncType:!0},ne,{sync:!0}))}},{key:"reviveAsync",value:function(Y,ne){return this.revive(Y,f({throwOnBadSyncType:!0},ne,{sync:!1}))}},{key:"register",value:function(Y,ne){return ne=ne||{},[].concat(Y).forEach(function ie(me){var xe=this;if(re(me))return me.map(function(we){return ie.call(xe,we)});me&&K(me).forEach(function(we){if(we==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(z.JSON_TYPES.includes(we))throw new TypeError("Plain JSON object types are reserved as type names");var Ee=me[we],tt=Ee&&Ee.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,xt=tt.filter(function(Ye){return Ye.type===we});if(xt.length&&(tt.splice(tt.indexOf(xt[0]),1),delete this.revivers[we],delete this.types[we]),typeof Ee=="function"){var _t=Ee;Ee={test:function(Xe){return Xe&&Xe.constructor===_t},replace:function(Xe){return f({},Xe)},revive:function(Xe){return Object.assign(Object.create(_t.prototype),Xe)}}}else if(re(Ee)){var Gt=Ee,X=m(Gt,3),oe=X[0],le=X[1],Ae=X[2];Ee={test:oe,replace:le,revive:Ae}}if(!(!Ee||!Ee.test)){var _e={type:we,test:Ee.test.bind(Ee)};Ee.replace&&(_e.replace=Ee.replace.bind(Ee)),Ee.replaceAsync&&(_e.replaceAsync=Ee.replaceAsync.bind(Ee));var ce=typeof ne.fallback=="number"?ne.fallback:ne.fallback?0:1/0;if(Ee.testPlainObjects?this.plainObjectReplacers.splice(ce,0,_e):this.nonplainObjectReplacers.splice(ce,0,_e),Ee.revive||Ee.reviveAsync){var be={};Ee.revive&&(be.revive=Ee.revive.bind(Ee)),Ee.reviveAsync&&(be.reviveAsync=Ee.reviveAsync.bind(Ee)),this.revivers[we]=[be,{plain:Ee.testPlainObjects}]}this.types[we]=Ee}},this)},this),this}}]),z}(),Z=function z(){a(this,z)};return Z.__typeson__type__="TypesonUndefined",ue.Undefined=Z,ue.Promise=v,ue.isThenable=T,ue.toStringTag=A,ue.hasConstructorOf=R,ue.isObject=I,ue.isPlainObject=D,ue.isUserObject=O,ue.escapeKeyPathComponent=M,ue.unescapeKeyPathComponent=G,ue.getByKeyPath=j,ue.getJSONType=H,ue.JSON_TYPES=["null","boolean","number","string","array","object"],ue})}),WCe=iF(function(t,e){(function(r,n){t.exports=n()})(V2,function(){function r(L){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(L)}function n(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function s(L,B){for(var U=0;U<B.length;U++){var J=B[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function a(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function o(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);B&&(J=J.filter(function(ae){return Object.getOwnPropertyDescriptor(L,ae).enumerable})),U.push.apply(U,J)}return U}function l(L){return function(U){if(Array.isArray(U))return c(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||function(U,J){if(U){if(typeof U=="string")return c(U,J);var ae=Object.prototype.toString.call(U).slice(8,-1);if(ae==="Object"&&U.constructor&&(ae=U.constructor.name),ae==="Map"||ae==="Set")return Array.from(U);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return c(U,J)}}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,J=new Array(B);U<B;U++)J[U]=L[U];return J}function d(L){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(L)}function f(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function m(L,B){for(var U=0;U<B.length;U++){var J=B[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function g(L,B,U){return B in L?Object.defineProperty(L,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[B]=U,L}function y(L,B){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);B&&(J=J.filter(function(ae){return Object.getOwnPropertyDescriptor(L,ae).enumerable})),U.push.apply(U,J)}return U}function _(L){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{};B%2?y(Object(U),!0).forEach(function(J){g(L,J,U[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(U)):y(Object(U)).forEach(function(J){Object.defineProperty(L,J,Object.getOwnPropertyDescriptor(U,J))})}return L}function b(L,B){return function(J){if(Array.isArray(J))return J}(L)||function(J,ae){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(J)))){var ke=[],Ne=!0,at=!1,Ve=void 0;try{for(var ht,Ft=J[Symbol.iterator]();!(Ne=(ht=Ft.next()).done)&&(ke.push(ht.value),!ae||ke.length!==ae);Ne=!0);}catch(Mt){at=!0,Ve=Mt}finally{try{Ne||Ft.return==null||Ft.return()}finally{if(at)throw Ve}}return ke}}(L,B)||h(L,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(L){return function(U){if(Array.isArray(U))return p(U)}(L)||function(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}(L)||h(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(L,B){if(L){if(typeof L=="string")return p(L,B);var U=Object.prototype.toString.call(L).slice(8,-1);return U==="Object"&&L.constructor&&(U=L.constructor.name),U==="Map"||U==="Set"?Array.from(L):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?p(L,B):void 0}}function p(L,B){(B==null||B>L.length)&&(B=L.length);for(var U=0,J=new Array(B);U<B;U++)J[U]=L[U];return J}var v=function L(B){f(this,L),this.p=new Promise(B)};v.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(v.prototype[Symbol.toStringTag]="TypesonPromise"),v.prototype.then=function(L,B){var U=this;return new v(function(J,ae){U.p.then(function(ke){J(L?L(ke):ke)}).catch(function(ke){return B?B(ke):Promise.reject(ke)}).then(J,ae)})},v.prototype.catch=function(L){return this.then(null,L)},v.resolve=function(L){return new v(function(B){B(L)})},v.reject=function(L){return new v(function(B,U){U(L)})},["all","race"].forEach(function(L){v[L]=function(B){return new v(function(U,J){Promise[L](B.map(function(ae){return ae&&ae.constructor&&ae.constructor.__typeson__type__==="TypesonPromise"?ae.p:ae})).then(U,J)})}});var w={}.toString,x={}.hasOwnProperty,S=Object.getPrototypeOf,E=x.toString;function P(L,B){return D(L)&&typeof L.then=="function"&&(!B||typeof L.catch=="function")}function T(L){return w.call(L).slice(8,-1)}function A(L,B){if(!L||d(L)!=="object")return!1;var U=S(L);if(!U)return B===null;var J=x.call(U,"constructor")&&U.constructor;return typeof J!="function"?B===null:B===J||B!==null&&E.call(J)===E.call(B)||typeof B=="function"&&typeof J.__typeson__type__=="string"&&J.__typeson__type__===B.__typeson__type__}function R(L){return!(!L||T(L)!=="Object")&&(!S(L)||A(L,Object))}function D(L){return L&&d(L)==="object"}function O(L){return L.replace(/~/g,"~0").replace(/\./g,"~1")}function I(L){return L.replace(/~1/g,".").replace(/~0/g,"~")}function M(L,B){if(B==="")return L;var U=B.indexOf(".");if(U>-1){var J=L[I(B.slice(0,U))];return J===void 0?void 0:M(J,B.slice(U+1))}return L[I(B)]}function G(L,B,U){if(B==="")return U;var J=B.indexOf(".");return J>-1?G(L[I(B.slice(0,J))],B.slice(J+1),U):(L[I(B)]=U,L)}function j(L,B,U){return U?B?B(L):L:(L&&L.then||(L=Promise.resolve(L)),B?L.then(B):L)}var $=Object.keys,H=Array.isArray,K={}.hasOwnProperty,re=["type","replaced","iterateIn","iterateUnsetNumeric"];function fe(L){return function(){for(var B=[],U=0;U<arguments.length;U++)B[U]=arguments[U];try{return Promise.resolve(L.apply(this,B))}catch(J){return Promise.reject(J)}}}function ye(L,B){if(L.keypath==="")return-1;var U=L.keypath.match(/\./g)||0,J=B.keypath.match(/\./g)||0;return U&&(U=U.length),J&&(J=J.length),U>J?-1:U<J?1:L.keypath<B.keypath?-1:L.keypath>B.keypath}var he=function(){function L(B){f(this,L),this.options=B,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(U,J,ae){return J&&m(U.prototype,J),ae&&m(U,ae),U}(L,[{key:"stringify",value:function(U,J,ae,ke){ke=_(_(_({},this.options),ke),{},{stringification:!0});var Ne=this.encapsulate(U,null,ke);return H(Ne)?JSON.stringify(Ne[0],J,ae):Ne.then(function(at){return JSON.stringify(at,J,ae)})}},{key:"stringifySync",value:function(U,J,ae,ke){return this.stringify(U,J,ae,_(_({throwOnBadSyncType:!0},ke),{},{sync:!0}))}},{key:"stringifyAsync",value:function(U,J,ae,ke){return this.stringify(U,J,ae,_(_({throwOnBadSyncType:!0},ke),{},{sync:!1}))}},{key:"parse",value:function(U,J,ae){return ae=_(_(_({},this.options),ae),{},{parse:!0}),this.revive(JSON.parse(U,J),ae)}},{key:"parseSync",value:function(U,J,ae){return this.parse(U,J,_(_({throwOnBadSyncType:!0},ae),{},{sync:!0}))}},{key:"parseAsync",value:function(U,J,ae){return this.parse(U,J,_(_({throwOnBadSyncType:!0},ae),{},{sync:!1}))}},{key:"specialTypeNames",value:function(U,J){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae.returnTypeNames=!0,this.encapsulate(U,J,ae)}},{key:"rootTypeName",value:function(U,J){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae.iterateNone=!0,this.encapsulate(U,J,ae)}},{key:"encapsulate",value:function(U,J,ae){var ke=fe(function(ot,$e){return j(Promise.all($e.map(function(W){return W[1].p})),function(W){return j(Promise.all(W.map(fe(function(Q){var se=!1,pe=[],Te=b($e.splice(0,1),1),He=b(Te[0],7),ut=He[0],We=He[2],Ie=He[3],Ge=He[4],Re=He[5],gt=He[6],bt=Ct(ut,Q,We,Ie,pe,!0,gt),ur=A(bt,v);return function(Wt,Kt){var Ei=Wt();return Ei&&Ei.then?Ei.then(Kt):Kt(Ei)}(function(){if(ut&&ur)return j(bt.p,function($t){return Ge[Re]=$t,se=!0,ke(ot,pe)})},function($t){return se?$t:(ut?Ge[Re]=bt:ot=ur?bt.p:bt,ke(ot,pe))})}))),function(){return ot})})}),Ne=(ae=_(_({sync:!0},this.options),ae)).sync,at=this,Ve={},ht=[],Ft=[],Mt=[],jt=!("cyclic"in ae)||ae.cyclic,Ht=ae.encapsulateObserver,Ut=Ct("",U,jt,J||{},Mt);function ar(ot){var $e=Object.values(Ve);if(ae.iterateNone)return $e.length?$e[0]:L.getJSONType(ot);if($e.length){if(ae.returnTypeNames)return u(new Set($e));ot&&R(ot)&&!K.call(ot,"$types")?ot.$types=Ve:ot={$:ot,$types:{$:Ve}}}else D(ot)&&K.call(ot,"$types")&&(ot={$:ot,$types:!0});return!ae.returnTypeNames&&ot}function Jt(ot,$e,W){Object.assign(ot,$e);var Q=re.map(function(se){var pe=ot[se];return delete ot[se],pe});W(),re.forEach(function(se,pe){ot[se]=Q[pe]})}function Ct(ot,$e,W,Q,se,pe,Te){var He,ut={},We=d($e),Ie=Ht?function(gn){var mr=Te||Q.type||L.getJSONType($e);Ht(Object.assign(gn||ut,{keypath:ot,value:$e,cyclic:W,stateObj:Q,promisesData:se,resolvingTypesonPromise:pe,awaitingTypesonPromise:A($e,v)},{type:mr}))}:null;if(["string","boolean","number","undefined"].includes(We))return $e===void 0||Number.isNaN($e)||$e===Number.NEGATIVE_INFINITY||$e===Number.POSITIVE_INFINITY?(He=Q.replaced?$e:Fr(ot,$e,Q,se,!1,pe,Ie))!==$e&&(ut={replaced:He}):He=$e,Ie&&Ie(),He;if($e===null)return Ie&&Ie(),$e;if(W&&!Q.iterateIn&&!Q.iterateUnsetNumeric&&$e&&d($e)==="object"){var Ge=ht.indexOf($e);if(!(Ge<0))return Ve[ot]="#",Ie&&Ie({cyclicKeypath:Ft[Ge]}),"#"+Ft[Ge];W===!0&&(ht.push($e),Ft.push(ot))}var Re,gt=R($e),bt=H($e),ur=(gt||bt)&&(!at.plainObjectReplacers.length||Q.replaced)||Q.iterateIn?$e:Fr(ot,$e,Q,se,gt||bt,null,Ie);if(ur!==$e?(He=ur,ut={replaced:ur}):ot===""&&A($e,v)?(se.push([ot,$e,W,Q,void 0,void 0,Q.type]),He=$e):bt&&Q.iterateIn!=="object"||Q.iterateIn==="array"?(Re=new Array($e.length),ut={clone:Re}):(["function","symbol"].includes(d($e))||"toJSON"in $e||A($e,v)||A($e,Promise)||A($e,ArrayBuffer))&&!gt&&Q.iterateIn!=="object"?He=$e:(Re={},Q.addLength&&(Re.length=$e.length),ut={clone:Re}),Ie&&Ie(),ae.iterateNone)return Re||He;if(!Re)return He;if(Q.iterateIn){var $t=function(mr){var Si={ownKeys:K.call($e,mr)};Jt(Q,Si,function(){var Fn=ot+(ot?".":"")+O(mr),$i=Ct(Fn,$e[mr],!!W,Q,se,pe);A($i,v)?se.push([Fn,$i,!!W,Q,Re,mr,Q.type]):$i!==void 0&&(Re[mr]=$i)})};for(var Wt in $e)$t(Wt);Ie&&Ie({endIterateIn:!0,end:!0})}else $($e).forEach(function(gn){var mr=ot+(ot?".":"")+O(gn);Jt(Q,{ownKeys:!0},function(){var Si=Ct(mr,$e[gn],!!W,Q,se,pe);A(Si,v)?se.push([mr,Si,!!W,Q,Re,gn,Q.type]):Si!==void 0&&(Re[gn]=Si)})}),Ie&&Ie({endIterateOwn:!0,end:!0});if(Q.iterateUnsetNumeric){for(var Kt=$e.length,Ei=function(mr){if(!(mr in $e)){var Si=ot+(ot?".":"")+mr;Jt(Q,{ownKeys:!1},function(){var Fn=Ct(Si,void 0,!!W,Q,se,pe);A(Fn,v)?se.push([Si,Fn,!!W,Q,Re,mr,Q.type]):Fn!==void 0&&(Re[mr]=Fn)})}},ya=0;ya<Kt;ya++)Ei(ya);Ie&&Ie({endIterateUnsetNumeric:!0,end:!0})}return Re}function Fr(ot,$e,W,Q,se,pe,Te){for(var He=se?at.plainObjectReplacers:at.nonplainObjectReplacers,ut=He.length;ut--;){var We=He[ut];if(We.test($e,W)){var Ie=We.type;if(at.revivers[Ie]){var Ge=Ve[ot];Ve[ot]=Ge?[Ie].concat(Ge):Ie}return Object.assign(W,{type:Ie,replaced:!0}),!Ne&&We.replaceAsync||We.replace?(Te&&Te({replacing:!0}),Ct(ot,We[Ne||!We.replaceAsync?"replace":"replaceAsync"]($e,W),jt&&"readonly",W,Q,pe,Ie)):(Te&&Te({typeDetected:!0}),Ct(ot,$e,jt&&"readonly",W,Q,pe,Ie))}}return $e}return Mt.length?Ne&&ae.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(ke(Ut,Mt)).then(ar):!Ne&&ae.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ae.stringification&&Ne?[ar(Ut)]:Ne?ar(Ut):Promise.resolve(ar(Ut))}},{key:"encapsulateSync",value:function(U,J,ae){return this.encapsulate(U,J,_(_({throwOnBadSyncType:!0},ae),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(U,J,ae){return this.encapsulate(U,J,_(_({throwOnBadSyncType:!0},ae),{},{sync:!1}))}},{key:"revive",value:function(U,J){var ae=U&&U.$types;if(!ae)return U;if(ae===!0)return U.$;var ke=(J=_(_({sync:!0},this.options),J)).sync,Ne=[],at={},Ve=!0;ae.$&&R(ae.$)&&(U=U.$,ae=ae.$,Ve=!1);var ht=this;function Ft(ar,Jt){var Ct=b(ht.revivers[ar]||[],1)[0];if(!Ct)throw new Error("Unregistered type: "+ar);return ke&&!("revive"in Ct)?Jt:Ct[ke&&Ct.revive?"revive":!ke&&Ct.reviveAsync?"reviveAsync":"revive"](Jt,at)}var Mt=[];function jt(ar){return A(ar,ue)?void 0:ar}var Ht,Ut=function(){var Jt=[];if(Object.entries(ae).forEach(function(Ct){var Fr=b(Ct,2),ot=Fr[0],$e=Fr[1];$e!=="#"&&[].concat($e).forEach(function(W){b(ht.revivers[W]||[null,{}],2)[1].plain&&(Jt.push({keypath:ot,type:W}),delete ae[ot])})}),Jt.length)return Jt.sort(ye).reduce(function Ct(Fr,ot){var $e=ot.keypath,W=ot.type;if(P(Fr))return Fr.then(function(pe){return Ct(pe,{keypath:$e,type:W})});var Q=M(U,$e);if(A(Q=Ft(W,Q),v))return Q.then(function(pe){var Te=G(U,$e,pe);Te===pe&&(U=Te)});var se=G(U,$e,Q);se===Q&&(U=se)},void 0)}();return A(Ut,v)?Ht=Ut.then(function(){return U}):(Ht=function ar(Jt,Ct,Fr,ot,$e){if(!Ve||Jt!=="$types"){var W=ae[Jt],Q=H(Ct);if(Q||R(Ct)){var se=Q?new Array(Ct.length):{};for($(Ct).forEach(function(Re){var gt=ar(Jt+(Jt?".":"")+O(Re),Ct[Re],Fr||se,se,Re),bt=function($t){return A($t,ue)?se[Re]=void 0:$t!==void 0&&(se[Re]=$t),$t};A(gt,v)?Mt.push(gt.then(function(ur){return bt(ur)})):bt(gt)}),Ct=se;Ne.length;){var pe=b(Ne[0],4),Te=pe[0],He=pe[1],ut=pe[2],We=pe[3],Ie=M(Te,He);if(Ie===void 0)break;ut[We]=Ie,Ne.splice(0,1)}}if(!W)return Ct;if(W==="#"){var Ge=M(Fr,Ct.slice(1));return Ge===void 0&&Ne.push([Fr,Ct.slice(1),ot,$e]),Ge}return[].concat(W).reduce(function Re(gt,bt){return A(gt,v)?gt.then(function(ur){return Re(ur,bt)}):Ft(bt,gt)},Ct)}}("",U,null),Mt.length&&(Ht=v.resolve(Ht).then(function(ar){return v.all([ar].concat(Mt))}).then(function(ar){return b(ar,1)[0]}))),P(Ht)?ke&&J.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():A(Ht,v)?Ht.p.then(jt):Ht:!ke&&J.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ke?jt(Ht):Promise.resolve(jt(Ht))}},{key:"reviveSync",value:function(U,J){return this.revive(U,_(_({throwOnBadSyncType:!0},J),{},{sync:!0}))}},{key:"reviveAsync",value:function(U,J){return this.revive(U,_(_({throwOnBadSyncType:!0},J),{},{sync:!1}))}},{key:"register",value:function(U,J){return J=J||{},[].concat(U).forEach(function ae(ke){var Ne=this;if(H(ke))return ke.map(function(at){return ae.call(Ne,at)});ke&&$(ke).forEach(function(at){if(at==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(L.JSON_TYPES.includes(at))throw new TypeError("Plain JSON object types are reserved as type names");var Ve=ke[at],ht=Ve&&Ve.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,Ft=ht.filter(function(Jt){return Jt.type===at});if(Ft.length&&(ht.splice(ht.indexOf(Ft[0]),1),delete this.revivers[at],delete this.types[at]),typeof Ve=="function"){var Mt=Ve;Ve={test:function(Ct){return Ct&&Ct.constructor===Mt},replace:function(Ct){return _({},Ct)},revive:function(Ct){return Object.assign(Object.create(Mt.prototype),Ct)}}}else if(H(Ve)){var jt=b(Ve,3);Ve={test:jt[0],replace:jt[1],revive:jt[2]}}if(Ve&&Ve.test){var Ht={type:at,test:Ve.test.bind(Ve)};Ve.replace&&(Ht.replace=Ve.replace.bind(Ve)),Ve.replaceAsync&&(Ht.replaceAsync=Ve.replaceAsync.bind(Ve));var Ut=typeof J.fallback=="number"?J.fallback:J.fallback?0:Number.POSITIVE_INFINITY;if(Ve.testPlainObjects?this.plainObjectReplacers.splice(Ut,0,Ht):this.nonplainObjectReplacers.splice(Ut,0,Ht),Ve.revive||Ve.reviveAsync){var ar={};Ve.revive&&(ar.revive=Ve.revive.bind(Ve)),Ve.reviveAsync&&(ar.reviveAsync=Ve.reviveAsync.bind(Ve)),this.revivers[at]=[ar,{plain:Ve.testPlainObjects}]}this.types[at]=Ve}},this)},this),this}}]),L}(),ue=function L(){f(this,L)};ue.__typeson__type__="TypesonUndefined",he.Undefined=ue,he.Promise=v,he.isThenable=P,he.toStringTag=T,he.hasConstructorOf=A,he.isObject=D,he.isPlainObject=R,he.isUserObject=function L(B){if(!B||T(B)!=="Object")return!1;var U=S(B);return!U||A(B,Object)||L(U)},he.escapeKeyPathComponent=O,he.unescapeKeyPathComponent=I,he.getByKeyPath=M,he.getJSONType=function(B){return B===null?"null":Array.isArray(B)?"array":d(B)},he.JSON_TYPES=["null","boolean","number","string","array","object"];for(var Z={userObject:{test:function(B,U){return he.isUserObject(B)},replace:function(B){return function(J){for(var ae=1;ae<arguments.length;ae++){var ke=arguments[ae]!=null?arguments[ae]:{};ae%2?o(Object(ke),!0).forEach(function(Ne){a(J,Ne,ke[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(ke)):o(Object(ke)).forEach(function(Ne){Object.defineProperty(J,Ne,Object.getOwnPropertyDescriptor(ke,Ne))})}return J}({},B)},revive:function(B){return B}}},z=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(B,U){return!!Array.isArray(B)&&(Object.keys(B).some(function(J){return String(Number.parseInt(J))!==J})&&(U.iterateIn="object",U.addLength=!0),!0)},replace:function(B,U){return U.iterateUnsetNumeric=!0,B},revive:function(B){if(Array.isArray(B))return B;var U=[];return Object.keys(B).forEach(function(J){var ae=B[J];U[J]=ae}),U}}},{sparseUndefined:{test:function(B,U){return B===void 0&&U.ownKeys===!1},replace:function(B){return 0},revive:function(B){}}}],V={undef:{test:function(B,U){return B===void 0&&(U.ownKeys||!("ownKeys"in U))},replace:function(B){return 0},revive:function(B){return new he.Undefined}}},Y={StringObject:{test:function(B){return he.toStringTag(B)==="String"&&r(B)==="object"},replace:function(B){return String(B)},revive:function(B){return new String(B)}},BooleanObject:{test:function(B){return he.toStringTag(B)==="Boolean"&&r(B)==="object"},replace:function(B){return!!B},revive:function(B){return new Boolean(B)}},NumberObject:{test:function(B){return he.toStringTag(B)==="Number"&&r(B)==="object"},replace:function(B){return Number(B)},revive:function(B){return new Number(B)}}},ne=[{nan:{test:function(B){return Number.isNaN(B)},replace:function(B){return"NaN"},revive:function(B){return Number.NaN}}},{infinity:{test:function(B){return B===Number.POSITIVE_INFINITY},replace:function(B){return"Infinity"},revive:function(B){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(B){return B===Number.NEGATIVE_INFINITY},replace:function(B){return"-Infinity"},revive:function(B){return Number.NEGATIVE_INFINITY}}}],ie={date:{test:function(B){return he.toStringTag(B)==="Date"},replace:function(B){var U=B.getTime();return Number.isNaN(U)?"NaN":U},revive:function(B){return B==="NaN"?new Date(Number.NaN):new Date(B)}}},me={regexp:{test:function(B){return he.toStringTag(B)==="RegExp"},replace:function(B){return{source:B.source,flags:(B.global?"g":"")+(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.sticky?"y":"")+(B.unicode?"u":"")}},revive:function(B){var U=B.source,J=B.flags;return new RegExp(U,J)}}},xe={map:{test:function(B){return he.toStringTag(B)==="Map"},replace:function(B){return l(B.entries())},revive:function(B){return new Map(B)}}},we={set:{test:function(B){return he.toStringTag(B)==="Set"},replace:function(B){return l(B.values())},revive:function(B){return new Set(B)}}},Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt=new Uint8Array(256),xt=0;xt<Ee.length;xt++)tt[Ee.charCodeAt(xt)]=xt;var _t=function(B,U,J){J==null&&(J=B.byteLength);for(var ae=new Uint8Array(B,U||0,J),ke=ae.length,Ne="",at=0;at<ke;at+=3)Ne+=Ee[ae[at]>>2],Ne+=Ee[(3&ae[at])<<4|ae[at+1]>>4],Ne+=Ee[(15&ae[at+1])<<2|ae[at+2]>>6],Ne+=Ee[63&ae[at+2]];return ke%3==2?Ne=Ne.slice(0,-1)+"=":ke%3==1&&(Ne=Ne.slice(0,-2)+"=="),Ne},Gt=function(B){var U,J,ae,ke,Ne=B.length,at=.75*B.length,Ve=0;B[B.length-1]==="="&&(at--,B[B.length-2]==="="&&at--);for(var ht=new ArrayBuffer(at),Ft=new Uint8Array(ht),Mt=0;Mt<Ne;Mt+=4)U=tt[B.charCodeAt(Mt)],J=tt[B.charCodeAt(Mt+1)],ae=tt[B.charCodeAt(Mt+2)],ke=tt[B.charCodeAt(Mt+3)],Ft[Ve++]=U<<2|J>>4,Ft[Ve++]=(15&J)<<4|ae>>2,Ft[Ve++]=(3&ae)<<6|63&ke;return ht},X={arraybuffer:{test:function(B){return he.toStringTag(B)==="ArrayBuffer"},replace:function(B,U){U.buffers||(U.buffers=[]);var J=U.buffers.indexOf(B);return J>-1?{index:J}:(U.buffers.push(B),_t(B))},revive:function(B,U){if(U.buffers||(U.buffers=[]),r(B)==="object")return U.buffers[B.index];var J=Gt(B);return U.buffers.push(J),J}}},oe=typeof self>"u"?V2:self,le={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(L){var B=L,U=oe[B];U&&(le[L.toLowerCase()]={test:function(ae){return he.toStringTag(ae)===B},replace:function(ae,ke){var Ne=ae.buffer,at=ae.byteOffset,Ve=ae.length;ke.buffers||(ke.buffers=[]);var ht=ke.buffers.indexOf(Ne);return ht>-1?{index:ht,byteOffset:at,length:Ve}:(ke.buffers.push(Ne),{encoded:_t(Ne),byteOffset:at,length:Ve})},revive:function(ae,ke){ke.buffers||(ke.buffers=[]);var Ne,at=ae.byteOffset,Ve=ae.length,ht=ae.encoded,Ft=ae.index;return"index"in ae?Ne=ke.buffers[Ft]:(Ne=Gt(ht),ke.buffers.push(Ne)),new U(Ne,at,Ve)}})});var Ae={dataview:{test:function(B){return he.toStringTag(B)==="DataView"},replace:function(B,U){var J=B.buffer,ae=B.byteOffset,ke=B.byteLength;U.buffers||(U.buffers=[]);var Ne=U.buffers.indexOf(J);return Ne>-1?{index:Ne,byteOffset:ae,byteLength:ke}:(U.buffers.push(J),{encoded:_t(J),byteOffset:ae,byteLength:ke})},revive:function(B,U){U.buffers||(U.buffers=[]);var J,ae=B.byteOffset,ke=B.byteLength,Ne=B.encoded,at=B.index;return"index"in B?J=U.buffers[at]:(J=Gt(Ne),U.buffers.push(J)),new DataView(J,ae,ke)}}},_e={IntlCollator:{test:function(B){return he.hasConstructorOf(B,Intl.Collator)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.Collator(B.locale,B)}},IntlDateTimeFormat:{test:function(B){return he.hasConstructorOf(B,Intl.DateTimeFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.DateTimeFormat(B.locale,B)}},IntlNumberFormat:{test:function(B){return he.hasConstructorOf(B,Intl.NumberFormat)},replace:function(B){return B.resolvedOptions()},revive:function(B){return new Intl.NumberFormat(B.locale,B)}}};function ce(L){for(var B=new Uint8Array(L.length),U=0;U<L.length;U++)B[U]=L.charCodeAt(U);return B.buffer}var be={file:{test:function(B){return he.toStringTag(B)==="File"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad File access: "+U.status);return{type:B.type,stringContents:U.responseText,name:B.name,lastModified:B.lastModified}},revive:function(B){var U=B.name,J=B.type,ae=B.stringContents,ke=B.lastModified;return new File([ce(ae)],U,{type:J,lastModified:ke})},replaceAsync:function(B){return new he.Promise(function(U,J){var ae=new FileReader;ae.addEventListener("load",function(){U({type:B.type,stringContents:ae.result,name:B.name,lastModified:B.lastModified})}),ae.addEventListener("error",function(){J(ae.error)}),ae.readAsBinaryString(B)})}}},Ye={bigint:{test:function(B){return typeof B=="bigint"},replace:function(B){return String(B)},revive:function(B){return BigInt(B)}}},Xe={bigintObject:{test:function(B){return r(B)==="object"&&he.hasConstructorOf(B,BigInt)},replace:function(B){return String(B)},revive:function(B){return new Object(BigInt(B))}}},Pe={cryptokey:{test:function(B){return he.toStringTag(B)==="CryptoKey"&&B.extractable},replaceAsync:function(B){return new he.Promise(function(U,J){crypto.subtle.exportKey("jwk",B).catch(function(ae){J(ae)}).then(function(ae){U({jwk:ae,algorithm:B.algorithm,usages:B.usages})})})},revive:function(B){var U=B.jwk,J=B.algorithm,ae=B.usages;return crypto.subtle.importKey("jwk",U,J,!0,ae)}}};return[Z,V,z,Y,ne,ie,me,{imagedata:{test:function(B){return he.toStringTag(B)==="ImageData"},replace:function(B){return{array:l(B.data),width:B.width,height:B.height}},revive:function(B){return new ImageData(new Uint8ClampedArray(B.array),B.width,B.height)}}},{imagebitmap:{test:function(B){return he.toStringTag(B)==="ImageBitmap"||B&&B.dataset&&B.dataset.toStringTag==="ImageBitmap"},replace:function(B){var U=document.createElement("canvas");return U.getContext("2d").drawImage(B,0,0),U.toDataURL()},revive:function(B){var U=document.createElement("canvas"),J=U.getContext("2d"),ae=document.createElement("img");return ae.addEventListener("load",function(){J.drawImage(ae,0,0)}),ae.src=B,U},reviveAsync:function(B){var U=document.createElement("canvas"),J=U.getContext("2d"),ae=document.createElement("img");return ae.addEventListener("load",function(){J.drawImage(ae,0,0)}),ae.src=B,createImageBitmap(U)}}},be,{file:be.file,filelist:{test:function(B){return he.toStringTag(B)==="FileList"},replace:function(B){for(var U=[],J=0;J<B.length;J++)U[J]=B.item(J);return U},revive:function(B){return new(function(){function U(){n(this,U),this._files=arguments[0],this.length=this._files.length}return function(ae,ke,Ne){return ke&&s(ae.prototype,ke),Ne&&s(ae,Ne),ae}(U,[{key:"item",value:function(ae){return this._files[ae]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),U}())(B)}}},{blob:{test:function(B){return he.toStringTag(B)==="Blob"},replace:function(B){var U=new XMLHttpRequest;if(U.overrideMimeType("text/plain; charset=x-user-defined"),U.open("GET",URL.createObjectURL(B),!1),U.send(),U.status!==200&&U.status!==0)throw new Error("Bad Blob access: "+U.status);return{type:B.type,stringContents:U.responseText}},revive:function(B){var U=B.type,J=B.stringContents;return new Blob([ce(J)],{type:U})},replaceAsync:function(B){return new he.Promise(function(U,J){var ae=new FileReader;ae.addEventListener("load",function(){U({type:B.type,stringContents:ae.result})}),ae.addEventListener("error",function(){J(ae.error)}),ae.readAsBinaryString(B)})}}}].concat(typeof Map=="function"?xe:[],typeof Set=="function"?we:[],typeof ArrayBuffer=="function"?X:[],typeof Uint8Array=="function"?le:[],typeof DataView=="function"?Ae:[],typeof Intl<"u"?_e:[],typeof crypto<"u"?Pe:[],typeof BigInt<"u"?[Ye,Xe]:[])})}),_h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ug=new Uint8Array(256);for(var z0=0;z0<_h.length;z0++)ug[_h.codePointAt(z0)]=z0;var G2=function(e,r,n){n==null&&(n=e.byteLength);for(var s=new Uint8Array(e,r||0,n),a=s.length,o="",l=0;l<a;l+=3)o+=_h[s[l]>>2],o+=_h[(s[l]&3)<<4|s[l+1]>>4],o+=_h[(s[l+1]&15)<<2|s[l+2]>>6],o+=_h[s[l+2]&63];return a%3===2?o=o.slice(0,-1)+"=":a%3===1&&(o=o.slice(0,-2)+"=="),o},KX=function(e){var r=e.length,n=e.length*.75,s=0,a,o,l,c;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);for(var d=new ArrayBuffer(n),f=new Uint8Array(d),m=0;m<r;m+=4)a=ug[e.codePointAt(m)],o=ug[e.codePointAt(m+1)],l=ug[e.codePointAt(m+2)],c=ug[e.codePointAt(m+3)],f[s++]=a<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return d},KCe=typeof self>"u"?global:self,XX={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){var e=t,r=KCe[e];r&&(XX[t.toLowerCase()+"2"]={test:function(n){return XE.toStringTag(n)===e},replace:function(n){var s=n.buffer,a=n.byteOffset,o=n.length;return{buffer:s,byteOffset:a,length:o}},revive:function(n){var s=n.buffer,a=n.byteOffset,o=n.length;return new r(s,a,o)}})});var XCe={arraybuffer:{test:function(t){return XE.toStringTag(t)==="ArrayBuffer"},replace:function(t){return G2(t,0,t.byteLength)},revive:function(t){var e=KX(t);return e}}},Xs=new XE().register(WCe),YCe="FileReaderSync"in self,zw=[],tb=0;Xs.register([XCe,XX,{blob2:{test:function(t){return XE.toStringTag(t)==="Blob"},replace:function(t){if(t.isClosed)throw new Error("The Blob is closed");if(YCe){var e=WX(t,"binary"),r=G2(e,0,e.byteLength);return{type:t.type,data:r}}else{zw.push(t);var n={type:t.type,data:{start:tb,end:tb+t.size}};return tb+=t.size,n}},finalize:function(t,e){t.data=G2(e,0,e.byteLength)},revive:function(t){var e=t.type,r=t.data;return new Blob([KX(r)],{type:e})}}}]);Xs.mustFinalize=function(){return zw.length>0};Xs.finalize=function(t){return uc(void 0,void 0,void 0,function(){var e,r,n,s,a,o,l,c,d,f,m,g;return Na(this,function(y){switch(y.label){case 0:return[4,HX(new Blob(zw),"binary")];case 1:if(e=y.sent(),t){for(r=0,n=t;r<n.length;r++)if(s=n[r],s.$types){a=s.$types,o=a.$,o&&(a=a.$);for(l in a)c=a[l],d=Xs.types[c],d&&d.finalize&&(f=xn.getByKeyPath(s,o?"$."+l:l),d.finalize(f,e.slice((m=f.data)===null||m===void 0?void 0:m.start,(g=f.data)===null||g===void 0?void 0:g.end)))}}return zw=[],tb=0,[2]}})})};var qCe=2e3;function ZCe(t,e){return uc(this,void 0,void 0,function(){function r(){return uc(this,void 0,void 0,function(){var m,g,y,_,b,u,h,p,v,w;return Na(this,function(x){switch(x.label){case 0:return[4,Promise.all(s.map(function(S){return S.count()}))];case 1:m=x.sent(),m.forEach(function(S,E){return o[E].rowCount=S}),f.totalRows=m.reduce(function(S,E){return S+E}),g=JSON.stringify(c,void 0,l?2:void 0),y=g.lastIndexOf("]"),_=g.substring(0,y),a.push(_),b=e.filter,u=e.transform,h=function(S){var E,P,T,A,R,D,O,I,M,G,j,$;return Na(this,function(H){switch(H.label){case 0:E=t.table(S),P=E.schema.primKey,T=!!P.keyPath,A=e.numRowsPerChunk||qCe,R=T?{tableName:E.name,inbound:!0,rows:[]}:{tableName:E.name,inbound:!1,rows:[]},D=JSON.stringify(R,void 0,l?2:void 0),l&&(D=D.split("\n").join("\n    ")),O=D.lastIndexOf("]"),a.push(D.substring(0,O)),I=null,M=0,G=!0,j=function(){var K,re,fe,ye,he,V,ue,Z,z,V;return Na(this,function(Y){switch(Y.label){case 0:return d&&xn.ignoreTransaction(function(){return d(f)}),K=I==null?E.limit(A):E.where(":id").above(I).limit(A),[4,K.toArray()];case 1:return re=Y.sent(),re.length===0?[2,"break"]:(I!=null&&M>0&&(a.push(","),l&&a.push("\n      ")),G=re.length===A,T?(fe=b?re.filter(function(ne){return b(S,ne)}):re,ye=u?fe.map(function(ne){return u(S,ne).value}):fe,he=ye.map(function(ne){return Xs.encapsulate(ne)}),Xs.mustFinalize()?[4,xn.waitFor(Xs.finalize(he))]:[3,3]):[3,4]);case 2:Y.sent(),Y.label=3;case 3:return V=JSON.stringify(he,void 0,l?2:void 0),l&&(V=V.split("\n").join("\n      ")),a.push(new Blob([V.substring(1,V.length-1)])),M=ye.length,I=re.length>0?xn.getByKeyPath(re[re.length-1],P.keyPath):null,[3,8];case 4:return[4,K.primaryKeys()];case 5:return ue=Y.sent(),Z=ue.map(function(ne,ie){return[ne,re[ie]]}),b&&(Z=Z.filter(function(ne){var ie=ne[0],me=ne[1];return b(S,me,ie)})),u&&(Z=Z.map(function(ne){var ie=ne[0],me=ne[1],xe=u(S,me,ie);return[xe.key,xe.value]})),z=Z.map(function(ne){return Xs.encapsulate(ne)}),Xs.mustFinalize()?[4,xn.waitFor(Xs.finalize(z))]:[3,7];case 6:Y.sent(),Y.label=7;case 7:V=JSON.stringify(z,void 0,l?2:void 0),l&&(V=V.split("\n").join("\n      ")),a.push(new Blob([V.substring(1,V.length-1)])),M=Z.length,I=ue.length>0?ue[ue.length-1]:null,Y.label=8;case 8:return f.completedRows+=re.length,[2]}})},H.label=1;case 1:return G?[5,j()]:[3,3];case 2:return $=H.sent(),$==="break"?[3,3]:[3,1];case 3:return a.push(D.substr(O)),f.completedTables+=1,f.completedTables<f.totalTables&&a.push(","),[2]}})},p=0,v=o,x.label=2;case 2:return p<v.length?(w=v[p].name,[5,h(w)]):[3,5];case 3:x.sent(),x.label=4;case 4:return p++,[3,2];case 5:return a.push(g.substr(y)),f.done=!0,d&&xn.ignoreTransaction(function(){return d(f)}),[2]}})})}var n,s,a,o,l,c,d,f;return Na(this,function(m){switch(m.label){case 0:e=e||{},n=e.skipTables?e.skipTables:[],s=t.tables.filter(function(g){return!n.includes(g.name)}),a=[],o=s.map(function(g){return{name:g.name,schema:GCe(g),rowCount:0}}),l=e.prettyJson,c={formatName:"dexie",formatVersion:1,data:{databaseName:t.name,databaseVersion:t.verno,tables:o,data:[]}},d=e.progressCallback,f={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:o.length},m.label=1;case 1:return m.trys.push([1,,6,7]),e.noTransaction?[4,r()]:[3,3];case 2:return m.sent(),[3,5];case 3:return[4,t.transaction("r",t.tables,r)];case 4:m.sent(),m.label=5;case 5:return[3,7];case 6:return Xs.finalize(),[7];case 7:return[2,new Blob(a,{type:"text/json"})]}})})}var JCe=1,QCe={Stream:function(){}},eAe=iF(function(t,e){(function(r){var n=typeof process=="object"&&process.env?process.env:self;r.parser=function(T){return new y(T)},r.CParser=y,r.CStream=b,r.createStream=_,r.MAX_BUFFER_LENGTH=10*1024*1024,r.DEBUG=n.CDEBUG==="debug",r.INFO=n.CDEBUG==="debug"||n.CDEBUG==="info",r.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var s={textNode:void 0,numberNode:""},a=r.EVENTS.filter(function(T){return T!=="error"&&T!=="end"}),o=0,l;r.STATE={BEGIN:o++,VALUE:o++,OPEN_OBJECT:o++,CLOSE_OBJECT:o++,OPEN_ARRAY:o++,CLOSE_ARRAY:o++,TEXT_ESCAPE:o++,STRING:o++,BACKSLASH:o++,END:o++,OPEN_KEY:o++,CLOSE_KEY:o++,TRUE:o++,TRUE2:o++,TRUE3:o++,FALSE:o++,FALSE2:o++,FALSE3:o++,FALSE4:o++,NULL:o++,NULL2:o++,NULL3:o++,NUMBER_DECIMAL_POINT:o++,NUMBER_DIGIT:o++};for(var c in r.STATE)r.STATE[r.STATE[c]]=c;o=r.STATE;const d={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(T){function A(){this.__proto__=T}return A.prototype=T,new A}),Object.getPrototypeOf||(Object.getPrototypeOf=function(T){return T.__proto__}),Object.keys||(Object.keys=function(T){var A=[];for(var R in T)T.hasOwnProperty(R)&&A.push(R);return A});function f(T){var A=Math.max(r.MAX_BUFFER_LENGTH,10),R=0;for(var D in s){var O=T[D]===void 0?0:T[D].length;if(O>A)switch(D){case"text":closeText(T);break;default:x(T,"Max buffer length exceeded: "+D)}R=Math.max(R,O)}T.bufferCheckPosition=r.MAX_BUFFER_LENGTH-R+T.position}function m(T){for(var A in s)T[A]=s[A]}var g=/[\\"\n]/g;function y(T){if(!(this instanceof y))return new y(T);var A=this;m(A),A.bufferCheckPosition=r.MAX_BUFFER_LENGTH,A.q=A.c=A.p="",A.opt=T||{},A.closed=A.closedRoot=A.sawRoot=!1,A.tag=A.error=null,A.state=o.BEGIN,A.stack=new Array,A.position=A.column=0,A.line=1,A.slashed=!1,A.unicodeI=0,A.unicodeS=null,A.depth=0,u(A,"onready")}y.prototype={end:function(){S(this)},write:P,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{l=QCe.Stream}catch(T){l=function(){}}function _(T){return new b(T)}function b(T){if(!(this instanceof b))return new b(T);this._parser=new y(T),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var A=this;l.apply(A),this._parser.onend=function(){A.emit("end")},this._parser.onerror=function(R){A.emit("error",R),A._parser.error=null},a.forEach(function(R){Object.defineProperty(A,"on"+R,{get:function(){return A._parser["on"+R]},set:function(D){if(!D)return A.removeAllListeners(R),A._parser["on"+R]=D,D;A.on(R,D)},enumerable:!0,configurable:!1})})}b.prototype=Object.create(l.prototype,{constructor:{value:b}}),b.prototype.write=function(T){T=new Buffer(T);for(var A=0;A<T.length;A++){var R=T[A];if(this.bytes_remaining>0){for(var D=0;D<this.bytes_remaining;D++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+D]=T[D];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,A=A+D-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&R>=128)if(R>=194&&R<=223&&(this.bytes_in_sequence=2),R>=224&&R<=239&&(this.bytes_in_sequence=3),R>=240&&R<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+A>T.length){for(var O=0;O<=T.length-1-A;O++)this.temp_buffs[this.bytes_in_sequence][O]=T[A+O];return this.bytes_remaining=A+this.bytes_in_sequence-T.length,!0}else{this.string=T.slice(A,A+this.bytes_in_sequence).toString(),A=A+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var I=A;I<T.length&&!(T[I]>=128);I++);this.string=T.slice(A,I).toString(),this._parser.write(this.string),this.emit("data",this.string),A=I-1}},b.prototype.end=function(T){return T&&T.length&&this._parser.write(T.toString()),this._parser.end(),!0},b.prototype.on=function(T,A){var R=this;return!R._parser["on"+T]&&a.indexOf(T)!==-1&&(R._parser["on"+T]=function(){var D=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);D.splice(0,0,T),R.emit.apply(R,D)}),l.prototype.on.call(R,T,A)},b.prototype.destroy=function(){m(this._parser),this.emit("close")};function u(T,A,R){r.INFO&&console.log("-- emit",A,R),T[A]&&T[A](R)}function h(T,A,R){p(T),u(T,A,R)}function p(T,A){T.textNode=w(T.opt,T.textNode),T.textNode!==void 0&&u(T,A||"onvalue",T.textNode),T.textNode=void 0}function v(T){T.numberNode&&u(T,"onvalue",parseFloat(T.numberNode)),T.numberNode=""}function w(T,A){return A===void 0||(T.trim&&(A=A.trim()),T.normalize&&(A=A.replace(/\s+/g," "))),A}function x(T,A){return p(T),A+="\nLine: "+T.line+"\nColumn: "+T.column+"\nChar: "+T.c,A=new Error(A),T.error=A,u(T,"onerror",A),T}function S(T){return(T.state!==o.VALUE||T.depth!==0)&&x(T,"Unexpected end"),p(T),T.c="",T.closed=!0,u(T,"onend"),y.call(T,T.opt),T}function E(T){return T===d.carriageReturn||T===d.lineFeed||T===d.space||T===d.tab}function P(T){var A=this;if(this.error)throw this.error;if(A.closed)return x(A,"Cannot write after close. Assign an onready handler.");if(T===null)return S(A);var R=0,D=T.charCodeAt(0),O=A.p;for(r.DEBUG&&console.log("write -> ["+T+"]");D&&(O=D,A.c=D=T.charCodeAt(R++),O!==D?A.p=O:O=A.p,!!D);)switch(r.DEBUG&&console.log(R,D,r.STATE[A.state]),A.position++,D===d.lineFeed?(A.line++,A.column=0):A.column++,A.state){case o.BEGIN:D===d.openBrace?A.state=o.OPEN_OBJECT:D===d.openBracket?A.state=o.OPEN_ARRAY:E(D)||x(A,"Non-whitespace before {[.");continue;case o.OPEN_KEY:case o.OPEN_OBJECT:if(E(D))continue;if(A.state===o.OPEN_KEY)A.stack.push(o.CLOSE_KEY);else if(D===d.closeBrace){u(A,"onopenobject"),this.depth++,u(A,"oncloseobject"),this.depth--,A.state=A.stack.pop()||o.VALUE;continue}else A.stack.push(o.CLOSE_OBJECT);D===d.doubleQuote?A.state=o.STRING:x(A,'Malformed object key should start with "');continue;case o.CLOSE_KEY:case o.CLOSE_OBJECT:if(E(D))continue;A.state,o.CLOSE_KEY,D===d.colon?(A.state===o.CLOSE_OBJECT?(A.stack.push(o.CLOSE_OBJECT),p(A,"onopenobject"),this.depth++):p(A,"onkey"),A.state=o.VALUE):D===d.closeBrace?(h(A,"oncloseobject"),this.depth--,A.state=A.stack.pop()||o.VALUE):D===d.comma?(A.state===o.CLOSE_OBJECT&&A.stack.push(o.CLOSE_OBJECT),p(A),A.state=o.OPEN_KEY):x(A,"Bad object");continue;case o.OPEN_ARRAY:case o.VALUE:if(E(D))continue;if(A.state===o.OPEN_ARRAY)if(u(A,"onopenarray"),this.depth++,A.state=o.VALUE,D===d.closeBracket){u(A,"onclosearray"),this.depth--,A.state=A.stack.pop()||o.VALUE;continue}else A.stack.push(o.CLOSE_ARRAY);D===d.doubleQuote?A.state=o.STRING:D===d.openBrace?A.state=o.OPEN_OBJECT:D===d.openBracket?A.state=o.OPEN_ARRAY:D===d.t?A.state=o.TRUE:D===d.f?A.state=o.FALSE:D===d.n?A.state=o.NULL:D===d.minus?A.numberNode+="-":d._0<=D&&D<=d._9?(A.numberNode+=String.fromCharCode(D),A.state=o.NUMBER_DIGIT):x(A,"Bad value");continue;case o.CLOSE_ARRAY:if(D===d.comma)A.stack.push(o.CLOSE_ARRAY),p(A,"onvalue"),A.state=o.VALUE;else if(D===d.closeBracket)h(A,"onclosearray"),this.depth--,A.state=A.stack.pop()||o.VALUE;else{if(E(D))continue;x(A,"Bad array")}continue;case o.STRING:A.textNode===void 0&&(A.textNode="");var I=R-1,M=A.slashed,G=A.unicodeI;e:for(;;){for(r.DEBUG&&console.log(R,D,r.STATE[A.state],M);G>0;)if(A.unicodeS+=String.fromCharCode(D),D=T.charCodeAt(R++),A.position++,G===4?(A.textNode+=String.fromCharCode(parseInt(A.unicodeS,16)),G=0,I=R-1):G++,!D)break e;if(D===d.doubleQuote&&!M){A.state=A.stack.pop()||o.VALUE,A.textNode+=T.substring(I,R-1),A.position+=R-1-I;break}if(D===d.backslash&&!M&&(M=!0,A.textNode+=T.substring(I,R-1),A.position+=R-1-I,D=T.charCodeAt(R++),A.position++,!D))break;if(M){if(M=!1,D===d.n?A.textNode+="\n":D===d.r?A.textNode+="\r":D===d.t?A.textNode+="	":D===d.f?A.textNode+="\f":D===d.b?A.textNode+="\b":D===d.u?(G=1,A.unicodeS=""):A.textNode+=String.fromCharCode(D),D=T.charCodeAt(R++),A.position++,I=R-1,D)continue;break}g.lastIndex=R;var j=g.exec(T);if(j===null){R=T.length+1,A.textNode+=T.substring(I,R-1),A.position+=R-1-I;break}if(R=j.index+1,D=T.charCodeAt(j.index),!D){A.textNode+=T.substring(I,R-1),A.position+=R-1-I;break}}A.slashed=M,A.unicodeI=G;continue;case o.TRUE:D===d.r?A.state=o.TRUE2:x(A,"Invalid true started with t"+D);continue;case o.TRUE2:D===d.u?A.state=o.TRUE3:x(A,"Invalid true started with tr"+D);continue;case o.TRUE3:D===d.e?(u(A,"onvalue",!0),A.state=A.stack.pop()||o.VALUE):x(A,"Invalid true started with tru"+D);continue;case o.FALSE:D===d.a?A.state=o.FALSE2:x(A,"Invalid false started with f"+D);continue;case o.FALSE2:D===d.l?A.state=o.FALSE3:x(A,"Invalid false started with fa"+D);continue;case o.FALSE3:D===d.s?A.state=o.FALSE4:x(A,"Invalid false started with fal"+D);continue;case o.FALSE4:D===d.e?(u(A,"onvalue",!1),A.state=A.stack.pop()||o.VALUE):x(A,"Invalid false started with fals"+D);continue;case o.NULL:D===d.u?A.state=o.NULL2:x(A,"Invalid null started with n"+D);continue;case o.NULL2:D===d.l?A.state=o.NULL3:x(A,"Invalid null started with nu"+D);continue;case o.NULL3:D===d.l?(u(A,"onvalue",null),A.state=A.stack.pop()||o.VALUE):x(A,"Invalid null started with nul"+D);continue;case o.NUMBER_DECIMAL_POINT:D===d.period?(A.numberNode+=".",A.state=o.NUMBER_DIGIT):x(A,"Leading zero not followed by .");continue;case o.NUMBER_DIGIT:d._0<=D&&D<=d._9?A.numberNode+=String.fromCharCode(D):D===d.period?(A.numberNode.indexOf(".")!==-1&&x(A,"Invalid number has two dots"),A.numberNode+="."):D===d.e||D===d.E?((A.numberNode.indexOf("e")!==-1||A.numberNode.indexOf("E")!==-1)&&x(A,"Invalid number has two exponential"),A.numberNode+="e"):D===d.plus||D===d.minus?(O===d.e||O===d.E||x(A,"Invalid symbol in number"),A.numberNode+=String.fromCharCode(D)):(v(A),R--,A.state=A.stack.pop()||o.VALUE);continue;default:x(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&f(A),A}})(e)});function tAe(t){var e=0,r=rAe(!0),n={pullAsync:function(s){return uc(this,void 0,void 0,function(){var a,o,l;return Na(this,function(c){switch(c.label){case 0:return a=t.slice(e,e+s),e+=s,[4,HX(a,"text")];case 1:return o=c.sent(),l=r.write(o),n.result=l||{},[2,l]}})})},pullSync:function(s){var a=t.slice(e,e+s);e+=s;var o=WX(a,"text"),l=r.write(o);return n.result=l||{},l},done:function(){return r.done()},eof:function(){return e>=t.size},result:{}};return n}function rAe(t){var e=eAe.parser(),r=0,n,s=[],a,o,l=!1,c=!1;return e.onopenobject=function(d){var f={};f.incomplete=!0,n||(n=f),a&&(s.push([o,a,c]),t&&(c?a.push(f):a[o]=f)),a=f,o=d,c=!1,++r},e.onkey=function(d){return o=d},e.onvalue=function(d){return c?a.push(d):a[o]=d},e.oncloseobject=function(){var d;if(delete a.incomplete,o=null,--r===0)l=!0;else{var f=a;d=s.pop(),o=d[0],a=d[1],c=d[2],t||(c?a.push(f):a[o]=f)}},e.onopenarray=function(){var d=[];d.incomplete=!0,n||(n=d),a&&(s.push([o,a,c]),t&&(c?a.push(d):a[o]=d)),a=d,c=!0,o=null,++r},e.onclosearray=function(){var d;if(delete a.incomplete,o=null,--r===0)l=!0;else{var f=a;d=s.pop(),o=d[0],a=d[1],c=d[2],t||(c?a.push(f):a[o]=f)}},{write:function(d){return e.write(d),n},done:function(){return l}}}var YX=1024;function nAe(t,e){return uc(this,void 0,void 0,function(){var r,n,s,a;return Na(this,function(o){switch(o.label){case 0:return e=e||{},r=e.chunkSizeBytes||YX*1024,[4,ZX(t,r)];case 1:return n=o.sent(),s=n.result.data,a=new xn(e.name!==void 0?e.name:s.databaseName),a.version(s.databaseVersion).stores(HCe(s)),[4,qX(a,n,e.name!==void 0?jw(jw({},e),{acceptNameDiff:!0}):e)];case 2:return o.sent(),[2,a]}})})}function qX(t,e,r){return uc(this,void 0,void 0,function(){function n(){return uc(this,void 0,void 0,function(){var b,u,h,p,v;return Na(this,function(w){switch(w.label){case 0:b=function(x){var S,E,P,T,A,R,D,O,I,M,G,j,$;return Na(this,function(H){switch(H.label){case 0:if(d.includes(x.tableName))return[2,"continue"];if(!x.rows)return[2,"break"];if(!x.rows.incomplete&&x.rows.length===0)return[2,"continue"];if(f&&xn.ignoreTransaction(function(){return f(m)}),S=x.tableName,E=t.table(S),P=c.tables.filter(function(K){return K.name===S})[0].schema,!E){if(r.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(x.tableName," is missing in installed database"))}if(!r.acceptChangedPrimaryKey&&P.split(",")[0]!=E.schema.primKey.src)throw new Error("Primary key differs for table ".concat(x.tableName,". "));for(T=x.rows,A=[],R=0;R<T.length&&(D=T[R],!D.incomplete);R++)A.push(Xs.revive(D));return O=r.filter,I=r.transform,M=O?x.inbound?A.filter(function(K){return O(S,K)}):A.filter(function(K){var re=K[0],fe=K[1];return O(S,fe,re)}):A,I&&(M=M.map(x.inbound?function(K){return I(S,K).value}:function(K){var re=K[0],fe=K[1],ye=I(S,fe,re);return[ye.key,ye.value]})),G=x.inbound?[void 0,M]:[M.map(function(K){return K[0]}),A.map(function(K){return K[1]})],j=G[0],$=G[1],r.overwriteValues?[4,E.bulkPut($,j)]:[3,2];case 1:return H.sent(),[3,4];case 2:return[4,E.bulkAdd($,j)];case 3:H.sent(),H.label=4;case 4:return m.completedRows+=A.length,A.incomplete||(m.completedTables+=1),T.splice(0,A.length),[2]}})},u=0,h=c.data,w.label=1;case 1:return u<h.length?(p=h[u],[5,b(p)]):[3,4];case 2:if(v=w.sent(),v==="break")return[3,4];w.label=3;case 3:return u++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!a.done()&&!a.eof()?l?(a.pullSync(s),[3,7]):[3,5]:[3,8];case 5:return[4,xn.waitFor(a.pullAsync(s))];case 6:w.sent(),w.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var s,a,o,l,c,d,f,m,g,y,_;return Na(this,function(b){switch(b.label){case 0:return r=r||{},s=r.chunkSizeBytes||YX*1024,[4,ZX(e,s)];case 1:if(a=b.sent(),o=a.result,l="FileReaderSync"in self,c=o.data,d=r.skipTables?r.skipTables:[],!r.acceptNameDiff&&t.name!==c.databaseName)throw new Error("Name differs. Current database name is ".concat(t.name," but export is ").concat(c.databaseName));if(!r.acceptVersionDiff&&t.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(t.verno," but export is ").concat(c.databaseVersion));if(f=r.progressCallback,m={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(u,h){return u+h.rowCount},0),totalTables:c.tables.length},f&&xn.ignoreTransaction(function(){return f(m)}),!r.clearTablesBeforeImport)return[3,5];g=0,y=t.tables,b.label=2;case 2:return g<y.length?(_=y[g],d.includes(_.name)?[3,4]:[4,_.clear()]):[3,5];case 3:b.sent(),b.label=4;case 4:return g++,[3,2];case 5:return r.noTransaction?[4,n()]:[3,7];case 6:return b.sent(),[3,9];case 7:return[4,t.transaction("rw",t.tables,n)];case 8:b.sent(),b.label=9;case 9:return m.done=!0,f&&xn.ignoreTransaction(function(){return f(m)}),[2]}})})}function ZX(t,e){return uc(this,void 0,void 0,function(){var r,n;return Na(this,function(s){switch(s.label){case 0:r="slice"in t?tAe(t):t,s.label=1;case 1:return r.eof()?[3,3]:[4,r.pullAsync(e)];case 2:return s.sent(),r.result.data&&r.result.data.data?[3,3]:[3,1];case 3:if(n=r.result,!n||n.formatName!="dexie")throw new Error("Given file is not a dexie export");if(n.formatVersion>JCe)throw new Error("Format version ".concat(n.formatVersion," not supported"));if(!n.data)throw new Error("No data in export file");if(!n.data.databaseName)throw new Error("Missing databaseName in export file");if(!n.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!n.data.tables)throw new Error("Missing tables in export file");return[2,r]}})})}xn.prototype.export=function(t){return ZCe(this,t)};xn.prototype.import=function(t,e){return qX(this,t,e)};xn.import=function(t,e){return nAe(t,e)};function iAe(t,e,r){var n,s;typeof t=="function"?(n=e||[],s=r):(n=[],s=e);var a=q.useRef({hasResult:!1,result:s,error:null}),o=q.useReducer(function(d){return d+1},0);o[0];var l=o[1],c=q.useMemo(function(){var d=typeof t=="function"?t():t;if(!d||typeof d.subscribe!="function")throw t===d?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!a.current.hasResult&&typeof window<"u"&&(typeof d.hasValue!="function"||d.hasValue()))if(typeof d.getValue=="function")a.current.result=d.getValue(),a.current.hasResult=!0;else{var f=d.subscribe(function(m){a.current.result=m,a.current.hasResult=!0});typeof f=="function"?f():f.unsubscribe()}return d},n);if(q.useDebugValue(a.current.result),q.useEffect(function(){var d=c.subscribe(function(f){var m=a.current;(m.error!==null||m.result!==f)&&(m.error=null,m.result=f,m.hasResult=!0,l())},function(f){var m=a.current;m.error!==f&&(m.error=f,l())});return typeof d=="function"?d:d.unsubscribe.bind(d)},n),a.current.error)throw a.current.error;return a.current.result}function eJe(t,e,r){return iAe(function(){return GX(t)},e||[],r)}var c_="Menubar",[H2,sAe,aAe]=zp(c_),[JX,tJe]=Qn(c_,[aAe,$o]),Li=NB(),QX=$o(),[oAe,sF]=JX(c_),eY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,value:n,onValueChange:s,defaultValue:a,loop:o=!0,dir:l,...c}=t,d=zl(l),f=QX(r),[m,g]=wi({prop:n,onChange:s,defaultProp:a!=null?a:"",caller:c_}),[y,_]=C.useState(null);return k.jsx(oAe,{scope:r,value:m,onMenuOpen:C.useCallback(b=>{g(b),_(b)},[g]),onMenuClose:C.useCallback(()=>g(""),[g]),onMenuToggle:C.useCallback(b=>{g(u=>u?"":b),_(b)},[g]),dir:d,loop:o,children:k.jsx(H2.Provider,{scope:r,children:k.jsx(H2.Slot,{scope:r,children:k.jsx(n_,{asChild:!0,...f,orientation:"horizontal",loop:o,dir:d,currentTabStopId:y,onCurrentTabStopIdChange:_,children:k.jsx(rt.div,{role:"menubar",...c,ref:e})})})})})});eY.displayName=c_;var aF="MenubarMenu",[lAe,tY]=JX(aF),rY=t=>{const{__scopeMenubar:e,value:r,...n}=t,s=ai(),a=r||s||"LEGACY_REACT_AUTO_VALUE",o=sF(aF,e),l=Li(e),c=C.useRef(null),d=C.useRef(!1),f=o.value===a;return C.useEffect(()=>{f||(d.current=!1)},[f]),k.jsx(lAe,{scope:e,value:a,triggerId:ai(),triggerRef:c,contentId:ai(),wasKeyboardTriggerOpenRef:d,children:k.jsx(NK,{...l,open:f,onOpenChange:m=>{m||o.onMenuClose()},modal:!1,dir:o.dir,...n})})};rY.displayName=aF;var W2="MenubarTrigger",nY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,disabled:n=!1,...s}=t,a=QX(r),o=Li(r),l=sF(W2,r),c=tY(W2,r),d=C.useRef(null),f=Et(e,d,c.triggerRef),[m,g]=C.useState(!1),y=l.value===c.value;return k.jsx(H2.ItemSlot,{scope:r,value:c.value,disabled:n,children:k.jsx(Hp,{asChild:!0,...a,focusable:!n,tabStopId:c.value,children:k.jsx(LK,{asChild:!0,...o,children:k.jsx(rt.button,{type:"button",role:"menuitem",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":y,"aria-controls":y?c.contentId:void 0,"data-highlighted":m?"":void 0,"data-state":y?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:f,onPointerDown:Ce(t.onPointerDown,_=>{!n&&_.button===0&&_.ctrlKey===!1&&(l.onMenuOpen(c.value),y||_.preventDefault())}),onPointerEnter:Ce(t.onPointerEnter,()=>{var b;!!l.value&&!y&&(l.onMenuOpen(c.value),(b=d.current)==null||b.focus())}),onKeyDown:Ce(t.onKeyDown,_=>{n||(["Enter"," "].includes(_.key)&&l.onMenuToggle(c.value),_.key==="ArrowDown"&&l.onMenuOpen(c.value),["Enter"," ","ArrowDown"].includes(_.key)&&(c.wasKeyboardTriggerOpenRef.current=!0,_.preventDefault()))}),onFocus:Ce(t.onFocus,()=>g(!0)),onBlur:Ce(t.onBlur,()=>g(!1))})})})})});nY.displayName=W2;var uAe="MenubarPortal",iY=t=>{const{__scopeMenubar:e,...r}=t,n=Li(e);return k.jsx(UK,{...n,...r})};iY.displayName=uAe;var K2="MenubarContent",sY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,align:n="start",...s}=t,a=Li(r),o=sF(K2,r),l=tY(K2,r),c=sAe(r),d=C.useRef(!1);return k.jsx($K,{id:l.contentId,"aria-labelledby":l.triggerId,"data-radix-menubar-content":"",...a,...s,ref:e,align:n,onCloseAutoFocus:Ce(t.onCloseAutoFocus,f=>{var g;!!!o.value&&!d.current&&((g=l.triggerRef.current)==null||g.focus()),d.current=!1,f.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,f=>{const m=f.target;c().some(y=>{var _;return(_=y.ref.current)==null?void 0:_.contains(m)})&&f.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,()=>{d.current=!0}),onEntryFocus:f=>{l.wasKeyboardTriggerOpenRef.current||f.preventDefault()},onKeyDown:Ce(t.onKeyDown,f=>{if(["ArrowRight","ArrowLeft"].includes(f.key)){const m=f.target,g=m.hasAttribute("data-radix-menubar-subtrigger"),y=m.closest("[data-radix-menubar-content]")!==f.currentTarget,b=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===f.key;if(!b&&g||y&&b)return;let p=c().filter(x=>!x.disabled).map(x=>x.value);b&&p.reverse();const v=p.indexOf(l.value);p=o.loop?SAe(p,v+1):p.slice(v+1);const[w]=p;w&&o.onMenuOpen(w)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});sY.displayName=K2;var cAe="MenubarGroup",dAe=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(jK,{...s,...n,ref:e})});dAe.displayName=cAe;var fAe="MenubarLabel",aY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(zK,{...s,...n,ref:e})});aY.displayName=fAe;var hAe="MenubarItem",oY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(VK,{...s,...n,ref:e})});oY.displayName=hAe;var pAe="MenubarCheckboxItem",lY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(GK,{...s,...n,ref:e})});lY.displayName=pAe;var mAe="MenubarRadioGroup",gAe=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(HK,{...s,...n,ref:e})});gAe.displayName=mAe;var vAe="MenubarRadioItem",uY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(WK,{...s,...n,ref:e})});uY.displayName=vAe;var yAe="MenubarItemIndicator",cY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(KK,{...s,...n,ref:e})});cY.displayName=yAe;var _Ae="MenubarSeparator",dY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(XK,{...s,...n,ref:e})});dY.displayName=_Ae;var bAe="MenubarArrow",wAe=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(YK,{...s,...n,ref:e})});wAe.displayName=bAe;var xAe="MenubarSubTrigger",fY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(qK,{"data-radix-menubar-subtrigger":"",...s,...n,ref:e})});fY.displayName=xAe;var EAe="MenubarSubContent",hY=C.forwardRef((t,e)=>{const{__scopeMenubar:r,...n}=t,s=Li(r);return k.jsx(ZK,{...s,"data-radix-menubar-content":"",...n,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});hY.displayName=EAe;function SAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rJe=eY,nJe=rY,iJe=nY,sJe=iY,aJe=sY,oJe=aY,lJe=oY,uJe=lY,cJe=uY,dJe=cY,fJe=dY,hJe=fY,pJe=hY,d_=t=>t.type==="checkbox",cd=t=>t instanceof Date,Wi=t=>t==null;const pY=t=>typeof t=="object";var Cn=t=>!Wi(t)&&!Array.isArray(t)&&pY(t)&&!cd(t),mY=t=>Cn(t)&&t.target?d_(t.target)?t.target.checked:t.target.value:t,CAe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,gY=(t,e)=>t.has(CAe(e)),AAe=t=>{const e=t.constructor&&t.constructor.prototype;return Cn(e)&&e.hasOwnProperty("isPrototypeOf")},oF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(oF&&(t instanceof Blob||n))&&(r||Cn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!AAe(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Dr(t[s]));else return t;return e}var YE=t=>/^\w*$/.test(t),Sr=t=>t===void 0,qE=t=>Array.isArray(t)?t.filter(Boolean):[],lF=t=>qE(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,r)=>{if(!e||!Cn(t))return r;const n=(YE(e)?[e]:lF(e)).reduce((s,a)=>Wi(s)?s:s[a],t);return Sr(n)||n===t?Sr(t[e])?r:t[e]:n},ys=t=>typeof t=="boolean",cr=(t,e,r)=>{let n=-1;const s=YE(e)?[e]:lF(e),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const d=t[l];c=Cn(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Vw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ea={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uF=q.createContext(null);uF.displayName="HookFormContext";const ZE=()=>q.useContext(uF),mJe=t=>{const{children:e,...r}=t;return q.createElement(uF.Provider,{value:r},e)};var vY=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==ea.all&&(e._proxyFormState[o]=!n||ea.all),r&&(r[o]=!0),t[o]}});return s};const JE=typeof window<"u"?q.useLayoutEffect:q.useEffect;function TAe(t){const e=ZE(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[o,l]=q.useState(r._formState),c=q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return JE(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:d=>{!n&&l({...r._formState,...d})}}),[s,n,a]),q.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),q.useMemo(()=>vY(o,r,c.current,!1),[o,r])}var ws=t=>typeof t=="string",X2=(t,e,r,n,s)=>ws(t)?(n&&e.watch.add(t),je(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),je(r,a))):(n&&(e.watchAll=!0),r),Y2=t=>Wi(t)||!pY(t);function Ia(t,e,r=new WeakSet){if(Y2(t)||Y2(e))return Object.is(t,e);if(cd(t)&&cd(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const o=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=e[a];if(cd(o)&&cd(l)||Cn(o)&&Cn(l)||Array.isArray(o)&&Array.isArray(l)?!Ia(o,l,r):!Object.is(o,l))return!1}}return!0}function PAe(t){const e=ZE(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:o,compute:l}=t||{},c=q.useRef(s),d=q.useRef(l),f=q.useRef(void 0),m=q.useRef(r),g=q.useRef(n);d.current=l;const[y,_]=q.useState(()=>{const w=r._getWatch(n,c.current);return d.current?d.current(w):w}),b=q.useCallback(w=>{const x=X2(n,r._names,w||r._formValues,!1,c.current);return d.current?d.current(x):x},[r._formValues,r._names,n]),u=q.useCallback(w=>{if(!a){const x=X2(n,r._names,w||r._formValues,!1,c.current);if(d.current){const S=d.current(x);Ia(S,f.current)||(_(S),f.current=S)}else _(x)}},[r._formValues,r._names,a,n]);JE(()=>((m.current!==r||!Ia(g.current,n))&&(m.current=r,g.current=n,u()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{u(w.values)}})),[r,o,n,u]),q.useEffect(()=>r._removeUnmounted());const h=m.current!==r,p=g.current,v=q.useMemo(()=>{if(a)return null;const w=!h&&!Ia(p,n);return h||w?b():null},[a,h,n,p,b]);return v!==null?v:y}function DAe(t){const e=ZE(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=t,c=gY(s._names.array,r),d=q.useMemo(()=>je(s._formValues,r,je(s._defaultValues,r,o)),[s,r,o]),f=PAe({control:s,name:r,defaultValue:d,exact:l}),m=TAe({control:s,name:r,exact:l}),g=q.useRef(t),y=q.useRef(void 0),_=q.useRef(s.register(r,{...t.rules,value:f,...ys(t.disabled)?{disabled:t.disabled}:{}}));g.current=t;const b=q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!je(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!je(m.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!je(m.validatingFields,r)},error:{enumerable:!0,get:()=>je(m.errors,r)}}),[m,r]),u=q.useCallback(w=>_.current.onChange({target:{value:mY(w),name:r},type:Vw.CHANGE}),[r]),h=q.useCallback(()=>_.current.onBlur({target:{value:je(s._formValues,r),name:r},type:Vw.BLUR}),[r,s._formValues]),p=q.useCallback(w=>{const x=je(s._fields,r);x&&w&&(x._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[s._fields,r]),v=q.useMemo(()=>({name:r,value:f,...ys(n)||m.disabled?{disabled:m.disabled||n}:{},onChange:u,onBlur:h,ref:p}),[r,n,m.disabled,u,h,p,f]);return q.useEffect(()=>{const w=s._options.shouldUnregister||a,x=y.current;x&&x!==r&&!c&&s.unregister(x),s.register(r,{...g.current.rules,...ys(g.current.disabled)?{disabled:g.current.disabled}:{}});const S=(E,P)=>{const T=je(s._fields,E);T&&T._f&&(T._f.mount=P)};if(S(r,!0),w){const E=Dr(je(s._options.defaultValues,r,g.current.defaultValue));cr(s._defaultValues,r,E),Sr(je(s._formValues,r))&&cr(s._formValues,r,E)}return!c&&s.register(r),y.current=r,()=>{(c?w&&!s._state.action:w)?s.unregister(r):S(r,!1)}},[r,s,c,a]),q.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),q.useMemo(()=>({field:v,formState:m,fieldState:b}),[v,m,b])}const gJe=t=>t.render(DAe(t));var yY=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Zi=t=>Array.isArray(t)?t:[t],V$=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function _Y(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a=e[n];if(s&&Cn(s)&&a){const o=_Y(s,a);Cn(o)&&(r[n]=o)}else t[n]&&(r[n]=a)}return r}var hi=t=>Cn(t)&&!Object.keys(t).length,cF=t=>t.type==="file",Ba=t=>typeof t=="function",Gw=t=>{if(!oF)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bY=t=>t.type==="select-multiple",dF=t=>t.type==="radio",RAe=t=>dF(t)||d_(t),JA=t=>Gw(t)&&t.isConnected;function OAe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Sr(t)?n++:t[e[n++]];return t}function IAe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Sr(t[e]))return!1;return!0}function cn(t,e){const r=Array.isArray(e)?e:YE(e)?[e]:lF(e),n=r.length===1?t:OAe(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Cn(n)&&hi(n)||Array.isArray(n)&&IAe(n))&&cn(t,r.slice(0,-1)),t}var BAe=t=>{for(const e in t)if(Ba(t[e]))return!0;return!1};function wY(t){return Array.isArray(t)||Cn(t)&&!BAe(t)}function q2(t,e={}){for(const r in t){const n=t[r];wY(n)?(e[r]=Array.isArray(n)?[]:{},q2(n,e[r])):Sr(n)||(e[r]=!0)}return e}function eh(t,e,r){r||(r=q2(e));for(const n in t){const s=t[n];if(wY(s))Sr(e)||Y2(r[n])?r[n]=q2(s,Array.isArray(s)?[]:{}):eh(s,Wi(e)?{}:e[n],r[n]);else{const a=e[n];r[n]=!Ia(s,a)}}return r}const G$={value:!1,isValid:!1},H$={value:!0,isValid:!0};var xY=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Sr(t[0].attributes.value)?Sr(t[0].value)||t[0].value===""?H$:{value:t[0].value,isValid:!0}:H$:G$}return G$},EY=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Sr(t)?t:e?t===""?NaN:t&&+t:r&&ws(t)?new Date(t):n?n(t):t;const W$={isValid:!1,value:null};var SY=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,W$):W$;function K$(t){const e=t.ref;return cF(e)?e.files:dF(e)?SY(t.refs).value:bY(e)?[...e.selectedOptions].map(({value:r})=>r):d_(e)?xY(t.refs).value:EY(Sr(e.value)?t.ref.value:e.value,t)}var FAe=(t,e,r,n)=>{const s={};for(const a of t){const o=je(e,a);o&&cr(s,a,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Hw=t=>t instanceof RegExp,km=t=>Sr(t)?t:Hw(t)?t.source:Cn(t)?Hw(t.value)?t.value.source:t.value:t,bh=t=>({isOnSubmit:!t||t===ea.onSubmit,isOnBlur:t===ea.onBlur,isOnChange:t===ea.onChange,isOnAll:t===ea.all,isOnTouch:t===ea.onTouched});const X$="AsyncFunction";var MAe=t=>!!t&&!!t.validate&&!!(Ba(t.validate)&&t.validate.constructor.name===X$||Cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===X$)),kAe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Z2=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Vh=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=je(t,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Vh(l,e))break}else if(Cn(l)&&Vh(l,e))break}}};function Y$(t,e,r){const n=je(t,r);if(n||YE(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=je(e,a),l=je(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:"".concat(a,".root"),error:l.root};s.pop()}return{name:r}}var NAe=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return hi(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||ea.all))},LAe=(t,e,r)=>!t||!e||t===e||Zi(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),UAe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,$Ae=(t,e)=>!qE(je(t,e)).length&&cn(t,e),CY=(t,e,r)=>{const n=Zi(je(t,r));return cr(n,"root",e[r]),cr(t,r,n),t};function q$(t,e,r="validate"){if(ws(t)||Array.isArray(t)&&t.every(ws)||ys(t)&&!t)return{type:r,message:ws(t)?t:"",ref:e}}var Nf=t=>Cn(t)&&!Hw(t)?t:{value:t,message:""},J2=async(t,e,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:m,max:g,pattern:y,validate:_,name:b,valueAsNumber:u,mount:h}=t._f,p=je(r,b);if(!h||e.has(b))return{};const v=l?l[0]:o,w=D=>{s&&v.reportValidity&&(v.setCustomValidity(ys(D)?"":D||""),v.reportValidity())},x={},S=dF(o),E=d_(o),P=S||E,T=(u||cF(o))&&Sr(o.value)&&Sr(p)||Gw(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,A=yY.bind(null,b,n,x),R=(D,O,I,M=Xo.maxLength,G=Xo.minLength)=>{const j=D?O:I;x[b]={type:D?M:G,message:j,ref:o,...A(D?M:G,j)}};if(a?!Array.isArray(p)||!p.length:c&&(!P&&(T||Wi(p))||ys(p)&&!p||E&&!xY(l).isValid||S&&!SY(l).isValid)){const{value:D,message:O}=ws(c)?{value:!!c,message:c}:Nf(c);if(D&&(x[b]={type:Xo.required,message:O,ref:v,...A(Xo.required,O)},!n))return w(O),x}if(!T&&(!Wi(m)||!Wi(g))){let D,O;const I=Nf(g),M=Nf(m);if(!Wi(p)&&!isNaN(p)){const G=o.valueAsNumber||p&&+p;Wi(I.value)||(D=G>I.value),Wi(M.value)||(O=G<M.value)}else{const G=o.valueAsDate||new Date(p),j=K=>new Date(new Date().toDateString()+" "+K),$=o.type=="time",H=o.type=="week";ws(I.value)&&p&&(D=$?j(p)>j(I.value):H?p>I.value:G>new Date(I.value)),ws(M.value)&&p&&(O=$?j(p)<j(M.value):H?p<M.value:G<new Date(M.value))}if((D||O)&&(R(!!D,I.message,M.message,Xo.max,Xo.min),!n))return w(x[b].message),x}if((d||f)&&!T&&(ws(p)||a&&Array.isArray(p))){const D=Nf(d),O=Nf(f),I=!Wi(D.value)&&p.length>+D.value,M=!Wi(O.value)&&p.length<+O.value;if((I||M)&&(R(I,D.message,O.message),!n))return w(x[b].message),x}if(y&&!T&&ws(p)){const{value:D,message:O}=Nf(y);if(Hw(D)&&!p.match(D)&&(x[b]={type:Xo.pattern,message:O,ref:o,...A(Xo.pattern,O)},!n))return w(O),x}if(_){if(Ba(_)){const D=await _(p,r),O=q$(D,v);if(O&&(x[b]={...O,...A(Xo.validate,O.message)},!n))return w(O.message),x}else if(Cn(_)){let D={};for(const O in _){if(!hi(D)&&!n)break;const I=q$(await _[O](p,r),v,O);I&&(D={...I,...A(O,I.message)},w(I.message),n&&(x[b]=D))}if(!hi(D)&&(x[b]={ref:v,...D},!n))return x}}return w(!0),x};const jAe={mode:ea.onSubmit,reValidateMode:ea.onChange,shouldFocusError:!0};function zAe(t={}){let e={...jAe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Cn(e.defaultValues)||Cn(e.values)?Dr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Dr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const g={array:V$(),state:V$()},y=e.criteriaMode===ea.all,_=X=>oe=>{clearTimeout(d),d=setTimeout(X,oe)},b=async X=>{if(!e.disabled&&(f.isValid||m.isValid||X)){const oe=e.resolver?hi((await E()).errors):await T(n,!0);oe!==r.isValid&&g.state.next({isValid:oe})}},u=(X,oe)=>{!e.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((X||Array.from(l.mount)).forEach(le=>{le&&(oe?cr(r.validatingFields,le,oe):cn(r.validatingFields,le))}),g.state.next({validatingFields:r.validatingFields,isValidating:!hi(r.validatingFields)}))},h=(X,oe=[],le,Ae,_e=!0,ce=!0)=>{if(Ae&&le&&!e.disabled){if(o.action=!0,ce&&Array.isArray(je(n,X))){const be=le(je(n,X),Ae.argA,Ae.argB);_e&&cr(n,X,be)}if(ce&&Array.isArray(je(r.errors,X))){const be=le(je(r.errors,X),Ae.argA,Ae.argB);_e&&cr(r.errors,X,be),$Ae(r.errors,X)}if((f.touchedFields||m.touchedFields)&&ce&&Array.isArray(je(r.touchedFields,X))){const be=le(je(r.touchedFields,X),Ae.argA,Ae.argB);_e&&cr(r.touchedFields,X,be)}(f.dirtyFields||m.dirtyFields)&&(r.dirtyFields=eh(s,a)),g.state.next({name:X,isDirty:R(X,oe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else cr(a,X,oe)},p=(X,oe)=>{cr(r.errors,X,oe),g.state.next({errors:r.errors})},v=X=>{r.errors=X,g.state.next({errors:r.errors,isValid:!1})},w=(X,oe,le,Ae)=>{const _e=je(n,X);if(_e){const ce=je(a,X,Sr(le)?je(s,X):le);Sr(ce)||Ae&&Ae.defaultChecked||oe?cr(a,X,oe?ce:K$(_e._f)):I(X,ce),o.mount&&!o.action&&b()}},x=(X,oe,le,Ae,_e)=>{let ce=!1,be=!1;const Ye={name:X};if(!e.disabled){if(!le||Ae){(f.isDirty||m.isDirty)&&(be=r.isDirty,r.isDirty=Ye.isDirty=R(),ce=be!==Ye.isDirty);const Xe=Ia(je(s,X),oe);be=!!je(r.dirtyFields,X),Xe?cn(r.dirtyFields,X):cr(r.dirtyFields,X,!0),Ye.dirtyFields=r.dirtyFields,ce=ce||(f.dirtyFields||m.dirtyFields)&&be!==!Xe}if(le){const Xe=je(r.touchedFields,X);Xe||(cr(r.touchedFields,X,le),Ye.touchedFields=r.touchedFields,ce=ce||(f.touchedFields||m.touchedFields)&&Xe!==le)}ce&&_e&&g.state.next(Ye)}return ce?Ye:{}},S=(X,oe,le,Ae)=>{const _e=je(r.errors,X),ce=(f.isValid||m.isValid)&&ys(oe)&&r.isValid!==oe;if(e.delayError&&le?(c=_(()=>p(X,le)),c(e.delayError)):(clearTimeout(d),c=null,le?cr(r.errors,X,le):cn(r.errors,X)),(le?!Ia(_e,le):_e)||!hi(Ae)||ce){const be={...Ae,...ce&&ys(oe)?{isValid:oe}:{},errors:r.errors,name:X};r={...r,...be},g.state.next(be)}},E=async X=>{u(X,!0);const oe=await e.resolver(a,e.context,FAe(X||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return u(X),oe},P=async X=>{const{errors:oe}=await E(X);if(X)for(const le of X){const Ae=je(oe,le);Ae?cr(r.errors,le,Ae):cn(r.errors,le)}else r.errors=oe;return oe},T=async(X,oe,le={valid:!0})=>{for(const Ae in X){const _e=X[Ae];if(_e){const{_f:ce,...be}=_e;if(ce){const Ye=l.array.has(ce.name),Xe=_e._f&&MAe(_e._f);Xe&&f.validatingFields&&u([ce.name],!0);const Pe=await J2(_e,l.disabled,a,y,e.shouldUseNativeValidation&&!oe,Ye);if(Xe&&f.validatingFields&&u([ce.name]),Pe[ce.name]&&(le.valid=!1,oe))break;!oe&&(je(Pe,ce.name)?Ye?CY(r.errors,Pe,ce.name):cr(r.errors,ce.name,Pe[ce.name]):cn(r.errors,ce.name))}!hi(be)&&await T(be,oe,le)}}return le.valid},A=()=>{for(const X of l.unMount){const oe=je(n,X);oe&&(oe._f.refs?oe._f.refs.every(le=>!JA(le)):!JA(oe._f.ref))&&z(X)}l.unMount=new Set},R=(X,oe)=>!e.disabled&&(X&&oe&&cr(a,X,oe),!Ia(K(),s)),D=(X,oe,le)=>X2(X,l,{...o.mount?a:Sr(oe)?s:ws(X)?{[X]:oe}:oe},le,oe),O=X=>qE(je(o.mount?a:s,X,e.shouldUnregister?je(s,X,[]):[])),I=(X,oe,le={})=>{const Ae=je(n,X);let _e=oe;if(Ae){const ce=Ae._f;ce&&(!ce.disabled&&cr(a,X,EY(oe,ce)),_e=Gw(ce.ref)&&Wi(oe)?"":oe,bY(ce.ref)?[...ce.ref.options].forEach(be=>be.selected=_e.includes(be.value)):ce.refs?d_(ce.ref)?ce.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(_e)?be.checked=!!_e.find(Ye=>Ye===be.value):be.checked=_e===be.value||!!_e)}):ce.refs.forEach(be=>be.checked=be.value===_e):cF(ce.ref)?ce.ref.value="":(ce.ref.value=_e,ce.ref.type||g.state.next({name:X,values:Dr(a)})))}(le.shouldDirty||le.shouldTouch)&&x(X,_e,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&H(X)},M=(X,oe,le)=>{for(const Ae in oe){if(!oe.hasOwnProperty(Ae))return;const _e=oe[Ae],ce=X+"."+Ae,be=je(n,ce);(l.array.has(X)||Cn(_e)||be&&!be._f)&&!cd(_e)?M(ce,_e,le):I(ce,_e,le)}},G=(X,oe,le={})=>{const Ae=je(n,X),_e=l.array.has(X),ce=Dr(oe);cr(a,X,ce),_e?(g.array.next({name:X,values:Dr(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&le.shouldDirty&&g.state.next({name:X,dirtyFields:eh(s,a),isDirty:R(X,ce)})):Ae&&!Ae._f&&!Wi(ce)?M(X,ce,le):I(X,ce,le),Z2(X,l)&&g.state.next({...r,name:X}),g.state.next({name:o.mount?X:void 0,values:Dr(a)})},j=async X=>{o.mount=!0;const oe=X.target;let le=oe.name,Ae=!0;const _e=je(n,le),ce=Xe=>{Ae=Number.isNaN(Xe)||cd(Xe)&&isNaN(Xe.getTime())||Ia(Xe,je(a,le,Xe))},be=bh(e.mode),Ye=bh(e.reValidateMode);if(_e){let Xe,Pe;const L=oe.type?K$(_e._f):mY(X),B=X.type===Vw.BLUR||X.type===Vw.FOCUS_OUT,U=!kAe(_e._f)&&!e.resolver&&!je(r.errors,le)&&!_e._f.deps||UAe(B,je(r.touchedFields,le),r.isSubmitted,Ye,be),J=Z2(le,l,B);cr(a,le,L),B?(!oe||!oe.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(X),c&&c(0)):_e._f.onChange&&_e._f.onChange(X);const ae=x(le,L,B),ke=!hi(ae)||J;if(!B&&g.state.next({name:le,type:X.type,values:Dr(a)}),U)return(f.isValid||m.isValid)&&(e.mode==="onBlur"?B&&b():B||b()),ke&&g.state.next({name:le,...J?{}:ae});if(!B&&J&&g.state.next({...r}),e.resolver){const{errors:Ne}=await E([le]);if(ce(L),Ae){const at=Y$(r.errors,n,le),Ve=Y$(Ne,n,at.name||le);Xe=Ve.error,le=Ve.name,Pe=hi(Ne)}}else u([le],!0),Xe=(await J2(_e,l.disabled,a,y,e.shouldUseNativeValidation))[le],u([le]),ce(L),Ae&&(Xe?Pe=!1:(f.isValid||m.isValid)&&(Pe=await T(n,!0)));Ae&&(_e._f.deps&&(!Array.isArray(_e._f.deps)||_e._f.deps.length>0)&&H(_e._f.deps),S(le,Pe,Xe,ae))}},$=(X,oe)=>{if(je(r.errors,oe)&&X.focus)return X.focus(),1},H=async(X,oe={})=>{let le,Ae;const _e=Zi(X);if(e.resolver){const ce=await P(Sr(X)?X:_e);le=hi(ce),Ae=X?!_e.some(be=>je(ce,be)):le}else X?(Ae=(await Promise.all(_e.map(async ce=>{const be=je(n,ce);return await T(be&&be._f?{[ce]:be}:be)}))).every(Boolean),!(!Ae&&!r.isValid)&&b()):Ae=le=await T(n);return g.state.next({...!ws(X)||(f.isValid||m.isValid)&&le!==r.isValid?{}:{name:X},...e.resolver||!X?{isValid:le}:{},errors:r.errors}),oe.shouldFocus&&!Ae&&Vh(n,$,X?_e:l.mount),Ae},K=(X,oe)=>{let le={...o.mount?a:s};return oe&&(le=_Y(oe.dirtyFields?r.dirtyFields:r.touchedFields,le)),Sr(X)?le:ws(X)?je(le,X):X.map(Ae=>je(le,Ae))},re=(X,oe)=>({invalid:!!je((oe||r).errors,X),isDirty:!!je((oe||r).dirtyFields,X),error:je((oe||r).errors,X),isValidating:!!je(r.validatingFields,X),isTouched:!!je((oe||r).touchedFields,X)}),fe=X=>{X&&Zi(X).forEach(oe=>cn(r.errors,oe)),g.state.next({errors:X?r.errors:{}})},ye=(X,oe,le)=>{const Ae=(je(n,X,{_f:{}})._f||{}).ref,_e=je(r.errors,X)||{},{ref:ce,message:be,type:Ye,...Xe}=_e;cr(r.errors,X,{...Xe,...oe,ref:Ae}),g.state.next({name:X,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},he=(X,oe)=>Ba(X)?g.state.subscribe({next:le=>"values"in le&&X(D(void 0,oe),le)}):D(X,oe,!0),ue=X=>g.state.subscribe({next:oe=>{LAe(X.name,oe.name,X.exact)&&NAe(oe,X.formState||f,xt,X.reRenderRoot)&&X.callback({values:{...a},...r,...oe,defaultValues:s})}}).unsubscribe,Z=X=>(o.mount=!0,m={...m,...X.formState},ue({...X,formState:m})),z=(X,oe={})=>{for(const le of X?Zi(X):l.mount)l.mount.delete(le),l.array.delete(le),oe.keepValue||(cn(n,le),cn(a,le)),!oe.keepError&&cn(r.errors,le),!oe.keepDirty&&cn(r.dirtyFields,le),!oe.keepTouched&&cn(r.touchedFields,le),!oe.keepIsValidating&&cn(r.validatingFields,le),!e.shouldUnregister&&!oe.keepDefaultValue&&cn(s,le);g.state.next({values:Dr(a)}),g.state.next({...r,...oe.keepDirty?{isDirty:R()}:{}}),!oe.keepIsValid&&b()},V=({disabled:X,name:oe})=>{(ys(X)&&o.mount||X||l.disabled.has(oe))&&(X?l.disabled.add(oe):l.disabled.delete(oe))},Y=(X,oe={})=>{let le=je(n,X);const Ae=ys(oe.disabled)||ys(e.disabled);return cr(n,X,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:X}},name:X,mount:!0,...oe}}),l.mount.add(X),le?V({disabled:ys(oe.disabled)?oe.disabled:e.disabled,name:X}):w(X,!0,oe.value),{...Ae?{disabled:oe.disabled||e.disabled}:{},...e.progressive?{required:!!oe.required,min:km(oe.min),max:km(oe.max),minLength:km(oe.minLength),maxLength:km(oe.maxLength),pattern:km(oe.pattern)}:{},name:X,onChange:j,onBlur:j,ref:_e=>{if(_e){Y(X,oe),le=je(n,X);const ce=Sr(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,be=RAe(ce),Ye=le._f.refs||[];if(be?Ye.find(Xe=>Xe===ce):ce===le._f.ref)return;cr(n,X,{_f:{...le._f,...be?{refs:[...Ye.filter(JA),ce,...Array.isArray(je(s,X))?[{}]:[]],ref:{type:ce.type,name:X}}:{ref:ce}}}),w(X,!1,void 0,ce)}else le=je(n,X,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||oe.shouldUnregister)&&!(gY(l.array,X)&&o.action)&&l.unMount.add(X)}}},ne=()=>e.shouldFocusError&&Vh(n,$,l.mount),ie=X=>{ys(X)&&(g.state.next({disabled:X}),Vh(n,(oe,le)=>{const Ae=je(n,le);Ae&&(oe.disabled=Ae._f.disabled||X,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(_e=>{_e.disabled=Ae._f.disabled||X}))},0,!1))},me=(X,oe)=>async le=>{let Ae;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let _e=Dr(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:be}=await E();r.errors=ce,_e=Dr(be)}else await T(n);if(l.disabled.size)for(const ce of l.disabled)cn(_e,ce);if(cn(r.errors,"root"),hi(r.errors)){g.state.next({errors:{}});try{await X(_e,le)}catch(ce){Ae=ce}}else oe&&await oe({...r.errors},le),ne(),setTimeout(ne);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hi(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},xe=(X,oe={})=>{je(n,X)&&(Sr(oe.defaultValue)?G(X,Dr(je(s,X))):(G(X,oe.defaultValue),cr(s,X,Dr(oe.defaultValue))),oe.keepTouched||cn(r.touchedFields,X),oe.keepDirty||(cn(r.dirtyFields,X),r.isDirty=oe.defaultValue?R(X,Dr(je(s,X))):R()),oe.keepError||(cn(r.errors,X),f.isValid&&b()),g.state.next({...r}))},we=(X,oe={})=>{const le=X?Dr(X):s,Ae=Dr(le),_e=hi(X),ce=_e?s:Ae;if(oe.keepDefaultValues||(s=le),!oe.keepValues){if(oe.keepDirtyValues){const be=new Set([...l.mount,...Object.keys(eh(s,a))]);for(const Ye of Array.from(be))je(r.dirtyFields,Ye)?cr(ce,Ye,je(a,Ye)):G(Ye,je(ce,Ye))}else{if(oF&&Sr(X))for(const be of l.mount){const Ye=je(n,be);if(Ye&&Ye._f){const Xe=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(Gw(Xe)){const Pe=Xe.closest("form");if(Pe){Pe.reset();break}}}}if(oe.keepFieldsRef)for(const be of l.mount)G(be,je(ce,be));else n={}}a=e.shouldUnregister?oe.keepDefaultValues?Dr(s):{}:Dr(ce),g.array.next({values:{...ce}}),g.state.next({values:{...ce}})}l={mount:oe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues||!e.shouldUnregister&&!hi(ce),o.watch=!!e.shouldUnregister,o.action=!1,oe.keepErrors||(r.errors={}),g.state.next({submitCount:oe.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:oe.keepDirty?r.isDirty:!!(oe.keepDefaultValues&&!Ia(X,s)),isSubmitted:oe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:oe.keepDirtyValues?oe.keepDefaultValues&&a?eh(s,a):r.dirtyFields:oe.keepDefaultValues&&X?eh(s,X):oe.keepDirty?r.dirtyFields:{},touchedFields:oe.keepTouched?r.touchedFields:{},errors:oe.keepErrors?r.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ee=(X,oe)=>we(Ba(X)?X(a):X,oe),tt=(X,oe={})=>{const le=je(n,X),Ae=le&&le._f;if(Ae){const _e=Ae.refs?Ae.refs[0]:Ae.ref;_e.focus&&(_e.focus(),oe.shouldSelect&&Ba(_e.select)&&_e.select())}},xt=X=>{r={...r,...X}},Gt={control:{register:Y,unregister:z,getFieldState:re,handleSubmit:me,setError:ye,_subscribe:ue,_runSchema:E,_focusError:ne,_getWatch:D,_getDirty:R,_setValid:b,_setFieldArray:h,_setDisabledField:V,_setErrors:v,_getFieldArray:O,_reset:we,_resetDefaultValues:()=>Ba(e.defaultValues)&&e.defaultValues().then(X=>{Ee(X,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ie,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(X){o=X},get _defaultValues(){return s},get _names(){return l},set _names(X){l=X},get _formState(){return r},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:Z,trigger:H,register:Y,handleSubmit:me,watch:he,setValue:G,getValues:K,reset:Ee,resetField:xe,clearErrors:fe,unregister:z,setError:ye,setFocus:tt,getFieldState:re};return{...Gt,formControl:Gt}}var eu=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},QA=(t,e,r={})=>r.shouldFocus||Sr(r.shouldFocus)?r.focusName||"".concat(t,".").concat(Sr(r.focusIndex)?e:r.focusIndex,"."):"",eT=(t,e)=>[...t,...Zi(e)],tT=t=>Array.isArray(t)?t.map(()=>{}):void 0;function rT(t,e,r){return[...t.slice(0,e),...Zi(r),...t.slice(e)]}var nT=(t,e,r)=>Array.isArray(t)?(Sr(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],iT=(t,e)=>[...Zi(e),...Zi(t)];function VAe(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return qE(n).length?n:[]}var sT=(t,e)=>Sr(e)?[]:VAe(t,Zi(e).sort((r,n)=>r-n)),aT=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},Z$=(t,e,r)=>(t[e]=r,t);function vJe(t){const e=ZE(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:a,rules:o}=t,[l,c]=q.useState(r._getFieldArray(n)),d=q.useRef(r._getFieldArray(n).map(eu)),f=q.useRef(!1);r._names.array.add(n),q.useMemo(()=>o&&l.length>=0&&r.register(n,o),[r,n,l.length,o]),JE(()=>r._subjects.array.subscribe({next:({values:w,name:x})=>{if(x===n||!x){const S=je(w,n);Array.isArray(S)&&(c(S),d.current=S.map(eu))}}}).unsubscribe,[r,n]);const m=q.useCallback(w=>{f.current=!0,r._setFieldArray(n,w)},[r,n]),g=(w,x)=>{const S=Zi(Dr(w)),E=eT(r._getFieldArray(n),S);r._names.focus=QA(n,E.length-1,x),d.current=eT(d.current,S.map(eu)),m(E),c(E),r._setFieldArray(n,E,eT,{argA:tT(w)})},y=(w,x)=>{const S=Zi(Dr(w)),E=iT(r._getFieldArray(n),S);r._names.focus=QA(n,0,x),d.current=iT(d.current,S.map(eu)),m(E),c(E),r._setFieldArray(n,E,iT,{argA:tT(w)})},_=w=>{const x=sT(r._getFieldArray(n),w);d.current=sT(d.current,w),m(x),c(x),!Array.isArray(je(r._fields,n))&&cr(r._fields,n,void 0),r._setFieldArray(n,x,sT,{argA:w})},b=(w,x,S)=>{const E=Zi(Dr(x)),P=rT(r._getFieldArray(n),w,E);r._names.focus=QA(n,w,S),d.current=rT(d.current,w,E.map(eu)),m(P),c(P),r._setFieldArray(n,P,rT,{argA:w,argB:tT(x)})},u=(w,x)=>{const S=r._getFieldArray(n);aT(S,w,x),aT(d.current,w,x),m(S),c(S),r._setFieldArray(n,S,aT,{argA:w,argB:x},!1)},h=(w,x)=>{const S=r._getFieldArray(n);nT(S,w,x),nT(d.current,w,x),m(S),c(S),r._setFieldArray(n,S,nT,{argA:w,argB:x},!1)},p=(w,x)=>{const S=Dr(x),E=Z$(r._getFieldArray(n),w,S);d.current=[...E].map((P,T)=>!P||T===w?eu():d.current[T]),m(E),c([...E]),r._setFieldArray(n,E,Z$,{argA:w,argB:S},!0,!1)},v=w=>{const x=Zi(Dr(w));d.current=x.map(eu),m([...x]),c([...x]),r._setFieldArray(n,[...x],S=>S,{},!0,!1)};return q.useEffect(()=>{if(r._state.action=!1,Z2(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!bh(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!bh(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(w=>{const x=je(w.errors,n),S=je(r._formState.errors,n);(S?!x&&S.type||x&&(S.type!==x.type||S.message!==x.message):x&&x.type)&&(x?cr(r._formState.errors,n,x):cn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const w=je(r._fields,n);w&&w._f&&!(bh(r._options.reValidateMode).isOnSubmit&&bh(r._options.mode).isOnSubmit)&&J2(w,r._names.disabled,r._formValues,r._options.criteriaMode===ea.all,r._options.shouldUseNativeValidation,!0).then(x=>!hi(x)&&r._subjects.state.next({errors:CY(r._formState.errors,x,n)}))}r._subjects.state.next({name:n,values:Dr(r._formValues)}),r._names.focus&&Vh(r._fields,(w,x)=>{if(r._names.focus&&x.startsWith(r._names.focus)&&w.focus)return w.focus(),1}),r._names.focus="",r._setValid(),f.current=!1},[l,n,r]),q.useEffect(()=>(!je(r._formValues,n)&&r._setFieldArray(n),()=>{const w=(x,S)=>{const E=je(r._fields,x);E&&E._f&&(E._f.mount=S)};r._options.shouldUnregister||a?r.unregister(n):w(n,!1)}),[n,r,s,a]),{swap:q.useCallback(u,[m,n,r]),move:q.useCallback(h,[m,n,r]),prepend:q.useCallback(y,[m,n,r]),append:q.useCallback(g,[m,n,r]),remove:q.useCallback(_,[m,n,r]),insert:q.useCallback(b,[m,n,r]),update:q.useCallback(p,[m,n,r]),replace:q.useCallback(v,[m,n,r]),fields:q.useMemo(()=>l.map((w,x)=>({...w,[s]:d.current[x]||eu()})),[l,s])}}function yJe(t={}){const e=q.useRef(void 0),r=q.useRef(void 0),[n,s]=q.useState({isDirty:!1,isValidating:!1,isLoading:Ba(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ba(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ba(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=zAe(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,JE(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),q.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),q.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),q.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),q.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),q.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),q.useEffect(()=>{var o;t.values&&!Ia(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),r.current=t.values,s(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),q.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=vY(n,a),e.current}const J$=(t,e,r)=>{if(t&&"reportValidity"in t){const n=je(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},AY=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?J$(n.ref,r,t):n.refs&&n.refs.forEach(s=>J$(s,r,t))}},GAe=(t,e)=>{e.shouldUseNativeValidation&&AY(t,e);const r={};for(const n in t){const s=je(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(HAe(e.names||Object.keys(t),n)){const o=Object.assign({},je(r,n));cr(o,"root",a),cr(r,n,o)}else cr(r,n,a)}return r},HAe=(t,e)=>t.some(r=>r.startsWith(e+"."));var WAe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return t.push(m)})}),e){var c=r[o].types,d=c&&c[n.code];r[o]=yY(o,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},_Je=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&AY({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:GAe(WAe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ir;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?"'".concat(o,"'"):o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ir||(ir={}));var Q$;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Q$||(Q$={}));const lt=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pu=t=>{switch(typeof t){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return Number.isNaN(t)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(t)?lt.array:t===null?lt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?lt.promise:typeof Map<"u"&&t instanceof Map?lt.map:typeof Set<"u"&&t instanceof Set?lt.set:typeof Date<"u"&&t instanceof Date?lt.date:lt.object;default:return lt.unknown}},Fe=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof Fl))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fl.create=t=>new Fl(t);const KAe=(t,e)=>{let r;switch(t.code){case Fe.invalid_type:t.received===lt.undefined?r="Required":r="Expected ".concat(t.expected,", received ").concat(t.received);break;case Fe.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(t.expected,ir.jsonStringifyReplacer));break;case Fe.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(ir.joinValues(t.keys,", "));break;case Fe.invalid_union:r="Invalid input";break;case Fe.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(ir.joinValues(t.options));break;case Fe.invalid_enum_value:r="Invalid enum value. Expected ".concat(ir.joinValues(t.options),", received '").concat(t.received,"'");break;case Fe.invalid_arguments:r="Invalid function arguments";break;case Fe.invalid_return_type:r="Invalid function return type";break;case Fe.invalid_date:r="Invalid date";break;case Fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r='Invalid input: must include "'.concat(t.validation.includes,'"'),typeof t.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(t.validation.position))):"startsWith"in t.validation?r='Invalid input: must start with "'.concat(t.validation.startsWith,'"'):"endsWith"in t.validation?r='Invalid input: must end with "'.concat(t.validation.endsWith,'"'):ir.assertNever(t.validation):t.validation!=="regex"?r="Invalid ".concat(t.validation):r="Invalid";break;case Fe.too_small:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"more than"," ").concat(t.minimum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at least":"over"," ").concat(t.minimum," character(s)"):t.type==="number"||t.type==="bigint"?r="Number must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(t.minimum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(t.minimum))):r="Invalid input";break;case Fe.too_big:t.type==="array"?r="Array must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"less than"," ").concat(t.maximum," element(s)"):t.type==="string"?r="String must contain ".concat(t.exact?"exactly":t.inclusive?"at most":"under"," ").concat(t.maximum," character(s)"):t.type==="number"?r="Number must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="bigint"?r="BigInt must be ".concat(t.exact?"exactly":t.inclusive?"less than or equal to":"less than"," ").concat(t.maximum):t.type==="date"?r="Date must be ".concat(t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(t.maximum))):r="Invalid input";break;case Fe.custom:r="Invalid input";break;case Fe.invalid_intersection_types:r="Intersection results could not be merged";break;case Fe.not_multiple_of:r="Number must be a multiple of ".concat(t.multipleOf);break;case Fe.not_finite:r="Number must be finite";break;default:r=e.defaultError,ir.assertNever(t)}return{message:r}},Q2=KAe;let XAe=Q2;function YAe(){return XAe}const qAe=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function qe(t,e){const r=YAe(),n=qAe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Q2?void 0:Q2].filter(s=>!!s)});t.common.issues.push(n)}class Fs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Dt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Fs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Dt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Dt=Object.freeze({status:"aborted"}),cg=t=>({status:"dirty",value:t}),va=t=>({status:"valid",value:t}),e4=t=>t.status==="aborted",t4=t=>t.status==="dirty",wp=t=>t.status==="valid",Ww=t=>typeof Promise<"u"&&t instanceof Promise;var ft;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ft||(ft={}));class cc{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const r4=(t,e)=>{if(wp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fl(t.common.issues);return this._error=r,this._error}}};function Vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var d,f;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c!=null?c:l.defaultError}:typeof l.data>"u"?{message:(d=c!=null?c:n)!=null?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(f=c!=null?c:r)!=null?f:l.defaultError}},description:s}}class nr{get description(){return this._def.description}_getType(e){return pu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:pu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fs,ctx:{common:e.parent.common,data:e.data,parsedType:pu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ww(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var a;const n={common:{issues:[],async:(a=r==null?void 0:r.async)!=null?a:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)},s=this._parseSync({data:e,path:n.path,parent:n});return r4(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return wp(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>wp(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Ww(s)?s:Promise.resolve(s));return r4(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:Fe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ml({schema:this,typeName:It.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bl.create(this,this._def)}nullable(){return qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Do.create(this)}promise(){return tx.create(this,this._def)}or(e){return qw.create([this,e],this._def)}and(e){return Zw.create(this,e,this._def)}transform(e){return new Ml({...Vt(this._def),schema:this,typeName:It.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new rx({...Vt(this._def),innerType:this,defaultValue:r,typeName:It.ZodDefault})}brand(){return new RY({typeName:It.ZodBranded,type:this,...Vt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new nx({...Vt(this._def),innerType:this,catchValue:r,typeName:It.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return hF.create(this,e)}readonly(){return ix.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZAe=/^c[^\s-]{8,}$/i,JAe=/^[0-9a-z]+$/,QAe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eTe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tTe=/^[a-z0-9_-]{21}$/i,rTe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nTe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iTe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sTe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let oT;const aTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cTe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dTe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fTe=new RegExp("^".concat(TY,"$"));function PY(t){let e="[0-5]\\d";t.precision?e="".concat(e,"\\.\\d{").concat(t.precision,"}"):t.precision==null&&(e="".concat(e,"(\\.\\d+)?"));const r=t.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(e,")").concat(r)}function hTe(t){return new RegExp("^".concat(PY(t),"$"))}function pTe(t){let e="".concat(TY,"T").concat(PY(t));const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e="".concat(e,"(").concat(r.join("|"),")"),new RegExp("^".concat(e,"$"))}function mTe(t,e){return!!((e==="v4"||!e)&&aTe.test(t)||(e==="v6"||!e)&&lTe.test(t))}function gTe(t,e){if(!rTe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch(r){return!1}}function vTe(t,e){return!!((e==="v4"||!e)&&oTe.test(t)||(e==="v6"||!e)&&uTe.test(t))}class Ru extends nr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==lt.string){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_type,expected:lt.string,received:a.parsedType}),Dt}const n=new Fs;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?qe(s,{code:Fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&qe(s,{code:Fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")iTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"email",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")oT||(oT=new RegExp(sTe,"u")),oT.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"emoji",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")eTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"uuid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")tTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"nanoid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")ZAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"cuid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")JAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"cuid2",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")QAe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"ulid",code:Fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){s=this._getOrReturnCtx(e,s),qe(s,{validation:"url",code:Fe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"regex",code:Fe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?pTe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?fTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?hTe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?nTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"duration",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?mTe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"ip",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?gTe(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"jwt",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?vTe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"cidr",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?cTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"base64",code:Fe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?dTe.test(e.data)||(s=this._getOrReturnCtx(e,s),qe(s,{validation:"base64url",code:Fe.invalid_string,message:a.message}),n.dirty()):ir.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Fe.invalid_string,...ft.errToObj(n)})}_addCheck(e){return new Ru({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ft.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ft.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ft.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ft.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ft.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ft.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ft.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ft.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ft.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ft.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ft.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ft.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ft.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!=null?r:!1,local:(n=e==null?void 0:e.local)!=null?n:!1,...ft.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ft.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ft.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ft.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ft.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ft.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ft.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ft.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ft.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ft.errToObj(r)})}nonempty(e){return this.min(1,ft.errToObj(e))}trim(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ru.create=t=>{var e;return new Ru({checks:[],typeName:It.ZodString,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1,...Vt(t)})};function yTe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}class xp extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==lt.number){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_type,expected:lt.number,received:a.parsedType}),Dt}let n;const s=new Fs;for(const a of this._def.checks)a.kind==="int"?ir.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?yTe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.not_finite,message:a.message}),s.dirty()):ir.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ft.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ft.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ft.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ft.toString(r))}setLimit(e,r,n,s){return new xp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ft.toString(s)}]})}_addCheck(e){return new xp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ft.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ft.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ir.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}xp.create=t=>new xp({checks:[],typeName:It.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Vt(t)});class ly extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==lt.bigint)return this._getInvalidInput(e);let n;const s=new Fs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Fe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ir.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return qe(r,{code:Fe.invalid_type,expected:lt.bigint,received:r.parsedType}),Dt}gte(e,r){return this.setLimit("min",e,!0,ft.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ft.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ft.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ft.toString(r))}setLimit(e,r,n,s){return new ly({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ft.toString(s)}]})}_addCheck(e){return new ly({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ly.create=t=>{var e;return new ly({checks:[],typeName:It.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!=null?e:!1,...Vt(t)})};class eR extends nr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==lt.boolean){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.boolean,received:n.parsedType}),Dt}return va(e.data)}}eR.create=t=>new eR({typeName:It.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Vt(t)});class Kw extends nr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==lt.date){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_type,expected:lt.date,received:a.parsedType}),Dt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return qe(a,{code:Fe.invalid_date}),Dt}const n=new Fs;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),qe(s,{code:Fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ir.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kw({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ft.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ft.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Kw.create=t=>new Kw({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:It.ZodDate,...Vt(t)});class n4 extends nr{_parse(e){if(this._getType(e)!==lt.symbol){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.symbol,received:n.parsedType}),Dt}return va(e.data)}}n4.create=t=>new n4({typeName:It.ZodSymbol,...Vt(t)});class Xw extends nr{_parse(e){if(this._getType(e)!==lt.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.undefined,received:n.parsedType}),Dt}return va(e.data)}}Xw.create=t=>new Xw({typeName:It.ZodUndefined,...Vt(t)});class Yw extends nr{_parse(e){if(this._getType(e)!==lt.null){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.null,received:n.parsedType}),Dt}return va(e.data)}}Yw.create=t=>new Yw({typeName:It.ZodNull,...Vt(t)});class uy extends nr{constructor(){super(...arguments),this._any=!0}_parse(e){return va(e.data)}}uy.create=t=>new uy({typeName:It.ZodAny,...Vt(t)});class i4 extends nr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return va(e.data)}}i4.create=t=>new i4({typeName:It.ZodUnknown,...Vt(t)});class dc extends nr{_parse(e){const r=this._getOrReturnCtx(e);return qe(r,{code:Fe.invalid_type,expected:lt.never,received:r.parsedType}),Dt}}dc.create=t=>new dc({typeName:It.ZodNever,...Vt(t)});class s4 extends nr{_parse(e){if(this._getType(e)!==lt.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.void,received:n.parsedType}),Dt}return va(e.data)}}s4.create=t=>new s4({typeName:It.ZodVoid,...Vt(t)});class Do extends nr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==lt.array)return qe(r,{code:Fe.invalid_type,expected:lt.array,received:r.parsedType}),Dt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(qe(r,{code:o?Fe.too_big:Fe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(qe(r,{code:Fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(qe(r,{code:Fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new cc(r,o,r.path,l)))).then(o=>Fs.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new cc(r,o,r.path,l)));return Fs.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Do({...this._def,minLength:{value:e,message:ft.toString(r)}})}max(e,r){return new Do({...this._def,maxLength:{value:e,message:ft.toString(r)}})}length(e,r){return new Do({...this._def,exactLength:{value:e,message:ft.toString(r)}})}nonempty(e){return this.min(1,e)}}Do.create=(t,e)=>new Do({type:t,minLength:null,maxLength:null,exactLength:null,typeName:It.ZodArray,...Vt(e)});function th(t){if(t instanceof an){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=bl.create(th(n))}return new an({...t._def,shape:()=>e})}else return t instanceof Do?new Do({...t._def,type:th(t.element)}):t instanceof bl?bl.create(th(t.unwrap())):t instanceof qd?qd.create(th(t.unwrap())):t instanceof Xd?Xd.create(t.items.map(e=>th(e))):t}class an extends nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ir.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==lt.object){const d=this._getOrReturnCtx(e);return qe(d,{code:Fe.invalid_type,expected:lt.object,received:d.parsedType}),Dt}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof dc&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new cc(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof dc){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(qe(s,{code:Fe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new cc(s,m,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,g=await f.value;d.push({key:m,value:g,alwaysSet:f.alwaysSet})}return d}).then(d=>Fs.mergeObjectSync(n,d)):Fs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ft.errToObj,new an({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o,l,c;const s=(l=(o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)!=null?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=ft.errToObj(e).message)!=null?c:s}:{message:s}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:It.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const r={};for(const n of ir.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ir.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}deepPartial(){return th(this)}partial(e){const r={};for(const n of ir.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new an({...this._def,shape:()=>r})}required(e){const r={};for(const n of ir.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof bl;)a=a._def.innerType;r[n]=a}return new an({...this._def,shape:()=>r})}keyof(){return DY(ir.objectKeys(this.shape))}}an.create=(t,e)=>new an({shape:()=>t,unknownKeys:"strip",catchall:dc.create(),typeName:It.ZodObject,...Vt(e)});an.strictCreate=(t,e)=>new an({shape:()=>t,unknownKeys:"strict",catchall:dc.create(),typeName:It.ZodObject,...Vt(e)});an.lazycreate=(t,e)=>new an({shape:t,unknownKeys:"strip",catchall:dc.create(),typeName:It.ZodObject,...Vt(e)});class qw extends nr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Fl(l.ctx.common.issues));return qe(r,{code:Fe.invalid_union,unionErrors:o}),Dt}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Fl(c));return qe(r,{code:Fe.invalid_union,unionErrors:l}),Dt}}get options(){return this._def.options}}qw.create=(t,e)=>new qw({options:t,typeName:It.ZodUnion,...Vt(e)});const Zo=t=>t instanceof Jw?Zo(t.schema):t instanceof Ml?Zo(t.innerType()):t instanceof Qw?[t.value]:t instanceof Yd?t.options:t instanceof ex?ir.objectValues(t.enum):t instanceof rx?Zo(t._def.innerType):t instanceof Xw?[void 0]:t instanceof Yw?[null]:t instanceof bl?[void 0,...Zo(t.unwrap())]:t instanceof qd?[null,...Zo(t.unwrap())]:t instanceof RY||t instanceof ix?Zo(t.unwrap()):t instanceof nx?Zo(t._def.innerType):[];class fF extends nr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.object)return qe(r,{code:Fe.invalid_type,expected:lt.object,received:r.parsedType}),Dt;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(qe(r,{code:Fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Dt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const o=Zo(a.shape[e]);if(!o.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const l of o){if(s.has(l))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(l)));s.set(l,a)}}return new fF({typeName:It.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Vt(n)})}}function tR(t,e){const r=pu(t),n=pu(e);if(t===e)return{valid:!0,data:t};if(r===lt.object&&n===lt.object){const s=ir.objectKeys(e),a=ir.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=tR(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===lt.array&&n===lt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=tR(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===lt.date&&n===lt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zw extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(e4(a)||e4(o))return Dt;const l=tR(a.value,o.value);return l.valid?((t4(a)||t4(o))&&r.dirty(),{status:r.value,value:l.data}):(qe(n,{code:Fe.invalid_intersection_types}),Dt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zw.create=(t,e,r)=>new Zw({left:t,right:e,typeName:It.ZodIntersection,...Vt(r)});class Xd extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.array)return qe(n,{code:Fe.invalid_type,expected:lt.array,received:n.parsedType}),Dt;if(n.data.length<this._def.items.length)return qe(n,{code:Fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dt;!this._def.rest&&n.data.length>this._def.items.length&&(qe(n,{code:Fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new cc(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Fs.mergeArray(r,o)):Fs.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Xd({...this._def,rest:e})}}Xd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xd({items:t,typeName:It.ZodTuple,rest:null,...Vt(e)})};class a4 extends nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.map)return qe(n,{code:Fe.invalid_type,expected:lt.map,received:n.parsedType}),Dt;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new cc(n,l,n.path,[d,"key"])),value:a._parse(new cc(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Dt;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Dt;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}}}}a4.create=(t,e,r)=>new a4({valueType:e,keyType:t,typeName:It.ZodMap,...Vt(r)});class cy extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.set)return qe(n,{code:Fe.invalid_type,expected:lt.set,received:n.parsedType}),Dt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(qe(n,{code:Fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(qe(n,{code:Fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Dt;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new cc(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new cy({...this._def,minSize:{value:e,message:ft.toString(r)}})}max(e,r){return new cy({...this._def,maxSize:{value:e,message:ft.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}cy.create=(t,e)=>new cy({valueType:t,minSize:null,maxSize:null,typeName:It.ZodSet,...Vt(e)});class Jw extends nr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Jw.create=(t,e)=>new Jw({getter:t,typeName:It.ZodLazy,...Vt(e)});class Qw extends nr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return qe(r,{received:r.data,code:Fe.invalid_literal,expected:this._def.value}),Dt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Qw.create=(t,e)=>new Qw({value:t,typeName:It.ZodLiteral,...Vt(e)});function DY(t,e){return new Yd({values:t,typeName:It.ZodEnum,...Vt(e)})}class Yd extends nr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{expected:ir.joinValues(n),received:r.parsedType,code:Fe.invalid_type}),Dt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{received:r.data,code:Fe.invalid_enum_value,options:n}),Dt}return va(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Yd.create(e,{...this._def,...r})}exclude(e,r=this._def){return Yd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Yd.create=DY;class ex extends nr{_parse(e){const r=ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==lt.string&&n.parsedType!==lt.number){const s=ir.objectValues(r);return qe(n,{expected:ir.joinValues(s),received:n.parsedType,code:Fe.invalid_type}),Dt}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ir.objectValues(r);return qe(n,{received:n.data,code:Fe.invalid_enum_value,options:s}),Dt}return va(e.data)}get enum(){return this._def.values}}ex.create=(t,e)=>new ex({values:t,typeName:It.ZodNativeEnum,...Vt(e)});class tx extends nr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.promise&&r.common.async===!1)return qe(r,{code:Fe.invalid_type,expected:lt.promise,received:r.parsedType}),Dt;const n=r.parsedType===lt.promise?r.data:Promise.resolve(r.data);return va(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tx.create=(t,e)=>new tx({type:t,typeName:It.ZodPromise,...Vt(e)});class Ml extends nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===It.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{qe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Dt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Dt:c.status==="dirty"||r.value==="dirty"?cg(c.value):c});{if(r.value==="aborted")return Dt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Dt:l.status==="dirty"||r.value==="dirty"?cg(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wp(o))return Dt;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wp(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Dt);ir.assertNever(s)}}Ml.create=(t,e,r)=>new Ml({schema:t,typeName:It.ZodEffects,effect:e,...Vt(r)});Ml.createWithPreprocess=(t,e,r)=>new Ml({schema:e,effect:{type:"preprocess",transform:t},typeName:It.ZodEffects,...Vt(r)});class bl extends nr{_parse(e){return this._getType(e)===lt.undefined?va(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bl.create=(t,e)=>new bl({innerType:t,typeName:It.ZodOptional,...Vt(e)});class qd extends nr{_parse(e){return this._getType(e)===lt.null?va(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qd.create=(t,e)=>new qd({innerType:t,typeName:It.ZodNullable,...Vt(e)});class rx extends nr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}rx.create=(t,e)=>new rx({innerType:t,typeName:It.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Vt(e)});class nx extends nr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ww(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}nx.create=(t,e)=>new nx({innerType:t,typeName:It.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Vt(e)});class o4 extends nr{_parse(e){if(this._getType(e)!==lt.nan){const n=this._getOrReturnCtx(e);return qe(n,{code:Fe.invalid_type,expected:lt.nan,received:n.parsedType}),Dt}return{status:"valid",value:e.data}}}o4.create=t=>new o4({typeName:It.ZodNaN,...Vt(t)});class RY extends nr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class hF extends nr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Dt:a.status==="dirty"?(r.dirty(),cg(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Dt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new hF({in:e,out:r,typeName:It.ZodPipeline})}}class ix extends nr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(wp(s)&&(s.value=Object.freeze(s.value)),s);return Ww(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ix.create=(t,e)=>new ix({innerType:t,typeName:It.ZodReadonly,...Vt(e)});function l4(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function _Te(t,e={},r){return t?uy.create().superRefine((n,s)=>{var o,l;const a=t(n);if(a instanceof Promise)return a.then(c=>{var d,f;if(!c){const m=l4(e,n),g=(f=(d=m.fatal)!=null?d:r)!=null?f:!0;s.addIssue({code:"custom",...m,fatal:g})}});if(!a){const c=l4(e,n),d=(l=(o=c.fatal)!=null?o:r)!=null?l:!0;s.addIssue({code:"custom",...c,fatal:d})}}):uy.create()}an.lazycreate;var It;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(It||(It={}));const bJe=(t,e={message:"Input not instance of ".concat(t.name)})=>_Te(r=>r instanceof t,e),wJe=Ru.create,xJe=xp.create,EJe=eR.create;Xw.create;Yw.create;uy.create;dc.create;const SJe=Do.create,CJe=an.create;an.strictCreate;qw.create;const AJe=fF.create;Zw.create;Xd.create;Jw.create;const TJe=Qw.create;Yd.create;ex.create;tx.create;Ml.create;bl.create;qd.create;Ml.createWithPreprocess;var QE="Dialog",[OY,IY]=Qn(QE),[bTe,qa]=OY(QE),BY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=C.useRef(null),c=C.useRef(null),[d,f]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:a,caller:QE});return k.jsx(bTe,{scope:e,triggerRef:l,contentRef:c,contentId:ai(),titleId:ai(),descriptionId:ai(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};BY.displayName=QE;var FY="DialogTrigger",MY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(FY,r),a=Et(e,s.triggerRef);return k.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gF(s.open),...n,ref:a,onClick:Ce(t.onClick,s.onOpenToggle)})});MY.displayName=FY;var pF="DialogPortal",[wTe,kY]=OY(pF,{forceMount:void 0}),NY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=qa(pF,e);return k.jsx(wTe,{scope:e,forceMount:r,children:C.Children.map(n,o=>k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:o})}))})};NY.displayName=pF;var sx="DialogOverlay",LY=C.forwardRef((t,e)=>{const r=kY(sx,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=qa(sx,t.__scopeDialog);return a.modal?k.jsx(Jn,{present:n||a.open,children:k.jsx(ETe,{...s,ref:e})}):null});LY.displayName=sx;var xTe=Gd("DialogOverlay.RemoveScroll"),ETe=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(sx,r);return k.jsx(VE,{as:xTe,allowPinchZoom:!0,shards:[s.contentRef],children:k.jsx(rt.div,{"data-state":gF(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Zd="DialogContent",UY=C.forwardRef((t,e)=>{const r=kY(Zd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=qa(Zd,t.__scopeDialog);return k.jsx(Jn,{present:n||a.open,children:a.modal?k.jsx(STe,{...s,ref:e}):k.jsx(CTe,{...s,ref:e})})});UY.displayName=Zd;var STe=C.forwardRef((t,e)=>{const r=qa(Zd,t.__scopeDialog),n=C.useRef(null),s=Et(e,r.contentRef,n);return C.useEffect(()=>{const a=n.current;if(a)return jE(a)},[]),k.jsx($Y,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,a=>a.preventDefault())})}),CTe=C.forwardRef((t,e)=>{const r=qa(Zd,t.__scopeDialog),n=C.useRef(!1),s=C.useRef(!1);return k.jsx($Y,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),$Y=C.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=qa(Zd,r),c=C.useRef(null),d=Et(e,c);return FE(),k.jsxs(k.Fragment,{children:[k.jsx(Jy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:k.jsx(ff,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gF(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),k.jsxs(k.Fragment,{children:[k.jsx(TTe,{titleId:l.titleId}),k.jsx(DTe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mF="DialogTitle",jY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(mF,r);return k.jsx(rt.h2,{id:s.titleId,...n,ref:e})});jY.displayName=mF;var zY="DialogDescription",VY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(zY,r);return k.jsx(rt.p,{id:s.descriptionId,...n,ref:e})});VY.displayName=zY;var GY="DialogClose",HY=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=qa(GY,r);return k.jsx(rt.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});HY.displayName=GY;function gF(t){return t?"open":"closed"}var WY="DialogTitleWarning",[ATe,KY]=nwe(WY,{contentName:Zd,titleName:mF,docsSlug:"dialog"}),TTe=({titleId:t})=>{const e=KY(WY),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},PTe="DialogDescriptionWarning",DTe=({contentRef:t,descriptionId:e})=>{const r=KY(PTe),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return C.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},RTe=BY,OTe=MY,ITe=NY,BTe=LY,FTe=UY,MTe=jY,kTe=VY,XY=HY,NTe=Symbol.for("react.lazy"),ax=Ty[" use ".trim().toString()];function LTe(t){return typeof t=="object"&&t!==null&&"then"in t}function YY(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===NTe&&"_payload"in t&&LTe(t._payload)}function qY(t){const e=$Te(t),r=C.forwardRef((n,s)=>{let{children:a,...o}=n;YY(a)&&typeof ax=="function"&&(a=ax(a._payload));const l=C.Children.toArray(a),c=l.find(zTe);if(c){const d=c.props.children,f=l.map(m=>m===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:m);return k.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return k.jsx(e,{...o,ref:s,children:a})});return r.displayName="".concat(t,".Slot"),r}var UTe=qY("Slot");function $Te(t){const e=C.forwardRef((r,n)=>{let{children:s,...a}=r;if(YY(s)&&typeof ax=="function"&&(s=ax(s._payload)),C.isValidElement(s)){const o=GTe(s),l=VTe(a,s.props);return s.type!==C.Fragment&&(l.ref=n?Zy(n,o):o),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName="".concat(t,".SlotClone"),e}var jTe=Symbol("radix.slottable");function zTe(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jTe}function VTe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function GTe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var HTe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eS=HTe.reduce((t,e)=>{const r=qY("Primitive.".concat(e)),n=C.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(c,{...l,ref:a})});return n.displayName="Primitive.".concat(e),{...t,[e]:n}},{}),WTe="Label",ZY=C.forwardRef((t,e)=>k.jsx(eS.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZY.displayName=WTe;var PJe=ZY;function KTe(t,e=[]){let r=[];function n(a,o){const l=C.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=m=>{var h;const{scope:g,children:y,..._}=m,b=((h=g==null?void 0:g[t])==null?void 0:h[c])||l,u=C.useMemo(()=>_,Object.values(_));return k.jsx(b.Provider,{value:u,children:y})};d.displayName=a+"Provider";function f(m,g){var b;const y=((b=g==null?void 0:g[t])==null?void 0:b[c])||l,_=C.useContext(y);if(_)return _;if(o!==void 0)return o;throw new Error("`".concat(m,"` must be used within `").concat(a,"`"))}return[d,f]}const s=()=>{const a=r.map(o=>C.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return C.useMemo(()=>({["__scope".concat(t)]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,XTe(s,...e)]}function XTe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)["__scope".concat(d)];return{...l,...m}},{});return C.useMemo(()=>({["__scope".concat(e.scopeName)]:o}),[o])}};return r.scopeName=e.scopeName,r}var vF="Progress",yF=100,[YTe,DJe]=KTe(vF),[qTe,ZTe]=YTe(vF),JY=C.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=JTe,...o}=t;(s||s===0)&&!u4(s)&&console.error(QTe("".concat(s),"Progress"));const l=u4(s)?s:yF;n!==null&&!c4(n,l)&&console.error(ePe("".concat(n),"Progress"));const c=c4(n,l)?n:null,d=ox(c)?a(c,l):void 0;return k.jsx(qTe,{scope:r,value:c,max:l,children:k.jsx(eS.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ox(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":tq(c,l),"data-value":c!=null?c:void 0,"data-max":l,...o,ref:e})})});JY.displayName=vF;var QY="ProgressIndicator",eq=C.forwardRef((t,e)=>{var a;const{__scopeProgress:r,...n}=t,s=ZTe(QY,r);return k.jsx(eS.div,{"data-state":tq(s.value,s.max),"data-value":(a=s.value)!=null?a:void 0,"data-max":s.max,...n,ref:e})});eq.displayName=QY;function JTe(t,e){return"".concat(Math.round(t/e*100),"%")}function tq(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ox(t){return typeof t=="number"}function u4(t){return ox(t)&&!isNaN(t)&&t>0}function c4(t,e){return ox(t)&&!isNaN(t)&&t<=e&&t>=0}function QTe(t,e){return"Invalid prop `max` of value `".concat(t,"` supplied to `").concat(e,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(yF,"`.")}function ePe(t,e){return"Invalid prop `value` of value `".concat(t,"` supplied to `").concat(e,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(yF," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}var RJe=JY,OJe=eq,rq="AlertDialog",[tPe,IJe]=Qn(rq,[IY]),Vl=IY(),nq=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vl(e);return k.jsx(RTe,{...n,...r,modal:!0})};nq.displayName=rq;var rPe="AlertDialogTrigger",nPe=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(OTe,{...s,...n,ref:e})});nPe.displayName=rPe;var iPe="AlertDialogPortal",iq=t=>{const{__scopeAlertDialog:e,...r}=t,n=Vl(e);return k.jsx(ITe,{...n,...r})};iq.displayName=iPe;var sPe="AlertDialogOverlay",sq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(BTe,{...s,...n,ref:e})});sq.displayName=sPe;var Gh="AlertDialogContent",[aPe,oPe]=tPe(Gh),lPe=hW("AlertDialogContent"),aq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,a=Vl(r),o=C.useRef(null),l=Et(e,o),c=C.useRef(null);return k.jsx(ATe,{contentName:Gh,titleName:oq,docsSlug:"alert-dialog",children:k.jsx(aPe,{scope:r,cancelRef:c,children:k.jsxs(FTe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ce(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[k.jsx(lPe,{children:n}),k.jsx(cPe,{contentRef:o})]})})})});aq.displayName=Gh;var oq="AlertDialogTitle",lq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(MTe,{...s,...n,ref:e})});lq.displayName=oq;var uq="AlertDialogDescription",cq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(kTe,{...s,...n,ref:e})});cq.displayName=uq;var uPe="AlertDialogAction",dq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Vl(r);return k.jsx(XY,{...s,...n,ref:e})});dq.displayName=uPe;var fq="AlertDialogCancel",hq=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=oPe(fq,r),a=Vl(r),o=Et(e,s);return k.jsx(XY,{...a,...n,ref:o})});hq.displayName=fq;var cPe=({contentRef:t})=>{const e="`".concat(Gh,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(Gh,"` by passing a `").concat(uq,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(Gh,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return C.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},BJe=nq,FJe=iq,MJe=sq,kJe=aq,NJe=dq,LJe=hq,UJe=lq,$Je=cq;function _F(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dPe="VisuallyHidden",tS=C.forwardRef((t,e)=>k.jsx(rt.span,{...t,ref:e,style:{...pq,...t.style}}));tS.displayName=dPe;var fPe=tS,hPe=[" ","Enter","ArrowUp","ArrowDown"],pPe=[" ","Enter"],Jd="Select",[rS,nS,mPe]=zp(Jd),[Xp,jJe]=Qn(Jd,[mPe,xc]),iS=xc(),[gPe,Sc]=Xp(Jd),[vPe,yPe]=Xp(Jd),mq=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:g,required:y,form:_}=t,b=iS(e),[u,h]=C.useState(null),[p,v]=C.useState(null),[w,x]=C.useState(!1),S=zl(d),[E,P]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:a,caller:Jd}),[T,A]=wi({prop:o,defaultProp:l,onChange:c,caller:Jd}),R=C.useRef(null),D=u?_||!!u.closest("form"):!0,[O,I]=C.useState(new Set),M=Array.from(O).map(G=>G.props.value).join(";");return k.jsx(e_,{...b,children:k.jsxs(gPe,{required:y,scope:e,trigger:u,onTriggerChange:h,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:ai(),value:T,onValueChange:A,open:E,onOpenChange:P,dir:S,triggerPointerDownPosRef:R,disabled:g,children:[k.jsx(rS.Provider,{scope:e,children:k.jsx(vPe,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(G=>{I(j=>new Set(j).add(G))},[]),onNativeOptionRemove:C.useCallback(G=>{I(j=>{const $=new Set(j);return $.delete(G),$})},[]),children:r})}),D?k.jsxs($q,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:m,value:T,onChange:G=>A(G.target.value),disabled:g,form:_,children:[T===void 0?k.jsx("option",{value:""}):null,Array.from(O)]},M):null]})})};mq.displayName=Jd;var gq="SelectTrigger",vq=C.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=iS(r),o=Sc(gq,r),l=o.disabled||n,c=Et(e,o.onTriggerChange),d=nS(r),f=C.useRef("touch"),[m,g,y]=zq(b=>{const u=d().filter(v=>!v.disabled),h=u.find(v=>v.value===o.value),p=Vq(u,b,h);p!==void 0&&o.onValueChange(p.value)}),_=b=>{l||(o.onOpenChange(!0),y()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return k.jsx(t_,{asChild:!0,...a,children:k.jsx(rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":jq(o.value)?"":void 0,...s,ref:c,onClick:Ce(s.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&_(b)}),onPointerDown:Ce(s.onPointerDown,b=>{f.current=b.pointerType;const u=b.target;u.hasPointerCapture(b.pointerId)&&u.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:Ce(s.onKeyDown,b=>{const u=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(u&&b.key===" ")&&hPe.includes(b.key)&&(_(),b.preventDefault())})})})});vq.displayName=gq;var yq="SelectValue",_q=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=Sc(yq,r),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,m=Et(e,c.onValueNodeChange);return Zn(()=>{d(f)},[d,f]),k.jsx(rt.span,{...l,ref:m,style:{pointerEvents:"none"},children:jq(c.value)?k.jsx(k.Fragment,{children:o}):a})});_q.displayName=yq;var _Pe="SelectIcon",bq=C.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return k.jsx(rt.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});bq.displayName=_Pe;var bPe="SelectPortal",wq=t=>k.jsx(hf,{asChild:!0,...t});wq.displayName=bPe;var Qd="SelectContent",xq=C.forwardRef((t,e)=>{const r=Sc(Qd,t.__scopeSelect),[n,s]=C.useState();if(Zn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ul.createPortal(k.jsx(Eq,{scope:t.__scopeSelect,children:k.jsx(rS.Slot,{scope:t.__scopeSelect,children:k.jsx("div",{children:t.children})})}),a):null}return k.jsx(Sq,{...t,ref:e})});xq.displayName=Qd;var Ea=10,[Eq,Cc]=Xp(Qd),wPe="SelectContentImpl",xPe=Gd("SelectContent.RemoveScroll"),Sq=C.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:_,hideWhenDetached:b,avoidCollisions:u,...h}=t,p=Sc(Qd,r),[v,w]=C.useState(null),[x,S]=C.useState(null),E=Et(e,z=>w(z)),[P,T]=C.useState(null),[A,R]=C.useState(null),D=nS(r),[O,I]=C.useState(!1),M=C.useRef(!1);C.useEffect(()=>{if(v)return jE(v)},[v]),FE();const G=C.useCallback(z=>{const[V,...Y]=D().map(me=>me.ref.current),[ne]=Y.slice(-1),ie=document.activeElement;for(const me of z)if(me===ie||(me==null||me.scrollIntoView({block:"nearest"}),me===V&&x&&(x.scrollTop=0),me===ne&&x&&(x.scrollTop=x.scrollHeight),me==null||me.focus(),document.activeElement!==ie))return},[D,x]),j=C.useCallback(()=>G([P,v]),[G,P,v]);C.useEffect(()=>{O&&j()},[O,j]);const{onOpenChange:$,triggerPointerDownPosRef:H}=p;C.useEffect(()=>{if(v){let z={x:0,y:0};const V=ne=>{var ie,me,xe,we;z={x:Math.abs(Math.round(ne.pageX)-((me=(ie=H.current)==null?void 0:ie.x)!=null?me:0)),y:Math.abs(Math.round(ne.pageY)-((we=(xe=H.current)==null?void 0:xe.y)!=null?we:0))}},Y=ne=>{z.x<=10&&z.y<=10?ne.preventDefault():v.contains(ne.target)||$(!1),document.removeEventListener("pointermove",V),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",Y,{capture:!0})}}},[v,$,H]),C.useEffect(()=>{const z=()=>$(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[$]);const[K,re]=zq(z=>{const V=D().filter(ie=>!ie.disabled),Y=V.find(ie=>ie.ref.current===document.activeElement),ne=Vq(V,z,Y);ne&&setTimeout(()=>ne.ref.current.focus())}),fe=C.useCallback((z,V,Y)=>{const ne=!M.current&&!Y;(p.value!==void 0&&p.value===V||ne)&&(T(z),ne&&(M.current=!0))},[p.value]),ye=C.useCallback(()=>v==null?void 0:v.focus(),[v]),he=C.useCallback((z,V,Y)=>{const ne=!M.current&&!Y;(p.value!==void 0&&p.value===V||ne)&&R(z)},[p.value]),ue=n==="popper"?rR:Cq,Z=ue===rR?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:_,hideWhenDetached:b,avoidCollisions:u}:{};return k.jsx(Eq,{scope:r,content:v,viewport:x,onViewportChange:S,itemRefCallback:fe,selectedItem:P,onItemLeave:ye,itemTextRefCallback:he,focusSelectedItem:j,selectedItemText:A,position:n,isPositioned:O,searchRef:K,children:k.jsx(VE,{as:xPe,allowPinchZoom:!0,children:k.jsx(Jy,{asChild:!0,trapped:p.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Ce(s,z=>{var V;(V=p.trigger)==null||V.focus({preventScroll:!0}),z.preventDefault()}),children:k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:k.jsx(ue,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:z=>z.preventDefault(),...h,...Z,onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:Ce(h.onKeyDown,z=>{const V=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!V&&z.key.length===1&&re(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ne=D().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ie=z.target,me=ne.indexOf(ie);ne=ne.slice(me+1)}setTimeout(()=>G(ne)),z.preventDefault()}})})})})})})});Sq.displayName=wPe;var EPe="SelectItemAlignedPosition",Cq=C.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=Sc(Qd,r),o=Cc(Qd,r),[l,c]=C.useState(null),[d,f]=C.useState(null),m=Et(e,E=>f(E)),g=nS(r),y=C.useRef(!1),_=C.useRef(!0),{viewport:b,selectedItem:u,selectedItemText:h,focusSelectedItem:p}=o,v=C.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&b&&u&&h){const E=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),A=h.getBoundingClientRect();if(a.dir!=="rtl"){const ie=A.left-P.left,me=T.left-ie,xe=E.left-me,we=E.width+xe,Ee=Math.max(we,P.width),tt=window.innerWidth-Ea,xt=qv(me,[Ea,Math.max(Ea,tt-Ee)]);l.style.minWidth=we+"px",l.style.left=xt+"px"}else{const ie=P.right-A.right,me=window.innerWidth-T.right-ie,xe=window.innerWidth-E.right-me,we=E.width+xe,Ee=Math.max(we,P.width),tt=window.innerWidth-Ea,xt=qv(me,[Ea,Math.max(Ea,tt-Ee)]);l.style.minWidth=we+"px",l.style.right=xt+"px"}const R=g(),D=window.innerHeight-Ea*2,O=b.scrollHeight,I=window.getComputedStyle(d),M=parseInt(I.borderTopWidth,10),G=parseInt(I.paddingTop,10),j=parseInt(I.borderBottomWidth,10),$=parseInt(I.paddingBottom,10),H=M+G+O+$+j,K=Math.min(u.offsetHeight*5,H),re=window.getComputedStyle(b),fe=parseInt(re.paddingTop,10),ye=parseInt(re.paddingBottom,10),he=E.top+E.height/2-Ea,ue=D-he,Z=u.offsetHeight/2,z=u.offsetTop+Z,V=M+G+z,Y=H-V;if(V<=he){const ie=R.length>0&&u===R[R.length-1].ref.current;l.style.bottom="0px";const me=d.clientHeight-b.offsetTop-b.offsetHeight,xe=Math.max(ue,Z+(ie?ye:0)+me+j),we=V+xe;l.style.height=we+"px"}else{const ie=R.length>0&&u===R[0].ref.current;l.style.top="0px";const xe=Math.max(he,M+b.offsetTop+(ie?fe:0)+Z)+Y;l.style.height=xe+"px",b.scrollTop=V-he+b.offsetTop}l.style.margin="".concat(Ea,"px 0"),l.style.minHeight=K+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,l,d,b,u,h,a.dir,n]);Zn(()=>v(),[v]);const[w,x]=C.useState();Zn(()=>{d&&x(window.getComputedStyle(d).zIndex)},[d]);const S=C.useCallback(E=>{E&&_.current===!0&&(v(),p==null||p(),_.current=!1)},[v,p]);return k.jsx(CPe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:k.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:k.jsx(rt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Cq.displayName=EPe;var SPe="SelectPopperPosition",rR=C.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ea,...a}=t,o=iS(r);return k.jsx(UE,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rR.displayName=SPe;var[CPe,bF]=Xp(Qd,{}),nR="SelectViewport",Aq=C.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=Cc(nR,r),o=bF(nR,r),l=Et(e,a.onViewportChange),c=C.useRef(0);return k.jsxs(k.Fragment,{children:[k.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),k.jsx(rS.Slot,{scope:r,children:k.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&m){const y=Math.abs(c.current-f.scrollTop);if(y>0){const _=window.innerHeight-Ea*2,b=parseFloat(m.style.minHeight),u=parseFloat(m.style.height),h=Math.max(b,u);if(h<_){const p=h+y,v=Math.min(_,p),w=p-v;m.style.height=v+"px",m.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Aq.displayName=nR;var Tq="SelectGroup",[APe,TPe]=Xp(Tq),Pq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ai();return k.jsx(APe,{scope:r,id:s,children:k.jsx(rt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Pq.displayName=Tq;var Dq="SelectLabel",Rq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=TPe(Dq,r);return k.jsx(rt.div,{id:s.id,...n,ref:e})});Rq.displayName=Dq;var lx="SelectItem",[PPe,Oq]=Xp(lx),Iq=C.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=Sc(lx,r),c=Cc(lx,r),d=l.value===n,[f,m]=C.useState(a!=null?a:""),[g,y]=C.useState(!1),_=Et(e,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,n,s)}),b=ai(),u=C.useRef("touch"),h=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return k.jsx(PPe,{scope:r,value:n,disabled:s,textId:b,isSelected:d,onItemTextChange:C.useCallback(p=>{m(v=>{var w;return v||((w=p==null?void 0:p.textContent)!=null?w:"").trim()})},[]),children:k.jsx(rS.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:k.jsx(rt.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:Ce(o.onFocus,()=>y(!0)),onBlur:Ce(o.onBlur,()=>y(!1)),onClick:Ce(o.onClick,()=>{u.current!=="mouse"&&h()}),onPointerUp:Ce(o.onPointerUp,()=>{u.current==="mouse"&&h()}),onPointerDown:Ce(o.onPointerDown,p=>{u.current=p.pointerType}),onPointerMove:Ce(o.onPointerMove,p=>{var v;u.current=p.pointerType,s?(v=c.onItemLeave)==null||v.call(c):u.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ce(o.onKeyDown,p=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&p.key===" "||(pPe.includes(p.key)&&h(),p.key===" "&&p.preventDefault())})})})})});Iq.displayName=lx;var dg="SelectItemText",Bq=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=Sc(dg,r),l=Cc(dg,r),c=Oq(dg,r),d=yPe(dg,r),[f,m]=C.useState(null),g=Et(e,h=>m(h),c.onItemTextChange,h=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,h,c.value,c.disabled)}),y=f==null?void 0:f.textContent,_=C.useMemo(()=>k.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:b,onNativeOptionRemove:u}=d;return Zn(()=>(b(_),()=>u(_)),[b,u,_]),k.jsxs(k.Fragment,{children:[k.jsx(rt.span,{id:c.textId,...a,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ul.createPortal(a.children,o.valueNode):null]})});Bq.displayName=dg;var Fq="SelectItemIndicator",Mq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Oq(Fq,r).isSelected?k.jsx(rt.span,{"aria-hidden":!0,...n,ref:e}):null});Mq.displayName=Fq;var iR="SelectScrollUpButton",kq=C.forwardRef((t,e)=>{const r=Cc(iR,t.__scopeSelect),n=bF(iR,t.__scopeSelect),[s,a]=C.useState(!1),o=Et(e,n.onScrollButtonChange);return Zn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?k.jsx(Lq,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kq.displayName=iR;var sR="SelectScrollDownButton",Nq=C.forwardRef((t,e)=>{const r=Cc(sR,t.__scopeSelect),n=bF(sR,t.__scopeSelect),[s,a]=C.useState(!1),o=Et(e,n.onScrollButtonChange);return Zn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?k.jsx(Lq,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Nq.displayName=sR;var Lq=C.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=Cc("SelectScrollButton",r),o=C.useRef(null),l=nS(r),c=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>c(),[c]),Zn(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),k.jsx(rt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{c()})})}),DPe="SelectSeparator",Uq=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return k.jsx(rt.div,{"aria-hidden":!0,...n,ref:e})});Uq.displayName=DPe;var aR="SelectArrow",RPe=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=iS(r),a=Sc(aR,r),o=Cc(aR,r);return a.open&&o.position==="popper"?k.jsx($E,{...s,...n,ref:e}):null});RPe.displayName=aR;var OPe="SelectBubbleInput",$q=C.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=C.useRef(null),a=Et(n,s),o=_F(e);return C.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),k.jsx(rt.select,{...r,style:{...pq,...r.style},ref:a,defaultValue:e})});$q.displayName=OPe;function jq(t){return t===""||t===void 0}function zq(t){const e=ln(t),r=C.useRef(""),n=C.useRef(0),s=C.useCallback(o=>{const l=r.current+o;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Vq(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=IPe(t,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function IPe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var zJe=mq,VJe=vq,GJe=_q,HJe=bq,WJe=wq,KJe=xq,XJe=Aq,YJe=Pq,qJe=Rq,ZJe=Iq,JJe=Bq,QJe=Mq,eQe=kq,tQe=Nq,rQe=Uq,sS="Tabs",[BPe,nQe]=Qn(sS,[$o]),Gq=$o(),[FPe,wF]=BPe(sS),Hq=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=zl(l),[m,g]=wi({prop:n,onChange:s,defaultProp:a!=null?a:"",caller:sS});return k.jsx(FPe,{scope:r,baseId:ai(),value:m,onValueChange:g,orientation:o,dir:f,activationMode:c,children:k.jsx(rt.div,{dir:f,"data-orientation":o,...d,ref:e})})});Hq.displayName=sS;var Wq="TabsList",Kq=C.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=wF(Wq,r),o=Gq(r);return k.jsx(n_,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:k.jsx(rt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});Kq.displayName=Wq;var Xq="TabsTrigger",Yq=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=wF(Xq,r),l=Gq(r),c=Jq(o.baseId,n),d=Qq(o.baseId,n),f=n===o.value;return k.jsx(Hp,{asChild:!0,...l,focusable:!s,active:f,children:k.jsx(rt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Ce(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Ce(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Ce(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(n)})})})});Yq.displayName=Xq;var qq="TabsContent",Zq=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=wF(qq,r),c=Jq(l.baseId,n),d=Qq(l.baseId,n),f=n===l.value,m=C.useRef(f);return C.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),k.jsx(Jn,{present:s||f,children:({present:g})=>k.jsx(rt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});Zq.displayName=qq;function Jq(t,e){return"".concat(t,"-trigger-").concat(e)}function Qq(t,e){return"".concat(t,"-content-").concat(e)}var iQe=Hq,sQe=Kq,aQe=Yq,oQe=Zq;const oR=new Map,V0=t=>{const e=oR.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},MPe=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=oR.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return oR.set(r.name,s),{type:"tracked",store:t,...s}},kPe=(t,e={})=>(r,n,s)=>{const{enabled:a,anonymousActionType:o,store:l,...c}=e;let d;try{d=(a!=null?a:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(b){}if(!d)return t(r,n,s);const{connection:f,...m}=MPe(l,d,c);let g=!0;s.setState=(b,u,h)=>{const p=r(b,u);if(!g)return p;const v=h===void 0?{type:o||"anonymous"}:typeof h=="string"?{type:h}:h;return l===void 0?(f==null||f.send(v,n()),p):(f==null||f.send({...v,type:"".concat(l,"/").concat(v.type)},{...V0(c.name),[l]:s.getState()}),p)};const y=(...b)=>{const u=g;g=!1,r(...b),g=u},_=t(s.setState,n,s);if(m.type==="untracked"?f==null||f.init(_):(m.stores[m.store]=s,f==null||f.init(Object.fromEntries(Object.entries(m.stores).map(([b,u])=>[b,b===m.store?_:u.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let b=!1;const u=s.dispatch;s.dispatch=(...h)=>{u(...h)}}return f.subscribe(b=>{var u;switch(b.type){case"ACTION":if(typeof b.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return lT(b.payload,h=>{if(h.type==="__setState"){if(l===void 0){y(h.state);return}Object.keys(h.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const p=h.state[l];if(p==null)return;JSON.stringify(s.getState())!==JSON.stringify(p)&&y(p);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(h)});case"DISPATCH":switch(b.payload.type){case"RESET":return y(_),l===void 0?f==null?void 0:f.init(s.getState()):f==null?void 0:f.init(V0(c.name));case"COMMIT":if(l===void 0){f==null||f.init(s.getState());return}return f==null?void 0:f.init(V0(c.name));case"ROLLBACK":return lT(b.state,h=>{if(l===void 0){y(h),f==null||f.init(s.getState());return}y(h[l]),f==null||f.init(V0(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return lT(b.state,h=>{if(l===void 0){y(h);return}JSON.stringify(s.getState())!==JSON.stringify(h[l])&&y(h[l])});case"IMPORT_STATE":{const{nextLiftedState:h}=b.payload,p=(u=h.computedStates.slice(-1)[0])==null?void 0:u.state;if(!p)return;y(l===void 0?p:p[l]),f==null||f.send(null,h);return}case"PAUSE_RECORDING":return g=!g}return}}),_},NPe=kPe,lT=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function LPe(t,e){let r;try{r=t()}catch(s){return}return{getItem:s=>{var a;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,e==null?void 0:e.replacer)),removeItem:s=>r.removeItem(s)}}const dy=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return dy(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return dy(n)(r)}}}},UPe=(t,e)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,h)=>({...h,...u}),...e},o=!1;const l=new Set,c=new Set;let d;try{d=a.getStorage()}catch(u){}if(!d)return t((...u)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),r(...u)},n,s);const f=dy(a.serialize),m=()=>{const u=a.partialize({...n()});let h;const p=f({state:u,version:a.version}).then(v=>d.setItem(a.name,v)).catch(v=>{h=v});if(h)throw h;return p},g=s.setState;s.setState=(u,h)=>{g(u,h),m()};const y=t((...u)=>{r(...u),m()},n,s);let _;const b=()=>{var u;if(!d)return;o=!1,l.forEach(p=>p(n()));const h=((u=a.onRehydrateStorage)==null?void 0:u.call(a,n()))||void 0;return dy(d.getItem.bind(d))(a.name).then(p=>{if(p)return a.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return a.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var v;return _=a.merge(p,(v=n())!=null?v:y),r(_,!0),m()}).then(()=>{h==null||h(_,void 0),o=!0,c.forEach(p=>p(_))}).catch(p=>{h==null||h(void 0,p)})};return s.persist={setOptions:u=>{a={...a,...u},u.getStorage&&(d=u.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},b(),_||y},$Pe=(t,e)=>(r,n,s)=>{let a={storage:LPe(()=>localStorage),partialize:b=>b,version:0,merge:(b,u)=>({...u,...b}),...e},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return t((...b)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),r(...b)},n,s);const f=()=>{const b=a.partialize({...n()});return d.setItem(a.name,{state:b,version:a.version})},m=s.setState;s.setState=(b,u)=>{m(b,u),f()};const g=t((...b)=>{r(...b),f()},n,s);s.getInitialState=()=>g;let y;const _=()=>{var b,u;if(!d)return;o=!1,l.forEach(p=>{var v;return p((v=n())!=null?v:g)});const h=((u=a.onRehydrateStorage)==null?void 0:u.call(a,(b=n())!=null?b:g))||void 0;return dy(d.getItem.bind(d))(a.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return[!0,a.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var v;const[w,x]=p;if(y=a.merge(x,(v=n())!=null?v:g),r(y,!0),w)return f()}).then(()=>{h==null||h(y,void 0),y=n(),o=!0,c.forEach(p=>p(y))}).catch(p=>{h==null||h(void 0,p)})};return s.persist={setOptions:b=>{a={...a,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},a.skipHydration||_(),y||g},jPe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?UPe(t,e):$Pe(t,e),zPe=jPe,lR="RFC3986",uR={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},VPe="RFC1738",GPe=Array.isArray,ro=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),uT=1024,HPe=(t,e,r,n,s)=>{if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<a.length;l+=uT){const c=a.length>=uT?a.slice(l,l+uT):a,d=[];for(let f=0;f<c.length;++f){let m=c.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===VPe&&(m===40||m===41)){d[d.length]=c.charAt(f);continue}if(m<128){d[d.length]=ro[m];continue}if(m<2048){d[d.length]=ro[192|m>>6]+ro[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=ro[224|m>>12]+ro[128|m>>6&63]+ro[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|c.charCodeAt(f)&1023),d[d.length]=ro[240|m>>18]+ro[128|m>>12&63]+ro[128|m>>6&63]+ro[128|m&63]}o+=d.join("")}return o};function WPe(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function d4(t,e){if(GPe(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}const KPe=Object.prototype.hasOwnProperty,eZ={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},po=Array.isArray,XPe=Array.prototype.push,tZ=function(t,e){XPe.apply(t,po(e)?e:[e])},YPe=Date.prototype.toISOString,Pn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:HPe,encodeValuesOnly:!1,format:lR,formatter:uR[lR],indices:!1,serializeDate(t){return YPe.call(t)},skipNulls:!1,strictNullHandling:!1};function qPe(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const cT={};function rZ(t,e,r,n,s,a,o,l,c,d,f,m,g,y,_,b,u,h){let p=t,v=h,w=0,x=!1;for(;(v=v.get(cT))!==void 0&&!x;){const A=v.get(t);if(w+=1,typeof A<"u"){if(A===w)throw new RangeError("Cyclic object value");x=!0}typeof v.get(cT)>"u"&&(w=0)}if(typeof d=="function"?p=d(e,p):p instanceof Date?p=g==null?void 0:g(p):r==="comma"&&po(p)&&(p=d4(p,function(A){return A instanceof Date?g==null?void 0:g(A):A})),p===null){if(a)return c&&!b?c(e,Pn.encoder,u,"key",y):e;p=""}if(qPe(p)||WPe(p)){if(c){const A=b?e:c(e,Pn.encoder,u,"key",y);return[(_==null?void 0:_(A))+"="+(_==null?void 0:_(c(p,Pn.encoder,u,"value",y)))]}return[(_==null?void 0:_(e))+"="+(_==null?void 0:_(String(p)))]}const S=[];if(typeof p>"u")return S;let E;if(r==="comma"&&po(p))b&&c&&(p=d4(p,c)),E=[{value:p.length>0?p.join(",")||null:void 0}];else if(po(d))E=d;else{const A=Object.keys(p);E=f?A.sort(f):A}const P=l?String(e).replace(/\./g,"%2E"):String(e),T=n&&po(p)&&p.length===1?P+"[]":P;if(s&&po(p)&&p.length===0)return T+"[]";for(let A=0;A<E.length;++A){const R=E[A],D=typeof R=="object"&&typeof R.value<"u"?R.value:p[R];if(o&&D===null)continue;const O=m&&l?R.replace(/\./g,"%2E"):R,I=po(p)?typeof r=="function"?r(T,O):T:T+(m?"."+O:"["+O+"]");h.set(t,w);const M=new WeakMap;M.set(cT,h),tZ(S,rZ(D,I,r,n,s,a,o,l,r==="comma"&&b&&po(p)?null:c,d,f,m,g,y,_,b,u,M))}return S}function ZPe(t=Pn){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Pn.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=lR;if(typeof t.format<"u"){if(!KPe.call(uR,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=uR[r];let s=Pn.filter;(typeof t.filter=="function"||po(t.filter))&&(s=t.filter);let a;if(t.arrayFormat&&t.arrayFormat in eZ?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Pn.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Pn.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Pn.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Pn.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Pn.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Pn.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Pn.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Pn.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Pn.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Pn.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Pn.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Pn.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Pn.strictNullHandling}}function JPe(t,e={}){let r=t;const n=ZPe(e);let s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):po(n.filter)&&(a=n.filter,s=a);const o=[];if(typeof r!="object"||r===null)return"";const l=eZ[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const d=new WeakMap;for(let g=0;g<s.length;++g){const y=s[g];n.skipNulls&&r[y]===null||tZ(o,rZ(r[y],y,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}const f=o.join(n.delimiter);let m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""}const rh="4.104.0";let f4=!1,Vg,nZ,iZ,cR,sZ,aZ,oZ,lZ,uZ;function QPe(t,e={auto:!1}){if(f4)throw new Error("you must `import 'openai/shims/".concat(t.kind,"'` before importing anything else from openai"));if(Vg)throw new Error("can't `import 'openai/shims/".concat(t.kind,"'` after `import 'openai/shims/").concat(Vg,"'`"));f4=e.auto,Vg=t.kind,nZ=t.fetch,t.Request,t.Response,t.Headers,iZ=t.FormData,t.Blob,cR=t.File,sZ=t.ReadableStream,aZ=t.getMultipartRequestOptions,oZ=t.getDefaultAgent,lZ=t.fileFromPath,uZ=t.isFsReadStream}class eDe{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function tDe({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,s,a;try{r=fetch,n=Request,s=Response,a=Headers}catch(o){throw new Error("this environment is missing the following Web Fetch API type: ".concat(o.message,". ").concat(e))}return{kind:"web",fetch:r,Request:n,Response:s,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'FormData' is undefined. ".concat(e))}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'Blob' is undefined. ".concat(e))}},File:typeof File<"u"?File:class{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is undefined. ".concat(e))}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error("streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ".concat(e))}},getMultipartRequestOptions:async(o,l)=>({...l,body:new eDe(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const cZ=()=>{Vg||QPe(tDe(),{auto:!0})};cZ();class St extends Error{}class li extends St{constructor(e,r,n,s){super("".concat(li.makeMessage(e,r,n))),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=r;const a=r;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(e,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&s?"".concat(e," ").concat(s):e?"".concat(e," status code (no body)"):s||"(no status code or body)"}static generate(e,r,n,s){if(!e||!s)return new aS({message:n,cause:fR(r)});const a=r==null?void 0:r.error;return e===400?new dZ(e,a,n,s):e===401?new fZ(e,a,n,s):e===403?new hZ(e,a,n,s):e===404?new pZ(e,a,n,s):e===409?new mZ(e,a,n,s):e===422?new gZ(e,a,n,s):e===429?new vZ(e,a,n,s):e>=500?new yZ(e,a,n,s):new li(e,a,n,s)}}class aa extends li{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class aS extends li{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class xF extends aS{constructor({message:e}={}){super({message:e!=null?e:"Request timed out."})}}class dZ extends li{}class fZ extends li{}class hZ extends li{}class pZ extends li{}class mZ extends li{}class gZ extends li{}class vZ extends li{}class yZ extends li{}class _Z extends St{constructor(){super("Could not parse response content as the length limit was reached")}}class bZ extends St{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var G0=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},zc=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ds;class oS{constructor(){ds.set(this,void 0),this.buffer=new Uint8Array,G0(this,ds,null,"f")}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const s=[];let a;for(;(a=rDe(this.buffer,zc(this,ds,"f")))!=null;){if(a.carriage&&zc(this,ds,"f")==null){G0(this,ds,a.index,"f");continue}if(zc(this,ds,"f")!=null&&(a.index!==zc(this,ds,"f")+1||a.carriage)){s.push(this.decodeText(this.buffer.slice(0,zc(this,ds,"f")-1))),this.buffer=this.buffer.slice(zc(this,ds,"f")),G0(this,ds,null,"f");continue}const o=zc(this,ds,"f")!==null?a.preceding-1:a.preceding,l=this.decodeText(this.buffer.slice(0,o));s.push(l),this.buffer=this.buffer.slice(a.index),G0(this,ds,null,"f")}return s}decodeText(e){var r;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new St("Unexpected: received non-Uint8Array (".concat(e.constructor.name,') stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.'))}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(r=this.textDecoder)!=null||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new St("Unexpected: received non-Uint8Array/ArrayBuffer (".concat(e.constructor.name,") in a web platform. Please report this error."))}throw new St("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}ds=new WeakMap;oS.NEWLINE_CHARS=new Set(["\n","\r"]);oS.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rDe(t,e){for(let s=e!=null?e:0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function nDe(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}function wZ(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class So{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const o of iDe(e,r))if(!a){if(o.data.startsWith("[DONE]")){a=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(l&&l.error)throw new li(void 0,l.error,void 0,PZ(e.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(o.event=="error")throw new li(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||r.abort()}}return new So(s,r)}static fromReadableStream(e,r){let n=!1;async function*s(){const o=new oS,l=wZ(e);for await(const c of l)for(const d of o.decode(c))yield d;for(const c of o.flush())yield c}async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||r.abort()}}return new So(a,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),s=a=>({next:()=>{if(a.length===0){const o=n.next();e.push(o),r.push(o)}return a.shift()}});return[new So(()=>s(e),this.controller),new So(()=>s(r),this.controller)]}toReadableStream(){const e=this;let r;const n=new TextEncoder;return new sZ({async start(){r=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:o}=await r.next();if(o)return s.close();const l=n.encode(JSON.stringify(a)+"\n");s.enqueue(l)}catch(a){s.error(a)}},async cancel(){var s;await((s=r.return)==null?void 0:s.call(r))}})}}async function*iDe(t,e){if(!t.body)throw e.abort(),new St("Attempted to iterate over a response with no body");const r=new aDe,n=new oS,s=wZ(t.body);for await(const a of sDe(s))for(const o of n.decode(a)){const l=r.decode(o);l&&(yield l)}for(const a of n.flush()){const o=r.decode(a);o&&(yield o)}}async function*sDe(t){let e=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let s=new Uint8Array(e.length+n.length);s.set(e),s.set(n,e.length),e=s;let a;for(;(a=nDe(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}class aDe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,s]=oDe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function oDe(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}const xZ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",EZ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&lS(t),lS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",lDe=t=>EZ(t)||xZ(t)||uZ(t);async function SZ(t,e,r){var s,a,o;if(t=await t,EZ(t))return t;if(xZ(t)){const l=await t.blob();e||(e=(s=new URL(t.url).pathname.split(/[\\/]/).pop())!=null?s:"unknown_file");const c=lS(l)?[await l.arrayBuffer()]:[l];return new cR(c,e,r)}const n=await uDe(t);if(e||(e=(a=dDe(t))!=null?a:"unknown_file"),!(r!=null&&r.type)){const l=(o=n[0])==null?void 0:o.type;typeof l=="string"&&(r={...r,type:l})}return new cR(n,e,r)}async function uDe(t){var r;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(lS(t))e.push(await t.arrayBuffer());else if(fDe(t))for await(const n of t)e.push(n);else throw new Error("Unexpected data type: ".concat(typeof t,"; constructor: ").concat((r=t==null?void 0:t.constructor)==null?void 0:r.name,"; props: ").concat(cDe(t)));return e}function cDe(t){const e=Object.getOwnPropertyNames(t);return"[".concat(e.map(r=>'"'.concat(r,'"')).join(", "),"]")}function dDe(t){var e;return dT(t.name)||dT(t.filename)||((e=dT(t.path))==null?void 0:e.split(/[\\/]/).pop())}const dT=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},fDe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",h4=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",ef=async t=>{const e=await hDe(t.body);return aZ(e,t)},hDe=async t=>{const e=new iZ;return await Promise.all(Object.entries(t||{}).map(([r,n])=>dR(e,r,n))),e},dR=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError('Received null for "'.concat(e,"\"; to pass null in FormData, you must use the string 'null'"));if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(lDe(r)){const n=await SZ(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>dR(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>dR(t,"".concat(e,"[").concat(n,"]"),s)));else throw new TypeError("Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ".concat(r," instead"))}};var pDe=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},mDe=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},H0;cZ();async function CZ(t){var o;const{response:e}=t;if(t.options.stream)return Wu("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):So.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const r=e.headers.get("content-type"),n=(o=r==null?void 0:r.split(";")[0])==null?void 0:o.trim();if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.endsWith("+json"))){const l=await e.json();return Wu("response",e.status,e.url,e.headers,l),AZ(l,e)}const a=await e.text();return Wu("response",e.status,e.url,e.headers,a),a}function AZ(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class uS extends Promise{constructor(e,r=CZ){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new uS(this.responsePromise,async r=>AZ(e(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class gDe{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:s,fetch:a}){this.baseURL=e,this.maxRetries=fT("maxRetries",r),this.timeout=fT("timeout",n),this.httpAgent=s,this.fetch=a!=null?a:nZ}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...wDe(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return"stainless-node-retry-".concat(CDe())}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async s=>{const a=s&&lS(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:r,...s,body:a}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:r=0}={}){var b,u,h,p,v,w;const n={...e},{method:s,path:a,query:o,headers:l={}}=n,c=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:h4(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,d=this.calculateContentLength(c),f=this.buildURL(a,o);"timeout"in n&&fT("timeout",n.timeout),n.timeout=(b=n.timeout)!=null?b:this.timeout;const m=(h=(u=n.httpAgent)!=null?u:this.httpAgent)!=null?h:oZ(f),g=n.timeout+1e3;typeof((p=m==null?void 0:m.options)==null?void 0:p.timeout)=="number"&&g>((v=m.options.timeout)!=null?v:0)&&(m.options.timeout=g),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const y=this.buildHeaders({options:n,headers:l,contentLength:d,retryCount:r});return{req:{method:s,...c&&{body:c},headers:y,...m&&{agent:m},signal:(w=n.signal)!=null?w:null},url:f,timeout:n.timeout}}buildHeaders({options:e,headers:r,contentLength:n,retryCount:s}){const a={};n&&(a["content-length"]=n);const o=this.defaultHeaders(e);return g4(a,o),g4(a,r),h4(e.body)&&Vg!=="node"&&delete a["content-type"],X0(o,"x-stainless-retry-count")===void 0&&X0(r,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(s)),X0(o,"x-stainless-timeout")===void 0&&X0(r,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(a,r),a}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,s){return li.generate(e,r,n,s)}request(e,r=null){return new uS(this.makeRequest(e,r))}async makeRequest(e,r){var m,g,y;const n=await e,s=(m=n.maxRetries)!=null?m:this.maxRetries;r==null&&(r=s),await this.prepareOptions(n);const{req:a,url:o,timeout:l}=this.buildRequest(n,{retryCount:s-r});if(await this.prepareRequest(a,{url:o,options:n}),Wu("request",o,n,a.headers),(g=n.signal)!=null&&g.aborted)throw new aa;const c=new AbortController,d=await this.fetchWithTimeout(o,a,l,c).catch(fR);if(d instanceof Error){if((y=n.signal)!=null&&y.aborted)throw new aa;if(r)return this.retryRequest(n,r);throw d.name==="AbortError"?new xF:new aS({cause:d})}const f=PZ(d.headers);if(!d.ok){if(r&&this.shouldRetry(d)){const v="retrying, ".concat(r," attempts remaining");return Wu("response (error; ".concat(v,")"),d.status,o,f),this.retryRequest(n,r,f)}const _=await d.text().catch(v=>fR(v).message),b=xDe(_),u=b?void 0:_,h=r?"(error; no more retries left)":"(error; not retryable)";throw Wu("response (error; ".concat(h,")"),d.status,o,f,u),this.makeStatusError(d.status,b,u,f)}return{response:d,options:n,controller:c}}requestAPIList(e,r){const n=this.makeRequest(r,null);return new vDe(this,n,e)}buildURL(e,r){const n=SDe(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return DZ(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n));if(n===null)return"".concat(encodeURIComponent(r),"=");throw new St("Cannot stringify type ".concat(typeof n,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))}).join("&")}async fetchWithTimeout(e,r,n,s){const{signal:a,...o}=r||{};a&&a.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),n),c={signal:s.signal,...o};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,e,c).finally(()=>{clearTimeout(l)})}shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){var l;let s;const a=n==null?void 0:n["retry-after-ms"];if(a){const c=parseFloat(a);Number.isNaN(c)||(s=c)}const o=n==null?void 0:n["retry-after"];if(o&&!s){const c=parseFloat(o);Number.isNaN(c)?s=Date.parse(o)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=(l=e.maxRetries)!=null?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,c)}return await f_(s),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){const a=r-e,o=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(rh)}}class TZ{constructor(e,r,n,s){H0.set(this,void 0),pDe(this,H0,e,"f"),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new St("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){const n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(const[s,a]of n)e.url.searchParams.set(s,a);r.query=void 0,r.path=e.url.toString()}return await mDe(this,H0,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(H0=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const r of e.getPaginatedItems())yield r}}class vDe extends uS{constructor(e,r,n){super(r,async s=>new n(e,s.response,await CZ(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const r of e)yield r}}const PZ=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){const n=r.toString();return e[n.toLowerCase()]||e[n]}}),yDe={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},rn=t=>typeof t=="object"&&t!==null&&!DZ(t)&&Object.keys(t).every(e=>RZ(yDe,e)),_De=()=>{var e,r;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":m4(Deno.build.os),"X-Stainless-Arch":p4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(r=(e=Deno.version)==null?void 0:e.deno)!=null?r:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":m4(process.platform),"X-Stainless-Arch":p4(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=bDe();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(t.browser),"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bDe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,a=n[2]||0,o=n[3]||0;return{browser:e,version:"".concat(s,".").concat(a,".").concat(o)}}}return null}const p4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?"other:".concat(t):"unknown",m4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?"Other:".concat(t):"Unknown");let W0;const wDe=()=>W0!=null?W0:W0=_De(),xDe=t=>{try{return JSON.parse(t)}catch(e){return}},EDe=/^[a-z][a-z0-9+.-]*:/i,SDe=t=>EDe.test(t),f_=t=>new Promise(e=>setTimeout(e,t)),fT=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new St("".concat(t," must be an integer"));if(e<0)throw new St("".concat(t," must be a positive integer"));return e},fR=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch(e){}return new Error(t)},K0=t=>{var e,r,n,s,a,o;if(typeof process<"u")return(n=(r=(e=process.env)==null?void 0:e[t])==null?void 0:r.trim())!=null?n:void 0;if(typeof Deno<"u")return(o=(a=(s=Deno.env)==null?void 0:s.get)==null?void 0:a.call(s,t))==null?void 0:o.trim()};function DZ(t){if(!t)return!0;for(const e in t)return!1;return!0}function RZ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function g4(t,e){for(const r in e){if(!RZ(e,r))continue;const n=r.toLowerCase();if(!n)continue;const s=e[r];s===null?delete t[n]:s!==void 0&&(t[n]=s)}}const v4=new Set(["authorization","api-key"]);function Wu(t,...e){var r;if(typeof process<"u"&&((r=process==null?void 0:process.env)==null?void 0:r.DEBUG)==="true"){const n=e.map(s=>{if(!s)return s;if(s.headers){const o={...s,headers:{...s.headers}};for(const l in s.headers)v4.has(l.toLowerCase())&&(o.headers[l]="REDACTED");return o}let a=null;for(const o in s)v4.has(o.toLowerCase())&&(a!=null||(a={...s}),a[o]="REDACTED");return a!=null?a:s});console.log("OpenAI:DEBUG:".concat(t),...n)}}const CDe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),ADe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",TDe=t=>typeof(t==null?void 0:t.get)=="function",X0=(t,e)=>{var n;const r=e.toLowerCase();if(TDe(t)){const s=((n=e[0])==null?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,o,l)=>o+l.toUpperCase());for(const a of[e,r,e.toUpperCase(),s]){const o=t.get(a);if(o)return o}}for(const[s,a]of Object.entries(t))if(s.toLowerCase()===r)return Array.isArray(a)?(a.length<=1||console.warn("Received ".concat(a.length," entries for the ").concat(e," header, using the first entry.")),a[0]):a},PDe=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}};function hT(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class cS extends TZ{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}nextPageParams(){return null}nextPageInfo(){return null}}class Bn extends TZ{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){var e;return(e=this.data)!=null?e:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const r=Object.fromEntries(e.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const e=this.getPaginatedItems();if(!e.length)return null;const r=(n=e[e.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class Pt{constructor(e){this._client=e}}let OZ=class extends Pt{list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/chat/completions/".concat(e,"/messages"),DDe,{query:r,...n})}},dS=class extends Pt{constructor(){super(...arguments),this.messages=new OZ(this._client)}create(e,r){var n;return this._client.post("/chat/completions",{body:e,...r,stream:(n=e.stream)!=null?n:!1})}retrieve(e,r){return this._client.get("/chat/completions/".concat(e),r)}update(e,r,n){return this._client.post("/chat/completions/".concat(e),{body:r,...n})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/chat/completions",fS,{query:e,...r})}del(e,r){return this._client.delete("/chat/completions/".concat(e),r)}};class fS extends Bn{}class DDe extends Bn{}dS.ChatCompletionsPage=fS;dS.Messages=OZ;let hS=class extends Pt{constructor(){super(...arguments),this.completions=new dS(this._client)}};hS.Completions=dS;hS.ChatCompletionsPage=fS;class IZ extends Pt{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class BZ extends Pt{create(e,r){var n;return this._client.post("/audio/transcriptions",ef({body:e,...r,stream:(n=e.stream)!=null?n:!1,__metadata:{model:e.model}}))}}class FZ extends Pt{create(e,r){return this._client.post("/audio/translations",ef({body:e,...r,__metadata:{model:e.model}}))}}class h_ extends Pt{constructor(){super(...arguments),this.transcriptions=new BZ(this._client),this.translations=new FZ(this._client),this.speech=new IZ(this._client)}}h_.Transcriptions=BZ;h_.Translations=FZ;h_.Speech=IZ;class EF extends Pt{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get("/batches/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/batches",SF,{query:e,...r})}cancel(e,r){return this._client.post("/batches/".concat(e,"/cancel"),r)}}class SF extends Bn{}EF.BatchesPage=SF;var Sa=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Kr=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},hR,rb,nb,fg,hg,ib,pg,Jo,mg,ux,cx,nh,MZ;class CF{constructor(){hR.add(this),this.controller=new AbortController,rb.set(this,void 0),nb.set(this,()=>{}),fg.set(this,()=>{}),hg.set(this,void 0),ib.set(this,()=>{}),pg.set(this,()=>{}),Jo.set(this,{}),mg.set(this,!1),ux.set(this,!1),cx.set(this,!1),nh.set(this,!1),Sa(this,rb,new Promise((e,r)=>{Sa(this,nb,e,"f"),Sa(this,fg,r,"f")}),"f"),Sa(this,hg,new Promise((e,r)=>{Sa(this,ib,e,"f"),Sa(this,pg,r,"f")}),"f"),Kr(this,rb,"f").catch(()=>{}),Kr(this,hg,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Kr(this,hR,"m",MZ).bind(this))},0)}_connected(){this.ended||(Kr(this,nb,"f").call(this),this._emit("connect"))}get ended(){return Kr(this,mg,"f")}get errored(){return Kr(this,ux,"f")}get aborted(){return Kr(this,cx,"f")}abort(){this.controller.abort()}on(e,r){return(Kr(this,Jo,"f")[e]||(Kr(this,Jo,"f")[e]=[])).push({listener:r}),this}off(e,r){const n=Kr(this,Jo,"f")[e];if(!n)return this;const s=n.findIndex(a=>a.listener===r);return s>=0&&n.splice(s,1),this}once(e,r){return(Kr(this,Jo,"f")[e]||(Kr(this,Jo,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Sa(this,nh,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Sa(this,nh,!0,"f"),await Kr(this,hg,"f")}_emit(e,...r){if(Kr(this,mg,"f"))return;e==="end"&&(Sa(this,mg,!0,"f"),Kr(this,ib,"f").call(this));const n=Kr(this,Jo,"f")[e];if(n&&(Kr(this,Jo,"f")[e]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),e==="abort"){const s=r[0];!Kr(this,nh,"f")&&!(n!=null&&n.length)&&Promise.reject(s),Kr(this,fg,"f").call(this,s),Kr(this,pg,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=r[0];!Kr(this,nh,"f")&&!(n!=null&&n.length)&&Promise.reject(s),Kr(this,fg,"f").call(this,s),Kr(this,pg,"f").call(this,s),this._emit("end")}}_emitFinal(){}}rb=new WeakMap,nb=new WeakMap,fg=new WeakMap,hg=new WeakMap,ib=new WeakMap,pg=new WeakMap,Jo=new WeakMap,mg=new WeakMap,ux=new WeakMap,cx=new WeakMap,nh=new WeakMap,hR=new WeakSet,MZ=function(e){if(Sa(this,ux,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new aa),e instanceof aa)return Sa(this,cx,!0,"f"),this._emit("abort",e);if(e instanceof St)return this._emit("error",e);if(e instanceof Error){const r=new St(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new St(String(e)))};var vt=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ls=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ti,pR,mo,sb,Aa,dd,wh,rd,dx,fs,ab,ob,Gg,gg,vg,y4,_4,b4,w4,x4,E4,S4;class La extends CF{constructor(){super(...arguments),ti.add(this),pR.set(this,[]),mo.set(this,{}),sb.set(this,{}),Aa.set(this,void 0),dd.set(this,void 0),wh.set(this,void 0),rd.set(this,void 0),dx.set(this,void 0),fs.set(this,void 0),ab.set(this,void 0),ob.set(this,void 0),Gg.set(this,void 0)}[(pR=new WeakMap,mo=new WeakMap,sb=new WeakMap,Aa=new WeakMap,dd=new WeakMap,wh=new WeakMap,rd=new WeakMap,dx=new WeakMap,fs=new WeakMap,ab=new WeakMap,ob=new WeakMap,Gg=new WeakMap,ti=new WeakSet,Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const a=r.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const r=new La;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=So.fromReadableStream(e,this.controller);for await(const o of s)vt(this,ti,"m",gg).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}toReadableStream(){return new So(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,s,a){const o=new La;return o._run(()=>o._runToolAssistantStream(e,r,n,s,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,r,n,s,a){var d;const o=a==null?void 0:a.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...s,stream:!0},c=await e.submitToolOutputs(r,n,l,{...a,signal:this.controller.signal});this._connected();for await(const f of c)vt(this,ti,"m",gg).call(this,f);if((d=c.controller.signal)!=null&&d.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}static createThreadAssistantStream(e,r,n){const s=new La;return s._run(()=>s._threadAssistantStream(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,r,n,s){const a=new La;return a._run(()=>a._runAssistantStream(e,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return vt(this,ab,"f")}currentRun(){return vt(this,ob,"f")}currentMessageSnapshot(){return vt(this,Aa,"f")}currentRunStepSnapshot(){return vt(this,Gg,"f")}async finalRunSteps(){return await this.done(),Object.values(vt(this,mo,"f"))}async finalMessages(){return await this.done(),Object.values(vt(this,sb,"f"))}async finalRun(){if(await this.done(),!vt(this,dd,"f"))throw Error("Final run was not received.");return vt(this,dd,"f")}async _createThreadAssistantStream(e,r,n){var l;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.createAndRun(a,{...n,signal:this.controller.signal});this._connected();for await(const c of o)vt(this,ti,"m",gg).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}async _createAssistantStream(e,r,n,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},l=await e.create(r,o,{...s,signal:this.controller.signal});this._connected();for await(const d of l)vt(this,ti,"m",gg).call(this,d);if((c=l.controller.signal)!=null&&c.aborted)throw new aa;return this._addRun(vt(this,ti,"m",vg).call(this))}static accumulateDelta(e,r){for(const[n,s]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=s;continue}let a=e[n];if(a==null){e[n]=s;continue}if(n==="index"||n==="type"){e[n]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(hT(a)&&hT(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(o=>typeof o=="string"||typeof o=="number")){a.push(...s);continue}for(const o of s){if(!hT(o))throw new Error("Expected array delta entry to be an object but got: ".concat(o));const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error("Expected array delta entry `index` property to be a number but got ".concat(l));const c=a[l];c==null?a.push(o):a[l]=this.accumulateDelta(c,o)}continue}else throw Error("Unhandled record type: ".concat(n,", deltaValue: ").concat(s,", accValue: ").concat(a));e[n]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,s){return await this._createAssistantStream(r,e,n,s)}async _runToolAssistantStream(e,r,n,s,a){return await this._createToolAssistantStream(n,e,r,s,a)}}gg=function(e){if(!this.ended)switch(ls(this,ab,e,"f"),vt(this,ti,"m",b4).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":vt(this,ti,"m",S4).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":vt(this,ti,"m",_4).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":vt(this,ti,"m",y4).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},vg=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");if(!vt(this,dd,"f"))throw Error("Final run has not been received");return vt(this,dd,"f")},y4=function(e){const[r,n]=vt(this,ti,"m",x4).call(this,e,vt(this,Aa,"f"));ls(this,Aa,r,"f"),vt(this,sb,"f")[r.id]=r;for(const s of n){const a=r.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,o=r.content[s.index];if(o&&o.type=="text")this._emit("textDelta",a,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=vt(this,wh,"f")){if(vt(this,rd,"f"))switch(vt(this,rd,"f").type){case"text":this._emit("textDone",vt(this,rd,"f").text,vt(this,Aa,"f"));break;case"image_file":this._emit("imageFileDone",vt(this,rd,"f").image_file,vt(this,Aa,"f"));break}ls(this,wh,s.index,"f")}ls(this,rd,r.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(vt(this,wh,"f")!==void 0){const s=e.data.content[vt(this,wh,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,vt(this,Aa,"f"));break;case"text":this._emit("textDone",s.text,vt(this,Aa,"f"));break}}vt(this,Aa,"f")&&this._emit("messageDone",e.data),ls(this,Aa,void 0,"f")}},_4=function(e){const r=vt(this,ti,"m",w4).call(this,e);switch(ls(this,Gg,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const a of n.step_details.tool_calls)a.index==vt(this,dx,"f")?this._emit("toolCallDelta",a,r.step_details.tool_calls[a.index]):(vt(this,fs,"f")&&this._emit("toolCallDone",vt(this,fs,"f")),ls(this,dx,a.index,"f"),ls(this,fs,r.step_details.tool_calls[a.index],"f"),vt(this,fs,"f")&&this._emit("toolCallCreated",vt(this,fs,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ls(this,Gg,void 0,"f"),e.data.step_details.type=="tool_calls"&&vt(this,fs,"f")&&(this._emit("toolCallDone",vt(this,fs,"f")),ls(this,fs,void 0,"f")),this._emit("runStepDone",e.data,r);break}},b4=function(e){vt(this,pR,"f").push(e),this._emit("event",e)},w4=function(e){switch(e.event){case"thread.run.step.created":return vt(this,mo,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=vt(this,mo,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const s=La.accumulateDelta(r,n.delta);vt(this,mo,"f")[e.data.id]=s}return vt(this,mo,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":vt(this,mo,"f")[e.data.id]=e.data;break}if(vt(this,mo,"f")[e.data.id])return vt(this,mo,"f")[e.data.id];throw new Error("No snapshot available")},x4=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in r.content){let o=r.content[a.index];r.content[a.index]=vt(this,ti,"m",E4).call(this,a,o)}else r.content[a.index]=a,n.push(a);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},E4=function(e,r){return La.accumulateDelta(r,e)},S4=function(e){switch(ls(this,ob,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ls(this,dd,e.data,"f"),vt(this,fs,"f")&&(this._emit("toolCallDone",vt(this,fs,"f")),ls(this,fs,void 0,"f"));break}};class AF extends Pt{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/assistants/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/assistants/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/assistants",TF,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete("/assistants/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class TF extends Bn{}AF.AssistantsPage=TF;function C4(t){return typeof t.parse=="function"}const Hh=t=>(t==null?void 0:t.role)==="assistant",kZ=t=>(t==null?void 0:t.role)==="function",NZ=t=>(t==null?void 0:t.role)==="tool";function PF(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function p_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function RDe(t,e){return!e||!LZ(e)?{...t,choices:t.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:DF(t,e)}function DF(t,e){const r=t.choices.map(n=>{var s,a;if(n.finish_reason==="length")throw new _Z;if(n.finish_reason==="content_filter")throw new bZ;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:(a=(s=n.message.tool_calls)==null?void 0:s.map(o=>IDe(e,o)))!=null?a:void 0}:void 0,parsed:n.message.content&&!n.message.refusal?ODe(e,n.message.content):null}}});return{...t,choices:r}}function ODe(t,e){var r,n;return((r=t.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=t.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function IDe(t,e){var n;const r=(n=t.tools)==null?void 0:n.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:p_(r)?r.$parseRaw(e.function.arguments):r!=null&&r.function.strict?JSON.parse(e.function.arguments):null}}}function BDe(t,e){var n;if(!t)return!1;const r=(n=t.tools)==null?void 0:n.find(s=>{var a;return((a=s.function)==null?void 0:a.name)===e.function.name});return p_(r)||(r==null?void 0:r.function.strict)||!1}function LZ(t){var e,r;return PF(t.response_format)?!0:(r=(e=t.tools)==null?void 0:e.some(n=>p_(n)||n.type==="function"&&n.function.strict===!0))!=null?r:!1}function FDe(t){for(const e of t!=null?t:[]){if(e.type!=="function")throw new St("Currently only `function` tool types support auto-parsing; Received `".concat(e.type,"`"));if(e.function.strict!==!0)throw new St("The `".concat(e.function.name,"` tool is not marked with `strict: true`. Only strict function tools can be auto-parsed"))}}var Gi=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},fi,mR,fx,gR,vR,yR,UZ,_R;const A4=10;class $Z extends CF{constructor(){super(...arguments),fi.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var n;this._chatCompletions.push(e),this._emit("chatCompletion",e);const r=(n=e.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),(kZ(e)||NZ(e))&&e.content)this._emit("functionCallResult",e.content);else if(Hh(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Hh(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new St("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Gi(this,fi,"m",mR).call(this)}async finalMessage(){return await this.done(),Gi(this,fi,"m",fx).call(this)}async finalFunctionCall(){return await this.done(),Gi(this,fi,"m",gR).call(this)}async finalFunctionCallResult(){return await this.done(),Gi(this,fi,"m",vR).call(this)}async totalUsage(){return await this.done(),Gi(this,fi,"m",yR).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const r=Gi(this,fi,"m",fx).call(this);r&&this._emit("finalMessage",r);const n=Gi(this,fi,"m",mR).call(this);n&&this._emit("finalContent",n);const s=Gi(this,fi,"m",gR).call(this);s&&this._emit("finalFunctionCall",s);const a=Gi(this,fi,"m",vR).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Gi(this,fi,"m",yR).call(this))}async _createChatCompletion(e,r,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Gi(this,fi,"m",UZ).call(this,r);const a=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(DF(a,r))}async _runChatCompletion(e,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,r,n)}async _runFunctions(e,r,n){var g;const s="function",{function_call:a="auto",stream:o,...l}=r,c=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:d=A4}=n||{},f={};for(const y of r.functions)f[y.name||y.function.name]=y;const m=r.functions.map(y=>({name:y.name||y.function.name,parameters:y.parameters,description:y.description}));for(const y of r.messages)this._addMessage(y,!1);for(let y=0;y<d;++y){const b=(g=(await this._createChatCompletion(e,{...l,function_call:a,functions:m,messages:[...this.messages]},n)).choices[0])==null?void 0:g.message;if(!b)throw new St("missing message in ChatCompletion response");if(!b.function_call)return;const{name:u,arguments:h}=b.function_call,p=f[u];if(p){if(c&&c!==u){const S="Invalid function_call: ".concat(JSON.stringify(u),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:s,name:u,content:S});continue}}else{const S="Invalid function_call: ".concat(JSON.stringify(u),". Available options are: ").concat(m.map(E=>JSON.stringify(E.name)).join(", "),". Please try again");this._addMessage({role:s,name:u,content:S});continue}let v;try{v=C4(p)?await p.parse(h):h}catch(S){this._addMessage({role:s,name:u,content:S instanceof Error?S.message:String(S)});continue}const w=await p.function(v,this),x=Gi(this,fi,"m",_R).call(this,w);if(this._addMessage({role:s,name:u,content:x}),c)return}}async _runTools(e,r,n){var y,_,b;const s="tool",{tool_choice:a="auto",stream:o,...l}=r,c=typeof a!="string"&&((y=a==null?void 0:a.function)==null?void 0:y.name),{maxChatCompletions:d=A4}=n||{},f=r.tools.map(u=>{if(p_(u)){if(!u.$callback)throw new St("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:u.$callback,name:u.function.name,description:u.function.description||"",parameters:u.function.parameters,parse:u.$parseRaw,strict:!0}}}return u}),m={};for(const u of f)u.type==="function"&&(m[u.function.name||u.function.function.name]=u.function);const g="tools"in r?f.map(u=>u.type==="function"?{type:"function",function:{name:u.function.name||u.function.function.name,parameters:u.function.parameters,description:u.function.description,strict:u.function.strict}}:u):void 0;for(const u of r.messages)this._addMessage(u,!1);for(let u=0;u<d;++u){const p=(_=(await this._createChatCompletion(e,{...l,tool_choice:a,tools:g,messages:[...this.messages]},n)).choices[0])==null?void 0:_.message;if(!p)throw new St("missing message in ChatCompletion response");if(!((b=p.tool_calls)!=null&&b.length))return;for(const v of p.tool_calls){if(v.type!=="function")continue;const w=v.id,{name:x,arguments:S}=v.function,E=m[x];if(E){if(c&&c!==x){const R="Invalid tool_call: ".concat(JSON.stringify(x),". ").concat(JSON.stringify(c)," requested. Please try again");this._addMessage({role:s,tool_call_id:w,content:R});continue}}else{const R="Invalid tool_call: ".concat(JSON.stringify(x),". Available options are: ").concat(Object.keys(m).map(D=>JSON.stringify(D)).join(", "),". Please try again");this._addMessage({role:s,tool_call_id:w,content:R});continue}let P;try{P=C4(E)?await E.parse(S):S}catch(R){const D=R instanceof Error?R.message:String(R);this._addMessage({role:s,tool_call_id:w,content:D});continue}const T=await E.function(P,this),A=Gi(this,fi,"m",_R).call(this,T);if(this._addMessage({role:s,tool_call_id:w,content:A}),c)return}}}}fi=new WeakSet,mR=function(){var e;return(e=Gi(this,fi,"m",fx).call(this).content)!=null?e:null},fx=function(){var r,n;let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(Hh(s)){const{function_call:a,...o}=s,l={...o,content:(r=s.content)!=null?r:null,refusal:(n=s.refusal)!=null?n:null};return a&&(l.function_call=a),l}}throw new St("stream ended without producing a ChatCompletionMessage with role=assistant")},gR=function(){var e,r;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(Hh(s)&&(s!=null&&s.function_call))return s.function_call;if(Hh(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(r=s.tool_calls.at(-1))==null?void 0:r.function}},vR=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(kZ(r)&&r.content!=null||NZ(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===r.tool_call_id))}))return r.content}},yR=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},UZ=function(e){if(e.n!=null&&e.n>1)throw new St("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_R=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class fy extends $Z{static runFunctions(e,r,n){const s=new fy,a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,a)),s}static runTools(e,r,n){const s=new fy,a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,a)),s}_addMessage(e,r=!0){super._addMessage(e,r),Hh(e)&&e.content&&this._emit("content",e.content)}}const jZ=1,zZ=2,VZ=4,GZ=8,HZ=16,WZ=32,KZ=64,XZ=128,YZ=256,qZ=XZ|YZ,ZZ=HZ|WZ|qZ|KZ,JZ=jZ|zZ|ZZ,QZ=VZ|GZ,MDe=JZ|QZ,Ln={STR:jZ,NUM:zZ,ARR:VZ,OBJ:GZ,NULL:HZ,BOOL:WZ,NAN:KZ,INFINITY:XZ,MINUS_INFINITY:YZ,INF:qZ,SPECIAL:ZZ,ATOM:JZ,COLLECTION:QZ,ALL:MDe};class kDe extends Error{}class NDe extends Error{}function LDe(t,e=Ln.ALL){if(typeof t!="string")throw new TypeError("expecting str, got ".concat(typeof t));if(!t.trim())throw new Error("".concat(t," is empty"));return UDe(t.trim(),e)}const UDe=(t,e)=>{const r=t.length;let n=0;const s=g=>{throw new kDe("".concat(g," at position ").concat(n))},a=g=>{throw new NDe("".concat(g," at position ").concat(n))},o=()=>(m(),n>=r&&s("Unexpected end of input"),t[n]==='"'?l():t[n]==="{"?c():t[n]==="["?d():t.substring(n,n+4)==="null"||Ln.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Ln.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Ln.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Ln.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Ln.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Ln.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):f()),l=()=>{const g=n;let y=!1;for(n++;n<r&&(t[n]!=='"'||y&&t[n-1]==="\\");)y=t[n]==="\\"?!y:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(g,++n-Number(y)))}catch(_){a(String(_))}else if(Ln.STR&e)try{return JSON.parse(t.substring(g,n-Number(y))+'"')}catch(_){return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{n++,m();const g={};try{for(;t[n]!=="}";){if(m(),n>=r&&Ln.OBJ&e)return g;const y=l();m(),n++;try{const _=o();Object.defineProperty(g,y,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(Ln.OBJ&e)return g;throw _}m(),t[n]===","&&n++}}catch(y){if(Ln.OBJ&e)return g;s("Expected '}' at end of object")}return n++,g},d=()=>{n++;const g=[];try{for(;t[n]!=="]";)g.push(o()),m(),t[n]===","&&n++}catch(y){if(Ln.ARR&e)return g;s("Expected ']' at end of array")}return n++,g},f=()=>{if(n===0){t==="-"&&Ln.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(Ln.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch(_){}a(String(y))}}const g=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Ln.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(g,n))}catch(y){t.substring(g,n)==="-"&&Ln.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(_){a(String(_))}}},m=()=>{for(;n<r&&" \n\r	".includes(t[n]);)n++};return o()},T4=t=>LDe(t,Ln.ALL^Ln.NUM);var Lf=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},gr=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},An,Yo,Uf,tu,pT,Y0,mT,gT,vT,q0,yT,P4;class hy extends $Z{constructor(e){super(),An.add(this),Yo.set(this,void 0),Uf.set(this,void 0),tu.set(this,void 0),Lf(this,Yo,e,"f"),Lf(this,Uf,[],"f")}get currentChatCompletionSnapshot(){return gr(this,tu,"f")}static fromReadableStream(e){const r=new hy(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){const s=new hy(r);return s._run(()=>s._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,r,n){var o;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),gr(this,An,"m",pT).call(this);const a=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of a)gr(this,An,"m",mT).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new aa;return this._addChatCompletion(gr(this,An,"m",q0).call(this))}async _fromReadableStream(e,r){var o;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),gr(this,An,"m",pT).call(this),this._connected();const s=So.fromReadableStream(e,this.controller);let a;for await(const l of s)a&&a!==l.id&&this._addChatCompletion(gr(this,An,"m",q0).call(this)),gr(this,An,"m",mT).call(this,l),a=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new aa;return this._addChatCompletion(gr(this,An,"m",q0).call(this))}[(Yo=new WeakMap,Uf=new WeakMap,tu=new WeakMap,An=new WeakSet,pT=function(){this.ended||Lf(this,tu,void 0,"f")},Y0=function(r){let n=gr(this,Uf,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},gr(this,Uf,"f")[r.index]=n,n)},mT=function(r){var s,a,o,l,c,d,f,m,g,y,_,b,u,h,p,v,w,x,S,E;if(this.ended)return;const n=gr(this,An,"m",P4).call(this,r);this._emit("chunk",r,n);for(const P of r.choices){const T=n.choices[P.index];P.delta.content!=null&&((s=T.message)==null?void 0:s.role)==="assistant"&&((a=T.message)!=null&&a.content)&&(this._emit("content",P.delta.content,T.message.content),this._emit("content.delta",{delta:P.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),P.delta.refusal!=null&&((o=T.message)==null?void 0:o.role)==="assistant"&&((l=T.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:P.delta.refusal,snapshot:T.message.refusal}),((c=P.logprobs)==null?void 0:c.content)!=null&&((d=T.message)==null?void 0:d.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=P.logprobs)==null?void 0:f.content,snapshot:(g=(m=T.logprobs)==null?void 0:m.content)!=null?g:[]}),((y=P.logprobs)==null?void 0:y.refusal)!=null&&((_=T.message)==null?void 0:_.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(b=P.logprobs)==null?void 0:b.refusal,snapshot:(h=(u=T.logprobs)==null?void 0:u.refusal)!=null?h:[]});const A=gr(this,An,"m",Y0).call(this,T);T.finish_reason&&(gr(this,An,"m",vT).call(this,T),A.current_tool_call_index!=null&&gr(this,An,"m",gT).call(this,T,A.current_tool_call_index));for(const R of(p=P.delta.tool_calls)!=null?p:[])A.current_tool_call_index!==R.index&&(gr(this,An,"m",vT).call(this,T),A.current_tool_call_index!=null&&gr(this,An,"m",gT).call(this,T,A.current_tool_call_index)),A.current_tool_call_index=R.index;for(const R of(v=P.delta.tool_calls)!=null?v:[]){const D=(w=T.message.tool_calls)==null?void 0:w[R.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=D.function)==null?void 0:x.name,index:R.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:(E=(S=R.function)==null?void 0:S.arguments)!=null?E:""}):(D==null||D.type,void 0))}}},gT=function(r,n){var o,l,c;if(gr(this,An,"m",Y0).call(this,r).done_tool_calls.has(n))return;const a=(o=r.message.tool_calls)==null?void 0:o[n];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const d=(c=(l=gr(this,Yo,"f"))==null?void 0:l.tools)==null?void 0:c.find(f=>f.type==="function"&&f.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:n,arguments:a.function.arguments,parsed_arguments:p_(d)?d.$parseRaw(a.function.arguments):d!=null&&d.function.strict?JSON.parse(a.function.arguments):null})}else a.type},vT=function(r){var s,a;const n=gr(this,An,"m",Y0).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const o=gr(this,An,"m",yT).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(s=r.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(a=r.logprobs)!=null&&a.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},q0=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");const r=gr(this,tu,"f");if(!r)throw new St("request ended without sending any chunks");return Lf(this,tu,void 0,"f"),Lf(this,Uf,[],"f"),$De(r,gr(this,Yo,"f"))},yT=function(){var n;const r=(n=gr(this,Yo,"f"))==null?void 0:n.response_format;return PF(r)?r:null},P4=function(r){var f,m,g,y,_,b;var n,s,a,o;let l=gr(this,tu,"f");const{choices:c,...d}=r;l?Object.assign(l,d):l=Lf(this,tu,{...d,choices:[]},"f");for(const{delta:u,finish_reason:h,index:p,logprobs:v=null,...w}of r.choices){let x=l.choices[p];if(x||(x=l.choices[p]={finish_reason:h,index:p,message:{},logprobs:v,...w}),v)if(!x.logprobs)x.logprobs=Object.assign({},v);else{const{content:D,refusal:O,...I}=v;Object.assign(x.logprobs,I),D&&((f=(n=x.logprobs).content)!=null||(n.content=[]),x.logprobs.content.push(...D)),O&&((m=(s=x.logprobs).refusal)!=null||(s.refusal=[]),x.logprobs.refusal.push(...O))}if(h&&(x.finish_reason=h,gr(this,Yo,"f")&&LZ(gr(this,Yo,"f")))){if(h==="length")throw new _Z;if(h==="content_filter")throw new bZ}if(Object.assign(x,w),!u)continue;const{content:S,refusal:E,function_call:P,role:T,tool_calls:A,...R}=u;if(Object.assign(x.message,R),E&&(x.message.refusal=(x.message.refusal||"")+E),T&&(x.message.role=T),P&&(x.message.function_call?(P.name&&(x.message.function_call.name=P.name),P.arguments&&((g=(a=x.message.function_call).arguments)!=null||(a.arguments=""),x.message.function_call.arguments+=P.arguments)):x.message.function_call=P),S&&(x.message.content=(x.message.content||"")+S,!x.message.refusal&&gr(this,An,"m",yT).call(this)&&(x.message.parsed=T4(x.message.content))),A){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:D,id:O,type:I,function:M,...G}of A){const j=(y=(o=x.message.tool_calls)[D])!=null?y:o[D]={};Object.assign(j,G),O&&(j.id=O),I&&(j.type=I),M&&((b=j.function)!=null||(j.function={name:(_=M.name)!=null?_:"",arguments:""})),M!=null&&M.name&&(j.function.name=M.name),M!=null&&M.arguments&&(j.function.arguments+=M.arguments,BDe(gr(this,Yo,"f"),j)&&(j.function.parsed_arguments=T4(j.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("chunk",s=>{const a=r.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new So(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function $De(t,e){const{id:r,choices:n,created:s,model:a,system_fingerprint:o,...l}=t,c={...l,id:r,choices:n.map(({message:d,finish_reason:f,index:m,logprobs:g,...y})=>{var v,w,x;if(!f)throw new St("missing finish_reason for choice ".concat(m));const{content:_=null,function_call:b,tool_calls:u,...h}=d,p=d.role;if(!p)throw new St("missing role for choice ".concat(m));if(b){const{arguments:S,name:E}=b;if(S==null)throw new St("missing function_call.arguments for choice ".concat(m));if(!E)throw new St("missing function_call.name for choice ".concat(m));return{...y,message:{content:_,function_call:{arguments:S,name:E},role:p,refusal:(v=d.refusal)!=null?v:null},finish_reason:f,index:m,logprobs:g}}return u?{...y,index:m,finish_reason:f,logprobs:g,message:{...h,role:p,content:_,refusal:(w=d.refusal)!=null?w:null,tool_calls:u.map((S,E)=>{const{function:P,type:T,id:A,...R}=S,{arguments:D,name:O,...I}=P||{};if(A==null)throw new St("missing choices[".concat(m,"].tool_calls[").concat(E,"].id\n").concat(Z0(t)));if(T==null)throw new St("missing choices[".concat(m,"].tool_calls[").concat(E,"].type\n").concat(Z0(t)));if(O==null)throw new St("missing choices[".concat(m,"].tool_calls[").concat(E,"].function.name\n").concat(Z0(t)));if(D==null)throw new St("missing choices[".concat(m,"].tool_calls[").concat(E,"].function.arguments\n").concat(Z0(t)));return{...R,id:A,type:T,function:{...I,name:O,arguments:D}}})}}:{...y,message:{...h,content:_,role:p,refusal:(x=d.refusal)!=null?x:null},finish_reason:f,index:m,logprobs:g}}),created:s,model:a,object:"chat.completion",...o?{system_fingerprint:o}:{}};return RDe(c,e)}function Z0(t){return JSON.stringify(t)}class Wh extends hy{static fromReadableStream(e){const r=new Wh(null);return r._run(()=>r._fromReadableStream(e)),r}static runFunctions(e,r,n){const s=new Wh(null),a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,a)),s}static runTools(e,r,n){const s=new Wh(r),a={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,a)),s}}let eJ=class extends Pt{parse(e,r){return FDe(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>DF(n,e))}runFunctions(e,r){return e.stream?Wh.runFunctions(this._client,e,r):fy.runFunctions(this._client,e,r)}runTools(e,r){return e.stream?Wh.runTools(this._client,e,r):fy.runTools(this._client,e,r)}stream(e,r){return hy.createChatCompletion(this._client,e,r)}};class bR extends Pt{constructor(){super(...arguments),this.completions=new eJ(this._client)}}(function(t){t.Completions=eJ})(bR||(bR={}));class tJ extends Pt{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class rJ extends Pt{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class pS extends Pt{constructor(){super(...arguments),this.sessions=new tJ(this._client),this.transcriptionSessions=new rJ(this._client)}}pS.Sessions=tJ;pS.TranscriptionSessions=rJ;class RF extends Pt{create(e,r,n){return this._client.post("/threads/".concat(e,"/messages"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/threads/".concat(e,"/messages/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/threads/".concat(e,"/messages/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/threads/".concat(e,"/messages"),OF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete("/threads/".concat(e,"/messages/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class OF extends Bn{}RF.MessagesPage=OF;class IF extends Pt{retrieve(e,r,n,s={},a){return rn(s)?this.retrieve(e,r,n,{},s):this._client.get("/threads/".concat(e,"/runs/").concat(r,"/steps/").concat(n),{query:s,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,r,n={},s){return rn(n)?this.list(e,r,{},n):this._client.getAPIList("/threads/".concat(e,"/runs/").concat(r,"/steps"),BF,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class BF extends Bn{}IF.RunStepsPage=BF;let m_=class extends Pt{constructor(){super(...arguments),this.steps=new IF(this._client)}create(e,r,n){var o;const{include:s,...a}=r;return this._client.post("/threads/".concat(e,"/runs"),{query:{include:s},body:a,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:(o=r.stream)!=null?o:!1})}retrieve(e,r,n){return this._client.get("/threads/".concat(e,"/runs/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/threads/".concat(e,"/runs/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/threads/".concat(e,"/runs"),FF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post("/threads/".concat(e,"/runs/").concat(r,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}createAndStream(e,r,n){return La.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,r,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await f_(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,r,n){return La.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n,s){var a;return this._client.post("/threads/".concat(e,"/runs/").concat(r,"/submit_tool_outputs"),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:(a=n.stream)!=null?a:!1})}async submitToolOutputsAndPoll(e,r,n,s){const a=await this.submitToolOutputs(e,r,n,s);return await this.poll(e,a.id,s)}submitToolOutputsStream(e,r,n,s){return La.createToolAssistantStream(e,r,this._client.beta.threads.runs,n,s)}};class FF extends Bn{}m_.RunsPage=FF;m_.Steps=IF;m_.RunStepsPage=BF;class Yp extends Pt{constructor(){super(...arguments),this.runs=new m_(this._client),this.messages=new RF(this._client)}create(e={},r){return rn(e)?this.create({},e):this._client.post("/threads",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/threads/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/threads/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r){return this._client.delete("/threads/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(e,r){var n;return this._client.post("/threads/runs",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:(n=e.stream)!=null?n:!1})}async createAndRunPoll(e,r){const n=await this.createAndRun(e,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(e,r){return La.createThreadAssistantStream(e,this._client.beta.threads,r)}}Yp.Runs=m_;Yp.RunsPage=FF;Yp.Messages=RF;Yp.MessagesPage=OF;class qp extends Pt{constructor(){super(...arguments),this.realtime=new pS(this._client),this.chat=new bR(this._client),this.assistants=new AF(this._client),this.threads=new Yp(this._client)}}qp.Realtime=pS;qp.Assistants=AF;qp.AssistantsPage=TF;qp.Threads=Yp;class nJ extends Pt{create(e,r){var n;return this._client.post("/completions",{body:e,...r,stream:(n=e.stream)!=null?n:!1})}}class iJ extends Pt{retrieve(e,r,n){return this._client.get("/containers/".concat(e,"/files/").concat(r,"/content"),{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}}let mS=class extends Pt{constructor(){super(...arguments),this.content=new iJ(this._client)}create(e,r,n){return this._client.post("/containers/".concat(e,"/files"),ef({body:r,...n}))}retrieve(e,r,n){return this._client.get("/containers/".concat(e,"/files/").concat(r),n)}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/containers/".concat(e,"/files"),MF,{query:r,...n})}del(e,r,n){return this._client.delete("/containers/".concat(e,"/files/").concat(r),{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}};class MF extends Bn{}mS.FileListResponsesPage=MF;mS.Content=iJ;class g_ extends Pt{constructor(){super(...arguments),this.files=new mS(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get("/containers/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/containers",kF,{query:e,...r})}del(e,r){return this._client.delete("/containers/".concat(e),{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}class kF extends Bn{}g_.ContainerListResponsesPage=kF;g_.Files=mS;g_.FileListResponsesPage=MF;class sJ extends Pt{create(e,r){const n=!!e.encoding_format;let s=n?e.encoding_format:"base64";n&&Wu("Request","User defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:s},...r});return n?a:(Wu("response","Decoding base64 embeddings to float32 array"),a._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const c=l.embedding;l.embedding=PDe(c)}),o)))}}class NF extends Pt{retrieve(e,r,n,s){return this._client.get("/evals/".concat(e,"/runs/").concat(r,"/output_items/").concat(n),s)}list(e,r,n={},s){return rn(n)?this.list(e,r,{},n):this._client.getAPIList("/evals/".concat(e,"/runs/").concat(r,"/output_items"),LF,{query:n,...s})}}class LF extends Bn{}NF.OutputItemListResponsesPage=LF;class v_ extends Pt{constructor(){super(...arguments),this.outputItems=new NF(this._client)}create(e,r,n){return this._client.post("/evals/".concat(e,"/runs"),{body:r,...n})}retrieve(e,r,n){return this._client.get("/evals/".concat(e,"/runs/").concat(r),n)}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/evals/".concat(e,"/runs"),UF,{query:r,...n})}del(e,r,n){return this._client.delete("/evals/".concat(e,"/runs/").concat(r),n)}cancel(e,r,n){return this._client.post("/evals/".concat(e,"/runs/").concat(r),n)}}class UF extends Bn{}v_.RunListResponsesPage=UF;v_.OutputItems=NF;v_.OutputItemListResponsesPage=LF;class y_ extends Pt{constructor(){super(...arguments),this.runs=new v_(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get("/evals/".concat(e),r)}update(e,r,n){return this._client.post("/evals/".concat(e),{body:r,...n})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/evals",$F,{query:e,...r})}del(e,r){return this._client.delete("/evals/".concat(e),r)}}class $F extends Bn{}y_.EvalListResponsesPage=$F;y_.Runs=v_;y_.RunListResponsesPage=UF;let jF=class extends Pt{create(e,r){return this._client.post("/files",ef({body:e,...r}))}retrieve(e,r){return this._client.get("/files/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/files",zF,{query:e,...r})}del(e,r){return this._client.delete("/files/".concat(e),r)}content(e,r){return this._client.get("/files/".concat(e,"/content"),{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(e,r){return this._client.get("/files/".concat(e,"/content"),r)}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await f_(r),o=await this.retrieve(e),Date.now()-a>n)throw new xF({message:"Giving up on waiting for file ".concat(e," to finish processing after ").concat(n," milliseconds.")});return o}};class zF extends Bn{}jF.FileObjectsPage=zF;class aJ extends Pt{}let oJ=class extends Pt{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};class VF extends Pt{constructor(){super(...arguments),this.graders=new oJ(this._client)}}VF.Graders=oJ;class GF extends Pt{create(e,r,n){return this._client.getAPIList("/fine_tuning/checkpoints/".concat(e,"/permissions"),HF,{body:r,method:"post",...n})}retrieve(e,r={},n){return rn(r)?this.retrieve(e,{},r):this._client.get("/fine_tuning/checkpoints/".concat(e,"/permissions"),{query:r,...n})}del(e,r,n){return this._client.delete("/fine_tuning/checkpoints/".concat(e,"/permissions/").concat(r),n)}}class HF extends cS{}GF.PermissionCreateResponsesPage=HF;let gS=class extends Pt{constructor(){super(...arguments),this.permissions=new GF(this._client)}};gS.Permissions=GF;gS.PermissionCreateResponsesPage=HF;class WF extends Pt{list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/checkpoints"),KF,{query:r,...n})}}class KF extends Bn{}WF.FineTuningJobCheckpointsPage=KF;class Zp extends Pt{constructor(){super(...arguments),this.checkpoints=new WF(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get("/fine_tuning/jobs/".concat(e),r)}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",XF,{query:e,...r})}cancel(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/cancel"),r)}listEvents(e,r={},n){return rn(r)?this.listEvents(e,{},r):this._client.getAPIList("/fine_tuning/jobs/".concat(e,"/events"),YF,{query:r,...n})}pause(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/pause"),r)}resume(e,r){return this._client.post("/fine_tuning/jobs/".concat(e,"/resume"),r)}}class XF extends Bn{}class YF extends Bn{}Zp.FineTuningJobsPage=XF;Zp.FineTuningJobEventsPage=YF;Zp.Checkpoints=WF;Zp.FineTuningJobCheckpointsPage=KF;class Ac extends Pt{constructor(){super(...arguments),this.methods=new aJ(this._client),this.jobs=new Zp(this._client),this.checkpoints=new gS(this._client),this.alpha=new VF(this._client)}}Ac.Methods=aJ;Ac.Jobs=Zp;Ac.FineTuningJobsPage=XF;Ac.FineTuningJobEventsPage=YF;Ac.Checkpoints=gS;Ac.Alpha=VF;class lJ extends Pt{}class qF extends Pt{constructor(){super(...arguments),this.graderModels=new lJ(this._client)}}qF.GraderModels=lJ;class uJ extends Pt{createVariation(e,r){return this._client.post("/images/variations",ef({body:e,...r}))}edit(e,r){return this._client.post("/images/edits",ef({body:e,...r}))}generate(e,r){return this._client.post("/images/generations",{body:e,...r})}}class ZF extends Pt{retrieve(e,r){return this._client.get("/models/".concat(e),r)}list(e){return this._client.getAPIList("/models",JF,e)}del(e,r){return this._client.delete("/models/".concat(e),r)}}class JF extends cS{}ZF.ModelsPage=JF;class cJ extends Pt{create(e,r){return this._client.post("/moderations",{body:e,...r})}}function jDe(t,e){return!e||!VDe(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:dJ(t,e)}function dJ(t,e){const r=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:WDe(e,s)};if(s.type==="message"){const a=s.content.map(o=>o.type==="output_text"?{...o,parsed:zDe(e,o.text)}:o);return{...s,content:a}}return s}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||fJ(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const s of n.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),n}function zDe(t,e){var r,n,s,a;return((n=(r=t.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((a=t.text)==null?void 0:a.format).$parseRaw(e):JSON.parse(e)}function VDe(t){var e;return!!PF((e=t.text)==null?void 0:e.format)}function GDe(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function HDe(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function WDe(t,e){var n;const r=HDe((n=t.tools)!=null?n:[],e.name);return{...e,...e,parsed_arguments:GDe(r)?r.$parseRaw(e.arguments):r!=null&&r.strict?JSON.parse(e.arguments):null}}function fJ(t){const e=[];for(const r of t.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}class hJ extends Pt{list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/responses/".concat(e,"/input_items"),XDe,{query:r,...n})}}var $f=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ru=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jf,J0,nu,Q0,D4,R4,O4,I4;class QF extends CF{constructor(e){super(),jf.add(this),J0.set(this,void 0),nu.set(this,void 0),Q0.set(this,void 0),$f(this,J0,e,"f")}static createResponse(e,r,n){const s=new QF(r);return s._run(()=>s._createOrRetrieveResponse(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,r,n){var l,c;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ru(this,jf,"m",D4).call(this);let a,o=null;"response_id"in r?(a=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),o=(l=r.starting_after)!=null?l:null):a=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const d of a)ru(this,jf,"m",R4).call(this,d,o);if((c=a.controller.signal)!=null&&c.aborted)throw new aa;return ru(this,jf,"m",O4).call(this)}[(J0=new WeakMap,nu=new WeakMap,Q0=new WeakMap,jf=new WeakSet,D4=function(){this.ended||$f(this,nu,void 0,"f")},R4=function(r,n){if(this.ended)return;const s=(o,l)=>{(n==null||l.sequence_number>n)&&this._emit(o,l)},a=ru(this,jf,"m",I4).call(this,r);switch(s("event",r),r.type){case"response.output_text.delta":{const o=a.output[r.output_index];if(!o)throw new St("missing output at index ".concat(r.output_index));if(o.type==="message"){const l=o.content[r.content_index];if(!l)throw new St("missing content at index ".concat(r.content_index));if(l.type!=="output_text")throw new St("expected content to be 'output_text', got ".concat(l.type));s("response.output_text.delta",{...r,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const o=a.output[r.output_index];if(!o)throw new St("missing output at index ".concat(r.output_index));o.type==="function_call"&&s("response.function_call_arguments.delta",{...r,snapshot:o.arguments});break}default:s(r.type,r);break}},O4=function(){if(this.ended)throw new St("stream has ended, this shouldn't happen");const r=ru(this,nu,"f");if(!r)throw new St("request ended without sending any events");$f(this,nu,void 0,"f");const n=KDe(r,ru(this,J0,"f"));return $f(this,Q0,n,"f"),n},I4=function(r){let n=ru(this,nu,"f");if(!n){if(r.type!=="response.created")throw new St("When snapshot hasn't been set yet, expected 'response.created' event, got ".concat(r.type));return n=$f(this,nu,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const s=n.output[r.output_index];if(!s)throw new St("missing output at index ".concat(r.output_index));s.type==="message"&&s.content.push(r.part);break}case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new St("missing output at index ".concat(r.output_index));if(s.type==="message"){const a=s.content[r.content_index];if(!a)throw new St("missing content at index ".concat(r.content_index));if(a.type!=="output_text")throw new St("expected content to be 'output_text', got ".concat(a.type));a.text+=r.delta}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new St("missing output at index ".concat(r.output_index));s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.completed":{$f(this,nu,r.response,"f");break}}return n},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const a=r.shift();a?a.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const a of r)a.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=ru(this,Q0,"f");if(!e)throw new St("stream ended without producing a ChatCompletion");return e}}function KDe(t,e){return jDe(t,e)}class eM extends Pt{constructor(){super(...arguments),this.inputItems=new hJ(this._client)}create(e,r){var n;return this._client.post("/responses",{body:e,...r,stream:(n=e.stream)!=null?n:!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&fJ(s),s))}retrieve(e,r={},n){var s;return this._client.get("/responses/".concat(e),{query:r,...n,stream:(s=r==null?void 0:r.stream)!=null?s:!1})}del(e,r){return this._client.delete("/responses/".concat(e),{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>dJ(n,e))}stream(e,r){return QF.createResponse(this._client,e,r)}cancel(e,r){return this._client.post("/responses/".concat(e,"/cancel"),{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}class XDe extends Bn{}eM.InputItems=hJ;class pJ extends Pt{create(e,r,n){return this._client.post("/uploads/".concat(e,"/parts"),ef({body:r,...n}))}}class tM extends Pt{constructor(){super(...arguments),this.parts=new pJ(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post("/uploads/".concat(e,"/cancel"),r)}complete(e,r,n){return this._client.post("/uploads/".concat(e,"/complete"),{body:r,...n})}}tM.Parts=pJ;const YDe=async t=>{const e=await Promise.allSettled(t),r=e.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error("".concat(r.length," promise(s) failed - see the above errors"))}const n=[];for(const s of e)s.status==="fulfilled"&&n.push(s.value);return n};class vS extends Pt{create(e,r,n){return this._client.post("/vector_stores/".concat(e,"/files"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/vector_stores/".concat(e,"/files/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post("/vector_stores/".concat(e,"/files/").concat(r),{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return rn(r)?this.list(e,{},r):this._client.getAPIList("/vector_stores/".concat(e,"/files"),yS,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete("/vector_stores/".concat(e,"/files/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const a=await this.retrieve(e,r,{...n,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=a.response.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await f_(l);break;case"failed":case"completed":return o}}}async upload(e,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:s.id},n)}async uploadAndPoll(e,r,n){const s=await this.upload(e,r,n);return await this.poll(e,s.id,n)}content(e,r,n){return this._client.getAPIList("/vector_stores/".concat(e,"/files/").concat(r,"/content"),rM,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class yS extends Bn{}class rM extends cS{}vS.VectorStoreFilesPage=yS;vS.FileContentResponsesPage=rM;class mJ extends Pt{create(e,r,n){return this._client.post("/vector_stores/".concat(e,"/file_batches"),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get("/vector_stores/".concat(e,"/file_batches/").concat(r),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post("/vector_stores/".concat(e,"/file_batches/").concat(r,"/cancel"),{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r);return await this.poll(e,s.id,n)}listFiles(e,r,n={},s){return rn(n)?this.listFiles(e,r,{},n):this._client.getAPIList("/vector_stores/".concat(e,"/file_batches/").concat(r,"/files"),yS,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,r,{...n,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await f_(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},s){var g;if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(g=s==null?void 0:s.maxConcurrency)!=null?g:5,o=Math.min(a,r.length),l=this._client,c=r.values(),d=[...n];async function f(y){for(let _ of y){const b=await l.files.create({file:_,purpose:"assistants"},s);d.push(b.id)}}const m=Array(o).fill(c).map(f);return await YDe(m),await this.createAndPoll(e,{file_ids:d})}}class Tc extends Pt{constructor(){super(...arguments),this.files=new vS(this._client),this.fileBatches=new mJ(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get("/vector_stores/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post("/vector_stores/".concat(e),{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return rn(e)?this.list({},e):this._client.getAPIList("/vector_stores",nM,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete("/vector_stores/".concat(e),{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}search(e,r,n){return this._client.getAPIList("/vector_stores/".concat(e,"/search"),iM,{body:r,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class nM extends Bn{}class iM extends cS{}Tc.VectorStoresPage=nM;Tc.VectorStoreSearchResponsesPage=iM;Tc.Files=vS;Tc.VectorStoreFilesPage=yS;Tc.FileContentResponsesPage=rM;Tc.FileBatches=mJ;var gJ;class Nt extends gDe{constructor({baseURL:e=K0("OPENAI_BASE_URL"),apiKey:r=K0("OPENAI_API_KEY"),organization:n=(o=>(o=K0("OPENAI_ORG_ID"))!=null?o:null)(),project:s=(l=>(l=K0("OPENAI_PROJECT_ID"))!=null?l:null)(),...a}={}){var d;if(r===void 0)throw new St("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const c={apiKey:r,organization:n,project:s,...a,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&ADe())throw new St("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:c.baseURL,timeout:(d=c.timeout)!=null?d:6e5,httpAgent:c.httpAgent,maxRetries:c.maxRetries,fetch:c.fetch}),this.completions=new nJ(this),this.chat=new hS(this),this.embeddings=new sJ(this),this.files=new jF(this),this.images=new uJ(this),this.audio=new h_(this),this.moderations=new cJ(this),this.models=new ZF(this),this.fineTuning=new Ac(this),this.graders=new qF(this),this.vectorStores=new Tc(this),this.beta=new qp(this),this.batches=new EF(this),this.uploads=new tM(this),this.responses=new eM(this),this.evals=new y_(this),this.containers=new g_(this),this._options=c,this.apiKey=r,this.organization=n,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:"Bearer ".concat(this.apiKey)}}stringifyQuery(e){return JPe(e,{arrayFormat:"brackets"})}}gJ=Nt;Nt.OpenAI=gJ;Nt.DEFAULT_TIMEOUT=6e5;Nt.OpenAIError=St;Nt.APIError=li;Nt.APIConnectionError=aS;Nt.APIConnectionTimeoutError=xF;Nt.APIUserAbortError=aa;Nt.NotFoundError=pZ;Nt.ConflictError=mZ;Nt.RateLimitError=vZ;Nt.BadRequestError=dZ;Nt.AuthenticationError=fZ;Nt.InternalServerError=yZ;Nt.PermissionDeniedError=hZ;Nt.UnprocessableEntityError=gZ;Nt.toFile=SZ;Nt.fileFromPath=lZ;Nt.Completions=nJ;Nt.Chat=hS;Nt.ChatCompletionsPage=fS;Nt.Embeddings=sJ;Nt.Files=jF;Nt.FileObjectsPage=zF;Nt.Images=uJ;Nt.Audio=h_;Nt.Moderations=cJ;Nt.Models=ZF;Nt.ModelsPage=JF;Nt.FineTuning=Ac;Nt.Graders=qF;Nt.VectorStores=Tc;Nt.VectorStoresPage=nM;Nt.VectorStoreSearchResponsesPage=iM;Nt.Beta=qp;Nt.Batches=EF;Nt.BatchesPage=SF;Nt.Uploads=tM;Nt.Responses=eM;Nt.Evals=y_;Nt.EvalListResponsesPage=$F;Nt.Containers=g_;Nt.ContainerListResponsesPage=kF;const wQe=Nt;var vJ=["PageUp","PageDown"],yJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_J={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Jp="Slider",[wR,qDe,ZDe]=zp(Jp),[bJ,xQe]=Qn(Jp,[ZDe]),[JDe,_S]=bJ(Jp),wJ=C.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:_,...b}=t,u=C.useRef(new Set),h=C.useRef(0),v=o==="horizontal"?QDe:e2e,[w=[],x]=wi({prop:f,defaultProp:d,onChange:R=>{var O;(O=[...u.current][h.current])==null||O.focus(),m(R)}}),S=C.useRef(w);function E(R){const D=s2e(w,R);A(R,D)}function P(R){A(R,h.current)}function T(){const R=S.current[h.current];w[h.current]!==R&&g(w)}function A(R,D,{commit:O}={commit:!1}){const I=u2e(a),M=c2e(Math.round((R-n)/a)*a+n,I),G=qv(M,[n,s]);x((j=[])=>{const $=n2e(j,G,D);if(l2e($,c*a)){h.current=$.indexOf(G);const H=String($)!==String(j);return H&&O&&g($),H?$:j}else return j})}return k.jsx(JDe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:h,thumbs:u.current,values:w,orientation:o,form:_,children:k.jsx(wR.Provider,{scope:t.__scopeSlider,children:k.jsx(wR.Slot,{scope:t.__scopeSlider,children:k.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:Ce(b.onPointerDown,()=>{l||(S.current=w)}),min:n,max:s,inverted:y,onSlideStart:l?void 0:E,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(s,w.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:D})=>{if(!l){const M=vJ.includes(R.key)||R.shiftKey&&yJ.includes(R.key)?10:1,G=h.current,j=w[G],$=a*M*D;A(j+$,G,{commit:!0})}}})})})})});wJ.displayName=Jp;var[xJ,EJ]=bJ(Jp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QDe=C.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[m,g]=C.useState(null),y=Et(e,v=>g(v)),_=C.useRef(void 0),b=zl(s),u=b==="ltr",h=u&&!a||!u&&a;function p(v){const w=_.current||m.getBoundingClientRect(),x=[0,w.width],E=sM(x,h?[r,n]:[n,r]);return _.current=w,E(v-w.left)}return k.jsx(xJ,{scope:t.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:k.jsx(SJ,{dir:b,"data-orientation":"horizontal",...f,ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const w=p(v.clientX);o==null||o(w)},onSlideMove:v=>{const w=p(v.clientX);l==null||l(w)},onSlideEnd:()=>{_.current=void 0,c==null||c()},onStepKeyDown:v=>{const x=_J[h?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:x?-1:1})}})})}),e2e=C.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=C.useRef(null),m=Et(e,f),g=C.useRef(void 0),y=!s;function _(b){const u=g.current||f.current.getBoundingClientRect(),h=[0,u.height],v=sM(h,y?[n,r]:[r,n]);return g.current=u,v(b-u.top)}return k.jsx(xJ,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:k.jsx(SJ,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const u=_(b.clientY);a==null||a(u)},onSlideMove:b=>{const u=_(b.clientY);o==null||o(u)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const h=_J[y?"from-bottom":"from-top"].includes(b.key);c==null||c({event:b,direction:h?-1:1})}})})}),SJ=C.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=_S(Jp,r);return k.jsx(rt.span,{...d,ref:e,onKeyDown:Ce(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):vJ.concat(yJ).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Ce(t.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(g)?g.focus():n(m)}),onPointerMove:Ce(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:Ce(t.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),a(m))})})}),CJ="SliderTrack",AJ=C.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_S(CJ,r);return k.jsx(rt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});AJ.displayName=CJ;var xR="SliderRange",TJ=C.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_S(xR,r),a=EJ(xR,r),o=C.useRef(null),l=Et(e,o),c=s.values.length,d=s.values.map(g=>RJ(g,s.min,s.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return k.jsx(rt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:f+"%",[a.endEdge]:m+"%"}})});TJ.displayName=xR;var ER="SliderThumb",PJ=C.forwardRef((t,e)=>{const r=qDe(t.__scopeSlider),[n,s]=C.useState(null),a=Et(e,l=>s(l)),o=C.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return k.jsx(t2e,{...t,ref:a,index:o})}),t2e=C.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...a}=t,o=_S(ER,r),l=EJ(ER,r),[c,d]=C.useState(null),f=Et(e,p=>d(p)),m=c?o.form||!!c.closest("form"):!0,g=FB(c),y=o.values[n],_=y===void 0?0:RJ(y,o.min,o.max),b=i2e(n,o.values.length),u=g==null?void 0:g[l.size],h=u?a2e(u,_,l.direction):0;return C.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),k.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:"calc(".concat(_,"% + ").concat(h,"px)")},children:[k.jsx(wR.ItemSlot,{scope:t.__scopeSlider,children:k.jsx(rt.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:f,style:y===void 0?{display:"none"}:t.style,onFocus:Ce(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&k.jsx(DJ,{name:s!=null?s:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:y},n)]})});PJ.displayName=ER;var r2e="RadioBubbleInput",DJ=C.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=C.useRef(null),a=Et(s,n),o=_F(e);return C.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),k.jsx(rt.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});DJ.displayName=r2e;function n2e(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,a)=>s-a)}function RJ(t,e,r){const a=100/(r-e)*(t-e);return qv(a,[0,100])}function i2e(t,e){return e>2?"Value ".concat(t+1," of ").concat(e):e===2?["Minimum","Maximum"][t]:void 0}function s2e(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function a2e(t,e,r){const n=t/2,a=sM([0,50],[0,n]);return(n-a(e)*r)*r}function o2e(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function l2e(t,e){if(e>0){const r=o2e(t);return Math.min(...r)>=e}return!0}function sM(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function u2e(t){return(String(t).split(".")[1]||"").length}function c2e(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var EQe=wJ,SQe=AJ,CQe=TJ,AQe=PJ;function bS(){return(bS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function OJ(t,e){if(t==null)return{};var r,n,s={},a=Object.keys(t);for(n=0;n<a.length;n++)e.indexOf(r=a[n])>=0||(s[r]=t[r]);return s}function SR(t){var e=C.useRef(t),r=C.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var py=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},Hg=function(t){return"touches"in t},CR=function(t){return t&&t.ownerDocument.defaultView||self},B4=function(t,e,r){var n=t.getBoundingClientRect(),s=Hg(e)?function(a,o){for(var l=0;l<a.length;l++)if(a[l].identifier===o)return a[l];return a[0]}(e.touches,r):e;return{left:py((s.pageX-(n.left+CR(t).pageXOffset))/n.width),top:py((s.pageY-(n.top+CR(t).pageYOffset))/n.height)}},F4=function(t){!Hg(t)&&t.preventDefault()},IJ=q.memo(function(t){var e=t.onMove,r=t.onKey,n=OJ(t,["onMove","onKey"]),s=C.useRef(null),a=SR(e),o=SR(r),l=C.useRef(null),c=C.useRef(!1),d=C.useMemo(function(){var y=function(u){F4(u),(Hg(u)?u.touches.length>0:u.buttons>0)&&s.current?a(B4(s.current,u,l.current)):b(!1)},_=function(){return b(!1)};function b(u){var h=c.current,p=CR(s.current),v=u?p.addEventListener:p.removeEventListener;v(h?"touchmove":"mousemove",y),v(h?"touchend":"mouseup",_)}return[function(u){var h=u.nativeEvent,p=s.current;if(p&&(F4(h),!function(w,x){return x&&!Hg(w)}(h,c.current)&&p)){if(Hg(h)){c.current=!0;var v=h.changedTouches||[];v.length&&(l.current=v[0].identifier)}p.focus(),a(B4(p,h,l.current)),b(!0)}},function(u){var h=u.which||u.keyCode;h<37||h>40||(u.preventDefault(),o({left:h===39?.05:h===37?-.05:0,top:h===40?.05:h===38?-.05:0}))},b]},[o,a]),f=d[0],m=d[1],g=d[2];return C.useEffect(function(){return g},[g]),q.createElement("div",bS({},n,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:s,onKeyDown:m,tabIndex:0,role:"slider"}))}),aM=function(t){return t.filter(Boolean).join(" ")},BJ=function(t){var e=t.color,r=t.left,n=t.top,s=n===void 0?.5:n,a=aM(["react-colorful__pointer",t.className]);return q.createElement("div",{className:a,style:{top:100*s+"%",left:100*r+"%"}},q.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ni=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},d2e=function(t){return g2e(AR(t))},AR=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ni(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?ni(parseInt(t.substring(6,8),16)/255,2):1}},f2e=function(t){return m2e(p2e(t))},h2e=function(t){var e=t.s,r=t.v,n=t.a,s=(200-e)*r/100;return{h:ni(t.h),s:ni(s>0&&s<200?e*r/100/(s<=100?s:200-s)*100:0),l:ni(s/2),a:ni(n,2)}},TR=function(t){var e=h2e(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},p2e=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),o=n*(1-r),l=n*(1-(e-a)*r),c=n*(1-(1-e+a)*r),d=a%6;return{r:ni(255*[n,l,o,o,c,n][d]),g:ni(255*[c,n,n,l,o,o][d]),b:ni(255*[o,o,c,n,n,l][d]),a:ni(s,2)}},e1=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},m2e=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=s<1?e1(ni(255*s)):"";return"#"+e1(e)+e1(r)+e1(n)+a},g2e=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=Math.max(e,r,n),o=a-Math.min(e,r,n),l=o?a===e?(r-n)/o:a===r?2+(n-e)/o:4+(e-r)/o:0;return{h:ni(60*(l<0?l+6:l)),s:ni(a?o/a*100:0),v:ni(a/255*100),a:s}},v2e=q.memo(function(t){var e=t.hue,r=t.onChange,n=aM(["react-colorful__hue",t.className]);return q.createElement("div",{className:n},q.createElement(IJ,{onMove:function(s){r({h:360*s.left})},onKey:function(s){r({h:py(e+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":ni(e),"aria-valuemax":"360","aria-valuemin":"0"},q.createElement(BJ,{className:"react-colorful__hue-pointer",left:e/360,color:TR({h:e,s:100,v:100,a:1})})))}),y2e=q.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:TR({h:e.h,s:100,v:100,a:1})};return q.createElement("div",{className:"react-colorful__saturation",style:n},q.createElement(IJ,{onMove:function(s){r({s:100*s.left,v:100-100*s.top})},onKey:function(s){r({s:py(e.s+100*s.left,0,100),v:py(e.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ni(e.s)+"%, Brightness "+ni(e.v)+"%"},q.createElement(BJ,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:TR(e)})))}),FJ=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},_2e=function(t,e){return t.toLowerCase()===e.toLowerCase()||FJ(AR(t),AR(e))};function b2e(t,e,r){var n=SR(r),s=C.useState(function(){return t.toHsva(e)}),a=s[0],o=s[1],l=C.useRef({color:e,hsva:a});C.useEffect(function(){if(!t.equal(e,l.current.color)){var d=t.toHsva(e);l.current={hsva:d,color:e},o(d)}},[e,t]),C.useEffect(function(){var d;FJ(a,l.current.hsva)||t.equal(d=t.fromHsva(a),l.current.color)||(l.current={hsva:a,color:d},n(d))},[a,t,n]);var c=C.useCallback(function(d){o(function(f){return Object.assign({},f,d)})},[]);return[a,c]}var w2e=typeof window<"u"?C.useLayoutEffect:C.useEffect,x2e=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},M4=new Map,E2e=function(t){w2e(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!M4.has(e)){var r=e.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',M4.set(e,r);var n=x2e();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},S2e=function(t){var e=t.className,r=t.colorModel,n=t.color,s=n===void 0?r.defaultColor:n,a=t.onChange,o=OJ(t,["className","colorModel","color","onChange"]),l=C.useRef(null);E2e(l);var c=b2e(r,s,a),d=c[0],f=c[1],m=aM(["react-colorful",e]);return q.createElement("div",bS({},o,{ref:l,className:m}),q.createElement(y2e,{hsva:d,onChange:f}),q.createElement(v2e,{hue:d.h,onChange:f,className:"react-colorful__last-control"}))},C2e={defaultColor:"000",toHsva:d2e,fromHsva:function(t){return f2e({h:t.h,s:t.s,v:t.v,a:1})},equal:_2e},TQe=function(t){return q.createElement(S2e,bS({},t,{colorModel:C2e}))},wS="Popover",[MJ,PQe]=Qn(wS,[xc]),__=xc(),[A2e,Pc]=MJ(wS),kJ=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=__(e),c=C.useRef(null),[d,f]=C.useState(!1),[m,g]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:a,caller:wS});return k.jsx(e_,{...l,children:k.jsx(A2e,{scope:e,contentId:ai(),triggerRef:c,open:m,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:d,onCustomAnchorAdd:C.useCallback(()=>f(!0),[]),onCustomAnchorRemove:C.useCallback(()=>f(!1),[]),modal:o,children:r})})};kJ.displayName=wS;var NJ="PopoverAnchor",T2e=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Pc(NJ,r),a=__(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return C.useEffect(()=>(o(),()=>l()),[o,l]),k.jsx(t_,{...a,...n,ref:e})});T2e.displayName=NJ;var LJ="PopoverTrigger",UJ=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Pc(LJ,r),a=__(r),o=Et(e,s.triggerRef),l=k.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GJ(s.open),...n,ref:o,onClick:Ce(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:k.jsx(t_,{asChild:!0,...a,children:l})});UJ.displayName=LJ;var oM="PopoverPortal",[P2e,D2e]=MJ(oM,{forceMount:void 0}),$J=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=Pc(oM,e);return k.jsx(P2e,{scope:e,forceMount:r,children:k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:n})})})};$J.displayName=oM;var Ep="PopoverContent",jJ=C.forwardRef((t,e)=>{const r=D2e(Ep,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=Pc(Ep,t.__scopePopover);return k.jsx(Jn,{present:n||a.open,children:a.modal?k.jsx(O2e,{...s,ref:e}):k.jsx(I2e,{...s,ref:e})})});jJ.displayName=Ep;var R2e=Gd("PopoverContent.RemoveScroll"),O2e=C.forwardRef((t,e)=>{const r=Pc(Ep,t.__scopePopover),n=C.useRef(null),s=Et(e,n),a=C.useRef(!1);return C.useEffect(()=>{const o=n.current;if(o)return jE(o)},[]),k.jsx(VE,{as:R2e,allowPinchZoom:!0,children:k.jsx(zJ,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),I2e=C.forwardRef((t,e)=>{const r=Pc(Ep,t.__scopePopover),n=C.useRef(!1),s=C.useRef(!1);return k.jsx(zJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),zJ=C.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...m}=t,g=Pc(Ep,r),y=__(r);return FE(),k.jsx(Jy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:k.jsx(UE,{"data-state":GJ(g.open),role:"dialog",id:g.contentId,...y,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VJ="PopoverClose",B2e=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Pc(VJ,r);return k.jsx(rt.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});B2e.displayName=VJ;var F2e="PopoverArrow",M2e=C.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=__(r);return k.jsx($E,{...s,...n,ref:e})});M2e.displayName=F2e;function GJ(t){return t?"open":"closed"}var DQe=kJ,RQe=UJ,OQe=$J,IQe=jJ,HJ="Toggle",lM=C.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...a}=t,[o,l]=wi({prop:r,onChange:s,defaultProp:n!=null?n:!1,caller:HJ});return k.jsx(rt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...a,ref:e,onClick:Ce(t.onClick,()=>{t.disabled||l(!o)})})});lM.displayName=HJ;var BQe=lM,Dc="ToggleGroup",[WJ,KJ]=Qn(Dc,[$o]),XJ=$o(),uM=q.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return k.jsx(k2e,{...s,ref:e})}if(r==="multiple"){const s=n;return k.jsx(N2e,{...s,ref:e})}throw new Error("Missing prop `type` expected on `".concat(Dc,"`"))});uM.displayName=Dc;var[YJ,qJ]=WJ(Dc),k2e=q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,l]=wi({prop:r,defaultProp:n!=null?n:"",onChange:s,caller:Dc});return k.jsx(YJ,{scope:t.__scopeToggleGroup,type:"single",value:q.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:q.useCallback(()=>l(""),[l]),children:k.jsx(ZJ,{...a,ref:e})})}),N2e=q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,l]=wi({prop:r,defaultProp:n!=null?n:[],onChange:s,caller:Dc}),c=q.useCallback(f=>l((m=[])=>[...m,f]),[l]),d=q.useCallback(f=>l((m=[])=>m.filter(g=>g!==f)),[l]);return k.jsx(YJ,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:d,children:k.jsx(ZJ,{...a,ref:e})})});uM.displayName=Dc;var[L2e,U2e]=WJ(Dc),ZJ=q.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:o,loop:l=!0,...c}=t,d=XJ(r),f=zl(o),m={role:"group",dir:f,...c};return k.jsx(L2e,{scope:r,rovingFocus:s,disabled:n,children:s?k.jsx(n_,{asChild:!0,...d,orientation:a,dir:f,loop:l,children:k.jsx(rt.div,{...m,ref:e})}):k.jsx(rt.div,{...m,ref:e})})}),hx="ToggleGroupItem",JJ=q.forwardRef((t,e)=>{const r=qJ(hx,t.__scopeToggleGroup),n=U2e(hx,t.__scopeToggleGroup),s=XJ(t.__scopeToggleGroup),a=r.value.includes(t.value),o=n.disabled||t.disabled,l={...t,pressed:a,disabled:o},c=q.useRef(null);return n.rovingFocus?k.jsx(Hp,{asChild:!0,...s,focusable:!o,active:a,ref:c,children:k.jsx(k4,{...l,ref:e})}):k.jsx(k4,{...l,ref:e})});JJ.displayName=hx;var k4=q.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,a=qJ(hx,r),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return k.jsx(lM,{...l,...s,ref:e,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),$2e=uM,j2e=JJ,[xS,FQe]=Qn("Tooltip",[xc]),ES=xc(),QJ="TooltipProvider",z2e=700,PR="tooltip.open",[V2e,cM]=xS(QJ),eQ=t=>{const{__scopeTooltip:e,delayDuration:r=z2e,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,o=C.useRef(!0),l=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),k.jsx(V2e,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};eQ.displayName=QJ;var my="Tooltip",[G2e,b_]=xS(my),tQ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=cM(my,t.__scopeTooltip),d=ES(e),[f,m]=C.useState(null),g=ai(),y=C.useRef(0),_=o!=null?o:c.disableHoverableContent,b=l!=null?l:c.delayDuration,u=C.useRef(!1),[h,p]=wi({prop:n,defaultProp:s!=null?s:!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(PR))):c.onClose(),a==null||a(E)},caller:my}),v=C.useMemo(()=>h?u.current?"delayed-open":"instant-open":"closed",[h]),w=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,u.current=!1,p(!0)},[p]),x=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,p(!1)},[p]),S=C.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{u.current=!0,p(!0),y.current=0},b)},[b,p]);return C.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),k.jsx(e_,{...d,children:k.jsx(G2e,{scope:e,contentId:g,open:h,stateAttribute:v,trigger:f,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{c.isOpenDelayedRef.current?S():w()},[c.isOpenDelayedRef,S,w]),onTriggerLeave:C.useCallback(()=>{_?x():(window.clearTimeout(y.current),y.current=0)},[x,_]),onOpen:w,onClose:x,disableHoverableContent:_,children:r})})};tQ.displayName=my;var DR="TooltipTrigger",rQ=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=b_(DR,r),a=cM(DR,r),o=ES(r),l=C.useRef(null),c=Et(e,l,s.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),m=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),k.jsx(t_,{asChild:!0,...o,children:k.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ce(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ce(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});rQ.displayName=DR;var dM="TooltipPortal",[H2e,W2e]=xS(dM,{forceMount:void 0}),nQ=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:s}=t,a=b_(dM,e);return k.jsx(H2e,{scope:e,forceMount:r,children:k.jsx(Jn,{present:r||a.open,children:k.jsx(hf,{asChild:!0,container:s,children:n})})})};nQ.displayName=dM;var Sp="TooltipContent",iQ=C.forwardRef((t,e)=>{const r=W2e(Sp,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=b_(Sp,t.__scopeTooltip);return k.jsx(Jn,{present:n||o.open,children:o.disableHoverableContent?k.jsx(sQ,{side:s,...a,ref:e}):k.jsx(K2e,{side:s,...a,ref:e})})}),K2e=C.forwardRef((t,e)=>{const r=b_(Sp,t.__scopeTooltip),n=cM(Sp,t.__scopeTooltip),s=C.useRef(null),a=Et(e,s),[o,l]=C.useState(null),{trigger:c,onClose:d}=r,f=s.current,{onPointerInTransitChange:m}=n,g=C.useCallback(()=>{l(null),m(!1)},[m]),y=C.useCallback((_,b)=>{const u=_.currentTarget,h={x:_.clientX,y:_.clientY},p=J2e(h,u.getBoundingClientRect()),v=Q2e(h,p),w=eRe(b.getBoundingClientRect()),x=rRe([...v,...w]);l(x),m(!0)},[m]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(c&&f){const _=u=>y(u,f),b=u=>y(u,c);return c.addEventListener("pointerleave",_),f.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",b)}}},[c,f,y,g]),C.useEffect(()=>{if(o){const _=b=>{const u=b.target,h={x:b.clientX,y:b.clientY},p=(c==null?void 0:c.contains(u))||(f==null?void 0:f.contains(u)),v=!tRe(h,o);p?g():v&&(g(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,f,o,d,g]),k.jsx(sQ,{...t,ref:a})}),[X2e,Y2e]=xS(my,{isInside:!1}),q2e=hW("TooltipContent"),sQ=C.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=b_(Sp,r),d=ES(r),{onClose:f}=c;return C.useEffect(()=>(document.addEventListener(PR,f),()=>document.removeEventListener(PR,f)),[f]),C.useEffect(()=>{if(c.trigger){const m=g=>{const y=g.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),k.jsx(ff,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:k.jsxs(UE,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(q2e,{children:n}),k.jsx(X2e,{scope:r,isInside:!0,children:k.jsx(fPe,{id:c.contentId,role:"tooltip",children:s||n})})]})})});iQ.displayName=Sp;var aQ="TooltipArrow",Z2e=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=ES(r);return Y2e(aQ,r).isInside?null:k.jsx($E,{...s,...n,ref:e})});Z2e.displayName=aQ;function J2e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Q2e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function eRe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function tRe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,f=l.y,m=c.x,g=c.y;f>n!=g>n&&r<(m-d)*(n-f)/(g-f)+d&&(s=!s)}return s}function rRe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),nRe(e)}function nRe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var MQe=eQ,kQe=tQ,NQe=rQ,LQe=nQ,UQe=iQ,px=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),iRe=t=>t===void 0,sRe=t=>t===null,aRe=t=>iRe(t)||sRe(t),vf=t=>!aRe(t);function Cp(t,e){return(...r)=>t(e,...r)}var oRe=Object.defineProperty,lRe=Object.defineProperties,uRe=Object.getOwnPropertyDescriptors,mx=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,N4=(t,e,r)=>e in t?oRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uQ=(t,e)=>{for(var r in e||(e={}))oQ.call(e,r)&&N4(t,r,e[r]);if(mx)for(var r of mx(e))lQ.call(e,r)&&N4(t,r,e[r]);return t},cRe=(t,e)=>lRe(t,uRe(e)),dRe=(t,e)=>{var r={};for(var n in t)oQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&mx)for(var n of mx(t))e.indexOf(n)<0&&lQ.call(t,n)&&(r[n]=t[n]);return r},cQ=t=>q.forwardRef((e,r)=>{var n=e,{as:s,asChild:a=!1}=n,o=dRe(n,["as","asChild"]);const l=a?UTe:s||t;return q.createElement(l,uQ({ref:r},o))}),fRe=cQ("div"),hRe=cQ("span"),pRe=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},mRe=(...t)=>e=>t.forEach(r=>pRe(r,e)),fM=(...t)=>q.useCallback(mRe(...t),t);function $Qe(t){return q.forwardRef(function(r,n){return q.createElement(t,cRe(uQ({},r),{ref:n}))})}var L4,gRe=typeof window<"u"&&((L4=window.document)==null?void 0:L4.createElement)!==void 0,_T=gRe?q.useLayoutEffect:q.useEffect,vRe=()=>{if(typeof window>"u"||typeof window.addEventListener!="function")return!1;let t=!1;const e=Object.defineProperty({},"passive",{get(){t=!0}}),r=()=>null;return window.addEventListener("test",r,e),window.removeEventListener("test",r,e),t},yRe="ignore-onclickoutside",U4=(t,e)=>{var r;return(r=t.classList)==null?void 0:r.contains(e)},$4=(t,e)=>{let r=t.target||t;for(;r;){if(Array.isArray(e)){if(e.some(n=>U4(r,n)))return!0}else if(U4(r,e))return!0;r=r.parentElement}return!1},_Re=t=>document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY,j4=t=>t.includes("touch")&&vRe()?{passive:!0}:!1,jQe=(t,{detectIFrame:e=!0,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:s,ignoreClass:a=yRe,refs:o}={})=>{const[l,c]=q.useState([]),d=q.useRef(t);d.current=t;const f=q.useCallback(m=>c(g=>[...g,{current:m}]),[]);return q.useEffect(()=>{if(!(o!=null&&o.length)&&l.length===0)return;const m=()=>{const b=[];return(o||l).forEach(({current:u})=>u&&b.push(u)),b},g=b=>{!$4(b,a)&&!(s&&_Re(b))&&m().every(u=>!u.contains(b.target))&&d.current(b)},y=b=>setTimeout(()=>{const{activeElement:u}=document;(u==null?void 0:u.tagName)==="IFRAME"&&!$4(u,a)&&!m().includes(u)&&d.current(b)},0),_=()=>{n.forEach(b=>document.removeEventListener(b,g,j4(b))),e&&window.removeEventListener("blur",y)};if(r){_();return}return n.forEach(b=>document.addEventListener(b,g,j4(b))),e&&window.addEventListener("blur",y),()=>_()},[l,a,s,r,e,JSON.stringify(n)]),f};function zQe(t){return q.forwardRef(t)}var bRe=Object.defineProperty,wRe=Object.defineProperties,xRe=Object.getOwnPropertyDescriptors,gx=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,z4=(t,e,r)=>e in t?bRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vx=(t,e)=>{for(var r in e||(e={}))dQ.call(e,r)&&z4(t,r,e[r]);if(gx)for(var r of gx(e))fQ.call(e,r)&&z4(t,r,e[r]);return t},ERe=(t,e)=>wRe(t,xRe(e)),SRe=(t,e)=>{var r={};for(var n in t)dQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&gx)for(var n of gx(t))e.indexOf(n)<0&&fQ.call(t,n)&&(r[n]=t[n]);return r};function hM(...t){return fle(u2(t))}function CRe(t,e){const r=t;return q.forwardRef(function(s,a){return q.createElement(r,ERe(vx(vx({ref:a},e),s),{className:hM(e.className,s.className)}))})}function VQe(t,...e){return CRe(t,{className:hM(e)})}function GQe(t,e,r){const n=t;return q.forwardRef(function(a,o){const l=a,{className:c}=l,d=SRe(l,["className"]),f=vx({},d);return r&&r.forEach(m=>{d[m]!==void 0&&delete f[m]}),q.createElement(n,vx({ref:o,className:hM(e(d),c)},f))})}var ARe=Object.defineProperty,TRe=Object.defineProperties,PRe=Object.getOwnPropertyDescriptors,V4=Object.getOwnPropertySymbols,DRe=Object.prototype.hasOwnProperty,RRe=Object.prototype.propertyIsEnumerable,G4=(t,e,r)=>e in t?ARe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ORe=(t,e)=>{for(var r in e||(e={}))DRe.call(e,r)&&G4(t,r,e[r]);if(V4)for(var r of V4(e))RRe.call(e,r)&&G4(t,r,e[r]);return t},IRe=(t,e)=>TRe(t,PRe(e)),BRe=C.createContext(void 0),FRe=()=>C.useContext(BRe);function hQ(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce((r,n)=>r&&hQ(t[n],e[n]),!0):t===e}var MRe=C.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),kRe=()=>C.useContext(MRe),pQ=new Set(["shift","alt","meta","mod","ctrl","control"]),NRe={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function Ap(t){return(NRe[t.trim()]||t.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function LRe(t){return pQ.has(t)}function bT(t,e=","){return t.toLowerCase().split(e)}function wT(t,e="+",r=!1,n){const s=t.toLocaleLowerCase().split(e).map(l=>Ap(l)),a={alt:s.includes("alt"),ctrl:s.includes("ctrl")||s.includes("control"),meta:s.includes("meta"),mod:s.includes("mod"),shift:s.includes("shift"),useKey:r},o=s.filter(l=>!pQ.has(l));return IRe(ORe({},a),{description:n,keys:o})}typeof document<"u"&&(document.addEventListener("keydown",t=>{t.code!==void 0&&gQ([Ap(t.code)])}),document.addEventListener("keyup",t=>{t.code!==void 0&&vQ([Ap(t.code)])})),typeof window<"u"&&window.addEventListener("blur",()=>{Ou.clear()});var Ou=new Set;function mQ(t){return Array.isArray(t)}function URe(t,e=","){return(mQ(t)?t:t.split(e)).every(n=>Ou.has(n.trim().toLowerCase()))}function gQ(t){const e=Array.isArray(t)?t:[t];Ou.has("meta")&&Ou.forEach(r=>!LRe(r)&&Ou.delete(r.toLowerCase())),e.forEach(r=>Ou.add(r.toLowerCase()))}function vQ(t){const e=Array.isArray(t)?t:[t];t==="meta"?Ou.clear():e.forEach(r=>Ou.delete(r.toLowerCase()))}var t1={AVRInput:"AVRInput",AVRPower:"AVRPower",Accept:"Accept",Add:"Add",Again:"Again",AllCandidates:"AllCandidates",Alphanumeric:"Alphanumeric",Alt:"Alt",AltGraph:"AltGraph",AppSwitch:"AppSwitch",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Attn:"Attn",AudioBalanceLeft:"AudioBalanceLeft",AudioBalanceRight:"AudioBalanceRight",AudioBassBoostDown:"AudioBassBoostDown",AudioBassBoostToggle:"AudioBassBoostToggle",AudioBassBoostUp:"AudioBassBoostUp",AudioBassDown:"AudioBassDown",AudioBassUp:"AudioBassUp",AudioFaderFront:"AudioFaderFront",AudioFaderRear:"AudioFaderRear",AudioSurroundModeNext:"AudioSurroundModeNext",AudioTrebleDown:"AudioTrebleDown",AudioTrebleUp:"AudioTrebleUp",AudioVolumeDown:"AudioVolumeDown",AudioVolumeMute:"AudioVolumeMute",AudioVolumeUp:"AudioVolumeUp",Backspace:"Backspace",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",BrowserBack:"BrowserBack",BrowserFavorites:"BrowserFavorites",BrowserForward:"BrowserForward",BrowserHome:"BrowserHome",BrowserRefresh:"BrowserRefresh",BrowserSearch:"BrowserSearch",BrowserStop:"BrowserStop",Call:"Call",Camera:"Camera",CameraFocus:"CameraFocus",Cancel:"Cancel",CapsLock:"CapsLock",ChannelDown:"ChannelDown",ChannelUp:"ChannelUp",Clear:"Clear",Close:"Close",ClosedCaptionToggle:"ClosedCaptionToggle",CodeInput:"CodeInput",ColorF0Red:"ColorF0Red",ColorF1Green:"ColorF1Green",ColorF2Yellow:"ColorF2Yellow",ColorF3Blue:"ColorF3Blue",ColorF4Grey:"ColorF4Grey",ColorF5Brown:"ColorF5Brown",Compose:"Compose",ContextMenu:"ContextMenu",Control:"Control",Convert:"Convert",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",DVR:"DVR",Dead:"Dead",Decimal:"Decimal",Delete:"Delete",Dimmer:"Dimmer",DisplaySwap:"DisplaySwap",Divide:"Divide",Eisu:"Eisu",Eject:"Eject",End:"End",EndCall:"EndCall",Enter:"Enter",EraseEof:"EraseEof",Escape:"Escape",ExSel:"ExSel",Execute:"Execute",Exit:"Exit",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",F13:"F13",F14:"F14",F15:"F15",F16:"F16",F17:"F17",F18:"F18",F19:"F19",F20:"F20",FavoriteClear0:"FavoriteClear0",FavoriteClear1:"FavoriteClear1",FavoriteClear2:"FavoriteClear2",FavoriteClear3:"FavoriteClear3",FavoriteRecall0:"FavoriteRecall0",FavoriteRecall1:"FavoriteRecall1",FavoriteRecall2:"FavoriteRecall2",FavoriteRecall3:"FavoriteRecall3",FavoriteStore0:"FavoriteStore0",FavoriteStore1:"FavoriteStore1",FavoriteStore2:"FavoriteStore2",FavoriteStore3:"FavoriteStore3",FinalMode:"FinalMode",Find:"Find",Finish:"Finish",Fn:"Fn",FnLock:"FnLock",GoBack:"GoBack",GoHome:"GoHome",GroupFirst:"GroupFirst",GroupLast:"GroupLast",GroupNext:"GroupNext",GroupPrevious:"GroupPrevious",Guide:"Guide",GuideNextDay:"GuideNextDay",GuidePreviousDay:"GuidePreviousDay",HangulMode:"HangulMode",HanjaMode:"HanjaMode",Hankaku:"Hankaku",HeadsetHook:"HeadsetHook",Help:"Help",Hibernate:"Hibernate",Hiragana:"Hiragana",HiraganaKatakana:"HiraganaKatakana",Home:"Home",Hyper:"Hyper",Info:"Info",Insert:"Insert",InstantReplay:"InstantReplay",JunjaMode:"JunjaMode",KanaMode:"KanaMode",KanjiMode:"KanjiMode",Katakana:"Katakana",Key11:"Key11",Key12:"Key12",LastNumberRedial:"LastNumberRedial",LaunchApplication1:"LaunchApplication1",LaunchApplication2:"LaunchApplication2",LaunchApplication3:"LaunchApplication3",LaunchApplication4:"LaunchApplication4",LaunchApplication5:"LaunchApplication5",LaunchApplication6:"LaunchApplication6",LaunchApplication7:"LaunchApplication7",LaunchApplication8:"LaunchApplication8",LaunchApplication9:"LaunchApplication9",LaunchApplication10:"LaunchApplication10",LaunchApplication11:"LaunchApplication11",LaunchApplication12:"LaunchApplication12",LaunchApplication13:"LaunchApplication13",LaunchApplication14:"LaunchApplication14",LaunchApplication15:"LaunchApplication15",LaunchApplication16:"LaunchApplication16",LaunchCalculator:"LaunchCalculator",LaunchCalendar:"LaunchCalendar",LaunchContacts:"LaunchContacts",LaunchMail:"LaunchMail",LaunchMediaPlayer:"LaunchMediaPlayer",LaunchMusicPlayer:"LaunchMusicPlayer",LaunchMyComputer:"LaunchMyComputer",LaunchPhone:"LaunchPhone",LaunchScreenSaver:"LaunchScreenSaver",LaunchSpreadsheet:"LaunchSpreadsheet",LaunchWebBrowser:"LaunchWebBrowser",LaunchWebCam:"LaunchWebCam",LaunchWordProcessor:"LaunchWordProcessor",Link:"Link",ListProgram:"ListProgram",LiveContent:"LiveContent",Lock:"Lock",LogOff:"LogOff",MailForward:"MailForward",MailReply:"MailReply",MailSend:"MailSend",MannerMode:"MannerMode",MediaApps:"MediaApps",MediaAudioTrack:"MediaAudioTrack",MediaFastForward:"MediaFastForward",MediaLast:"MediaLast",MediaPause:"MediaPause",MediaPlay:"MediaPlay",MediaPlayPause:"MediaPlayPause",MediaRecord:"MediaRecord",MediaRewind:"MediaRewind",MediaSkipBackward:"MediaSkipBackward",MediaSkipForward:"MediaSkipForward",MediaStepBackward:"MediaStepBackward",MediaStepForward:"MediaStepForward",MediaStop:"MediaStop",MediaTopMenu:"MediaTopMenu",MediaTrackNext:"MediaTrackNext",MediaTrackPrevious:"MediaTrackPrevious",Meta:"Meta",MicrophoneToggle:"MicrophoneToggle",MicrophoneVolumeDown:"MicrophoneVolumeDown",MicrophoneVolumeMute:"MicrophoneVolumeMute",MicrophoneVolumeUp:"MicrophoneVolumeUp",Mod:"Mod",ModeChange:"ModeChange",Multiply:"Multiply",NavigateIn:"NavigateIn",NavigateNext:"NavigateNext",NavigateOut:"NavigateOut",NavigatePrevious:"NavigatePrevious",New:"New",NextCandidate:"NextCandidate",NextFavoriteChannel:"NextFavoriteChannel",NextUserProfile:"NextUserProfile",NonConvert:"NonConvert",Notification:"Notification",NumLock:"NumLock",OnDemand:"OnDemand",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Pairing:"Pairing",Paste:"Paste",Pause:"Pause",PinPDown:"PinPDown",PinPMove:"PinPMove",PinPToggle:"PinPToggle",PinPUp:"PinPUp",Play:"Play",PlaySpeedDown:"PlaySpeedDown",PlaySpeedReset:"PlaySpeedReset",PlaySpeedUp:"PlaySpeedUp",Power:"Power",PowerOff:"PowerOff",PreviousCandidate:"PreviousCandidate",Print:"Print",PrintScreen:"PrintScreen",Process:"Process",Props:"Props",RandomToggle:"RandomToggle",RcLowBattery:"RcLowBattery",RecordSpeedNext:"RecordSpeedNext",Redo:"Redo",RfBypass:"RfBypass",Romaji:"Romaji",STBInput:"STBInput",STBPower:"STBPower",Save:"Save",ScanChannelsToggle:"ScanChannelsToggle",ScreenModeNext:"ScreenModeNext",ScrollLock:"ScrollLock",Select:"Select",Separator:"Separator",Settings:"Settings",Shift:"Shift",SingleCandidate:"SingleCandidate",Soft1:"Soft1",Soft2:"Soft2",Soft3:"Soft3",Soft4:"Soft4",SpeechCorrectionList:"SpeechCorrectionList",SpeechInputToggle:"SpeechInputToggle",SpellCheck:"SpellCheck",SplitScreenToggle:"SplitScreenToggle",Standby:"Standby",Subtitle:"Subtitle",Subtract:"Subtract",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",TV:"TV",TV3DMode:"TV3DMode",TVAntennaCable:"TVAntennaCable",TVAudioDescription:"TVAudioDescription",TVAudioDescriptionMixDown:"TVAudioDescriptionMixDown",TVAudioDescriptionMixUp:"TVAudioDescriptionMixUp",TVContentsMenu:"TVContentsMenu",TVDataService:"TVDataService",TVInput:"TVInput",TVInputComponent1:"TVInputComponent1",TVInputComponent2:"TVInputComponent2",TVInputComposite1:"TVInputComposite1",TVInputComposite2:"TVInputComposite2",TVInputHDMI1:"TVInputHDMI1",TVInputHDMI2:"TVInputHDMI2",TVInputHDMI3:"TVInputHDMI3",TVInputHDMI4:"TVInputHDMI4",TVInputVGA1:"TVInputVGA1",TVMediaContext:"TVMediaContext",TVNetwork:"TVNetwork",TVNumberEntry:"TVNumberEntry",TVPower:"TVPower",TVRadioService:"TVRadioService",TVSatellite:"TVSatellite",TVSatelliteBS:"TVSatelliteBS",TVSatelliteCS:"TVSatelliteCS",TVSatelliteToggle:"TVSatelliteToggle",TVTerrestrialAnalog:"TVTerrestrialAnalog",TVTerrestrialDigital:"TVTerrestrialDigital",TVTimer:"TVTimer",Tab:"Tab",Teletext:"Teletext",Undo:"Undo",Unidentified:"Unidentified",VideoModeNext:"VideoModeNext",VoiceDial:"VoiceDial",WakeUp:"WakeUp",Wink:"Wink",Zenkaku:"Zenkaku",ZenkakuHanaku:"ZenkakuHanaku",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",ZoomToggle:"ZoomToggle"};function $Re(t){const e=C.useRef();return hQ(e.current,t)||(e.current=t),e.current}function jRe(t,e,r){(typeof r=="function"&&r(t,e)||r===!0)&&t.preventDefault()}function zRe(t,e,r){return typeof r=="function"?r(t,e):r===!0||r===void 0}function VRe(t){return yQ(t,["input","textarea","select"])}function yQ({target:t},e=!1){const r=t&&t.tagName;return mQ(e)?!!(r&&(e!=null&&e.some(n=>n.toLowerCase()===r.toLowerCase()))):!!(r&&e&&e)}function GRe(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(r=>e.includes(r))||t.includes("*"):!0}var HRe=(t,e,r=!1)=>{const{alt:n,ctrl:s,keys:a,meta:o,mod:l,shift:c,useKey:d}=e,{altKey:f,code:m,ctrlKey:g,key:y,metaKey:_,shiftKey:b}=t,u=Ap(m);if(d&&(a==null?void 0:a.length)===1&&a.includes(y))return!0;if(!(a!=null&&a.includes(u))&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(u))return!1;if(!r){if(n!==f&&u!=="alt"||c!==b&&u!=="shift")return!1;if(l){if(!_&&!g)return!1}else if(o!==_&&u!=="meta"&&u!=="os"||s!==g&&u!=="ctrl"&&u!=="control")return!1}return a&&a.length===1&&a.includes(u)?!0:a?URe(a):!a},H4=t=>{t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},WRe=typeof window>"u"?C.useEffect:C.useLayoutEffect;function KRe(t,e,r,n){const[s,a]=C.useState(null),o=C.useRef(!1),l=Array.isArray(r)?Array.isArray(n)?void 0:n:r,c=C.useMemo(()=>Array.isArray(t)&&t.length>0&&Array.isArray(t[0])?t.map(b=>b.map(u=>u.toString()).join((l==null?void 0:l.splitKey)||"+")).join((l==null?void 0:l.delimiter)||","):Array.isArray(t)?t.join((l==null?void 0:l.delimiter)||","):t,[t,l==null?void 0:l.splitKey,l==null?void 0:l.delimiter]),d=Array.isArray(r)?r:Array.isArray(n)?n:void 0,f=C.useCallback(e,d!=null?d:[]),m=C.useRef(f);m.current=d?f:e;const g=$Re(l),{activeScopes:y}=kRe(),_=FRe();return WRe(()=>{if((g==null?void 0:g.enabled)===!1||!GRe(y,g==null?void 0:g.scopes))return;const b=(v,w=!1)=>{var x;if(!(VRe(v)&&!yQ(v,g==null?void 0:g.enableOnFormTags))){if(s!==null){const S=s.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s&&!s.contains(S.activeElement)){H4(v);return}}(x=v.target)!=null&&x.isContentEditable&&!(g!=null&&g.enableOnContentEditable)||bT(c,g==null?void 0:g.delimiter).forEach(S=>{var E,P,T;const A=wT(S,g==null?void 0:g.splitKey,g==null?void 0:g.useKey);if(HRe(v,A,g==null?void 0:g.ignoreModifiers)||(E=A.keys)!=null&&E.includes("*")){if(((P=g==null?void 0:g.ignoreEventWhenPrevented)==null||P)&&v.defaultPrevented||(T=g==null?void 0:g.ignoreEventWhen)!=null&&T.call(g,v)||w&&o.current)return;if(!zRe(v,A,g==null?void 0:g.enabled)){H4(v);return}m.current(v,A),jRe(v,A,g==null?void 0:g.preventDefault),w||(o.current=!0)}})}},u=v=>{v.code!==void 0&&(gQ(Ap(v.code)),((g==null?void 0:g.keydown)===void 0&&(g==null?void 0:g.keyup)!==!0||g!=null&&g.keydown)&&b(v))},h=v=>{v.code!==void 0&&(vQ(Ap(v.code)),o.current=!1,g!=null&&g.keyup&&b(v,!0))},p=s||(l==null?void 0:l.document)||document;return p.addEventListener("keyup",h),p.addEventListener("keydown",u),_&&bT(c,g==null?void 0:g.delimiter).forEach(v=>_.addHotkey(wT(v,g==null?void 0:g.splitKey,g==null?void 0:g.useKey,g==null?void 0:g.description))),()=>{p.removeEventListener("keyup",h),p.removeEventListener("keydown",u),_&&bT(c,g==null?void 0:g.delimiter).forEach(v=>_.removeHotkey(wT(v,g==null?void 0:g.splitKey,g==null?void 0:g.useKey,g==null?void 0:g.description)))}},[s,c,g,y]),a}let XRe=0;function Ro(t,e){const r="atom".concat(++XRe),n={toString:()=>r};return typeof t=="function"?n.read=t:(n.init=t,n.read=YRe,n.write=qRe),e&&(n.write=e),n}function YRe(t){return t(this)}function qRe(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}const xT=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,W4=t=>"init"in t,K4=t=>!!t.write,yx=new WeakMap,ZRe=(t,e)=>{yx.set(t,e),t.catch(()=>{}).finally(()=>yx.delete(t))},X4=(t,e)=>{const r=yx.get(t);r&&(yx.delete(t),r(e))},Y4=(t,e)=>{t.status="fulfilled",t.value=e},q4=(t,e)=>{t.status="rejected",t.reason=e},JRe=t=>typeof(t==null?void 0:t.then)=="function",Nm=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),Z4=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),zf=t=>!!t&&"v"in t&&t.v instanceof Promise,QRe=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,r1=t=>{if("e"in t)throw t.e;return t.v},_Q=()=>{const t=new WeakMap,e=new WeakMap,r=[],n=new WeakMap;let s,a;const o=P=>t.get(P),l=(P,T)=>{T.d.forEach((A,R)=>{if(!n.has(R)){const D=o(R);n.set(R,[D,new Set]),D&&l(R,D)}n.get(R)[1].add(P)})},c=(P,T)=>{var A;const R=o(P);if(t.set(P,T),(A=r[r.length-1])==null||A.add(P),n.has(P)||(n.set(P,[R,new Set]),l(P,T)),zf(R)){const D="v"in T?T.v instanceof Promise?T.v:Promise.resolve(T.v):Promise.reject(T.e);R.v!==D&&X4(R.v,D)}},d=(P,T,A,R)=>{const D=new Map(R?T.d:null);let O=!1;A.forEach((I,M)=>{!I&&xT(P,M)&&(I=T),I&&(D.set(M,I),T.d.get(M)!==I&&(O=!0))}),(O||T.d.size!==D.size)&&(T.d=D)},f=(P,T,A,R)=>{const D=o(P),O={d:(D==null?void 0:D.d)||new Map,v:T};if(A&&d(P,O,A,R),Nm(D,O)&&D.d===O.d)return D;if(zf(D)&&zf(O)&&QRe(D,O)){if(D.d===O.d)return D;O.v=D.v}return c(P,O),O},m=(P,T,A,R)=>{if(JRe(T)){let D;const O=()=>{const M=o(P);if(!zf(M)||M.v!==I)return;const G=f(P,I,A);e.has(P)&&M.d!==G.d&&x(P,G,M.d)},I=new Promise((M,G)=>{let j=!1;T.then($=>{j||(j=!0,Y4(I,$),M($),O())},$=>{j||(j=!0,q4(I,$),G($),O())}),D=$=>{j||(j=!0,$.then(H=>Y4(I,H),H=>q4(I,H)),M($))}});return I.orig=T,I.status="pending",ZRe(I,M=>{M&&(D(M),R==null||R())}),f(P,I,A,!0)}return f(P,T,A)},g=(P,T,A)=>{const R=o(P),D={d:(R==null?void 0:R.d)||new Map,e:T};return A&&d(P,D,A),Z4(R,D)&&R.d===D.d?R:(c(P,D),D)},y=(P,T)=>{const A=o(P);if(!(T!=null&&T(P))&&A&&(e.has(P)||Array.from(A.d).every(([j,$])=>{if(j===P)return!0;const H=y(j,T);return H===$||Nm(H,$)})))return A;const R=new Map;let D=!0;const O=j=>{if(xT(P,j)){const H=o(j);if(H)return R.set(j,H),r1(H);if(W4(j))return R.set(j,void 0),j.init;throw new Error("no atom init")}const $=y(j,T);return R.set(j,$),r1($)};let I,M;const G={get signal(){return I||(I=new AbortController),I.signal},get setSelf(){return!M&&K4(P)&&(M=(...j)=>{if(!D)return h(P,...j)}),M}};try{const j=P.read(O,G);return m(P,j,R,()=>I==null?void 0:I.abort())}catch(j){return g(P,j,R)}finally{D=!1}},_=P=>r1(y(P)),b=P=>{const T=M=>{var G,j;const $=new Set((G=e.get(M))==null?void 0:G.t);return(j=n.get(M))==null||j[1].forEach(H=>{$.add(H)}),$},A=new Array,R=new Set,D=M=>{if(!R.has(M)){R.add(M);for(const G of T(M))M!==G&&D(G);A.push(M)}};D(P);const O=new Set([P]),I=M=>R.has(M);for(let M=A.length-1;M>=0;--M){const G=A[M],j=o(G);if(!j)continue;let $=!1;for(const H of j.d.keys())if(H!==G&&O.has(H)){$=!0;break}if($){const H=y(G,I);l(G,H),Nm(j,H)||O.add(G)}R.delete(G)}},u=(P,...T)=>{const A=O=>r1(y(O)),R=(O,...I)=>{const M=r.length>0;M||r.push(new Set([O]));let G;if(xT(P,O)){if(!W4(O))throw new Error("atom not writable");const j=o(O),$=m(O,I[0]);Nm(j,$)||b(O)}else G=u(O,...I);if(!M){const j=S(r.pop())}return G};return P.write(A,R,...T)},h=(P,...T)=>{r.push(new Set([P]));const A=u(P,...T),R=S(r.pop());return A},p=(P,T,A)=>{var R;const D=e.get(P);if(D)return T&&D.t.add(T),D;const O=A||[];(R=o(P))==null||R.d.forEach((M,G)=>{G!==P&&p(G,P,O)}),y(P);const I={t:new Set(T&&[T]),l:new Set};if(e.set(P,I),K4(P)&&P.onMount){const{onMount:M}=P;O.push(()=>{const G=M((...j)=>h(P,...j));G&&(I.u=G)})}return A||O.forEach(M=>M()),I},v=(P,T)=>!T.l.size&&(!T.t.size||T.t.size===1&&T.t.has(P)),w=(P,T)=>{if(!v(P,T))return;const A=T.u;A&&A(),e.delete(P);const R=o(P);R&&(zf(R)&&X4(R.v),R.d.forEach((D,O)=>{if(O!==P){const I=e.get(O);I&&(I.t.delete(P),w(O,I))}}))},x=(P,T,A)=>{const R=new Set(T.d.keys()),D=new Set;A==null||A.forEach((O,I)=>{if(R.has(I)){R.delete(I);return}D.add(I);const M=e.get(I);M&&M.t.delete(P)}),R.forEach(O=>{p(O,P)}),D.forEach(O=>{const I=e.get(O);I&&w(O,I)})},S=P=>{let T;const A=[],R=D=>{var O;if(!n.has(D))return;const[I,M]=n.get(D);n.delete(D),A.push([D,I]),M.forEach(R),(O=o(D))==null||O.d.forEach((G,j)=>R(j))};P.forEach(R),A.forEach(([D,O])=>{const I=o(D);if(I&&I!==O){const M=e.get(D);M&&I.d!==(O==null?void 0:O.d)&&x(D,I,O==null?void 0:O.d),M&&!(!zf(O)&&(Nm(O,I)||Z4(O,I)))&&M.l.forEach(G=>G())}})};return{get:_,set:h,sub:(P,T)=>{const A=p(P),R=S([P]),D=A.l;return D.add(T),()=>{D.delete(T),w(P,A)}}}};let ET;const eOe=()=>(ET||(ET=_Q()),ET);Symbol("");const RR=_Q,tOe=eOe,rOe=C.createContext(void 0),pM=t=>{const e=C.useContext(rOe);return(t==null?void 0:t.store)||e||tOe()},nOe=t=>typeof(t==null?void 0:t.then)=="function",iOe=q.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function bQ(t,e){const r=pM(e),[[n,s,a],o]=C.useReducer(d=>{const f=r.get(t);return Object.is(d[0],f)&&d[1]===r&&d[2]===t?d:[f,r,t]},void 0,()=>[r.get(t),r,t]);let l=n;(s!==r||a!==t)&&(o(),l=r.get(t));const c=e==null?void 0:e.delay;return C.useEffect(()=>{const d=r.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),d},[r,t,c]),C.useDebugValue(l),nOe(l)?iOe(l):l}function mM(t,e){const r=pM(e);return C.useCallback((...s)=>r.set(t,...s),[r,t])}function sOe(t,e){return[bQ(t,e),mM(t,e)]}const J4=new WeakMap;function aOe(t,e){const r=pM(e),n=oOe(r);for(const[s,a]of t)(!n.has(s)||e!=null&&e.dangerouslyForceHydrate)&&(n.add(s),r.set(s,a))}const oOe=t=>{let e=J4.get(t);return e||(e=new WeakSet,J4.set(t,e)),e};var lOe=Object.defineProperty,uOe=Object.defineProperties,cOe=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,wQ=Object.prototype.hasOwnProperty,xQ=Object.prototype.propertyIsEnumerable,Q4=(t,e,r)=>e in t?lOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$n=(t,e)=>{for(var r in e||(e={}))wQ.call(e,r)&&Q4(t,r,e[r]);if(_x)for(var r of _x(e))xQ.call(e,r)&&Q4(t,r,e[r]);return t},ST=(t,e)=>uOe(t,cOe(e)),EQ=(t,e)=>{var r={};for(var n in t)wQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&_x)for(var n of _x(t))e.indexOf(n)<0&&xQ.call(t,n)&&(r[n]=t[n]);return r},e8=t=>typeof t=="function"?{__fn:t}:t,dOe=t=>t&&typeof t=="object"&&"__fn"in t?t.__fn:t,fOe=t=>{const e=Ro(e8(t));return Ro(r=>dOe(r(e)),(r,n,s)=>n(e,e8(s)))},hOe=(t,e,r={})=>{const n=[];for(const s of Object.keys(t)){const a=e[s];a!==void 0&&n.push([t[s],a])}aOe(n,r)},pOe=(t,e,{store:r}={})=>{for(const n of Object.keys(t)){const s=e[n],a=t[n],o=mM(a,{store:r});q.useEffect(()=>{s!=null&&o(s)},[o,s])}},bx=(t,e)=>"".concat(t,":").concat(e),OR="provider",IR=q.createContext(new Map),mOe=(t,e=OR,r=!0)=>{var n;const s=q.useContext(IR),a=(n=s.get(bx(t,e)))!=null?n:s.get(bx(t,OR));return!a&&r&&console.warn("Tried to access jotai store '".concat(t,"' outside of a matching provider.")),a},gOe=t=>{var e=t,{initialValues:r,children:n,store:s,atoms:a}=e,o=EQ(e,["initialValues","children","store","atoms"]);return hOe(a,$n($n({},r),o),{store:s}),pOe(a,o,{store:s}),q.createElement(q.Fragment,null,n)},vOe=(t,e,r={})=>{const n=r.effect;return s=>{var a=s,{store:o,scope:l,children:c,resetKey:d}=a,f=EQ(a,["store","scope","children","resetKey"]);const[m,g]=q.useState(RR());q.useEffect(()=>{d&&g(RR())},[d]);const y=q.useContext(IR),_=q.useMemo(()=>{const b=new Map(y);return l&&b.set(bx(t,l),m),b.set(bx(t,OR),m),b},[y,l,m]);return q.createElement(IR.Provider,{value:_},q.createElement(gOe,$n({store:m,atoms:e},f),!!n&&q.createElement(n,null),c))}},SQ=(t="")=>t.length>0?t[0].toUpperCase()+t.slice(1):"",yOe=(t="")=>"".concat(SQ(t),"Provider"),_Oe=(t="")=>t.length>0?"".concat(t,"Store"):"store",bOe=(t="")=>"use".concat(SQ(t),"Store"),wOe=t=>!!t&&typeof t=="object"&&"read"in t&&typeof t.read=="function",CT=(t,e)=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,(s={})=>n($n($n({},e),s))])),Vi=(t={})=>typeof t=="string"?{scope:t}:t,gM=(t,{name:e,delay:r,effect:n,extend:s})=>{const a=yOe(e),o=bOe(e),l=_Oe(e),c={},d={},f={};for(const[S,E]of Object.entries(t)){const P=wOe(E)?E:fOe(E);c[S]=P;const T="write"in P;f[S]=T,T&&(d[S]=P)}const m=$n({},c);if(s){const S=s(c);for(const[E,P]of Object.entries(S))m[E]=P,f[E]="write"in P}const g={},y={},_={},b=(S={})=>{const{scope:E,store:P,warnIfNoStore:T=!0}=Vi(S),A=mOe(e,E,!P&&T);return P!=null?P:A},u=(S,E)=>{var P;const T=Vi(E),A=b($n({warnIfNoStore:!1},T));return bQ(S,{store:A,delay:(P=T.delay)!=null?P:r})},h=(S,E)=>{const P=b(E);return mM(S,{store:P})},p=(S,E)=>{const P=b(E),{delay:T=r}=Vi(E);return sOe(S,{store:P,delay:T})};for(const S of Object.keys(m)){const E=m[S],P=f[S];g[S]=(T={})=>u(E,T),P&&(y[S]=(T={})=>h(E,T),_[S]=(T={})=>p(E,T))}const v=vOe(e,d,{effect:n}),w={atom:m,name:e},x=(S={})=>({get:ST($n({},CT(g,Vi(S))),{atom:(E,P)=>u(E,$n($n({},Vi(S)),Vi(P)))}),set:ST($n({},CT(y,Vi(S))),{atom:(E,P)=>h(E,$n($n({},Vi(S)),Vi(P)))}),use:ST($n({},CT(_,Vi(S))),{atom:(E,P)=>p(E,$n($n({},Vi(S)),Vi(P)))}),store:E=>b($n($n({},Vi(S)),Vi(E)))});return{[a]:v,[o]:x,[l]:w,name:e}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function t8(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hn(t){var e,r;return t8(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(t8(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var xOe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=te.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},EOe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=zt.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},SOe={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var s=de.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}}},wx=new WeakMap,xx=new WeakMap,Wg=new WeakMap,CQ=new WeakMap,r8=new WeakMap,n8=new WeakMap,i8=new WeakMap,te={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=te.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){for(var r=[],n=0;n<t.length&&n<e.length;n++){var s=t[n],a=e[n];if(s!==a)break;r.push(s)}return r},compare(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),a=t[r],o=e[r];return te.equals(n,s)&&a>o},endsAt(t,e){var r=t.length,n=t.slice(0,r),s=e.slice(0,r);return te.equals(n,s)},endsBefore(t,e){var r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),a=t[r],o=e[r];return te.equals(n,s)&&a<o},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return te.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&te.compare(t,e)===0},isBefore(t,e){return te.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&te.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&te.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&te.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&te.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var r=t.slice(0,-1),n=e.slice(0,-1),s=t[t.length-1],a=e[e.length-1];return s!==a&&te.equals(r,n)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=[],s=0;s<=t.length;s++)n.push(t.slice(0,s));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!te.isAncestor(e,t)&&!te.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var n=[...t],{affinity:s="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{var{path:a}=e;(te.equals(a,n)||te.endsBefore(a,n)||te.isAncestor(a,n))&&(n[a.length-1]+=1);break}case"remove_node":{var{path:o}=e;if(te.equals(o,n)||te.isAncestor(o,n))return null;te.endsBefore(o,n)&&(n[o.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;te.equals(l,n)||te.endsBefore(l,n)?n[l.length-1]-=1:te.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:d,position:f}=e;if(te.equals(d,n)){if(s==="forward")n[n.length-1]+=1;else if(s!=="backward")return null}else te.endsBefore(d,n)?n[d.length-1]+=1:te.isAncestor(d,n)&&t[d.length]>=f&&(n[d.length-1]+=1,n[d.length]-=f);break}case"move_node":{var{path:m,newPath:g}=e;if(te.equals(m,g))return n;if(te.isAncestor(m,n)||te.equals(m,n)){var y=g.slice();return te.endsBefore(m,g)&&m.length<g.length&&(y[m.length-1]-=1),y.concat(n.slice(m.length))}else te.isSibling(m,g)&&(te.isAncestor(g,n)||te.equals(g,n))?te.endsBefore(m,n)?n[m.length-1]-=1:n[m.length-1]+=1:te.endsBefore(g,n)||te.equals(g,n)||te.isAncestor(g,n)?(te.endsBefore(m,n)&&(n[m.length-1]-=1),n[g.length-1]+=1):te.endsBefore(m,n)&&(te.equals(g,n)&&(n[g.length-1]+=1),n[m.length-1]-=1);break}}return n}};function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function COe(t,e){if(gy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AOe(t){var e=COe(t,"string");return gy(e)==="symbol"?e:String(e)}function Ui(t,e,r){return e=AOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TOe=(t,e,r)=>{switch(r.type){case"insert_node":{var{path:n,node:s}=r,a=Me.parent(t,n),o=n[n.length-1];if(o>a.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(a.children.splice(o,0,s),e)for(var[l,c]of de.points(e))e[c]=zt.transform(l,r);break}case"insert_text":{var{path:d,offset:f,text:m}=r;if(m.length===0)break;var g=Me.leaf(t,d),y=g.text.slice(0,f),_=g.text.slice(f);if(g.text=y+m+_,e)for(var[b,u]of de.points(e))e[u]=zt.transform(b,r);break}case"merge_node":{var{path:h}=r,p=Me.get(t,h),v=te.previous(h),w=Me.get(t,v),x=Me.parent(t,h),S=h[h.length-1];if(Qe.isText(p)&&Qe.isText(w))w.text+=p.text;else if(!Qe.isText(p)&&!Qe.isText(w))w.children.push(...p.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(h,"] to nodes of different interfaces: ").concat(Wn.stringify(p)," ").concat(Wn.stringify(w)));if(x.children.splice(S,1),e)for(var[E,P]of de.points(e))e[P]=zt.transform(E,r);break}case"move_node":{var{path:T,newPath:A}=r;if(te.isAncestor(T,A))throw new Error("Cannot move a path [".concat(T,"] to new path [").concat(A,"] because the destination is inside itself."));var R=Me.get(t,T),D=Me.parent(t,T),O=T[T.length-1];D.children.splice(O,1);var I=te.transform(T,r),M=Me.get(t,te.parent(I)),G=I[I.length-1];if(M.children.splice(G,0,R),e)for(var[j,$]of de.points(e))e[$]=zt.transform(j,r);break}case"remove_node":{var{path:H}=r,K=H[H.length-1],re=Me.parent(t,H);if(re.children.splice(K,1),e)for(var[fe,ye]of de.points(e)){var he=zt.transform(fe,r);if(e!=null&&he!=null)e[ye]=he;else{var ue=void 0,Z=void 0;for(var[z,V]of Me.texts(t))if(te.compare(V,H)===-1)ue=[z,V];else{Z=[z,V];break}var Y=!1;ue&&Z&&(te.equals(Z[1],H)?Y=!te.hasPrevious(Z[1]):Y=te.common(ue[1],H).length<te.common(Z[1],H).length),ue&&!Y?(fe.path=ue[1],fe.offset=ue[0].text.length):Z?(fe.path=Z[1],fe.offset=0):e=null}}break}case"remove_text":{var{path:ne,offset:ie,text:me}=r;if(me.length===0)break;var xe=Me.leaf(t,ne),we=xe.text.slice(0,ie),Ee=xe.text.slice(ie+me.length);if(xe.text=we+Ee,e)for(var[tt,xt]of de.points(e))e[xt]=zt.transform(tt,r);break}case"set_node":{var{path:_t,properties:Gt,newProperties:X}=r;if(_t.length===0)throw new Error("Cannot set properties on the root node!");var oe=Me.get(t,_t);for(var le in X){if(le==="children"||le==="text")throw new Error('Cannot set the "'.concat(le,'" property of nodes!'));var Ae=X[le];Ae==null?delete oe[le]:oe[le]=Ae}for(var _e in Gt)X.hasOwnProperty(_e)||delete oe[_e];break}case"set_selection":{var{newProperties:ce}=r;if(ce==null)e=ce;else{if(e==null){if(!de.isRange(ce))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Wn.stringify(ce)," when there is no current selection."));e=Lm({},ce)}for(var be in ce){var Ye=ce[be];if(Ye==null){if(be==="anchor"||be==="focus")throw new Error('Cannot remove the "'.concat(be,'" selection property'));delete e[be]}else e[be]=Ye}}break}case"split_node":{var{path:Xe,position:Pe,properties:L}=r;if(Xe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Xe,"] because the root node cannot be split."));var B=Me.get(t,Xe),U=Me.parent(t,Xe),J=Xe[Xe.length-1],ae;if(Qe.isText(B)){var ke=B.text.slice(0,Pe),Ne=B.text.slice(Pe);B.text=ke,ae=Lm(Lm({},L),{},{text:Ne})}else{var at=B.children.slice(0,Pe),Ve=B.children.slice(Pe);B.children=at,ae=Lm(Lm({},L),{},{children:Ve})}if(U.children.splice(J+1,0,ae),e)for(var[ht,Ft]of de.points(e))e[Ft]=zt.transform(ht,r);break}}return e},POe={transform(t,e){t.children=r$(t.children);var r=t.selection&&r$(t.selection);try{r=TOe(t,r,e)}finally{t.children=n$(t.children),r?t.selection=jd(r)?n$(r):r:t.selection=null}}},DOe={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},ROe={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},AQ=(t,e)=>{for(var r in t){var n=t[r],s=e[r];if(Hn(n)&&Hn(s)){if(!AQ(n,s))return!1}else if(Array.isArray(n)&&Array.isArray(s)){if(n.length!==s.length)return!1;for(var a=0;a<n.length;a++)if(n[a]!==s[a])return!1}else if(n!==s)return!1}for(var o in e)if(t[o]===void 0&&e[o]!==void 0)return!1;return!0};function OOe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function kl(t,e){if(t==null)return{};var r=OOe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var IOe=["anchor","focus"];function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function BOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var de={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:n,focus:s}=t;return de.isBackward(t)===r?[n,s]:[s,n]},end(t){var[,e]=de.edges(t);return e},equals(t,e){return zt.equals(t.anchor,e.anchor)&&zt.equals(t.focus,e.focus)},includes(t,e){if(de.isRange(e)){if(de.includes(t,e.anchor)||de.includes(t,e.focus))return!0;var[r,n]=de.edges(t),[s,a]=de.edges(e);return zt.isBefore(r,s)&&zt.isAfter(n,a)}var[o,l]=de.edges(t),c=!1,d=!1;return zt.isPoint(e)?(c=zt.compare(e,o)>=0,d=zt.compare(e,l)<=0):(c=te.compare(e,o.path)>=0,d=te.compare(e,l.path)<=0),c&&d},intersection(t,e){var r=kl(t,IOe),[n,s]=de.edges(t),[a,o]=de.edges(e),l=zt.isBefore(n,a)?a:n,c=zt.isBefore(s,o)?s:o;return zt.isBefore(c,l)?null:BOe({anchor:l,focus:c},r)},isBackward(t){var{anchor:e,focus:r}=t;return zt.isAfter(e,r)},isCollapsed(t){var{anchor:e,focus:r}=t;return zt.equals(e,r)},isExpanded(t){return!de.isCollapsed(t)},isForward(t){return!de.isBackward(t)},isRange(t){return Hn(t)&&zt.isPoint(t.anchor)&&zt.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=de.edges(t);return e},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return qy(t,n=>{if(n===null)return null;var{affinity:s="inward"}=r,a,o;if(s==="inward"){var l=de.isCollapsed(n);de.isForward(n)?(a="forward",o=l?a:"backward"):(a="backward",o=l?a:"forward")}else s==="outward"?de.isForward(n)?(a="backward",o="forward"):(a="forward",o="backward"):(a=s,o=s);var c=zt.transform(n.anchor,e,{affinity:a}),d=zt.transform(n.focus,e,{affinity:o});if(!c||!d)return null;n.anchor=c,n.focus=d})}},o8=t=>Hn(t)&&Me.isNodeList(t.children)&&!F.isEditor(t),it={isAncestor(t){return Hn(t)&&Me.isNodeList(t.children)},isElement:o8,isElementList(t){return Array.isArray(t)&&t.every(e=>it.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return o8(e)&&e[n]===r},matches(t,e){for(var r in e)if(r!=="children"&&t[r]!==e[r])return!1;return!0}},FOe=["children"],MOe=["text"],l8=new WeakMap,Me={ancestor(t,e){var r=Me.get(t,e);if(Qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Wn.stringify(r)));return r},ancestors(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of te.ancestors(e,r)){var s=Me.ancestor(t,n),a=[s,n];yield a}}()},child(t,e){if(Qe.isText(t))throw new Error("Cannot get the child of a text node: ".concat(Wn.stringify(t)));var r=t.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Wn.stringify(t)));return r},children(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,s=Me.ancestor(t,e),{children:a}=s,o=n?a.length-1:0;n?o>=0:o<a.length;){var l=Me.child(s,o),c=e.concat(o);yield[l,c],o=n?o-1:o+1}}()},common(t,e,r){var n=te.common(e,r),s=Me.get(t,n);return[s,n]},descendant(t,e){var r=Me.get(t,e);if(F.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Wn.stringify(r)));return r},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))n.length!==0&&(yield[r,n])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))it.isElement(r)&&(yield[r,n])}()},extractProps(t){if(it.isAncestor(t)){var e=kl(t,FOe);return e}else{var e=kl(t,MOe);return e}},first(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(Qe.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(t,e){if(Qe.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Wn.stringify(t)));var r=qy({children:t.children},n=>{var[s,a]=de.edges(e),o=Me.nodes(n,{reverse:!0,pass:g=>{var[,y]=g;return!de.includes(e,y)}});for(var[,l]of o){if(!de.includes(e,l)){var c=Me.parent(n,l),d=l[l.length-1];c.children.splice(d,1)}if(te.equals(l,a.path)){var f=Me.leaf(n,l);f.text=f.text.slice(0,a.offset)}if(te.equals(l,s.path)){var m=Me.leaf(n,l);m.text=m.text.slice(s.offset)}}F.isEditor(n)&&(n.selection=null)});return r.children},get(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(Qe.isText(r)||!r.children[s])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Wn.stringify(t)));r=r.children[s]}return r},has(t,e){for(var r=t,n=0;n<e.length;n++){var s=e[n];if(Qe.isText(r)||!r.children[s])return!1;r=r.children[s]}return!0},isNode(t){return Qe.isText(t)||it.isElement(t)||F.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=l8.get(t);if(e!==void 0)return e;var r=t.every(n=>Me.isNode(n));return l8.set(t,r),r},last(t,e){for(var r=e.slice(),n=Me.get(t,r);n&&!(Qe.isText(n)||n.children.length===0);){var s=n.children.length-1;n=n.children[s],r.push(s)}return[n,r]},leaf(t,e){var r=Me.get(t,e);if(!Qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Wn.stringify(r)));return r},levels(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of te.levels(e,r)){var s=Me.get(t,n);yield[s,n]}}()},matches(t,e){return it.isElement(t)&&it.isElementProps(e)&&it.matches(t,e)||Qe.isText(t)&&Qe.isTextProps(e)&&Qe.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=e,{from:s=[],to:a}=e,o=new Set,l=[],c=t;!(a&&(n?te.isBefore(l,a):te.isAfter(l,a)));){if(o.has(c)||(yield[c,l]),!o.has(c)&&!Qe.isText(c)&&c.children.length!==0&&(r==null||r([c,l])===!1)){o.add(c);var d=n?c.children.length-1:0;te.isAncestor(l,s)&&(d=s[l.length]),l=l.concat(d),c=Me.get(t,l);continue}if(l.length===0)break;if(!n){var f=te.next(l);if(Me.has(t,f)){l=f,c=Me.get(t,l);continue}}if(n&&l[l.length-1]!==0){var m=te.previous(l);l=m,c=Me.get(t,l);continue}l=te.parent(l),c=Me.get(t,l),o.add(c)}}()},parent(t,e){var r=te.parent(e),n=Me.get(t,r);if(Qe.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(t){return Qe.isText(t)?t.text:t.children.map(Me.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Me.nodes(t,e))Qe.isText(r)&&(yield[r,n])}()}};function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Iu={isNodeOperation(t){return Iu.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Hn(t))return!1;switch(t.type){case"insert_node":return te.isPath(t.path)&&Me.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&te.isPath(t.path);case"merge_node":return typeof t.position=="number"&&te.isPath(t.path)&&Hn(t.properties);case"move_node":return te.isPath(t.path)&&te.isPath(t.newPath);case"remove_node":return te.isPath(t.path)&&Me.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&te.isPath(t.path);case"set_node":return te.isPath(t.path)&&Hn(t.properties)&&Hn(t.newProperties);case"set_selection":return t.properties===null&&de.isRange(t.newProperties)||t.newProperties===null&&de.isRange(t.properties)||Hn(t.properties)&&Hn(t.newProperties);case"split_node":return te.isPath(t.path)&&typeof t.position=="number"&&Hn(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>Iu.isOperation(e))},isSelectionOperation(t){return Iu.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return Iu.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return kr(kr({},t),{},{type:"remove_node"});case"insert_text":return kr(kr({},t),{},{type:"remove_text"});case"merge_node":return kr(kr({},t),{},{type:"split_node",path:te.previous(t.path)});case"move_node":{var{newPath:e,path:r}=t;if(te.equals(e,r))return t;if(te.isSibling(r,e))return kr(kr({},t),{},{path:e,newPath:r});var n=te.transform(r,t),s=te.transform(te.next(r),t);return kr(kr({},t),{},{path:n,newPath:s})}case"remove_node":return kr(kr({},t),{},{type:"insert_node"});case"remove_text":return kr(kr({},t),{},{type:"insert_text"});case"set_node":{var{properties:a,newProperties:o}=t;return kr(kr({},t),{},{properties:o,newProperties:a})}case"set_selection":{var{properties:l,newProperties:c}=t;return l==null?kr(kr({},t),{},{properties:c,newProperties:null}):c==null?kr(kr({},t),{},{properties:null,newProperties:l}):kr(kr({},t),{},{properties:c,newProperties:l})}case"split_node":return kr(kr({},t),{},{type:"merge_node",path:te.next(t.path)})}}},c8=new WeakMap,kOe=t=>{var e=c8.get(t);if(e!==void 0)return e;if(!Hn(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Hn(t.marks))&&(t.selection===null||de.isRange(t.selection))&&Me.isNodeList(t.children)&&Iu.isOperationList(t.operations);return c8.set(t,r),r},F={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return kOe(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)},shouldMergeNodesRemovePrevNode:(t,e,r)=>t.shouldMergeNodesRemovePrevNode(e,r)},NOe={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(te.isPath)}};function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function f8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zt={compare(t,e){var r=te.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return zt.compare(t,e)===1},isBefore(t,e){return zt.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&te.equals(t.path,e.path)},isPoint(t){return Hn(t)&&typeof t.offset=="number"&&te.isPath(t.path)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return qy(t,n=>{if(n===null)return null;var{affinity:s="forward"}=r,{path:a,offset:o}=n;switch(e.type){case"insert_node":case"move_node":{n.path=te.transform(a,e,r);break}case"insert_text":{te.equals(e.path,a)&&(e.offset<o||e.offset===o&&s==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{te.equals(e.path,a)&&(n.offset+=e.position),n.path=te.transform(a,e,r);break}case"remove_text":{te.equals(e.path,a)&&e.offset<=o&&(n.offset-=Math.min(o-e.offset,e.text.length));break}case"remove_node":{if(te.equals(e.path,a)||te.isAncestor(e.path,a))return null;n.path=te.transform(a,e,r);break}case"split_node":{if(te.equals(e.path,a)){if(e.position===o&&s==null)return null;(e.position<o||e.position===o&&s==="forward")&&(n.offset-=e.position,n.path=te.transform(a,e,f8(f8({},r),{},{affinity:"forward"})))}else n.path=te.transform(a,e,r);break}}})}},h8=void 0,Wn={setScrubber(t){h8=t},stringify(t){return JSON.stringify(t,h8)}},LOe=["text"],UOe=["anchor","focus"];function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Qe={equals(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function s(a){var o=kl(a,LOe);return o}return AQ(n?s(t):t,n?s(e):e)},isText(t){return Hn(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>Qe.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var r in e)if(r!=="text"&&(!t.hasOwnProperty(r)||t[r]!==e[r]))return!1;return!0},decorations(t,e){var r=[qo({},t)];for(var n of e){var s=kl(n,UOe),[a,o]=de.edges(n),l=[],c=0,d=a.offset,f=o.offset;for(var m of r){var{length:g}=m.text,y=c;if(c+=g,d<=y&&c<=f){Object.assign(m,s),l.push(m);continue}if(d!==f&&(d===c||f===y)||d>c||f<y||f===y&&y!==0){l.push(m);continue}var _=m,b=void 0,u=void 0;if(f<c){var h=f-y;u=qo(qo({},_),{},{text:_.text.slice(h)}),_=qo(qo({},_),{},{text:_.text.slice(0,h)})}if(d>y){var p=d-y;b=qo(qo({},_),{},{text:_.text.slice(0,p)}),_=qo(qo({},_),{},{text:_.text.slice(p)})}Object.assign(_,s),b&&l.push(b),l.push(_),u&&l.push(u)}r=l}return r}},vM=t=>t.selection?t.selection:t.children.length>0?F.end(t,[]):[0],Qp=(t,e)=>{var[r]=F.node(t,e);return n=>n===r},yM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,s=r?HOe(e):e,a=Rt.None,o=Rt.None,l=0,c=null,d=null;for(var f of s){var m=f.codePointAt(0);if(!m)break;var g=nIe(f,m);if([a,o]=n?[o,g]:[g,a],xh(a,Rt.ZWJ)&&xh(o,Rt.ExtPict)&&(n?c=m8(e.substring(0,l)):c=m8(e.substring(0,e.length-l)),!c)||xh(a,Rt.RI)&&xh(o,Rt.RI)&&(d!==null?d=!d:n?d=!0:d=lIe(e.substring(0,e.length-l)),!d)||a!==Rt.None&&o!==Rt.None&&sIe(a,o))break;l+=f.length}return l||1},$Oe=/\s/,jOe=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,zOe=/['\u2018\u2019]/,VOe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,s=!1;e.length>0;){var a=yM(e,r),[o,l]=_M(e,a,r);if(GOe(o,l,r))s=!0,n+=a;else if(!s)n+=a;else break;e=l}return n},_M=(t,e,r)=>{if(r){var n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},GOe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if($Oe.test(e))return!1;if(zOe.test(e)){var s=yM(r,n),[a,o]=_M(r,s,n);if(t(a,o,n))return!0}return!jOe.test(e)},HOe=function*(e){for(var r=e.length-1,n=0;n<e.length;n++){var s=e.charAt(r-n);if(KOe(s.charCodeAt(0))){var a=e.charAt(r-n-1);if(WOe(a.charCodeAt(0))){yield a+s,n++;continue}}yield s}},WOe=t=>t>=55296&&t<=56319,KOe=t=>t>=56320&&t<=57343,Rt;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(Rt||(Rt={}));var XOe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,YOe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,qOe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,ZOe=/^[\u1100-\u115F\uA960-\uA97C]$/,JOe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,QOe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,eIe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,tIe=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,rIe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,nIe=(t,e)=>{var r=Rt.Any;return t.search(XOe)!==-1&&(r|=Rt.Extend),e===8205&&(r|=Rt.ZWJ),e>=127462&&e<=127487&&(r|=Rt.RI),t.search(YOe)!==-1&&(r|=Rt.Prepend),t.search(qOe)!==-1&&(r|=Rt.SpacingMark),t.search(ZOe)!==-1&&(r|=Rt.L),t.search(JOe)!==-1&&(r|=Rt.V),t.search(QOe)!==-1&&(r|=Rt.T),t.search(eIe)!==-1&&(r|=Rt.LV),t.search(tIe)!==-1&&(r|=Rt.LVT),t.search(rIe)!==-1&&(r|=Rt.ExtPict),r};function xh(t,e){return(t&e)!==0}var iIe=[[Rt.L,Rt.L|Rt.V|Rt.LV|Rt.LVT],[Rt.LV|Rt.V,Rt.V|Rt.T],[Rt.LVT|Rt.T,Rt.T],[Rt.Any,Rt.Extend|Rt.ZWJ],[Rt.Any,Rt.SpacingMark],[Rt.Prepend,Rt.Any],[Rt.ZWJ,Rt.ExtPict],[Rt.RI,Rt.RI]];function sIe(t,e){return iIe.findIndex(r=>xh(t,r[0])&&xh(e,r[1]))===-1}var aIe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,m8=t=>t.search(aIe)!==-1,oIe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,lIe=t=>{var e=t.match(oIe);if(e===null)return!1;var r=e[0].length/2;return r%2===1},uIe={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{voids:n=!1}=r,{at:s=vM(t)}=r;if(te.isPath(s)&&(s=F.range(t,s)),de.isRange(s))if(de.isCollapsed(s))s=s.anchor;else{var a=de.end(s);if(!n&&F.void(t,{at:a}))return;var o=de.start(s),l=F.pointRef(t,o),c=F.pointRef(t,a);Se.delete(t,{at:s,voids:n});var d=l.unref(),f=c.unref();s=d||f,Se.setSelection(t,{anchor:s,focus:s})}if(!(!n&&F.void(t,{at:s})||F.elementReadOnly(t,{at:s}))){var{path:m,offset:g}=s;e.length>0&&t.apply({type:"insert_text",path:m,offset:g,text:e})}})}};function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function n1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Se=n1(n1(n1(n1({},POe),DOe),ROe),uIe),lb=new WeakMap,cIe=t=>lb.get(t)||!1,dIe=(t,e,r)=>{var n=lb.get(t)||!1;lb.set(t,!0);try{e(),r()}finally{lb.set(t,n)}};function TQ(t,e,r){var n=wx.get(t)||[],s=xx.get(t)||new Set,a,o,l=m=>{if(m){var g=m.join(",");o.has(g)||(o.add(g),a.push(m))}};if(r){a=[],o=new Set;for(var c of n){var d=r(c);l(d)}}else a=n,o=s;for(var f of e)l(f);wx.set(t,a),xx.set(t,o)}var fIe=(t,e)=>{for(var r of F.pathRefs(t))xOe.transform(r,e);for(var n of F.pointRefs(t))EOe.transform(n,e);for(var s of F.rangeRefs(t))SOe.transform(s,e);if(!cIe(t)){var a=te.operationCanTransformPath(e)?o=>te.transform(o,e):void 0;TQ(t,t.getDirtyPaths(e),a)}Se.transform(t,e),t.operations.push(e),F.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Wg.get(t)||(Wg.set(t,!0),Promise.resolve().then(()=>{Wg.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},hIe=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return te.levels(r)}case"insert_node":{var{node:n,path:s}=e,a=te.levels(s),o=Qe.isText(n)?[]:Array.from(Me.nodes(n),A=>{var[,R]=A;return s.concat(R)});return[...a,...o]}case"merge_node":{var{path:l}=e,c=te.ancestors(l),d=te.previous(l);return[...c,d]}case"move_node":{var{path:f,newPath:m}=e;if(te.equals(f,m))return[];var g=[],y=[];for(var _ of te.ancestors(f)){var b=te.transform(_,e);g.push(b)}for(var u of te.ancestors(m)){var h=te.transform(u,e);y.push(h)}var p=y[y.length-1],v=m[m.length-1],w=p.concat(v);return[...g,...y,w]}case"remove_node":{var{path:x}=e,S=te.ancestors(x);return[...S]}case"split_node":{var{path:E}=e,P=te.levels(E),T=te.next(E);return[...P,T]}default:return[]}},pIe=t=>{var{selection:e}=t;return e?Me.fragment(t,e):[]},mIe=(t,e)=>{var[r,n]=e;if(!Qe.isText(r)){if(it.isElement(r)&&r.children.length===0){var s={text:""};Se.insertNodes(t,s,{at:n.concat(0),voids:!0});return}for(var a=F.isEditor(r)?!1:it.isElement(r)&&(t.isInline(r)||r.children.length===0||Qe.isText(r.children[0])||t.isInline(r.children[0])),o=0,l=0;l<r.children.length;l++,o++){var c=Me.get(t,n);if(!Qe.isText(c)){var d=c.children[o],f=c.children[o-1],m=l===r.children.length-1,g=Qe.isText(d)||it.isElement(d)&&t.isInline(d);if(g!==a)Se.removeNodes(t,{at:n.concat(o),voids:!0}),o--;else if(it.isElement(d)){if(t.isInline(d)){if(f==null||!Qe.isText(f)){var y={text:""};Se.insertNodes(t,y,{at:n.concat(o),voids:!0}),o++}else if(m){var _={text:""};Se.insertNodes(t,_,{at:n.concat(o+1),voids:!0}),o++}}}else{if(!Qe.isText(d)&&!("children"in d)){var b=d;b.children=[]}f!=null&&Qe.isText(f)&&(Qe.equals(d,f,{loose:!0})?(Se.mergeNodes(t,{at:n.concat(o),voids:!0}),o--):f.text===""?(Se.removeNodes(t,{at:n.concat(o-1),voids:!0}),o--):d.text===""&&(Se.removeNodes(t,{at:n.concat(o),voids:!0}),o--))}}}}},gIe=(t,e)=>{var{iteration:r,initialDirtyPathsLength:n}=e,s=n*42;if(r>s)throw new Error("Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},vIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:s="lowest",at:a=e.selection,match:o}=r;if(a){var l=F.path(e,a),c=s==="lowest";for(var[d,f]of F.levels(e,{at:l,voids:n,match:o,reverse:c}))if(!Qe.isText(d)){if(de.isRange(a)){if(te.isAncestor(f,a.anchor.path)&&te.isAncestor(f,a.focus.path))return[d,f]}else if(!te.equals(l,f))return[d,f]}}};function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yIe=(t,e,r)=>{var{selection:n}=t;if(n){var s=(m,g)=>{if(!Qe.isText(m))return!1;var[y,_]=F.parent(t,g);return!t.isVoid(y)||t.markableVoid(y)},a=de.isExpanded(n),o=!1;if(!a){var[l,c]=F.node(t,n);if(l&&s(l,c)){var[d]=F.parent(t,c);o=d&&t.markableVoid(d)}}if(a||o)Se.setNodes(t,{[e]:r},{match:s,split:!0,voids:!0});else{var f=y8(y8({},F.marks(t)||{}),{},{[e]:r});t.marks=f,Wg.get(t)||t.onChange()}}};function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function b8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _Ie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.point(e,r,{edge:"end"}),a=F.end(e,[]),o={anchor:s,focus:a},{distance:l=1}=n,c=0,d;for(var f of F.positions(e,b8(b8({},n),{},{at:o}))){if(c>l)break;c!==0&&(d=f),c++}return d};function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function x8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.start(e,[]),a=F.point(e,r,{edge:"start"}),o={anchor:s,focus:a},{distance:l=1}=n,c=0,d;for(var f of F.positions(e,x8(x8({},n),{},{at:o,reverse:!0}))){if(c>l)break;c!==0&&(d=f),c++}return d},wIe=(t,e)=>{var{selection:r}=t;r&&de.isCollapsed(r)&&Se.delete(t,{unit:e,reverse:!0})},xIe=(t,e)=>{var{selection:r}=t;r&&de.isCollapsed(r)&&Se.delete(t,{unit:e})},EIe=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&de.isExpanded(n)&&Se.delete(e,{reverse:r==="backward"})},SIe=(t,e)=>[F.start(t,e),F.end(t,e)];function E8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function S8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var CIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(e,S8(S8({},r),{},{match:n=>it.isElement(n)&&F.isElementReadOnly(e,n)}))},AIe=(t,e)=>F.point(t,e,{edge:"end"}),TIe=(t,e)=>{var r=F.path(t,e,{edge:"start"});return F.node(t,r)},PIe=(t,e)=>{var r=F.range(t,e);return Me.fragment(t,r)};function C8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function A8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(e,A8(A8({},r),{},{match:n=>it.isElement(n)&&F.isVoid(e,n)}))},RIe=(t,e)=>e.children.some(r=>it.isElement(r)&&F.isBlock(t,r)),OIe=(t,e)=>e.children.some(r=>Qe.isText(r)||F.isInline(t,r)),IIe=(t,e)=>Me.has(t,e),BIe=(t,e)=>e.children.every(r=>Qe.isText(r)),FIe=t=>{Se.splitNodes(t,{always:!0})},MIe=(t,e,r)=>{Se.insertNodes(t,e,r)},kIe=t=>{Se.splitNodes(t,{always:!0})};function T8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function NIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s,marks:a}=e;if(s){if(a){var o=NIe({text:r},a);Se.insertNodes(e,o,{at:n.at,voids:n.voids})}else Se.insertText(e,r,n);e.marks=null}},UIe=(t,e)=>!t.isInline(e),$Ie=(t,e,r)=>F.isStart(t,e,r)||F.isEnd(t,e,r),jIe=(t,e)=>{var{children:r}=e,[n]=r;return r.length===0||r.length===1&&Qe.isText(n)&&n.text===""&&!t.isVoid(e)},zIe=(t,e,r)=>{var n=F.end(t,r);return zt.equals(e,n)},VIe=t=>{var e=CQ.get(t);return e===void 0?!0:e},GIe=(t,e,r)=>{if(e.offset!==0)return!1;var n=F.start(t,r);return zt.equals(e,n)},HIe=(t,e)=>{var r=F.path(t,e,{edge:"end"});return F.node(t,r)},WIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.path(e,r,n),a=Me.leaf(e,s);return[a,s]};function KIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,reverse:n=!1,voids:s=!1}=e,{match:a}=e;if(a==null&&(a=()=>!0),!!r){var o=[],l=F.path(t,r);for(var[c,d]of Me.levels(t,l))if(a(c,d)&&(o.push([c,d]),!s&&it.isElement(c)&&F.isVoid(t,c)))break;n&&o.reverse(),yield*o}}()}var XIe=["text"],YIe=["text"],qIe=function(e){var{marks:r,selection:n}=e;if(!n)return null;var{anchor:s,focus:a}=n;if(r)return r;if(de.isExpanded(n)){var o=F.isEnd(e,s,s.path);if(o){var l=F.after(e,s);l&&(s=l)}var[c]=F.nodes(e,{match:Qe.isText,at:{anchor:s,focus:a}});if(c){var[d]=c,f=kl(d,XIe);return f}else return{}}var{path:m}=s,[g]=F.leaf(e,m);if(s.offset===0){var y=F.previous(e,{at:m,match:Qe.isText}),_=F.above(e,{match:w=>it.isElement(w)&&F.isVoid(e,w)&&e.markableVoid(w)});if(!_){var b=F.above(e,{match:w=>it.isElement(w)&&F.isBlock(e,w)});if(y&&b){var[u,h]=y,[,p]=b;te.isAncestor(p,h)&&(g=u)}}}var v=kl(g,YIe);return v},ZIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:a,at:o=e.selection}=r;if(o){var l=F.after(e,o,{voids:s});if(l){var[,c]=F.last(e,[]),d=[l.path,c];if(te.isPath(o)&&o.length===0)throw new Error("Cannot get the next node from the root node!");if(a==null)if(te.isPath(o)){var[f]=F.parent(e,o);a=g=>f.children.includes(g)}else a=()=>!0;var[m]=F.nodes(e,{at:d,match:a,mode:n,voids:s});return m}}},JIe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.path(e,r,n),a=Me.get(e,s);return[a,s]};function QIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,mode:n="all",universal:s=!1,reverse:a=!1,voids:o=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var d,f;if(NOe.isSpan(r))d=r[0],f=r[1];else{var m=F.path(t,r,{edge:"start"}),g=F.path(t,r,{edge:"end"});d=a?g:m,f=a?m:g}var y=Me.nodes(t,{reverse:a,from:d,to:f,pass:w=>{var[x]=w;return it.isElement(x)?!!(!o&&(F.isVoid(t,x)||F.isElementReadOnly(t,x))||l&&!F.isSelectable(t,x)):!1}}),_=[],b;for(var[u,h]of y)if(!(l&&it.isElement(u)&&!F.isSelectable(t,u))){var p=b&&te.compare(h,b[1])===0;if(!(n==="highest"&&p)){if(!c(u,h)){if(s&&!p&&Qe.isText(u))return;continue}if(n==="lowest"&&p){b=[u,h];continue}var v=n==="lowest"?b:[u,h];v&&(s?_.push(v):yield v),b=[u,h]}}n==="lowest"&&b&&(s?_.push(b):yield b),s&&(yield*_)}}()}var eBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:s}=r,a=f=>wx.get(f)||[],o=f=>xx.get(f)||new Set,l=f=>{var m=a(f).pop(),g=m.join(",");return o(f).delete(g),m};if(F.isNormalizing(e)){if(n){var c=Array.from(Me.nodes(e),f=>{var[,m]=f;return m}),d=new Set(c.map(f=>f.join(",")));wx.set(e,c),xx.set(e,d)}a(e).length!==0&&F.withoutNormalizing(e,()=>{for(var f of a(e))if(Me.has(e,f)){var m=F.node(e,f),[g,y]=m;it.isElement(g)&&g.children.length===0&&e.normalizeNode(m,{operation:s})}for(var _=a(e),b=_.length,u=0;_.length!==0;){if(!e.shouldNormalize({dirtyPaths:_,iteration:u,initialDirtyPathsLength:b,operation:s}))return;var h=l(e);if(Me.has(e,h)){var p=F.node(e,h);e.normalizeNode(p,{operation:s})}u++,_=a(e)}})}},tBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.path(e,r,n),a=te.parent(s),o=F.node(e,a);return o},rBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,a={current:r,affinity:s,unref(){var{current:l}=a,c=F.pathRefs(e);return c.delete(a),a.current=null,l}},o=F.pathRefs(e);return o.add(a),a},nBe=t=>{var e=r8.get(t);return e||(e=new Set,r8.set(t,e)),e},iBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:s,edge:a}=n;if(te.isPath(r)){if(a==="start"){var[,o]=Me.first(e,r);r=o}else if(a==="end"){var[,l]=Me.last(e,r);r=l}}return de.isRange(r)&&(a==="start"?r=de.start(r):a==="end"?r=de.end(r):r=te.common(r.anchor.path,r.focus.path)),zt.isPoint(r)&&(r=r.path),s!=null&&(r=r.slice(0,s)),r},sBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,a={current:r,affinity:s,unref(){var{current:l}=a,c=F.pointRefs(e);return c.delete(a),a.current=null,l}},o=F.pointRefs(e);return o.add(a),a},aBe=t=>{var e=n8.get(t);return e||(e=new Set,n8.set(t,e)),e},oBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:s="start"}=n;if(te.isPath(r)){var a;if(s==="end"){var[,o]=Me.last(e,r);a=o}else{var[,l]=Me.first(e,r);a=l}var c=Me.get(e,a);if(!Qe.isText(c))throw new Error("Cannot get the ".concat(s," point in the node at path [").concat(r,"] because it has no ").concat(s," text node."));return{path:a,offset:s==="end"?c.text.length:0}}if(de.isRange(r)){var[d,f]=de.edges(r);return s==="start"?d:f}return r};function lBe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,unit:n="offset",reverse:s=!1,voids:a=!1,ignoreNonSelectable:o=!1}=e;if(!r)return;var l=F.range(t,r),[c,d]=de.edges(l),f=s?d:c,m=!1,g="",y=0,_=0,b=0;for(var[u,h]of F.nodes(t,{at:r,reverse:s,voids:a,ignoreNonSelectable:o})){if(it.isElement(u)){if(!a&&(t.isVoid(u)||t.isElementReadOnly(u))){yield F.start(t,h);continue}if(t.isInline(u))continue;if(F.hasInlines(t,u)){var p=te.isAncestor(h,d.path)?d:F.end(t,h),v=te.isAncestor(h,c.path)?c:F.start(t,h);g=F.string(t,{anchor:v,focus:p},{voids:a}),m=!0}}if(Qe.isText(u)){var w=te.equals(h,f.path);for(w?(_=s?f.offset:u.text.length-f.offset,b=f.offset):(_=u.text.length,b=s?_:0),(w||m||n==="offset")&&(yield{path:h,offset:b},m=!1);;){if(y===0){if(g==="")break;y=x(g,n,s),g=_M(g,y,s)[1]}if(b=s?b-y:b+y,_=_-y,_<0){y=-_;break}y=0,yield{path:h,offset:b}}}}function x(S,E,P){return E==="character"?yM(S,P):E==="word"?VOe(S,P):E==="line"||E==="block"?S.length:1}}()}var uBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:s=!1}=r,{match:a,at:o=e.selection}=r;if(o){var l=F.before(e,o,{voids:s});if(l){var[,c]=F.first(e,[]),d=[l.path,c];if(te.isPath(o)&&o.length===0)throw new Error("Cannot get the previous node from the root node!");if(a==null)if(te.isPath(o)){var[f]=F.parent(e,o);a=g=>f.children.includes(g)}else a=()=>!0;var[m]=F.nodes(e,{reverse:!0,at:d,match:a,mode:n,voids:s});return m}}},cBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:s="forward"}=n,a={current:r,affinity:s,unref(){var{current:l}=a,c=F.rangeRefs(e);return c.delete(a),a.current=null,l}},o=F.rangeRefs(e);return o.add(a),a},dBe=t=>{var e=i8.get(t);return e||(e=new Set,i8.set(t,e)),e},fBe=(t,e,r)=>{if(de.isRange(e)&&!r)return e;var n=F.start(t,e),s=F.end(t,r||e);return{anchor:n,focus:s}};function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hBe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pBe=(t,e)=>{var{selection:r}=t;if(r){var n=(f,m)=>{if(!Qe.isText(f))return!1;var[g,y]=F.parent(t,m);return!t.isVoid(g)||t.markableVoid(g)},s=de.isExpanded(r),a=!1;if(!s){var[o,l]=F.node(t,r);if(o&&n(o,l)){var[c]=F.parent(t,l);a=c&&t.markableVoid(c)}}if(s||a)Se.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{var d=hBe({},F.marks(t)||{});delete d[e],t.marks=d,Wg.get(t)||t.onChange()}}},mBe=(t,e)=>{CQ.set(t,e)},gBe=(t,e)=>F.point(t,e,{edge:"start"}),vBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,a=F.range(e,r),[o,l]=de.edges(a),c="";for(var[d,f]of F.nodes(e,{at:a,match:Qe.isText,voids:s})){var m=d.text;te.equals(f,l.path)&&(m=m.slice(0,l.offset)),te.equals(f,o.path)&&(m=m.slice(o.offset)),c+=m}return c},yBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:s=!1}=n,[a,o]=de.edges(r);if(a.offset!==0||o.offset!==0||de.isCollapsed(r)||te.hasPrevious(o.path))return r;var l=F.above(e,{at:o,match:_=>it.isElement(_)&&F.isBlock(e,_),voids:s}),c=l?l[1]:[],d=F.start(e,a),f={anchor:d,focus:o},m=!0;for(var[g,y]of F.nodes(e,{at:f,match:Qe.isText,reverse:!0,voids:s})){if(m){m=!1;continue}if(g.text!==""||te.isBefore(y,c)){o={path:y,offset:g.text.length};break}}return{anchor:a,focus:o}},PQ=(t,e)=>{var r=F.isNormalizing(t);F.setNormalizing(t,!1);try{e()}finally{F.setNormalizing(t,r)}F.normalize(t)},_Be=(t,e,r)=>{var[n,s]=e;return it.isElement(n)&&F.isEmpty(t,n)||Qe.isText(n)&&n.text===""&&s[s.length-1]!==0},bBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var n,s,{reverse:a=!1,unit:o="character",distance:l=1,voids:c=!1}=r,{at:d=e.selection,hanging:f=!1}=r;if(d){var m=!1;if(de.isRange(d)&&de.isCollapsed(d)&&(m=!0,d=d.anchor),zt.isPoint(d)){var g=F.void(e,{at:d,mode:"highest"});if(!c&&g){var[,y]=g;d=y}else{var _={unit:o,distance:l},b=a?F.before(e,d,_)||F.start(e,[]):F.after(e,d,_)||F.end(e,[]);d={anchor:d,focus:b},f=!0}}if(te.isPath(d)){Se.removeNodes(e,{at:d,voids:c});return}if(!de.isCollapsed(d)){if(!f){var[,u]=de.edges(d),h=F.end(e,[]);zt.equals(u,h)||(d=F.unhangRange(e,d,{voids:c}))}var[p,v]=de.edges(d),w=F.above(e,{match:we=>it.isElement(we)&&F.isBlock(e,we),at:p,voids:c}),x=F.above(e,{match:we=>it.isElement(we)&&F.isBlock(e,we),at:v,voids:c}),S=w&&x&&!te.equals(w[1],x[1]),E=te.equals(p.path,v.path),P=c?null:(n=F.void(e,{at:p,mode:"highest"}))!==null&&n!==void 0?n:F.elementReadOnly(e,{at:p,mode:"highest"}),T=c?null:(s=F.void(e,{at:v,mode:"highest"}))!==null&&s!==void 0?s:F.elementReadOnly(e,{at:v,mode:"highest"});if(P){var A=F.before(e,p);A&&w&&te.isAncestor(w[1],A.path)&&(p=A)}if(T){var R=F.after(e,v);R&&x&&te.isAncestor(x[1],R.path)&&(v=R)}var D=[],O;for(var I of F.nodes(e,{at:d,voids:c})){var[M,G]=I;O&&te.compare(G,O)===0||(!c&&it.isElement(M)&&(F.isVoid(e,M)||F.isElementReadOnly(e,M))||!te.isCommon(G,p.path)&&!te.isCommon(G,v.path))&&(D.push(I),O=G)}var j=Array.from(D,we=>{var[,Ee]=we;return F.pathRef(e,Ee)}),$=F.pointRef(e,p),H=F.pointRef(e,v),K="";if(!E&&!P){var re=$.current,[fe]=F.leaf(e,re),{path:ye}=re,{offset:he}=p,ue=fe.text.slice(he);ue.length>0&&(e.apply({type:"remove_text",path:ye,offset:he,text:ue}),K=ue)}if(j.reverse().map(we=>we.unref()).filter(we=>we!==null).forEach(we=>Se.removeNodes(e,{at:we,voids:c})),!T){var Z=H.current,[z]=F.leaf(e,Z),{path:V}=Z,Y=E?p.offset:0,ne=z.text.slice(Y,v.offset);ne.length>0&&(e.apply({type:"remove_text",path:V,offset:Y,text:ne}),K=ne)}!E&&S&&H.current&&$.current&&Se.mergeNodes(e,{at:H.current,hanging:!0,voids:c}),m&&a&&o==="character"&&K.length>1&&K.match(/[\u0E00-\u0E7F]+/)&&Se.insertText(e,K.slice(0,K.length-l));var ie=$.unref(),me=H.unref(),xe=a?ie||me:me||ie;r.at==null&&xe&&Se.select(e,xe)}}})},wBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:a=!1}=n,{at:o=vM(e),batchDirty:l=!0}=n;if(r.length){if(de.isRange(o))if(s||(o=F.unhangRange(e,o,{voids:a})),de.isCollapsed(o))o=o.anchor;else{var[,c]=de.edges(o);if(!a&&F.void(e,{at:c}))return;var d=F.pointRef(e,c);Se.delete(e,{at:o}),o=d.unref()}else te.isPath(o)&&(o=F.start(e,o));if(!(!a&&F.void(e,{at:o}))){var f=F.above(e,{at:o,match:ue=>it.isElement(ue)&&F.isInline(e,ue),mode:"highest",voids:a});if(f){var[,m]=f;if(F.isEnd(e,o,m)){var g=F.after(e,m);o=g}else if(F.isStart(e,o,m)){var y=F.before(e,m);o=y}}var _=F.above(e,{match:ue=>it.isElement(ue)&&F.isBlock(e,ue),at:o,voids:a}),[,b]=_,u=F.isStart(e,o,b),h=F.isEnd(e,o,b),p=u&&h,v=!u||u&&h,w=!h,[,x]=Me.first({children:r},[]),[,S]=Me.last({children:r},[]),E=[],P=ue=>{var[Z,z]=ue,V=z.length===0;return V?!1:p?!0:!(v&&te.isAncestor(z,x)&&it.isElement(Z)&&!e.isVoid(Z)&&!e.isInline(Z)||w&&te.isAncestor(z,S)&&it.isElement(Z)&&!e.isVoid(Z)&&!e.isInline(Z))};for(var T of Me.nodes({children:r},{pass:P}))P(T)&&E.push(T);var A=[],R=[],D=[],O=!0,I=!1;for(var[M]of E)it.isElement(M)&&!e.isInline(M)?(O=!1,I=!0,R.push(M)):O?A.push(M):D.push(M);var[G]=F.nodes(e,{at:o,match:ue=>Qe.isText(ue)||F.isInline(e,ue),mode:"highest",voids:a}),[,j]=G,$=F.isStart(e,o,j),H=F.isEnd(e,o,j),K=F.pathRef(e,h&&!D.length?te.next(b):b),re=F.pathRef(e,H?te.next(j):j);Se.splitNodes(e,{at:o,match:ue=>I?it.isElement(ue)&&F.isBlock(e,ue):Qe.isText(ue)||F.isInline(e,ue),mode:I?"lowest":"highest",always:I&&(!u||A.length>0)&&(!h||D.length>0),voids:a});var fe=F.pathRef(e,!$||$&&H?te.next(j):j);if(Se.insertNodes(e,A,{at:fe.current,match:ue=>Qe.isText(ue)||F.isInline(e,ue),mode:"highest",voids:a,batchDirty:l}),p&&!A.length&&R.length&&!D.length&&Se.delete(e,{at:b,voids:a}),Se.insertNodes(e,R,{at:K.current,match:ue=>it.isElement(ue)&&F.isBlock(e,ue),mode:"lowest",voids:a,batchDirty:l}),Se.insertNodes(e,D,{at:re.current,match:ue=>Qe.isText(ue)||F.isInline(e,ue),mode:"highest",voids:a,batchDirty:l}),!n.at){var ye;if(D.length>0&&re.current?ye=te.previous(re.current):R.length>0&&K.current?ye=te.previous(K.current):fe.current&&(ye=te.previous(fe.current)),ye){var he=F.end(e,ye);Se.select(e,he)}}fe.unref(),K.unref(),re.unref()}}})},xBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:s}=e;if(s){if(n==="anchor")Se.select(e,s.anchor);else if(n==="focus")Se.select(e,s.focus);else if(n==="start"){var[a]=de.edges(s);Se.select(e,a)}else if(n==="end"){var[,o]=de.edges(s);Se.select(e,o)}}else return},EBe=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},SBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:s=1,unit:a="character",reverse:o=!1}=r,{edge:l=null}=r;if(n){l==="start"&&(l=de.isBackward(n)?"focus":"anchor"),l==="end"&&(l=de.isBackward(n)?"anchor":"focus");var{anchor:c,focus:d}=n,f={distance:s,unit:a,ignoreNonSelectable:!0},m={};if(l==null||l==="anchor"){var g=o?F.before(e,c,f):F.after(e,c,f);g&&(m.anchor=g)}if(l==null||l==="focus"){var y=o?F.before(e,d,f):F.after(e,d,f);y&&(m.focus=y)}Se.setSelection(e,m)}},CBe=(t,e)=>{var{selection:r}=t;if(e=F.range(t,e),r){Se.setSelection(t,e);return}if(!de.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Wn.stringify(e)));t.apply({type:"set_selection",properties:r,newProperties:e})};function D8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function R8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ABe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:s}=e,{edge:a="both"}=n;if(s){a==="start"&&(a=de.isBackward(s)?"focus":"anchor"),a==="end"&&(a=de.isBackward(s)?"anchor":"focus");var{anchor:o,focus:l}=s,c=a==="anchor"?o:l;Se.setSelection(e,{[a==="anchor"?"anchor":"focus"]:R8(R8({},c),r)})}},TBe=(t,e)=>{var{selection:r}=t,n={},s={};if(r){for(var a in e)(a==="anchor"&&e.anchor!=null&&!zt.equals(e.anchor,r.anchor)||a==="focus"&&e.focus!=null&&!zt.equals(e.focus,r.focus)||a!=="anchor"&&a!=="focus"&&e[a]!==r[a])&&(n[a]=r[a],s[a]=e[a]);Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:s})}},PBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:a=!1,mode:o="lowest",batchDirty:l=!0}=n,{at:c,match:d,select:f}=n;if(Me.isNode(r)&&(r=[r]),r.length!==0){var[m]=r;if(c||(c=vM(e),f!==!1&&(f=!0)),f==null&&(f=!1),de.isRange(c))if(s||(c=F.unhangRange(e,c,{voids:a})),de.isCollapsed(c))c=c.anchor;else{var[,g]=de.edges(c),y=F.pointRef(e,g);Se.delete(e,{at:c}),c=y.unref()}if(zt.isPoint(c)){d==null&&(Qe.isText(m)?d=A=>Qe.isText(A):e.isInline(m)?d=A=>Qe.isText(A)||F.isInline(e,A):d=A=>it.isElement(A)&&F.isBlock(e,A));var[_]=F.nodes(e,{at:c.path,match:d,mode:o,voids:a});if(_){var[,b]=_,u=F.pathRef(e,b),h=F.isEnd(e,c,b);Se.splitNodes(e,{at:c,match:d,mode:o,voids:a});var p=u.unref();c=h?te.next(p):p}else return}var v=te.parent(c),w=c[c.length-1];if(!(!a&&F.void(e,{at:v}))){if(l){var x=[],S=te.levels(v);dIe(e,()=>{var A=function(){var O=v.concat(w);w++;var I={type:"insert_node",path:O,node:R};e.apply(I),c=te.next(c),x.push(I),Qe.isText?S.push(...Array.from(Me.nodes(R),M=>{var[,G]=M;return O.concat(G)})):S.push(O)};for(var R of r)A()},()=>{TQ(e,S,A=>{var R=A;for(var D of x)if(te.operationCanTransformPath(D)&&(R=te.transform(R,D),!R))return null;return R})})}else for(var E of r){var P=v.concat(w);w++,e.apply({type:"insert_node",path:P,node:E}),c=te.next(c)}if(c=te.previous(c),f){var T=F.end(e,c);T&&Se.select(e,T)}}}})},DBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:s="lowest",voids:a=!1}=r,{match:o}=r;if(o==null&&(o=te.isPath(n)?Qp(e,n):w=>it.isElement(w)&&F.isBlock(e,w)),!!n){var l=F.nodes(e,{at:n,match:o,mode:s,voids:a}),c=Array.from(l,w=>{var[,x]=w;return F.pathRef(e,x)});for(var d of c){var f=d.unref();if(f.length<2)throw new Error("Cannot lift node at a path [".concat(f,"] because it has a depth of less than `2`."));var m=F.node(e,te.parent(f)),[g,y]=m,_=f[f.length-1],{length:b}=g.children;if(b===1){var u=te.next(y);Se.moveNodes(e,{at:f,to:u,voids:a}),Se.removeNodes(e,{at:y,voids:a})}else if(_===0)Se.moveNodes(e,{at:f,to:y,voids:a});else if(_===b-1){var h=te.next(y);Se.moveNodes(e,{at:f,to:h,voids:a})}else{var p=te.next(f),v=te.next(y);Se.splitNodes(e,{at:p,voids:a}),Se.moveNodes(e,{at:f,to:v,voids:a})}}}})},RBe=["text"],OBe=["children"],DQ=(t,e)=>{if(it.isElement(e)){var r=e;return F.isVoid(t,e)?!0:r.children.length===1?DQ(t,r.children[0]):!1}else return!F.isEditor(e)},IBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{match:n,at:s=e.selection}=r,{hanging:a=!1,voids:o=!1,mode:l="lowest"}=r;if(s){if(n==null)if(te.isPath(s)){var[c]=F.parent(e,s);n=A=>c.children.includes(A)}else n=A=>it.isElement(A)&&F.isBlock(e,A);if(!a&&de.isRange(s)&&(s=F.unhangRange(e,s,{voids:o})),de.isRange(s))if(de.isCollapsed(s))s=s.anchor;else{var[,d]=de.edges(s),f=F.pointRef(e,d);Se.delete(e,{at:s}),s=f.unref(),r.at==null&&Se.select(e,s)}var[m]=F.nodes(e,{at:s,match:n,voids:o,mode:l}),g=F.previous(e,{at:s,match:n,voids:o,mode:l});if(!(!m||!g)){var[y,_]=m,[b,u]=g;if(!(_.length===0||u.length===0)){var h=te.next(u),p=te.common(_,u),v=te.isSibling(_,u),w=Array.from(F.levels(e,{at:_}),A=>{var[R]=A;return R}).slice(p.length).slice(0,-1),x=F.above(e,{at:_,mode:"highest",match:A=>w.includes(A)&&DQ(e,A)}),S=x&&F.pathRef(e,x[1]),E,P;if(Qe.isText(y)&&Qe.isText(b)){var T=kl(y,RBe);P=b.text.length,E=T}else if(it.isElement(y)&&it.isElement(b)){var T=kl(y,OBe);P=b.children.length,E=T}else throw new Error("Cannot merge the node at path [".concat(_,"] with the previous sibling because it is not the same kind: ").concat(Wn.stringify(y)," ").concat(Wn.stringify(b)));v||Se.moveNodes(e,{at:_,to:h,voids:o}),S&&Se.removeNodes(e,{at:S.current,voids:o}),F.shouldMergeNodesRemovePrevNode(e,g,m)?Se.removeNodes(e,{at:u,voids:o}):e.apply({type:"merge_node",path:h,position:P,properties:E}),S&&S.unref()}}}})},BBe=(t,e)=>{F.withoutNormalizing(t,()=>{var{to:r,at:n=t.selection,mode:s="lowest",voids:a=!1}=e,{match:o}=e;if(n){o==null&&(o=te.isPath(n)?Qp(t,n):y=>it.isElement(y)&&F.isBlock(t,y));var l=F.pathRef(t,r),c=F.nodes(t,{at:n,match:o,mode:s,voids:a}),d=Array.from(c,y=>{var[,_]=y;return F.pathRef(t,_)});for(var f of d){var m=f.unref(),g=l.current;m.length!==0&&t.apply({type:"move_node",path:m,newPath:g}),l.current&&te.isSibling(g,m)&&te.isAfter(g,m)&&(l.current=te.next(l.current))}l.unref()}})},RQ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:s=!1,mode:a="lowest"}=r,{at:o=e.selection,match:l}=r;if(o){l==null&&(l=te.isPath(o)?Qp(e,o):y=>it.isElement(y)&&F.isBlock(e,y)),!n&&de.isRange(o)&&(o=F.unhangRange(e,o,{voids:s}));var c=F.nodes(e,{at:o,match:l,mode:a,voids:s}),d=Array.from(c,y=>{var[,_]=y;return F.pathRef(e,_)});for(var f of d){var m=f.unref();if(m){var[g]=F.node(e,m);e.apply({type:"remove_node",path:m,node:g})}}}})},FBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{match:s,at:a=e.selection,compare:o,merge:l}=n,{hanging:c=!1,mode:d="lowest",split:f=!1,voids:m=!1}=n;if(a){if(s==null&&(s=te.isPath(a)?Qp(e,a):P=>it.isElement(P)&&F.isBlock(e,P)),!c&&de.isRange(a)&&(a=F.unhangRange(e,a,{voids:m})),f&&de.isRange(a)){if(de.isCollapsed(a)&&F.leaf(e,a.anchor)[0].text.length>0)return;var g=F.rangeRef(e,a,{affinity:"inward"}),[y,_]=de.edges(a),b=d==="lowest"?"lowest":"highest",u=F.isEnd(e,_,_.path);Se.splitNodes(e,{at:_,match:s,mode:b,voids:m,always:!u});var h=F.isStart(e,y,y.path);Se.splitNodes(e,{at:y,match:s,mode:b,voids:m,always:!h}),a=g.unref(),n.at==null&&Se.select(e,a)}o||(o=(P,T)=>P!==T);for(var[p,v]of F.nodes(e,{at:a,match:s,mode:d,voids:m})){var w={},x={};if(v.length!==0){var S=!1;for(var E in r)E==="children"||E==="text"||o(r[E],p[E])&&(S=!0,p.hasOwnProperty(E)&&(w[E]=p[E]),l?r[E]!=null&&(x[E]=l(p[E],r[E])):r[E]!=null&&(x[E]=r[E]));S&&e.apply({type:"set_node",path:v,properties:w,newProperties:x})}}}})},MBe=(t,e)=>{if(de.isCollapsed(e))return e.anchor;var[,r]=de.edges(e),n=F.pointRef(t,r);return Se.delete(t,{at:e}),n.unref()},kBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:s=!1}=r,{match:a,at:o=e.selection,height:l=0,always:c=!1}=r;if(a==null&&(a=H=>it.isElement(H)&&F.isBlock(e,H)),de.isRange(o)&&(o=MBe(e,o)),te.isPath(o)){var d=o,f=F.point(e,d),[m]=F.parent(e,d);a=H=>H===m,l=f.path.length-d.length+1,o=f,c=!0}if(o){var g=F.pointRef(e,o,{affinity:"backward"}),y;try{var[_]=F.nodes(e,{at:o,match:a,mode:n,voids:s});if(!_)return;var b=F.void(e,{at:o,mode:"highest"}),u=0;if(!s&&b){var[h,p]=b;if(it.isElement(h)&&e.isInline(h)){var v=F.after(e,p);if(!v){var w={text:""},x=te.next(p);Se.insertNodes(e,w,{at:x,voids:s}),v=F.point(e,x)}o=v,c=!0}var S=o.path.length-p.length;l=S+1,c=!0}y=F.pointRef(e,o);var E=o.path.length-l,[,P]=_,T=o.path.slice(0,E),A=l===0?o.offset:o.path[E]+u;for(var[R,D]of F.levels(e,{at:T,reverse:!0,voids:s})){var O=!1;if(D.length<P.length||D.length===0||!s&&it.isElement(R)&&F.isVoid(e,R))break;var I=g.current,M=F.isEnd(e,I,D);if(c||!g||!F.isEdge(e,I,D)){O=!0;var G=Me.extractProps(R);e.apply({type:"split_node",path:D,position:A,properties:G})}A=D[D.length-1]+(O||M?1:0)}if(r.at==null){var j=y.current||F.end(e,[]);Se.select(e,j)}}finally{var $;g.unref(),($=y)===null||$===void 0||$.unref()}}})},NBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var s={};for(var a of r)s[a]=null;Se.setNodes(e,s,n)},LBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(e,()=>{var{mode:n="lowest",split:s=!1,voids:a=!1}=r,{at:o=e.selection,match:l}=r;if(o){l==null&&(l=te.isPath(o)?Qp(e,o):y=>it.isElement(y)&&F.isBlock(e,y)),te.isPath(o)&&(o=F.range(e,o));var c=de.isRange(o)?F.rangeRef(e,o):null,d=F.nodes(e,{at:o,match:l,mode:n,voids:a}),f=Array.from(d,y=>{var[,_]=y;return F.pathRef(e,_)}).reverse(),m=function(){var _=g.unref(),[b]=F.node(e,_),u=F.range(e,_);s&&c&&(u=de.intersection(c.current,u)),Se.liftNodes(e,{at:u,match:h=>it.isAncestor(b)&&b.children.includes(h),voids:a})};for(var g of f)m();c&&c.unref()}})};function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function I8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{mode:s="lowest",split:a=!1,voids:o=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(te.isPath(c)?l=Qp(e,c):e.isInline(r)?l=u=>it.isElement(u)&&F.isInline(e,u)||Qe.isText(u):l=u=>it.isElement(u)&&F.isBlock(e,u)),a&&de.isRange(c)){var[d,f]=de.edges(c),m=F.rangeRef(e,c,{affinity:"inward"});Se.splitNodes(e,{at:f,match:l,voids:o}),Se.splitNodes(e,{at:d,match:l,voids:o}),c=m.unref(),n.at==null&&Se.select(e,c)}var g=Array.from(F.nodes(e,{at:c,match:e.isInline(r)?u=>it.isElement(u)&&F.isBlock(e,u):u=>F.isEditor(u),mode:"lowest",voids:o})),y=function(){var h=de.isRange(c)?de.intersection(c,F.range(e,b)):c;if(!h)return 0;var p=Array.from(F.nodes(e,{at:h,match:l,mode:s,voids:o}));if(p.length>0){var[v]=p,w=p[p.length-1],[,x]=v,[,S]=w;if(x.length===0&&S.length===0)return 0;var E=te.equals(x,S)?te.parent(x):te.common(x,S),P=F.range(e,x,S),T=F.node(e,E),[A]=T,R=E.length+1,D=te.next(S.slice(0,R)),O=I8(I8({},r),{},{children:[]});Se.insertNodes(e,O,{at:D,voids:o}),Se.moveNodes(e,{at:P,match:I=>it.isAncestor(A)&&A.children.includes(I),to:D.concat(0),voids:o})}},_;for(var[,b]of g)_=y()}})},OQ=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fIe(t,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yIe(t,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wIe(t,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xIe(t,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EIe(t,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pIe(t,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FIe(t,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kIe(t,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return wBe(t,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return MIe(t,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LIe(t,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mIe(t,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return pBe(t,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return hIe(t,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gIe(t,...n)},above:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vIe(t,...n)},after:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Ie(t,...n)},before:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bIe(t,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return xBe(t,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return bBe(t,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return EBe(t,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SIe(t,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CIe(t,...n)},end:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return AIe(t,...n)},first:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TIe(t,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PIe(t,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qIe(t,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RIe(t,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return OIe(t,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IIe(t,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BIe(t,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PBe(t,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UIe(t,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return $Ie(t,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return jIe(t,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zIe(t,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return VIe(t,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return GIe(t,...n)},last:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return HIe(t,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return WIe(t,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return KIe(t,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DBe(t,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return IBe(t,...n)},move:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return SBe(t,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return BBe(t,...n)},next:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ZIe(t,...n)},node:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return JIe(t,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return QIe(t,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return eBe(t,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return tBe(t,...n)},path:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return iBe(t,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rBe(t,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return nBe(t,...n)},point:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return oBe(t,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return sBe(t,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return aBe(t,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return lBe(t,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return uBe(t,...n)},range:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return fBe(t,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return cBe(t,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return dBe(t,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return RQ(t,...n)},select:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return CBe(t,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FBe(t,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return mBe(t,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ABe(t,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return TBe(t,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return kBe(t,...n)},start:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return gBe(t,...n)},string:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return vBe(t,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return yBe(t,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return NBe(t,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return LBe(t,...n)},void:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return DIe(t,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return PQ(t,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return UBe(t,...n)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _Be(t,...n)}};return t},$Be={isHistory(t){return Hn(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||Iu.isOperationList(t.redos[0].operations))&&(t.undos.length===0||Iu.isOperationList(t.undos[0].operations))}},AT=new WeakMap,Um=new WeakMap,fd={isHistoryEditor(t){return $Be.isHistory(t.history)&&F.isEditor(t)},isMerging(t){return Um.get(t)},isSaving(t){return AT.get(t)},redo(t){t.redo()},undo(t){t.undo()},withMerging(t,e){var r=fd.isMerging(t);Um.set(t,!0),e(),Um.set(t,r)},withoutMerging(t,e){var r=fd.isMerging(t);Um.set(t,!1),e(),Um.set(t,r)},withoutSaving(t,e){var r=fd.isSaving(t);AT.set(t,!1),e(),AT.set(t,r)}},IQ=t=>{var e=t,{apply:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:s}=n;if(s.length>0){var a=s[s.length-1];a.selectionBefore&&Se.setSelection(e,a.selectionBefore),fd.withoutSaving(e,()=>{F.withoutNormalizing(e,()=>{for(var o of a.operations)e.apply(o)})}),n.redos.pop(),e.writeHistory("undos",a)}},e.undo=()=>{var{history:n}=e,{undos:s}=n;if(s.length>0){var a=s[s.length-1];fd.withoutSaving(e,()=>{F.withoutNormalizing(e,()=>{var o=a.operations.map(Iu.inverse).reverse();for(var l of o)e.apply(l);a.selectionBefore&&Se.setSelection(e,a.selectionBefore)})}),e.writeHistory("redos",a),n.undos.pop()}},e.apply=n=>{var{operations:s,history:a}=e,{undos:o}=a,l=o[o.length-1],c=l&&l.operations[l.operations.length-1],d=fd.isSaving(e),f=fd.isMerging(e);if(d==null&&(d=zBe(n)),d){if(f==null&&(l==null?f=!1:s.length!==0?f=!0:f=jBe(n,c)),l&&f)l.operations.push(n);else{var m={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",m)}for(;o.length>100;)o.shift();a.redos=[]}r(n)},e.writeHistory=(n,s)=>{e.history[n].push(s)},e},jBe=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&te.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&te.equals(t.path,e.path)),zBe=(t,e)=>t.type!=="set_selection",VBe=Object.defineProperty,GBe=Object.defineProperties,HBe=Object.getOwnPropertyDescriptors,Ex=Object.getOwnPropertySymbols,BQ=Object.prototype.hasOwnProperty,FQ=Object.prototype.propertyIsEnumerable,B8=(t,e,r)=>e in t?VBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MQ=(t,e)=>{for(var r in e||(e={}))BQ.call(e,r)&&B8(t,r,e[r]);if(Ex)for(var r of Ex(e))FQ.call(e,r)&&B8(t,r,e[r]);return t},WBe=(t,e)=>GBe(t,HBe(e)),KBe=(t,e)=>{var r={};for(var n in t)BQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ex)for(var n of Ex(t))e.indexOf(n)<0&&FQ.call(t,n)&&(r[n]=t[n]);return r},js=(t,e)=>()=>(console.warn("[OVERRIDE_MISSING] The method editor.".concat(t,"() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.")),e),XBe=()=>{const t=OQ();return t.hasEditableTarget=js("hasEditableTarget",!1),t.hasRange=js("hasRange",!1),t.hasSelectableTarget=js("hasSelectableTarget",!1),t.hasTarget=js("hasTarget",!1),t.insertData=js("insertData"),t.insertFragmentData=js("insertFragmentData"),t.insertTextData=js("insertTextData",!1),t.isTargetInsideNonReadonlyVoid=js("isTargetInsideNonReadonlyVoid",!1),t.setFragmentData=js("setFragmentData"),t.history={redos:[],undos:[]},t.undo=js("undo"),t.redo=js("redo"),t.writeHistory=js("writeHistory"),t},Gl=t=>it.isElement(t),YBe=(t,e)=>Gl(e)&&F.isBlock(t,e);function qBe(t){return Array.isArray(t)?t:[t]}var ZBe=(t,e,r)=>r?typeof r=="object"?Object.entries(r).every(([n,s])=>qBe(s).includes(t[n])):r(t,e):!0,bM=(t,e={})=>{const{block:r,match:n}=e;return WBe(MQ({},e),{match:n||r?(s,a)=>ZBe(s,a,n)&&(!r||YBe(t,s)):void 0})},Sx=(t,e)=>F.above(t,bM(t,e)),JBe=(t,e,r={})=>{const{unhang:n=!0,voids:s}=r;return de.isRange(e)&&n?F.unhangRange(t,e,{voids:s}):e},kQ=(t,e)=>(JBe(t,e==null?void 0:e.at,e),F.nodes(t,bM(t,e))),Rc=(t,e)=>{let r=!1;return F.withoutNormalizing(t,()=>{r=!!e()}),r},fc=t=>Qe.isText(t),wM=(t,e)=>Se.removeNodes(t,e),xM=(t,e)=>{Se.select(t,e)},EM=(t,e)=>F.end(t,e),QBe=(t,e,r)=>F.before(t,e,r),NQ=(t,e)=>F.start(t,e),LQ=(t,e,r)=>{if(!e)return"";try{return F.string(t,e,r)}catch(n){return""}},SM=t=>F.marks(t),eFe=(t,e,r)=>F.point(t,e,r),UQ=(t,e)=>Gl(e)&&F.isInline(t,e),F8=(t,e,r)=>!!e&&F.isStart(t,e,r),tFe=(t,e)=>F.normalize(t,e),rFe=(t,e)=>F.removeMark(t,e),nFe=(t,e)=>{try{for(let r=0;r<e.length;r++){const n=e[r];if(fc(t)||!t.children[n])return null;t=t.children[n]}return t}catch(r){return null}},iFe=(t,e,r)=>Me.children(t,e,r),CM=t=>Me.string(t),$Q=t=>it.isAncestor(t),sFe=t=>!!t&&de.isCollapsed(t),jQ=t=>!!t&&de.isExpanded(t),aFe=t=>{Se.deselect(t)};function TT(t){return Array.isArray(t)?t:[t]}var w_=(t,{allow:e,exclude:r,filter:n,level:s,maxLevel:a}={})=>{if(!t)return!1;const[o,l]=t;if(s&&!TT(s).includes(l.length)||a&&l.length>a||n&&!n(t))return!1;if(e){const c=TT(e);if(c.length>0&&!c.includes(o.type))return!1}if(r){const c=TT(r);if(c.length>0&&c.includes(o.type))return!1}return!0},oFe=(t,e,r={})=>{var n=r,{nextBlock:s,removeEmpty:a}=n,o=KBe(n,["nextBlock","removeEmpty"]);PQ(t,()=>{if(a){const l=Sx(t,{at:o.at});if(l){const c=a===!0?{allow:["p"]}:a,{filter:d}=c;c.filter=([f,m])=>CM(f)||f.children.some(y=>UQ(t,y))?!1:!d||d([f,m]),w_(l,c)&&(RQ(t,{at:l[1]}),s=!1)}}if(s){const{at:l=t.selection}=o;if(l){const c=EM(t,l),d=Sx(t,{at:c,block:!0});d&&(o.at=te.next(d[1]))}}Se.insertNodes(t,e,o)})},HQe=(t,e)=>{Se.move(t,e)},WQe=(t,e,r)=>Se.setNodes(t,e,r),lFe=(t,e,r)=>Se.unsetNodes(t,e,r),uFe=(t,e={})=>{try{const r=kQ(t,MQ({at:t.selection||[]},bM(t,e)));for(const[n,s]of r)return[n,s]}catch(r){return}},zQ=(t,e)=>!!uFe(t,e);function cFe(){this.__data__=[],this.size=0}var dFe=cFe;function fFe(t,e){return t===e||t!==t&&e!==e}var x_=fFe,hFe=x_;function pFe(t,e){for(var r=t.length;r--;)if(hFe(t[r][0],e))return r;return-1}var SS=pFe,mFe=SS,gFe=Array.prototype,vFe=gFe.splice;function yFe(t){var e=this.__data__,r=mFe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vFe.call(e,r,1),--this.size,!0}var _Fe=yFe,bFe=SS;function wFe(t){var e=this.__data__,r=bFe(e,t);return r<0?void 0:e[r][1]}var xFe=wFe,EFe=SS;function SFe(t){return EFe(this.__data__,t)>-1}var CFe=SFe,AFe=SS;function TFe(t,e){var r=this.__data__,n=AFe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var PFe=TFe,DFe=dFe,RFe=_Fe,OFe=xFe,IFe=CFe,BFe=PFe;function em(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}em.prototype.clear=DFe;em.prototype.delete=RFe;em.prototype.get=OFe;em.prototype.has=IFe;em.prototype.set=BFe;var CS=em,FFe=CS;function MFe(){this.__data__=new FFe,this.size=0}var kFe=MFe;function NFe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var LFe=NFe;function UFe(t){return this.__data__.get(t)}var $Fe=UFe;function jFe(t){return this.__data__.has(t)}var zFe=jFe,VFe=typeof Yi=="object"&&Yi&&Yi.Object===Object&&Yi,VQ=VFe,GFe=VQ,HFe=typeof self=="object"&&self&&self.Object===Object&&self,WFe=GFe||HFe||Function("return this")(),Za=WFe,KFe=Za,XFe=KFe.Symbol,tm=XFe,M8=tm,GQ=Object.prototype,YFe=GQ.hasOwnProperty,qFe=GQ.toString,$m=M8?M8.toStringTag:void 0;function ZFe(t){var e=YFe.call(t,$m),r=t[$m];try{t[$m]=void 0;var n=!0}catch(a){}var s=qFe.call(t);return n&&(e?t[$m]=r:delete t[$m]),s}var JFe=ZFe,QFe=Object.prototype,eMe=QFe.toString;function tMe(t){return eMe.call(t)}var rMe=tMe,k8=tm,nMe=JFe,iMe=rMe,sMe="[object Null]",aMe="[object Undefined]",N8=k8?k8.toStringTag:void 0;function oMe(t){return t==null?t===void 0?aMe:sMe:N8&&N8 in Object(t)?nMe(t):iMe(t)}var rm=oMe;function lMe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ns=lMe,uMe=rm,cMe=Ns,dMe="[object AsyncFunction]",fMe="[object Function]",hMe="[object GeneratorFunction]",pMe="[object Proxy]";function mMe(t){if(!cMe(t))return!1;var e=uMe(t);return e==fMe||e==hMe||e==dMe||e==pMe}var AM=mMe,gMe=Za,vMe=gMe["__core-js_shared__"],yMe=vMe,PT=yMe,L8=function(){var t=/[^.]+$/.exec(PT&&PT.keys&&PT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _Me(t){return!!L8&&L8 in t}var bMe=_Me,wMe=Function.prototype,xMe=wMe.toString;function EMe(t){if(t!=null){try{return xMe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var HQ=EMe,SMe=AM,CMe=bMe,AMe=Ns,TMe=HQ,PMe=/[\\^$.*+?()[\]{}|]/g,DMe=/^\[object .+?Constructor\]$/,RMe=Function.prototype,OMe=Object.prototype,IMe=RMe.toString,BMe=OMe.hasOwnProperty,FMe=RegExp("^"+IMe.call(BMe).replace(PMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MMe(t){if(!AMe(t)||CMe(t))return!1;var e=SMe(t)?FMe:DMe;return e.test(TMe(t))}var kMe=MMe;function NMe(t,e){return t==null?void 0:t[e]}var LMe=NMe,UMe=kMe,$Me=LMe;function jMe(t,e){var r=$Me(t,e);return UMe(r)?r:void 0}var yf=jMe,zMe=yf,VMe=Za,GMe=zMe(VMe,"Map"),TM=GMe,HMe=yf,WMe=HMe(Object,"create"),AS=WMe,U8=AS;function KMe(){this.__data__=U8?U8(null):{},this.size=0}var XMe=KMe;function YMe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qMe=YMe,ZMe=AS,JMe="__lodash_hash_undefined__",QMe=Object.prototype,eke=QMe.hasOwnProperty;function tke(t){var e=this.__data__;if(ZMe){var r=e[t];return r===JMe?void 0:r}return eke.call(e,t)?e[t]:void 0}var rke=tke,nke=AS,ike=Object.prototype,ske=ike.hasOwnProperty;function ake(t){var e=this.__data__;return nke?e[t]!==void 0:ske.call(e,t)}var oke=ake,lke=AS,uke="__lodash_hash_undefined__";function cke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=lke&&e===void 0?uke:e,this}var dke=cke,fke=XMe,hke=qMe,pke=rke,mke=oke,gke=dke;function nm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nm.prototype.clear=fke;nm.prototype.delete=hke;nm.prototype.get=pke;nm.prototype.has=mke;nm.prototype.set=gke;var vke=nm,$8=vke,yke=CS,_ke=TM;function bke(){this.size=0,this.__data__={hash:new $8,map:new(_ke||yke),string:new $8}}var wke=bke;function xke(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Eke=xke,Ske=Eke;function Cke(t,e){var r=t.__data__;return Ske(e)?r[typeof e=="string"?"string":"hash"]:r.map}var TS=Cke,Ake=TS;function Tke(t){var e=Ake(this,t).delete(t);return this.size-=e?1:0,e}var Pke=Tke,Dke=TS;function Rke(t){return Dke(this,t).get(t)}var Oke=Rke,Ike=TS;function Bke(t){return Ike(this,t).has(t)}var Fke=Bke,Mke=TS;function kke(t,e){var r=Mke(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Nke=kke,Lke=wke,Uke=Pke,$ke=Oke,jke=Fke,zke=Nke;function im(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}im.prototype.clear=Lke;im.prototype.delete=Uke;im.prototype.get=$ke;im.prototype.has=jke;im.prototype.set=zke;var PM=im,Vke=CS,Gke=TM,Hke=PM,Wke=200;function Kke(t,e){var r=this.__data__;if(r instanceof Vke){var n=r.__data__;if(!Gke||n.length<Wke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hke(n)}return r.set(t,e),this.size=r.size,this}var Xke=Kke,Yke=CS,qke=kFe,Zke=LFe,Jke=$Fe,Qke=zFe,eNe=Xke;function sm(t){var e=this.__data__=new Yke(t);this.size=e.size}sm.prototype.clear=qke;sm.prototype.delete=Zke;sm.prototype.get=Jke;sm.prototype.has=Qke;sm.prototype.set=eNe;var DM=sm,tNe=yf,rNe=function(){try{var t=tNe(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),WQ=rNe,j8=WQ;function nNe(t,e,r){e=="__proto__"&&j8?j8(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var RM=nNe,iNe=RM,sNe=x_;function aNe(t,e,r){(r!==void 0&&!sNe(t[e],r)||r===void 0&&!(e in t))&&iNe(t,e,r)}var KQ=aNe;function oNe(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var lNe=oNe,uNe=lNe,cNe=uNe(),dNe=cNe,Cx={exports:{}};Cx.exports;(function(t,e){var r=Za,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var m=d.length,g=l?l(m):new d.constructor(m);return d.copy(g),g}t.exports=c})(Cx,Cx.exports);var XQ=Cx.exports,fNe=Za,hNe=fNe.Uint8Array,YQ=hNe,z8=YQ;function pNe(t){var e=new t.constructor(t.byteLength);return new z8(e).set(new z8(t)),e}var OM=pNe,mNe=OM;function gNe(t,e){var r=e?mNe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var qQ=gNe;function vNe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var ZQ=vNe,yNe=Ns,V8=Object.create,_Ne=function(){function t(){}return function(e){if(!yNe(e))return{};if(V8)return V8(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),bNe=_Ne;function wNe(t,e){return function(r){return t(e(r))}}var JQ=wNe,xNe=JQ,ENe=xNe(Object.getPrototypeOf,Object),IM=ENe,SNe=Object.prototype;function CNe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||SNe;return t===r}var BM=CNe,ANe=bNe,TNe=IM,PNe=BM;function DNe(t){return typeof t.constructor=="function"&&!PNe(t)?ANe(TNe(t)):{}}var QQ=DNe;function RNe(t){return t!=null&&typeof t=="object"}var Hl=RNe,ONe=rm,INe=Hl,BNe="[object Arguments]";function FNe(t){return INe(t)&&ONe(t)==BNe}var MNe=FNe,G8=MNe,kNe=Hl,eee=Object.prototype,NNe=eee.hasOwnProperty,LNe=eee.propertyIsEnumerable,UNe=G8(function(){return arguments}())?G8:function(t){return kNe(t)&&NNe.call(t,"callee")&&!LNe.call(t,"callee")},PS=UNe,$Ne=Array.isArray,Ja=$Ne,jNe=9007199254740991;function zNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jNe}var FM=zNe,VNe=AM,GNe=FM;function HNe(t){return t!=null&&GNe(t.length)&&!VNe(t)}var DS=HNe,WNe=DS,KNe=Hl;function XNe(t){return KNe(t)&&WNe(t)}var YNe=XNe,Ax={exports:{}};function qNe(){return!1}var ZNe=qNe;Ax.exports;(function(t,e){var r=Za,n=ZNe,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Ax,Ax.exports);var RS=Ax.exports,JNe=rm,QNe=IM,e3e=Hl,t3e="[object Object]",r3e=Function.prototype,n3e=Object.prototype,tee=r3e.toString,i3e=n3e.hasOwnProperty,s3e=tee.call(Object);function a3e(t){if(!e3e(t)||JNe(t)!=t3e)return!1;var e=QNe(t);if(e===null)return!0;var r=i3e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&tee.call(r)==s3e}var ree=a3e,o3e=rm,l3e=FM,u3e=Hl,c3e="[object Arguments]",d3e="[object Array]",f3e="[object Boolean]",h3e="[object Date]",p3e="[object Error]",m3e="[object Function]",g3e="[object Map]",v3e="[object Number]",y3e="[object Object]",_3e="[object RegExp]",b3e="[object Set]",w3e="[object String]",x3e="[object WeakMap]",E3e="[object ArrayBuffer]",S3e="[object DataView]",C3e="[object Float32Array]",A3e="[object Float64Array]",T3e="[object Int8Array]",P3e="[object Int16Array]",D3e="[object Int32Array]",R3e="[object Uint8Array]",O3e="[object Uint8ClampedArray]",I3e="[object Uint16Array]",B3e="[object Uint32Array]",Or={};Or[C3e]=Or[A3e]=Or[T3e]=Or[P3e]=Or[D3e]=Or[R3e]=Or[O3e]=Or[I3e]=Or[B3e]=!0;Or[c3e]=Or[d3e]=Or[E3e]=Or[f3e]=Or[S3e]=Or[h3e]=Or[p3e]=Or[m3e]=Or[g3e]=Or[v3e]=Or[y3e]=Or[_3e]=Or[b3e]=Or[w3e]=Or[x3e]=!1;function F3e(t){return u3e(t)&&l3e(t.length)&&!!Or[o3e(t)]}var M3e=F3e;function k3e(t){return function(e){return t(e)}}var MM=k3e,Tx={exports:{}};Tx.exports;(function(t,e){var r=VQ,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(d){}}();t.exports=l})(Tx,Tx.exports);var kM=Tx.exports,N3e=M3e,L3e=MM,H8=kM,W8=H8&&H8.isTypedArray,U3e=W8?L3e(W8):N3e,NM=U3e;function $3e(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var nee=$3e,j3e=RM,z3e=x_,V3e=Object.prototype,G3e=V3e.hasOwnProperty;function H3e(t,e,r){var n=t[e];(!(G3e.call(t,e)&&z3e(n,r))||r===void 0&&!(e in t))&&j3e(t,e,r)}var LM=H3e,W3e=LM,K3e=RM;function X3e(t,e,r,n){var s=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=n?n(r[l],t[l],l,r,t):void 0;c===void 0&&(c=t[l]),s?K3e(r,l,c):W3e(r,l,c)}return r}var am=X3e;function Y3e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var q3e=Y3e,Z3e=9007199254740991,J3e=/^(?:0|[1-9]\d*)$/;function Q3e(t,e){var r=typeof t;return e=e==null?Z3e:e,!!e&&(r=="number"||r!="symbol"&&J3e.test(t))&&t>-1&&t%1==0&&t<e}var OS=Q3e,eLe=q3e,tLe=PS,rLe=Ja,nLe=RS,iLe=OS,sLe=NM,aLe=Object.prototype,oLe=aLe.hasOwnProperty;function lLe(t,e){var r=rLe(t),n=!r&&tLe(t),s=!r&&!n&&nLe(t),a=!r&&!n&&!s&&sLe(t),o=r||n||s||a,l=o?eLe(t.length,String):[],c=l.length;for(var d in t)(e||oLe.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||iLe(d,c)))&&l.push(d);return l}var iee=lLe;function uLe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var cLe=uLe,dLe=Ns,fLe=BM,hLe=cLe,pLe=Object.prototype,mLe=pLe.hasOwnProperty;function gLe(t){if(!dLe(t))return hLe(t);var e=fLe(t),r=[];for(var n in t)n=="constructor"&&(e||!mLe.call(t,n))||r.push(n);return r}var vLe=gLe,yLe=iee,_Le=vLe,bLe=DS;function wLe(t){return bLe(t)?yLe(t,!0):_Le(t)}var E_=wLe,xLe=am,ELe=E_;function SLe(t){return xLe(t,ELe(t))}var CLe=SLe,K8=KQ,ALe=XQ,TLe=qQ,PLe=ZQ,DLe=QQ,X8=PS,Y8=Ja,RLe=YNe,OLe=RS,ILe=AM,BLe=Ns,FLe=ree,MLe=NM,q8=nee,kLe=CLe;function NLe(t,e,r,n,s,a,o){var l=q8(t,r),c=q8(e,r),d=o.get(c);if(d){K8(t,r,d);return}var f=a?a(l,c,r+"",t,e,o):void 0,m=f===void 0;if(m){var g=Y8(c),y=!g&&OLe(c),_=!g&&!y&&MLe(c);f=c,g||y||_?Y8(l)?f=l:RLe(l)?f=PLe(l):y?(m=!1,f=ALe(c,!0)):_?(m=!1,f=TLe(c,!0)):f=[]:FLe(c)||X8(c)?(f=l,X8(l)?f=kLe(l):(!BLe(l)||ILe(l))&&(f=DLe(c))):m=!1}m&&(o.set(c,f),s(f,c,n,a,o),o.delete(c)),K8(t,r,f)}var LLe=NLe,ULe=DM,$Le=KQ,jLe=dNe,zLe=LLe,VLe=Ns,GLe=E_,HLe=nee;function see(t,e,r,n,s){t!==e&&jLe(e,function(a,o){if(s||(s=new ULe),VLe(a))zLe(t,e,o,r,see,n,s);else{var l=n?n(HLe(t,o),a,o+"",t,e,s):void 0;l===void 0&&(l=a),$Le(t,o,l)}},GLe)}var UM=see;function WLe(t){return t}var aee=WLe;function KLe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var oee=KLe,XLe=oee,Z8=Math.max;function YLe(t,e,r){return e=Z8(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=Z8(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),XLe(t,this,l)}}var lee=YLe;function qLe(t){return function(){return t}}var ZLe=qLe,JLe=ZLe,J8=WQ,QLe=aee,eUe=J8?function(t,e){return J8(t,"toString",{configurable:!0,enumerable:!1,value:JLe(e),writable:!0})}:QLe,tUe=eUe,rUe=800,nUe=16,iUe=Date.now;function sUe(t){var e=0,r=0;return function(){var n=iUe(),s=nUe-(n-r);if(r=n,s>0){if(++e>=rUe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aUe=sUe,oUe=tUe,lUe=aUe,uUe=lUe(oUe),uee=uUe,cUe=aee,dUe=lee,fUe=uee;function hUe(t,e){return fUe(dUe(t,e,cUe),t+"")}var cee=hUe,pUe=x_,mUe=DS,gUe=OS,vUe=Ns;function yUe(t,e,r){if(!vUe(r))return!1;var n=typeof e;return(n=="number"?mUe(r)&&gUe(e,r.length):n=="string"&&e in r)?pUe(r[e],t):!1}var _Ue=yUe,bUe=cee,wUe=_Ue;function xUe(t){return bUe(function(e,r){var n=-1,s=r.length,a=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,o&&wUe(r[0],r[1],o)&&(a=s<3?void 0:a,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,a)}return e})}var dee=xUe,EUe=UM,SUe=dee,CUe=SUe(function(t,e,r,n){EUe(t,e,r,n)}),fee=CUe;const hee=ui(fee);var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});var AUe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),DT={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},pee={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:AUe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},$M={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var i1=1;i1<20;i1++)$M["f"+i1]=111+i1;function IS(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map(function(o){return mee(o,e)}),s=function(l){return n.some(function(c){return gee(c,l)})},a=r==null?s:s(r);return a}function TUe(t,e){return IS(t,e)}function PUe(t,e){return IS(t,{byKey:!0},e)}function mee(t,e){var r=e&&e.byKey,n={};t=t.replace("++","+add");var s=t.split("+"),a=s.length;for(var o in DT)n[DT[o]]=!1;var l=!0,c=!1,d=void 0;try{for(var f=s[Symbol.iterator](),m;!(l=(m=f.next()).done);l=!0){var g=m.value,y=g.endsWith("?")&&g.length>1;y&&(g=g.slice(0,-1));var _=jM(g),b=DT[_];if(g.length>1&&!b&&!pee[g]&&!$M[_])throw new TypeError('Unknown modifier: "'+g+'"');(a===1||!b)&&(r?n.key=_:n.which=vee(g)),b&&(n[b]=y?null:!0)}}catch(u){c=!0,d=u}finally{try{!l&&f.return&&f.return()}finally{if(c)throw d}}return n}function gee(t,e){for(var r in t){var n=t[r],s=void 0;if(n!=null&&(r==="key"&&e.key!=null?s=e.key.toLowerCase():r==="which"?s=n===91&&e.which===93?91:e.which:s=e[r],!(s==null&&n===!1)&&s!==n))return!1}return!0}function vee(t){t=jM(t);var e=$M[t]||t.toUpperCase().charCodeAt(0);return e}function jM(t){return t=t.toLowerCase(),t=pee[t]||t,t}Wl.default=IS;var RT=Wl.isHotkey=IS;Wl.isCodeHotkey=TUe;var Kh=Wl.isKeyHotkey=PUe;Wl.parseHotkey=mee;Wl.compareHotkey=gee;Wl.toKeyCode=vee;Wl.toKeyName=jM;var DUe=UM,RUe=dee,OUe=RUe(function(t,e,r){DUe(t,e,r)}),IUe=OUe;const Ta=ui(IUe);var BUe=Ja;function FUe(){if(!arguments.length)return[];var t=arguments[0];return BUe(t)?t:[t]}var MUe=FUe;const Ku=ui(MUe);function kUe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var yee=kUe,NUe="__lodash_hash_undefined__";function LUe(t){return this.__data__.set(t,NUe),this}var UUe=LUe;function $Ue(t){return this.__data__.has(t)}var jUe=$Ue,zUe=PM,VUe=UUe,GUe=jUe;function Px(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new zUe;++e<r;)this.add(t[e])}Px.prototype.add=Px.prototype.push=VUe;Px.prototype.has=GUe;var HUe=Px;function WUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var KUe=WUe;function XUe(t,e){return t.has(e)}var YUe=XUe,qUe=HUe,ZUe=KUe,JUe=YUe,QUe=1,e$e=2;function t$e(t,e,r,n,s,a){var o=r&QUe,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var m=-1,g=!0,y=r&e$e?new qUe:void 0;for(a.set(t,e),a.set(e,t);++m<l;){var _=t[m],b=e[m];if(n)var u=o?n(b,_,m,e,t,a):n(_,b,m,t,e,a);if(u!==void 0){if(u)continue;g=!1;break}if(y){if(!ZUe(e,function(h,p){if(!JUe(y,p)&&(_===h||s(_,h,r,n,a)))return y.push(p)})){g=!1;break}}else if(!(_===b||s(_,b,r,n,a))){g=!1;break}}return a.delete(t),a.delete(e),g}var _ee=t$e;function r$e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var n$e=r$e;function i$e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var s$e=i$e,Q8=tm,e6=YQ,a$e=x_,o$e=_ee,l$e=n$e,u$e=s$e,c$e=1,d$e=2,f$e="[object Boolean]",h$e="[object Date]",p$e="[object Error]",m$e="[object Map]",g$e="[object Number]",v$e="[object RegExp]",y$e="[object Set]",_$e="[object String]",b$e="[object Symbol]",w$e="[object ArrayBuffer]",x$e="[object DataView]",t6=Q8?Q8.prototype:void 0,OT=t6?t6.valueOf:void 0;function E$e(t,e,r,n,s,a,o){switch(r){case x$e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w$e:return!(t.byteLength!=e.byteLength||!a(new e6(t),new e6(e)));case f$e:case h$e:case g$e:return a$e(+t,+e);case p$e:return t.name==e.name&&t.message==e.message;case v$e:case _$e:return t==e+"";case m$e:var l=l$e;case y$e:var c=n&c$e;if(l||(l=u$e),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=d$e,o.set(t,e);var f=o$e(l(t),l(e),n,s,a,o);return o.delete(t),f;case b$e:if(OT)return OT.call(t)==OT.call(e)}return!1}var S$e=E$e;function C$e(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var zM=C$e,A$e=zM,T$e=Ja;function P$e(t,e,r){var n=e(t);return T$e(t)?n:A$e(n,r(t))}var bee=P$e;function D$e(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}var R$e=D$e;function O$e(){return[]}var wee=O$e,I$e=R$e,B$e=wee,F$e=Object.prototype,M$e=F$e.propertyIsEnumerable,r6=Object.getOwnPropertySymbols,k$e=r6?function(t){return t==null?[]:(t=Object(t),I$e(r6(t),function(e){return M$e.call(t,e)}))}:B$e,VM=k$e,N$e=JQ,L$e=N$e(Object.keys,Object),U$e=L$e,$$e=BM,j$e=U$e,z$e=Object.prototype,V$e=z$e.hasOwnProperty;function G$e(t){if(!$$e(t))return j$e(t);var e=[];for(var r in Object(t))V$e.call(t,r)&&r!="constructor"&&e.push(r);return e}var H$e=G$e,W$e=iee,K$e=H$e,X$e=DS;function Y$e(t){return X$e(t)?W$e(t):K$e(t)}var GM=Y$e,q$e=bee,Z$e=VM,J$e=GM;function Q$e(t){return q$e(t,J$e,Z$e)}var xee=Q$e,n6=xee,e4e=1,t4e=Object.prototype,r4e=t4e.hasOwnProperty;function n4e(t,e,r,n,s,a){var o=r&e4e,l=n6(t),c=l.length,d=n6(e),f=d.length;if(c!=f&&!o)return!1;for(var m=c;m--;){var g=l[m];if(!(o?g in e:r4e.call(e,g)))return!1}var y=a.get(t),_=a.get(e);if(y&&_)return y==e&&_==t;var b=!0;a.set(t,e),a.set(e,t);for(var u=o;++m<c;){g=l[m];var h=t[g],p=e[g];if(n)var v=o?n(p,h,g,e,t,a):n(h,p,g,t,e,a);if(!(v===void 0?h===p||s(h,p,r,n,a):v)){b=!1;break}u||(u=g=="constructor")}if(b&&!u){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(b=!1)}return a.delete(t),a.delete(e),b}var i4e=n4e,s4e=yf,a4e=Za,o4e=s4e(a4e,"DataView"),l4e=o4e,u4e=yf,c4e=Za,d4e=u4e(c4e,"Promise"),f4e=d4e,h4e=yf,p4e=Za,m4e=h4e(p4e,"Set"),g4e=m4e,v4e=yf,y4e=Za,_4e=v4e(y4e,"WeakMap"),b4e=_4e,BR=l4e,FR=TM,MR=f4e,kR=g4e,NR=b4e,Eee=rm,om=HQ,i6="[object Map]",w4e="[object Object]",s6="[object Promise]",a6="[object Set]",o6="[object WeakMap]",l6="[object DataView]",x4e=om(BR),E4e=om(FR),S4e=om(MR),C4e=om(kR),A4e=om(NR),Zc=Eee;(BR&&Zc(new BR(new ArrayBuffer(1)))!=l6||FR&&Zc(new FR)!=i6||MR&&Zc(MR.resolve())!=s6||kR&&Zc(new kR)!=a6||NR&&Zc(new NR)!=o6)&&(Zc=function(t){var e=Eee(t),r=e==w4e?t.constructor:void 0,n=r?om(r):"";if(n)switch(n){case x4e:return l6;case E4e:return i6;case S4e:return s6;case C4e:return a6;case A4e:return o6}return e});var BS=Zc,IT=DM,T4e=_ee,P4e=S$e,D4e=i4e,u6=BS,c6=Ja,d6=RS,R4e=NM,O4e=1,f6="[object Arguments]",h6="[object Array]",s1="[object Object]",I4e=Object.prototype,p6=I4e.hasOwnProperty;function B4e(t,e,r,n,s,a){var o=c6(t),l=c6(e),c=o?h6:u6(t),d=l?h6:u6(e);c=c==f6?s1:c,d=d==f6?s1:d;var f=c==s1,m=d==s1,g=c==d;if(g&&d6(t)){if(!d6(e))return!1;o=!0,f=!1}if(g&&!f)return a||(a=new IT),o||R4e(t)?T4e(t,e,r,n,s,a):P4e(t,e,c,r,n,s,a);if(!(r&O4e)){var y=f&&p6.call(t,"__wrapped__"),_=m&&p6.call(e,"__wrapped__");if(y||_){var b=y?t.value():t,u=_?e.value():e;return a||(a=new IT),s(b,u,r,n,a)}}return g?(a||(a=new IT),D4e(t,e,r,n,s,a)):!1}var F4e=B4e,M4e=F4e,m6=Hl;function See(t,e,r,n,s){return t===e?!0:t==null||e==null||!m6(t)&&!m6(e)?t!==t&&e!==e:M4e(t,e,r,n,See,s)}var k4e=See,N4e=rm,L4e=Hl,U4e="[object Symbol]";function $4e(t){return typeof t=="symbol"||L4e(t)&&N4e(t)==U4e}var FS=$4e,j4e=Ja,z4e=FS,V4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G4e=/^\w*$/;function H4e(t,e){if(j4e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||z4e(t)?!0:G4e.test(t)||!V4e.test(t)||e!=null&&t in Object(e)}var W4e=H4e,Cee=PM,K4e="Expected a function";function HM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(K4e);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(HM.Cache||Cee),r}HM.Cache=Cee;var X4e=HM,Y4e=X4e,q4e=500;function Z4e(t){var e=Y4e(t,function(n){return r.size===q4e&&r.clear(),n}),r=e.cache;return e}var J4e=Z4e,Q4e=J4e,e8e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t8e=/\\(\\)?/g,r8e=Q4e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(e8e,function(r,n,s,a){e.push(s?a.replace(t8e,"$1"):n||r)}),e}),n8e=r8e,g6=tm,i8e=yee,s8e=Ja,a8e=FS,o8e=1/0,v6=g6?g6.prototype:void 0,y6=v6?v6.toString:void 0;function Aee(t){if(typeof t=="string")return t;if(s8e(t))return i8e(t,Aee)+"";if(a8e(t))return y6?y6.call(t):"";var e=t+"";return e=="0"&&1/t==-o8e?"-0":e}var l8e=Aee,u8e=l8e;function c8e(t){return t==null?"":u8e(t)}var d8e=c8e,f8e=Ja,h8e=W4e,p8e=n8e,m8e=d8e;function g8e(t,e){return f8e(t)?t:h8e(t,e)?[t]:p8e(m8e(t))}var lm=g8e,v8e=FS,y8e=1/0;function _8e(t){if(typeof t=="string"||v8e(t))return t;var e=t+"";return e=="0"&&1/t==-y8e?"-0":e}var MS=_8e,b8e=lm,w8e=MS;function x8e(t,e){e=b8e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[w8e(e[r++])];return r&&r==n?t:void 0}var Tee=x8e;function E8e(t,e){return t!=null&&e in Object(t)}var S8e=E8e,C8e=lm,A8e=PS,T8e=Ja,P8e=OS,D8e=FM,R8e=MS;function O8e(t,e,r){e=C8e(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var o=R8e(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&D8e(s)&&P8e(o,s)&&(T8e(t)||A8e(t)))}var I8e=O8e,B8e=S8e,F8e=I8e;function M8e(t,e){return t!=null&&F8e(t,e,B8e)}var k8e=M8e;function N8e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var L8e=N8e,U8e=Object.defineProperty,$8e=Object.defineProperties,j8e=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,Pee=Object.prototype.hasOwnProperty,Dee=Object.prototype.propertyIsEnumerable,_6=(t,e,r)=>e in t?U8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kS=(t,e)=>{for(var r in e||(e={}))Pee.call(e,r)&&_6(t,r,e[r]);if(Dx)for(var r of Dx(e))Dee.call(e,r)&&_6(t,r,e[r]);return t},WM=(t,e)=>$8e(t,j8e(e)),z8e=(t,e)=>{var r={};for(var n in t)Pee.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Dx)for(var n of Dx(t))e.indexOf(n)<0&&Dee.call(t,n)&&(r[n]=t[n]);return r},Ree=(t,e={})=>Sx(t,WM(kS({},e),{block:!0})),V8e=(t,e)=>{if(!t)return;const r=SM(t);return r==null?void 0:r[e]},G8e=(t,e)=>!CM(e)&&!e.children.some(r=>UQ(t,r)),H8e=t=>{var e;const r=(e=Ree(t))==null?void 0:e[0];return r?G8e(t,r):!1},W8e=(t,e)=>vf(V8e(t,e)),Oee=(t,e)=>{var r;const{selection:n}=t;if(!n)return!1;const s=(r=Ree(t,e))==null?void 0:r[1];return s?F8(t,n.focus,s)||jQ(t.selection)&&F8(t,n.anchor,s):!1},K8e=t=>jQ(t.selection),X8e=(t,e)=>{var r=e,{key:n,at:s,shouldChange:a=!0}=r,o=z8e(r,["key","at","shouldChange"]),l;const c=s!=null?s:t.selection;if(n=Ku(n),c){if(de.isRange(c)&&de.isExpanded(c))lFe(t,n,kS({at:c,match:fc,split:!0},o));else if(t.selection){const d=(l=SM(t))!=null?l:{};n.forEach(f=>{delete d[f]}),t.marks=d,a&&t.onChange()}}},Y8e=(t,e,r)=>{Rc(t,()=>{for(const[,n]of iFe(t,e,{reverse:!0}))wM(t,WM(kS({},r),{at:n}))})},Iee=t=>{const e=SM(t);e&&Object.keys(e).forEach(r=>{rFe(t,r)})},NS=(t,{at:e,insertOptions:r,nodes:n,removeOptions:s})=>{Rc(t,()=>{Y8e(t,e,s),oFe(t,n,WM(kS({},r),{at:e.concat([0])}))})},Bee=(t,{key:e,clear:r})=>{t.selection&&Rc(t,()=>{if(W8e(t,e)){t.removeMark(e);return}if(r){const s=Ku(r);X8e(t,{key:s})}t.addMark(e,!0)})};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function q8e(t,e){if(vy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z8e(t){var e=q8e(t,"string");return vy(e)==="symbol"?e:String(e)}function Tp(t,e,r){return e=Z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fee=new WeakMap,Mee=new WeakMap;class KM{}class LS extends KM{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Tp(this,"offset",void 0),Tp(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}class US extends KM{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Tp(this,"offset",void 0),Tp(this,"path",void 0);var{offset:r,path:n}=e;this.offset=r,this.path=n}}var J8e=(t,e)=>{var r=t.text.length;Fee.set(t,[r,e])},Q8e=t=>Fee.get(t),e6e=(t,e)=>{var r=t.text.length;Mee.set(t,[r,e])},t6e=t=>Mee.get(t);function b6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function LR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(r),!0).forEach(function(n){Tp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ub=new WeakSet,$S=t=>{var e=[],r=s=>{if(s!=null){var a=e[e.length-1];if(typeof s=="string"){var o={text:s};ub.add(o),s=o}if(Qe.isText(s)){var l=s;Qe.isText(a)&&ub.has(a)&&ub.has(l)&&Qe.equals(a,l,{loose:!0})?a.text+=l.text:e.push(l)}else if(it.isElement(s))e.push(s);else if(s instanceof KM){var c=e[e.length-1];Qe.isText(c)||(r(""),c=e[e.length-1]),s instanceof LS?J8e(c,s):s instanceof US&&e6e(c,s)}else throw new Error("Unexpected hyperscript child object: ".concat(s))}};for(var n of t.flat(1/0))r(n);return e};function r6e(t,e,r){return new LS(e)}function n6e(t,e,r){return[new LS(e),new US(e)]}function kee(t,e,r){return LR(LR({},e),{},{children:$S(r)})}function i6e(t,e,r){return new US(e)}function s6e(t,e,r){return $S(r)}function a6e(t,e,r){var n=r.find(a=>a instanceof LS),s=r.find(a=>a instanceof US);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!s||s.offset==null||s.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return LR({anchor:{offset:n.offset,path:n.path},focus:{offset:s.offset,path:s.path}},e)}function o6e(t,e,r){var n=$S(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[s]=n;if(s==null&&(s={text:""}),!Qe.isText(s))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return ub.delete(s),Object.assign(s,e),s}var l6e=t=>(e,r,n)=>{var s=[],a;for(var o of n)de.isRange(o)?a=o:s.push(o);var l=$S(s),c={},d=t();Object.assign(d,r),d.children=l;for(var[f,m]of Me.texts(d)){var g=Q8e(f),y=t6e(f);if(g!=null){var[_]=g;c.anchor={path:m,offset:_}}if(y!=null){var[b]=y;c.focus={path:m,offset:b}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return a!=null?d.selection=a:de.isRange(c)&&(d.selection=c),d};function w6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(r),!0).forEach(function(n){Tp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var u6e={anchor:r6e,cursor:n6e,editor:l6e(OQ),element:kee,focus:i6e,fragment:s6e,selection:a6e,text:o6e},c6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:r={}}=e,n=f6e(r),s=Kg(Kg(Kg({},u6e),n),e.creators),a=d6e(s);return a},d6e=t=>{var e=function(n,s){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];var c=t[n];if(!c)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));s==null&&(s={}),Hn(s)||(o=[s].concat(o),s={}),o=o.filter(f=>!!f).flat();var d=c(n,s,o);return d};return e},f6e=t=>{var e={},r=function(){var a=t[n];if(typeof a!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(a));e[n]=(o,l,c)=>kee("element",Kg(Kg({},a),l),c)};for(var n in t)r();return e},um=c6e();function h6e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var p6e=h6e,m6e=am,g6e=GM;function v6e(t,e){return t&&m6e(e,g6e(e),t)}var y6e=v6e,_6e=am,b6e=E_;function w6e(t,e){return t&&_6e(e,b6e(e),t)}var x6e=w6e,E6e=am,S6e=VM;function C6e(t,e){return E6e(t,S6e(t),e)}var A6e=C6e,T6e=zM,P6e=IM,D6e=VM,R6e=wee,O6e=Object.getOwnPropertySymbols,I6e=O6e?function(t){for(var e=[];t;)T6e(e,D6e(t)),t=P6e(t);return e}:R6e,Nee=I6e,B6e=am,F6e=Nee;function M6e(t,e){return B6e(t,F6e(t),e)}var k6e=M6e,N6e=bee,L6e=Nee,U6e=E_;function $6e(t){return N6e(t,U6e,L6e)}var Lee=$6e,j6e=Object.prototype,z6e=j6e.hasOwnProperty;function V6e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&z6e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var G6e=V6e,H6e=OM;function W6e(t,e){var r=e?H6e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var K6e=W6e,X6e=/\w*$/;function Y6e(t){var e=new t.constructor(t.source,X6e.exec(t));return e.lastIndex=t.lastIndex,e}var q6e=Y6e,x6=tm,E6=x6?x6.prototype:void 0,S6=E6?E6.valueOf:void 0;function Z6e(t){return S6?Object(S6.call(t)):{}}var J6e=Z6e,Q6e=OM,eje=K6e,tje=q6e,rje=J6e,nje=qQ,ije="[object Boolean]",sje="[object Date]",aje="[object Map]",oje="[object Number]",lje="[object RegExp]",uje="[object Set]",cje="[object String]",dje="[object Symbol]",fje="[object ArrayBuffer]",hje="[object DataView]",pje="[object Float32Array]",mje="[object Float64Array]",gje="[object Int8Array]",vje="[object Int16Array]",yje="[object Int32Array]",_je="[object Uint8Array]",bje="[object Uint8ClampedArray]",wje="[object Uint16Array]",xje="[object Uint32Array]";function Eje(t,e,r){var n=t.constructor;switch(e){case fje:return Q6e(t);case ije:case sje:return new n(+t);case hje:return eje(t,r);case pje:case mje:case gje:case vje:case yje:case _je:case bje:case wje:case xje:return nje(t,r);case aje:return new n;case oje:case cje:return new n(t);case lje:return tje(t);case uje:return new n;case dje:return rje(t)}}var Sje=Eje,Cje=BS,Aje=Hl,Tje="[object Map]";function Pje(t){return Aje(t)&&Cje(t)==Tje}var Dje=Pje,Rje=Dje,Oje=MM,C6=kM,A6=C6&&C6.isMap,Ije=A6?Oje(A6):Rje,Bje=Ije,Fje=BS,Mje=Hl,kje="[object Set]";function Nje(t){return Mje(t)&&Fje(t)==kje}var Lje=Nje,Uje=Lje,$je=MM,T6=kM,P6=T6&&T6.isSet,jje=P6?$je(P6):Uje,zje=jje,Vje=DM,Gje=p6e,Hje=LM,Wje=y6e,Kje=x6e,Xje=XQ,Yje=ZQ,qje=A6e,Zje=k6e,Jje=xee,Qje=Lee,e5e=BS,t5e=G6e,r5e=Sje,n5e=QQ,i5e=Ja,s5e=RS,a5e=Bje,o5e=Ns,l5e=zje,u5e=GM,c5e=E_,d5e=1,f5e=2,h5e=4,Uee="[object Arguments]",p5e="[object Array]",m5e="[object Boolean]",g5e="[object Date]",v5e="[object Error]",$ee="[object Function]",y5e="[object GeneratorFunction]",_5e="[object Map]",b5e="[object Number]",jee="[object Object]",w5e="[object RegExp]",x5e="[object Set]",E5e="[object String]",S5e="[object Symbol]",C5e="[object WeakMap]",A5e="[object ArrayBuffer]",T5e="[object DataView]",P5e="[object Float32Array]",D5e="[object Float64Array]",R5e="[object Int8Array]",O5e="[object Int16Array]",I5e="[object Int32Array]",B5e="[object Uint8Array]",F5e="[object Uint8ClampedArray]",M5e="[object Uint16Array]",k5e="[object Uint32Array]",Er={};Er[Uee]=Er[p5e]=Er[A5e]=Er[T5e]=Er[m5e]=Er[g5e]=Er[P5e]=Er[D5e]=Er[R5e]=Er[O5e]=Er[I5e]=Er[_5e]=Er[b5e]=Er[jee]=Er[w5e]=Er[x5e]=Er[E5e]=Er[S5e]=Er[B5e]=Er[F5e]=Er[M5e]=Er[k5e]=!0;Er[v5e]=Er[$ee]=Er[C5e]=!1;function cb(t,e,r,n,s,a){var o,l=e&d5e,c=e&f5e,d=e&h5e;if(r&&(o=s?r(t,n,s,a):r(t)),o!==void 0)return o;if(!o5e(t))return t;var f=i5e(t);if(f){if(o=t5e(t),!l)return Yje(t,o)}else{var m=e5e(t),g=m==$ee||m==y5e;if(s5e(t))return Xje(t,l);if(m==jee||m==Uee||g&&!s){if(o=c||g?{}:n5e(t),!l)return c?Zje(t,Kje(o,t)):qje(t,Wje(o,t))}else{if(!Er[m])return s?t:{};o=r5e(t,m,l)}}a||(a=new Vje);var y=a.get(t);if(y)return y;a.set(t,o),l5e(t)?t.forEach(function(u){o.add(cb(u,e,r,u,t,a))}):a5e(t)&&t.forEach(function(u,h){o.set(h,cb(u,e,r,h,t,a))});var _=d?c?Qje:Jje:c?c5e:u5e,b=f?void 0:_(t);return Gje(b||t,function(u,h){b&&(h=u,u=t[h]),Hje(o,h,cb(u,e,r,h,t,a))}),o}var zee=cb,N5e=zee,L5e=1,U5e=4;function $5e(t){return N5e(t,L5e|U5e)}var j5e=$5e;const z5e=ui(j5e);var V5e=k4e;function G5e(t,e){return V5e(t,e)}var H5e=G5e;const W5e=ui(H5e),K5e=Symbol(),Vee=Symbol(),jm="a",db="w";let X5e=(t,e)=>new Proxy(t,e);const UR=Object.getPrototypeOf,D6=new WeakMap,Y5e=t=>t&&(D6.has(t)?D6.get(t):UR(t)===Object.prototype||UR(t)===Array.prototype),R6=t=>typeof t=="object"&&t!==null,q5e=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(UR(t),e)},Gee=t=>t[Vee]||t,Hee=(t,e,r,n)=>{if(!Y5e(t))return t;let s=n&&n.get(t);if(!s){const c=Gee(t);s=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(f=>!f.configurable&&!f.writable))(c)?[c,q5e(c)]:[c],n==null||n.set(t,s)}const[a,o]=s;let l=r&&r.get(a);return l&&l[1].f===!!o||(l=((c,d)=>{const f={f:d};let m=!1;const g=(_,b)=>{if(!m){let u=f[jm].get(c);if(u||(u={},f[jm].set(c,u)),_===db)u[db]=!0;else{let h=u[_];h||(h=new Set,u[_]=h),h.add(b)}}},y={get:(_,b)=>b===Vee?c:(g("k",b),Hee(Reflect.get(_,b),f[jm],f.c,f.t)),has:(_,b)=>b===K5e?(m=!0,f[jm].delete(c),!0):(g("h",b),Reflect.has(_,b)),getOwnPropertyDescriptor:(_,b)=>(g("o",b),Reflect.getOwnPropertyDescriptor(_,b)),ownKeys:_=>(g(db),Reflect.ownKeys(_))};return d&&(y.set=y.deleteProperty=()=>!1),[y,f]})(a,!!o),l[1].p=X5e(o||a,l[0]),r&&r.set(a,l)),l[1][jm]=e,l[1].c=r,l[1].t=n,l[1].p},$R=(t,e,r,n,s=Object.is)=>{if(s(t,e))return!1;if(!R6(t)||!R6(e))return!0;const a=r.get(Gee(t));if(!a)return!0;if(n){const l=n.get(t);if(l&&l.n===e)return l.g;n.set(t,{n:e,g:!1})}let o=null;try{for(const l of a.h||[])if(o=Reflect.has(t,l)!==Reflect.has(e,l),o)return o;if(a[db]===!0){if(o=((l,c)=>{const d=Reflect.ownKeys(l),f=Reflect.ownKeys(c);return d.length!==f.length||d.some((m,g)=>m!==f[g])})(t,e),o)return o}else for(const l of a.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,l)!=!!Reflect.getOwnPropertyDescriptor(e,l),o)return o;for(const l of a.k||[])if(o=$R(t[l],e[l],r,n,s),o)return o;return o===null&&(o=!0),o}finally{n&&n.set(t,{n:e,g:o})}};const Z5e=t=>()=>{const[,r]=C.useReducer(f=>f+1,0),n=new WeakMap,s=C.useRef(),a=C.useRef(),o=C.useRef();C.useEffect(()=>{s.current=n,a.current!==o.current&&$R(a.current,o.current,n,new WeakMap)&&(a.current=o.current,r())});const l=C.useCallback(f=>(o.current=f,a.current&&a.current!==f&&s.current&&!$R(a.current,f,s.current,new WeakMap)?a.current:(a.current=f,f)),[]),c=t(l),d=C.useMemo(()=>new WeakMap,[]);return Hee(c,n,d)},{useDebugValue:J5e}=q,{useSyncExternalStoreWithSelector:Q5e}=P7,eze=t=>t;function tze(t,e=eze,r){const n=Q5e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return J5e(n),n}var Rx={exports:{}};Rx.exports;(function(t,e){var r=200,n="Expected a function",s="__lodash_hash_undefined__",a=1,o=2,l=1/0,c=9007199254740991,d="[object Arguments]",f="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",_="[object Function]",b="[object GeneratorFunction]",u="[object Map]",h="[object Number]",p="[object Object]",v="[object Promise]",w="[object RegExp]",x="[object Set]",S="[object String]",E="[object Symbol]",P="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",O="[object Int8Array]",I="[object Int16Array]",M="[object Int32Array]",G="[object Uint8Array]",j="[object Uint8ClampedArray]",$="[object Uint16Array]",H="[object Uint32Array]",K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,fe=/^\./,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,he=/[\\^$.*+?()[\]{}|]/g,ue=/\\(\\)?/g,Z=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,V={};V[R]=V[D]=V[O]=V[I]=V[M]=V[G]=V[j]=V[$]=V[H]=!0,V[d]=V[f]=V[T]=V[m]=V[A]=V[g]=V[y]=V[_]=V[u]=V[h]=V[p]=V[w]=V[x]=V[S]=V[P]=!1;var Y=typeof Yi=="object"&&Yi&&Yi.Object===Object&&Yi,ne=typeof self=="object"&&self&&self.Object===Object&&self,ie=Y||ne||Function("return this")(),me=e&&!e.nodeType&&e,xe=me&&!0&&t&&!t.nodeType&&t,we=xe&&xe.exports===me,Ee=we&&Y.process,tt=function(){try{return Ee&&Ee.binding("util")}catch(N){}}(),xt=tt&&tt.isTypedArray;function _t(N,ee){for(var ve=-1,Ue=N?N.length:0;++ve<Ue;)if(ee(N[ve],ve,N))return!0;return!1}function Gt(N){return function(ee){return ee==null?void 0:ee[N]}}function X(N,ee){for(var ve=-1,Ue=Array(N);++ve<N;)Ue[ve]=ee(ve);return Ue}function oe(N){return function(ee){return N(ee)}}function le(N,ee){return N==null?void 0:N[ee]}function Ae(N){var ee=!1;if(N!=null&&typeof N.toString!="function")try{ee=!!(N+"")}catch(ve){}return ee}function _e(N){var ee=-1,ve=Array(N.size);return N.forEach(function(Ue,kt){ve[++ee]=[kt,Ue]}),ve}function ce(N,ee){return function(ve){return N(ee(ve))}}function be(N){var ee=-1,ve=Array(N.size);return N.forEach(function(Ue){ve[++ee]=Ue}),ve}var Ye=Array.prototype,Xe=Function.prototype,Pe=Object.prototype,L=ie["__core-js_shared__"],B=function(){var N=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),U=Xe.toString,J=Pe.hasOwnProperty,ae=Pe.toString,ke=RegExp("^"+U.call(J).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=ie.Symbol,at=ie.Uint8Array,Ve=Pe.propertyIsEnumerable,ht=Ye.splice,Ft=ce(Object.keys,Object),Mt=bf(ie,"DataView"),jt=bf(ie,"Map"),Ht=bf(ie,"Promise"),Ut=bf(ie,"Set"),ar=bf(ie,"WeakMap"),Jt=bf(Object,"create"),Ct=Fc(Mt),Fr=Fc(jt),ot=Fc(Ht),$e=Fc(Ut),W=Fc(ar),Q=Ne?Ne.prototype:void 0,se=Q?Q.valueOf:void 0,pe=Q?Q.toString:void 0;function Te(N){var ee=-1,ve=N?N.length:0;for(this.clear();++ee<ve;){var Ue=N[ee];this.set(Ue[0],Ue[1])}}function He(){this.__data__=Jt?Jt(null):{}}function ut(N){return this.has(N)&&delete this.__data__[N]}function We(N){var ee=this.__data__;if(Jt){var ve=ee[N];return ve===s?void 0:ve}return J.call(ee,N)?ee[N]:void 0}function Ie(N){var ee=this.__data__;return Jt?ee[N]!==void 0:J.call(ee,N)}function Ge(N,ee){var ve=this.__data__;return ve[N]=Jt&&ee===void 0?s:ee,this}Te.prototype.clear=He,Te.prototype.delete=ut,Te.prototype.get=We,Te.prototype.has=Ie,Te.prototype.set=Ge;function Re(N){var ee=-1,ve=N?N.length:0;for(this.clear();++ee<ve;){var Ue=N[ee];this.set(Ue[0],Ue[1])}}function gt(){this.__data__=[]}function bt(N){var ee=this.__data__,ve=Bc(ee,N);if(ve<0)return!1;var Ue=ee.length-1;return ve==Ue?ee.pop():ht.call(ee,ve,1),!0}function ur(N){var ee=this.__data__,ve=Bc(ee,N);return ve<0?void 0:ee[ve][1]}function $t(N){return Bc(this.__data__,N)>-1}function Wt(N,ee){var ve=this.__data__,Ue=Bc(ve,N);return Ue<0?ve.push([N,ee]):ve[Ue][1]=ee,this}Re.prototype.clear=gt,Re.prototype.delete=bt,Re.prototype.get=ur,Re.prototype.has=$t,Re.prototype.set=Wt;function Kt(N){var ee=-1,ve=N?N.length:0;for(this.clear();++ee<ve;){var Ue=N[ee];this.set(Ue[0],Ue[1])}}function Ei(){this.__data__={hash:new Te,map:new(jt||Re),string:new Te}}function ya(N){return P_(this,N).delete(N)}function gn(N){return P_(this,N).get(N)}function mr(N){return P_(this,N).has(N)}function Si(N,ee){return P_(this,N).set(N,ee),this}Kt.prototype.clear=Ei,Kt.prototype.delete=ya,Kt.prototype.get=gn,Kt.prototype.has=mr,Kt.prototype.set=Si;function Fn(N){var ee=-1,ve=N?N.length:0;for(this.__data__=new Kt;++ee<ve;)this.add(N[ee])}function $i(N){return this.__data__.set(N,s),this}function _f(N){return this.__data__.has(N)}Fn.prototype.add=Fn.prototype.push=$i,Fn.prototype.has=_f;function ji(N){this.__data__=new Re(N)}function tr(){this.__data__=new Re}function Mr(N){return this.__data__.delete(N)}function Kl(N){return this.__data__.get(N)}function Ic(N){return this.__data__.has(N)}function nn(N,ee){var ve=this.__data__;if(ve instanceof Re){var Ue=ve.__data__;if(!jt||Ue.length<r-1)return Ue.push([N,ee]),this;ve=this.__data__=new Kt(Ue)}return ve.set(N,ee),this}ji.prototype.clear=tr,ji.prototype.delete=Mr,ji.prototype.get=Kl,ji.prototype.has=Ic,ji.prototype.set=nn;function Xl(N,ee){var ve=Mc(N)||Pk(N)?X(N.length,String):[],Ue=ve.length,kt=!!Ue;for(var pt in N)(ee||J.call(N,pt))&&!(kt&&(pt=="length"||Sk(pt,Ue)))&&ve.push(pt);return ve}function Bc(N,ee){for(var ve=N.length;ve--;)if(Tk(N[ve][0],ee))return ve;return-1}var qS=bne();function one(N,ee){return N&&qS(N,ee,B_)}function wk(N,ee){ee=D_(ee,N)?[ee]:xk(ee);for(var ve=0,Ue=ee.length;N!=null&&ve<Ue;)N=N[R_(ee[ve++])];return ve&&ve==Ue?N:void 0}function lne(N){return ae.call(N)}function une(N,ee){return N!=null&&ee in Object(N)}function ZS(N,ee,ve,Ue,kt){return N===ee?!0:N==null||ee==null||!O_(N)&&!I_(ee)?N!==N&&ee!==ee:cne(N,ee,ZS,ve,Ue,kt)}function cne(N,ee,ve,Ue,kt,pt){var dr=Mc(N),wr=Mc(ee),Wr=f,Mn=f;dr||(Wr=Yl(N),Wr=Wr==d?p:Wr),wr||(Mn=Yl(ee),Mn=Mn==d?p:Mn);var Ci=Wr==p&&!Ae(N),zi=Mn==p&&!Ae(ee),kn=Wr==Mn;if(kn&&!Ci)return pt||(pt=new ji),dr||Rne(N)?Ek(N,ee,ve,Ue,kt,pt):wne(N,ee,Wr,ve,Ue,kt,pt);if(!(kt&o)){var Us=Ci&&J.call(N,"__wrapped__"),$s=zi&&J.call(ee,"__wrapped__");if(Us||$s){var ql=Us?N.value():N,Vo=$s?ee.value():ee;return pt||(pt=new ji),ve(ql,Vo,Ue,kt,pt)}}return kn?(pt||(pt=new ji),xne(N,ee,ve,Ue,kt,pt)):!1}function dne(N,ee,ve,Ue){var kt=ve.length,pt=kt,dr=!Ue;if(N==null)return!pt;for(N=Object(N);kt--;){var wr=ve[kt];if(dr&&wr[2]?wr[1]!==N[wr[0]]:!(wr[0]in N))return!1}for(;++kt<pt;){wr=ve[kt];var Wr=wr[0],Mn=N[Wr],Ci=wr[1];if(dr&&wr[2]){if(Mn===void 0&&!(Wr in N))return!1}else{var zi=new ji;if(Ue)var kn=Ue(Mn,Ci,Wr,N,ee,zi);if(!(kn===void 0?ZS(Ci,Mn,Ue,a|o,zi):kn))return!1}}return!0}function fne(N){if(!O_(N)||Ane(N))return!1;var ee=Rk(N)||Ae(N)?ke:Z;return ee.test(Fc(N))}function hne(N){return I_(N)&&QS(N.length)&&!!V[ae.call(N)]}function pne(N){return typeof N=="function"?N:N==null?Mne:typeof N=="object"?Mc(N)?vne(N[0],N[1]):gne(N):kne(N)}function mne(N){if(!Tne(N))return Ft(N);var ee=[];for(var ve in Object(N))J.call(N,ve)&&ve!="constructor"&&ee.push(ve);return ee}function gne(N){var ee=Ene(N);return ee.length==1&&ee[0][2]?Ak(ee[0][0],ee[0][1]):function(ve){return ve===N||dne(ve,N,ee)}}function vne(N,ee){return D_(N)&&Ck(ee)?Ak(R_(N),ee):function(ve){var Ue=Ine(ve,N);return Ue===void 0&&Ue===ee?Bne(ve,N):ZS(ee,Ue,void 0,a|o)}}function yne(N){return function(ee){return wk(ee,N)}}function _ne(N){if(typeof N=="string")return N;if(eC(N))return pe?pe.call(N):"";var ee=N+"";return ee=="0"&&1/N==-l?"-0":ee}function xk(N){return Mc(N)?N:Pne(N)}function bne(N){return function(ee,ve,Ue){for(var kt=-1,pt=Object(ee),dr=Ue(ee),wr=dr.length;wr--;){var Wr=dr[N?wr:++kt];if(ve(pt[Wr],Wr,pt)===!1)break}return ee}}function Ek(N,ee,ve,Ue,kt,pt){var dr=kt&o,wr=N.length,Wr=ee.length;if(wr!=Wr&&!(dr&&Wr>wr))return!1;var Mn=pt.get(N);if(Mn&&pt.get(ee))return Mn==ee;var Ci=-1,zi=!0,kn=kt&a?new Fn:void 0;for(pt.set(N,ee),pt.set(ee,N);++Ci<wr;){var Us=N[Ci],$s=ee[Ci];if(Ue)var ql=dr?Ue($s,Us,Ci,ee,N,pt):Ue(Us,$s,Ci,N,ee,pt);if(ql!==void 0){if(ql)continue;zi=!1;break}if(kn){if(!_t(ee,function(Vo,kc){if(!kn.has(kc)&&(Us===Vo||ve(Us,Vo,Ue,kt,pt)))return kn.add(kc)})){zi=!1;break}}else if(!(Us===$s||ve(Us,$s,Ue,kt,pt))){zi=!1;break}}return pt.delete(N),pt.delete(ee),zi}function wne(N,ee,ve,Ue,kt,pt,dr){switch(ve){case A:if(N.byteLength!=ee.byteLength||N.byteOffset!=ee.byteOffset)return!1;N=N.buffer,ee=ee.buffer;case T:return!(N.byteLength!=ee.byteLength||!Ue(new at(N),new at(ee)));case m:case g:case h:return Tk(+N,+ee);case y:return N.name==ee.name&&N.message==ee.message;case w:case S:return N==ee+"";case u:var wr=_e;case x:var Wr=pt&o;if(wr||(wr=be),N.size!=ee.size&&!Wr)return!1;var Mn=dr.get(N);if(Mn)return Mn==ee;pt|=a,dr.set(N,ee);var Ci=Ek(wr(N),wr(ee),Ue,kt,pt,dr);return dr.delete(N),Ci;case E:if(se)return se.call(N)==se.call(ee)}return!1}function xne(N,ee,ve,Ue,kt,pt){var dr=kt&o,wr=B_(N),Wr=wr.length,Mn=B_(ee),Ci=Mn.length;if(Wr!=Ci&&!dr)return!1;for(var zi=Wr;zi--;){var kn=wr[zi];if(!(dr?kn in ee:J.call(ee,kn)))return!1}var Us=pt.get(N);if(Us&&pt.get(ee))return Us==ee;var $s=!0;pt.set(N,ee),pt.set(ee,N);for(var ql=dr;++zi<Wr;){kn=wr[zi];var Vo=N[kn],kc=ee[kn];if(Ue)var Ok=dr?Ue(kc,Vo,kn,ee,N,pt):Ue(Vo,kc,kn,N,ee,pt);if(!(Ok===void 0?Vo===kc||ve(Vo,kc,Ue,kt,pt):Ok)){$s=!1;break}ql||(ql=kn=="constructor")}if($s&&!ql){var F_=N.constructor,M_=ee.constructor;F_!=M_&&"constructor"in N&&"constructor"in ee&&!(typeof F_=="function"&&F_ instanceof F_&&typeof M_=="function"&&M_ instanceof M_)&&($s=!1)}return pt.delete(N),pt.delete(ee),$s}function P_(N,ee){var ve=N.__data__;return Cne(ee)?ve[typeof ee=="string"?"string":"hash"]:ve.map}function Ene(N){for(var ee=B_(N),ve=ee.length;ve--;){var Ue=ee[ve],kt=N[Ue];ee[ve]=[Ue,kt,Ck(kt)]}return ee}function bf(N,ee){var ve=le(N,ee);return fne(ve)?ve:void 0}var Yl=lne;(Mt&&Yl(new Mt(new ArrayBuffer(1)))!=A||jt&&Yl(new jt)!=u||Ht&&Yl(Ht.resolve())!=v||Ut&&Yl(new Ut)!=x||ar&&Yl(new ar)!=P)&&(Yl=function(N){var ee=ae.call(N),ve=ee==p?N.constructor:void 0,Ue=ve?Fc(ve):void 0;if(Ue)switch(Ue){case Ct:return A;case Fr:return u;case ot:return v;case $e:return x;case W:return P}return ee});function Sne(N,ee,ve){ee=D_(ee,N)?[ee]:xk(ee);for(var Ue,kt=-1,dr=ee.length;++kt<dr;){var pt=R_(ee[kt]);if(!(Ue=N!=null&&ve(N,pt)))break;N=N[pt]}if(Ue)return Ue;var dr=N?N.length:0;return!!dr&&QS(dr)&&Sk(pt,dr)&&(Mc(N)||Pk(N))}function Sk(N,ee){return ee=ee==null?c:ee,!!ee&&(typeof N=="number"||z.test(N))&&N>-1&&N%1==0&&N<ee}function D_(N,ee){if(Mc(N))return!1;var ve=typeof N;return ve=="number"||ve=="symbol"||ve=="boolean"||N==null||eC(N)?!0:re.test(N)||!K.test(N)||ee!=null&&N in Object(ee)}function Cne(N){var ee=typeof N;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?N!=="__proto__":N===null}function Ane(N){return!!B&&B in N}function Tne(N){var ee=N&&N.constructor,ve=typeof ee=="function"&&ee.prototype||Pe;return N===ve}function Ck(N){return N===N&&!O_(N)}function Ak(N,ee){return function(ve){return ve==null?!1:ve[N]===ee&&(ee!==void 0||N in Object(ve))}}var Pne=JS(function(N){N=One(N);var ee=[];return fe.test(N)&&ee.push(""),N.replace(ye,function(ve,Ue,kt,pt){ee.push(kt?pt.replace(ue,"$1"):Ue||ve)}),ee});function R_(N){if(typeof N=="string"||eC(N))return N;var ee=N+"";return ee=="0"&&1/N==-l?"-0":ee}function Fc(N){if(N!=null){try{return U.call(N)}catch(ee){}try{return N+""}catch(ee){}}return""}function JS(N,ee){if(typeof N!="function"||ee&&typeof ee!="function")throw new TypeError(n);var ve=function(){var Ue=arguments,kt=ee?ee.apply(this,Ue):Ue[0],pt=ve.cache;if(pt.has(kt))return pt.get(kt);var dr=N.apply(this,Ue);return ve.cache=pt.set(kt,dr),dr};return ve.cache=new(JS.Cache||Kt),ve}JS.Cache=Kt;function Tk(N,ee){return N===ee||N!==N&&ee!==ee}function Pk(N){return Dne(N)&&J.call(N,"callee")&&(!Ve.call(N,"callee")||ae.call(N)==d)}var Mc=Array.isArray;function Dk(N){return N!=null&&QS(N.length)&&!Rk(N)}function Dne(N){return I_(N)&&Dk(N)}function Rk(N){var ee=O_(N)?ae.call(N):"";return ee==_||ee==b}function QS(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=c}function O_(N){var ee=typeof N;return!!N&&(ee=="object"||ee=="function")}function I_(N){return!!N&&typeof N=="object"}function eC(N){return typeof N=="symbol"||I_(N)&&ae.call(N)==E}var Rne=xt?oe(xt):hne;function One(N){return N==null?"":_ne(N)}function Ine(N,ee,ve){var Ue=N==null?void 0:wk(N,ee);return Ue===void 0?ve:Ue}function Bne(N,ee){return N!=null&&Sne(N,ee,une)}function B_(N){return Dk(N)?Xl(N):mne(N)}function Fne(N,ee){var ve={};return ee=pne(ee),one(N,function(Ue,kt,pt){ve[kt]=ee(Ue,kt,pt)}),ve}function Mne(N){return N}function kne(N){return D_(N)?Gt(R_(N)):yne(N)}t.exports=Fne})(Rx,Rx.exports);Rx.exports;var rze=Object.defineProperty,nze=Object.defineProperties,ize=Object.getOwnPropertyDescriptors,O6=Object.getOwnPropertySymbols,sze=Object.prototype.hasOwnProperty,aze=Object.prototype.propertyIsEnumerable,I6=(t,e,r)=>e in t?rze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oa=(t,e)=>{for(var r in e||(e={}))sze.call(e,r)&&I6(t,r,e[r]);if(O6)for(var r of O6(e))aze.call(e,r)&&I6(t,r,e[r]);return t},yy=(t,e)=>nze(t,ize(e)),oze=t=>(e,r,n)=>{const s=(a,o)=>e(qy(a),!0,o);return n.setState=s,t(s,r,n)},lze=(t,e)=>{const r={};return Object.keys(t.getState()).forEach(n=>{r[n]=s=>{if(t.getState()[n]===s)return;const o=n.replace(/^\S/,l=>l.toUpperCase());t.setState(l=>{l[n]=s},"@@".concat(e,"/set").concat(o))}}),r},uze=t=>{const e={};return Object.keys(t.getState()).forEach(r=>{e[r]=()=>t.getState()[r]}),e},cze=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=s=>t(a=>a[n],s)}),r},dze=(t,e)=>{const r={};return Object.keys(e.getState()).forEach(n=>{r[n]=()=>t()[n]}),r};function fze(t,...e){return e.reduce((r,n)=>n(r),t)}var hze=(t,e)=>{const r=t(e.set,e.get,e);return yy(oa({},e),{set:oa(oa({},e.set),r)})},pze=(t,e)=>{const r=oa({},e.use),n=oa({},e.useTracked),s=oa({},e.get);return Object.keys(t(e.store.getState(),e.get,e)).forEach(a=>{r[a]=(...o)=>e.useStore(l=>{const d=t(l,e.get,e)[a];return d(...o)}),n[a]=(...o)=>{const l=e.useTrackedStore(),d=t(l,e.get,e)[a];return d(...o)},s[a]=(...o)=>{const c=t(e.store.getState(),e.get,e)[a];return c(...o)}}),yy(oa({},e),{get:s,use:r,useTracked:n})},jR=t=>yy(oa({},t),{extendSelectors:e=>jR(pze(e,t)),extendActions:e=>jR(hze(e,t))}),mze=t=>(e,r={})=>{var n,s;const{middlewares:a=[],devtools:o,persist:l,immer:c}=r;Kbe((n=c==null?void 0:c.enabledAutoFreeze)!=null?n:!1),c!=null&&c.enableMapSet&&Wbe();const d=[oze,...a];if(l!=null&&l.enabled){const x=yy(oa({},l),{name:(s=l.name)!=null?s:t});d.push(S=>zPe(S,x))}o!=null&&o.enabled&&d.push(x=>NPe(x,yy(oa({},o),{name:t}))),d.push(E7);const m=(x=>fze(x,...d))(()=>e),g=(x,S)=>tze(m,x,S),y=lze(m,t),_=(x,S)=>{m.setState(E=>{Object.assign(E,x)},S||"@@".concat(t,"/mergeState"))},b=(x,S)=>{m.setState(x,S||"@@".concat(t,"/setState"))},u=cze(g,m),h=uze(m),p=Z5e(g),v=dze(p,m),w={get:oa({state:m.getState},h),name:t,set:oa({state:b,mergeState:_},y),store:m,use:u,useTracked:v,useStore:g,useTrackedStore:p,extendSelectors:()=>w,extendActions:()=>w};return jR(w)},Wee=mze,gze=_ze,Kee="---",Xee="A-Za-z--------",vze=new RegExp("^[^"+Xee+"]*["+Kee+"]"),yze=new RegExp("^[^"+Kee+"]*["+Xee+"]");function _ze(t){return t=String(t||""),vze.test(t)?"rtl":yze.test(t)?"ltr":"neutral"}const Yee=ui(gze);var bze=Za,wze=function(){return bze.Date.now()},xze=wze,Eze=/\s/;function Sze(t){for(var e=t.length;e--&&Eze.test(t.charAt(e)););return e}var Cze=Sze,Aze=Cze,Tze=/^\s+/;function Pze(t){return t&&t.slice(0,Aze(t)+1).replace(Tze,"")}var Dze=Pze,Rze=Dze,B6=Ns,Oze=FS,F6=0/0,Ize=/^[-+]0x[0-9a-f]+$/i,Bze=/^0b[01]+$/i,Fze=/^0o[0-7]+$/i,Mze=parseInt;function kze(t){if(typeof t=="number")return t;if(Oze(t))return F6;if(B6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=B6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Rze(t);var r=Bze.test(t);return r||Fze.test(t)?Mze(t.slice(2),r?2:8):Ize.test(t)?F6:+t}var Nze=kze,Lze=Ns,BT=xze,M6=Nze,Uze="Expected a function",$ze=Math.max,jze=Math.min;function zze(t,e,r){var n,s,a,o,l,c,d=0,f=!1,m=!1,g=!0;if(typeof t!="function")throw new TypeError(Uze);e=M6(e)||0,Lze(r)&&(f=!!r.leading,m="maxWait"in r,a=m?$ze(M6(r.maxWait)||0,e):a,g="trailing"in r?!!r.trailing:g);function y(S){var E=n,P=s;return n=s=void 0,d=S,o=t.apply(P,E),o}function _(S){return d=S,l=setTimeout(h,e),f?y(S):o}function b(S){var E=S-c,P=S-d,T=e-E;return m?jze(T,a-P):T}function u(S){var E=S-c,P=S-d;return c===void 0||E>=e||E<0||m&&P>=a}function h(){var S=BT();if(u(S))return p(S);l=setTimeout(h,b(S))}function p(S){return l=void 0,g&&n?y(S):(n=s=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function w(){return l===void 0?o:p(BT())}function x(){var S=BT(),E=u(S);if(n=arguments,s=this,c=S,E){if(l===void 0)return _(c);if(m)return clearTimeout(l),l=setTimeout(h,e),y(c)}return l===void 0&&(l=setTimeout(h,e)),o}return x.cancel=v,x.flush=w,x}var qee=zze;const Vze=ui(qee);var Gze=qee,Hze=Ns,Wze="Expected a function";function Kze(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(Wze);return Hze(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Gze(t,e,{leading:n,maxWait:e,trailing:s})}var Xze=Kze;const Yze=ui(Xze),k6=t=>typeof t=="object"&&t!=null&&t.nodeType===1,N6=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",a1=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return N6(r.overflowY,e)||N6(r.overflowX,e)||(n=>{const s=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch(o){return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(t)}return!1},o1=(t,e,r,n,s,a,o,l)=>a<t&&o>e||a>t&&o<e?0:a<=t&&l<=r||o>=e&&l>=r?a-t-n:o>e&&l<r||a<t&&l>r?o-e+s:0,qze=t=>{const e=t.parentElement;return e==null?t.getRootNode().host||null:e},L6=(t,e)=>{var r,n,s,a;if(typeof document>"u")return[];const{scrollMode:o,block:l,inline:c,boundary:d,skipOverflowHiddenElements:f}=e,m=typeof d=="function"?d:G=>G!==d;if(!k6(t))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,y=[];let _=t;for(;k6(_)&&m(_);){if(_=qze(_),_===g){y.push(_);break}_!=null&&_===document.body&&a1(_)&&!a1(document.documentElement)||_!=null&&a1(_,f)&&y.push(_)}const b=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,u=(a=(s=window.visualViewport)==null?void 0:s.height)!=null?a:innerHeight,{scrollX:h,scrollY:p}=window,{height:v,width:w,top:x,right:S,bottom:E,left:P}=t.getBoundingClientRect(),{top:T,right:A,bottom:R,left:D}=(G=>{const j=window.getComputedStyle(G);return{top:parseFloat(j.scrollMarginTop)||0,right:parseFloat(j.scrollMarginRight)||0,bottom:parseFloat(j.scrollMarginBottom)||0,left:parseFloat(j.scrollMarginLeft)||0}})(t);let O=l==="start"||l==="nearest"?x-T:l==="end"?E+R:x+v/2-T+R,I=c==="center"?P+w/2-D+A:c==="end"?S+A:P-D;const M=[];for(let G=0;G<y.length;G++){const j=y[G],{height:$,width:H,top:K,right:re,bottom:fe,left:ye}=j.getBoundingClientRect();if(o==="if-needed"&&x>=0&&P>=0&&E<=u&&S<=b&&(j===g&&!a1(j)||x>=K&&E<=fe&&P>=ye&&S<=re))return M;const he=getComputedStyle(j),ue=parseInt(he.borderLeftWidth,10),Z=parseInt(he.borderTopWidth,10),z=parseInt(he.borderRightWidth,10),V=parseInt(he.borderBottomWidth,10);let Y=0,ne=0;const ie="offsetWidth"in j?j.offsetWidth-j.clientWidth-ue-z:0,me="offsetHeight"in j?j.offsetHeight-j.clientHeight-Z-V:0,xe="offsetWidth"in j?j.offsetWidth===0?0:H/j.offsetWidth:0,we="offsetHeight"in j?j.offsetHeight===0?0:$/j.offsetHeight:0;if(g===j)Y=l==="start"?O:l==="end"?O-u:l==="nearest"?o1(p,p+u,u,Z,V,p+O,p+O+v,v):O-u/2,ne=c==="start"?I:c==="center"?I-b/2:c==="end"?I-b:o1(h,h+b,b,ue,z,h+I,h+I+w,w),Y=Math.max(0,Y+p),ne=Math.max(0,ne+h);else{Y=l==="start"?O-K-Z:l==="end"?O-fe+V+me:l==="nearest"?o1(K,fe,$,Z,V+me,O,O+v,v):O-(K+$/2)+me/2,ne=c==="start"?I-ye-ue:c==="center"?I-(ye+H/2)+ie/2:c==="end"?I-re+z+ie:o1(ye,re,H,ue,z+ie,I,I+w,w);const{scrollLeft:Ee,scrollTop:tt}=j;Y=we===0?0:Math.max(0,Math.min(tt+Y/we,j.scrollHeight-$/we+me)),ne=xe===0?0:Math.max(0,Math.min(Ee+ne/xe,j.scrollWidth-H/xe+ie)),O+=tt-Y,I+=Ee-ne}M.push({el:j,top:Y,left:ne})}return M},Zze=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function Jze(t,e){if(!t.isConnected||!(s=>{let a=s;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(t))return;const r=(s=>{const a=window.getComputedStyle(s);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(t);if((s=>typeof s=="object"&&typeof s.behavior=="function")(e))return e.behavior(L6(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:s,top:a,left:o}of L6(t,Zze(e))){const l=a-r.top+r.bottom,c=o-r.left+r.right;s.scroll({top:l,left:c,behavior:n})}}var Dd=[],Qze=function(){return Dd.some(function(t){return t.activeTargets.length>0})},e7e=function(){return Dd.some(function(t){return t.skippedTargets.length>0})},U6="ResizeObserver loop completed with undelivered notifications.",t7e=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:U6}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=U6),window.dispatchEvent(t)},_y;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(_y||(_y={}));var Rd=function(t){return Object.freeze(t)},r7e=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,Rd(this)}return t}(),Zee=function(){function t(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Rd(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,s=e.top,a=e.right,o=e.bottom,l=e.left,c=e.width,d=e.height;return{x:r,y:n,top:s,right:a,bottom:o,left:l,width:c,height:d}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),XM=function(t){return t instanceof SVGElement&&"getBBox"in t},Jee=function(t){if(XM(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var s=t,a=s.offsetWidth,o=s.offsetHeight;return!(a||o||t.getClientRects().length)},$6=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},n7e=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Xg=typeof window<"u"?window:{},l1=new WeakMap,j6=/auto|scroll/,i7e=/^tb|vertical/,s7e=/msie|trident/i.test(Xg.navigator&&Xg.navigator.userAgent),no=function(t){return parseFloat(t||"0")},Xh=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new r7e((r?e:t)||0,(r?t:e)||0)},z6=Rd({devicePixelContentBoxSize:Xh(),borderBoxSize:Xh(),contentBoxSize:Xh(),contentRect:new Zee(0,0,0,0)}),Qee=function(t,e){if(e===void 0&&(e=!1),l1.has(t)&&!e)return l1.get(t);if(Jee(t))return l1.set(t,z6),z6;var r=getComputedStyle(t),n=XM(t)&&t.ownerSVGElement&&t.getBBox(),s=!s7e&&r.boxSizing==="border-box",a=i7e.test(r.writingMode||""),o=!n&&j6.test(r.overflowY||""),l=!n&&j6.test(r.overflowX||""),c=n?0:no(r.paddingTop),d=n?0:no(r.paddingRight),f=n?0:no(r.paddingBottom),m=n?0:no(r.paddingLeft),g=n?0:no(r.borderTopWidth),y=n?0:no(r.borderRightWidth),_=n?0:no(r.borderBottomWidth),b=n?0:no(r.borderLeftWidth),u=m+d,h=c+f,p=b+y,v=g+_,w=l?t.offsetHeight-v-t.clientHeight:0,x=o?t.offsetWidth-p-t.clientWidth:0,S=s?u+p:0,E=s?h+v:0,P=n?n.width:no(r.width)-S-x,T=n?n.height:no(r.height)-E-w,A=P+u+x+p,R=T+h+w+v,D=Rd({devicePixelContentBoxSize:Xh(Math.round(P*devicePixelRatio),Math.round(T*devicePixelRatio),a),borderBoxSize:Xh(A,R,a),contentBoxSize:Xh(P,T,a),contentRect:new Zee(m,c,P,T)});return l1.set(t,D),D},ete=function(t,e,r){var n=Qee(t,r),s=n.borderBoxSize,a=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(e){case _y.DEVICE_PIXEL_CONTENT_BOX:return o;case _y.BORDER_BOX:return s;default:return a}},a7e=function(){function t(e){var r=Qee(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Rd([r.borderBoxSize]),this.contentBoxSize=Rd([r.contentBoxSize]),this.devicePixelContentBoxSize=Rd([r.devicePixelContentBoxSize])}return t}(),tte=function(t){if(Jee(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},o7e=function(){var t=1/0,e=[];Dd.forEach(function(o){if(o.activeTargets.length!==0){var l=[];o.activeTargets.forEach(function(d){var f=new a7e(d.target),m=tte(d.target);l.push(f),d.lastReportedSize=ete(d.target,d.observedBox),m<t&&(t=m)}),e.push(function(){o.callback.call(o.observer,l,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var s=n[r];s()}return t},V6=function(t){Dd.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(s){s.isActive()&&(tte(s.target)>t?r.activeTargets.push(s):r.skippedTargets.push(s))})})},l7e=function(){var t=0;for(V6(t);Qze();)t=o7e(),V6(t);return e7e()&&t7e(),t>0},FT,rte=[],u7e=function(){return rte.splice(0).forEach(function(t){return t()})},c7e=function(t){if(!FT){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return u7e()}).observe(r,n),FT=function(){r.textContent="".concat(e?e--:e++)}}rte.push(t),FT()},d7e=function(t){c7e(function(){requestAnimationFrame(t)})},fb=0,f7e=function(){return!!fb},h7e=250,p7e={attributes:!0,characterData:!0,childList:!0,subtree:!0},G6=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],H6=function(t){return t===void 0&&(t=0),Date.now()+t},MT=!1,m7e=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=h7e),!MT){MT=!0;var n=H6(e);d7e(function(){var s=!1;try{s=l7e()}finally{if(MT=!1,e=n-H6(),!f7e())return;s?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,p7e)};document.body?r():Xg.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),G6.forEach(function(r){return Xg.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),G6.forEach(function(r){return Xg.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),zR=new m7e,W6=function(t){!fb&&t>0&&zR.start(),fb+=t,!fb&&zR.stop()},g7e=function(t){return!XM(t)&&!n7e(t)&&getComputedStyle(t).display==="inline"},v7e=function(){function t(e,r){this.target=e,this.observedBox=r||_y.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=ete(this.target,this.observedBox,!0);return g7e(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),y7e=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),u1=new WeakMap,K6=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},c1=function(){function t(){}return t.connect=function(e,r){var n=new y7e(e,r);u1.set(e,n)},t.observe=function(e,r,n){var s=u1.get(e),a=s.observationTargets.length===0;K6(s.observationTargets,r)<0&&(a&&Dd.push(s),s.observationTargets.push(new v7e(r,n&&n.box)),W6(1),zR.schedule())},t.unobserve=function(e,r){var n=u1.get(e),s=K6(n.observationTargets,r),a=n.observationTargets.length===1;s>=0&&(a&&Dd.splice(Dd.indexOf(n),1),n.observationTargets.splice(s,1),W6(-1))},t.disconnect=function(e){var r=this,n=u1.get(e);n.observationTargets.slice().forEach(function(s){return r.unobserve(e,s.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),_7e=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");c1.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$6(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");c1.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!$6(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");c1.unobserve(this,e)},t.prototype.disconnect=function(){c1.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function b7e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Pp(t,e){if(t==null)return{};var r=b7e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function w7e(t,e){if(by(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(by(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x7e(t){var e=w7e(t,"string");return by(e)==="symbol"?e:String(e)}function fa(t,e,r){return e=x7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var YM=C.createContext(null),Oc=()=>{var t=C.useContext(YM);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},kT,NT,nte=parseInt(q.version.split(".")[0],10),ite=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,X6=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Oi=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Eh=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Jc=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),E7e=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),ste=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),S7e=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),C7e=Oi&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),A7e=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),T7e=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),P7e=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((kT=navigator.userAgent.match(/Version\/(\d+)/))!==null&&kT!==void 0&&kT[1]&&parseInt((NT=navigator.userAgent.match(/Version\/(\d+)/))===null||NT===void 0?void 0:NT[1],10)<17);var iu=(!S7e||!C7e)&&!E7e&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Yh=new WeakMap,qM=new WeakMap,ZM=new WeakMap,ate=new WeakMap,pb=new WeakMap,VR=new WeakMap,wy=new WeakMap,Od=new WeakMap,Ox=new WeakMap,jS=new WeakMap,GR=new WeakMap,Bu=new WeakMap,hd=new WeakMap,Yg=new WeakMap,HR=new WeakMap,JM=new WeakMap,Ua=new WeakMap,ml=new WeakMap,Ki=new WeakMap,mu=new WeakMap,gu=new WeakMap,ote=new WeakMap,Dp=Symbol("placeholder"),lte=Symbol("mark-placeholder"),ute=globalThis.Node,D7e=globalThis.Text,QM=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,R7e=t=>hc(t)&&t.nodeType===8,ta=t=>hc(t)&&t.nodeType===1,hc=t=>{var e=QM(t);return!!e&&t instanceof e.Node},WR=t=>{var e=t&&t.anchorNode&&QM(t.anchorNode);return!!e&&t instanceof e.Selection},cte=t=>hc(t)&&t.nodeType===3,O7e=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,I7e=t=>{var[e,r]=t;if(ta(e)&&e.childNodes.length){var n=r===e.childNodes.length,s=n?r-1:r;for([e,s]=dte(e,s,n?"backward":"forward"),n=s<r;ta(e)&&e.childNodes.length;){var a=n?e.childNodes.length-1:0;e=F7e(e,a,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},B7e=t=>{for(var e=t&&t.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},dte=(t,e,r)=>{for(var{childNodes:n}=t,s=n[e],a=e,o=!1,l=!1;(R7e(s)||ta(s)&&s.childNodes.length===0||ta(s)&&s.getAttribute("contenteditable")==="false")&&!(o&&l);){if(a>=n.length){o=!0,a=e-1,r="backward";continue}if(a<0){l=!0,a=e+1,r="forward";continue}s=n[a],e=a,a+=r==="forward"?1:-1}return[s,e]},F7e=(t,e,r)=>{var[n]=dte(t,e,r);return n},fte=t=>{var e="";if(cte(t)&&t.nodeValue)return t.nodeValue;if(ta(t)){for(var r of Array.from(t.childNodes))e+=fte(r);var n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+="\n")}return e},M7e=/data-slate-fragment="(.+?)"/m,k7e=t=>{var e=t.getData("text/html"),[,r]=e.match(M7e)||[];return r},qg=t=>t.getSelection!=null?t.getSelection():document.getSelection(),ek=(t,e,r)=>{var{target:n}=e;if(ta(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:s}=ge.getWindow(t);if(s.contains(n))return ge.hasDOMNode(t,n,{editable:!0});var a=r.find(o=>{var{addedNodes:l,removedNodes:c}=o;for(var d of l)if(d===n||d.contains(n))return!0;for(var f of c)if(f===n||f.contains(n))return!0});return!a||a===e?!1:ek(t,a,r)},N7e=()=>{for(var t=document.activeElement;(e=t)!==null&&e!==void 0&&e.shadowRoot&&(r=t.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var e,r,n;t=(n=t)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return t},Y6=(t,e)=>!!(t.compareDocumentPosition(e)&ute.DOCUMENT_POSITION_PRECEDING),L7e=(t,e)=>!!(t.compareDocumentPosition(e)&ute.DOCUMENT_POSITION_FOLLOWING),U7e=0;class $7e{constructor(){fa(this,"id",void 0),this.id="".concat(U7e++)}}var ge={androidPendingDiffs:t=>Ki.get(t),androidScheduleFlush:t=>{var e;(e=JM.get(t))===null||e===void 0||e()},blur:t=>{var e=ge.toDOMNode(t,t),r=ge.findDocumentOrShadowRoot(t);Bu.set(t,!1),r.activeElement===e&&e.blur()},deselect:t=>{var{selection:e}=t,r=ge.findDocumentOrShadowRoot(t),n=qg(r);n&&n.rangeCount>0&&n.removeAllRanges(),e&&Se.deselect(t)},findDocumentOrShadowRoot:t=>{var e=ge.toDOMNode(t,t),r=e.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:e.ownerDocument},findEventRange:(t,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:n,target:s}=e;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var a=ge.toSlateNode(t,e.target),o=ge.findPath(t,a);if(it.isElement(a)&&F.isVoid(t,a)){var l=s.getBoundingClientRect(),c=t.isInline(a)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,d=F.point(t,o,{edge:c?"start":"end"}),f=c?F.before(t,d):F.after(t,d);if(f){var m=F.range(t,f);return m}}var g,{document:y}=ge.getWindow(t);if(y.caretRangeFromPoint)g=y.caretRangeFromPoint(r,n);else{var _=y.caretPositionFromPoint(r,n);_&&(g=y.createRange(),g.setStart(_.offsetNode,_.offset),g.setEnd(_.offsetNode,_.offset))}if(!g)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var b=ge.toSlateRange(t,g,{exactMatch:!1,suppressThrow:!1});return b},findKey:(t,e)=>{var r=Ox.get(e);return r||(r=new $7e,Ox.set(e,r)),r},findPath:(t,e)=>{for(var r=[],n=e;;){var s=ZM.get(n);if(s==null){if(F.isEditor(n))return r;break}var a=qM.get(n);if(a==null)break;r.unshift(a),n=s}throw new Error("Unable to find the path for Slate node: ".concat(Wn.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Bu.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{ge.focus(e,{retries:r.retries-1})},10);return}var n=ge.toDOMNode(e,e),s=ge.findDocumentOrShadowRoot(e);if(s.activeElement!==n){if(e.selection&&s instanceof Document){var a=qg(s),o=ge.toDOMRange(e,e.selection);a==null||a.removeAllRanges(),a==null||a.addRange(o)}e.selection||Se.select(e,F.start(e,[])),Bu.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:t=>{var e=ate.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:s=!1}=n,a=ge.toDOMNode(e,e),o;try{o=ta(r)?r:r.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return o?o.closest("[data-slate-editor]")===a&&(!s||o.isContentEditable?!0:typeof o.isContentEditable=="boolean"&&o.closest('[contenteditable="false"]')===a||!!o.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(t,e)=>hc(e)&&ge.hasDOMNode(t,e,{editable:!0}),hasRange:(t,e)=>{var{anchor:r,focus:n}=e;return F.hasPath(t,r.path)&&F.hasPath(t,n.path)},hasSelectableTarget:(t,e)=>ge.hasEditableTarget(t,e)||ge.isTargetInsideNonReadonlyVoid(t,e),hasTarget:(t,e)=>hc(e)&&ge.hasDOMNode(t,e),insertData:(t,e)=>{t.insertData(e)},insertFragmentData:(t,e)=>t.insertFragmentData(e),insertTextData:(t,e)=>t.insertTextData(e),isComposing:t=>!!hd.get(t),isFocused:t=>!!Bu.get(t),isReadOnly:t=>!!GR.get(t),isTargetInsideNonReadonlyVoid:(t,e)=>{if(GR.get(t))return!1;var r=ge.hasTarget(t,e)&&ge.toSlateNode(t,e);return it.isElement(r)&&F.isVoid(t,r)},setFragmentData:(t,e,r)=>t.setFragmentData(e,r),toDOMNode:(t,e)=>{var r=jS.get(t),n=F.isEditor(e)?pb.get(t):r==null?void 0:r.get(ge.findKey(t,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Wn.stringify(e)));return n},toDOMPoint:(t,e)=>{var[r]=F.node(t,e.path),n=ge.toDOMNode(t,r),s;F.void(t,{at:e})&&(e={path:e.path,offset:0});for(var a="[data-slate-string], [data-slate-zero-width]",o=Array.from(n.querySelectorAll(a)),l=0,c=0;c<o.length;c++){var d=o[c],f=d.childNodes[0];if(!(f==null||f.textContent==null)){var{length:m}=f.textContent,g=d.getAttribute("data-slate-length"),y=g==null?m:parseInt(g,10),_=l+y,b=o[c+1];if(e.offset===_&&b!==null&&b!==void 0&&b.hasAttribute("data-slate-mark-placeholder")){var u,h=b.childNodes[0];s=[h instanceof D7e?h:b,(u=b.textContent)!==null&&u!==void 0&&u.startsWith("\uFEFF")?1:0];break}if(e.offset<=_){var p=Math.min(m,Math.max(0,e.offset-l));s=[f,p];break}l=_}}if(!s)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Wn.stringify(e)));return s},toDOMRange:(t,e)=>{var{anchor:r,focus:n}=e,s=de.isBackward(e),a=ge.toDOMPoint(t,r),o=de.isCollapsed(e)?a:ge.toDOMPoint(t,n),l=ge.getWindow(t),c=l.document.createRange(),[d,f]=s?o:a,[m,g]=s?a:o,y=ta(d)?d:d.parentElement,_=!!y.getAttribute("data-slate-zero-width"),b=ta(m)?m:m.parentElement,u=!!b.getAttribute("data-slate-zero-width");return c.setStart(d,_?1:f),c.setEnd(m,u?1:g),c},toSlateNode:(t,e)=>{var r=ta(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?wy.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(t,e,r)=>{var{exactMatch:n,suppressThrow:s,searchDirection:a="backward"}=r,[o,l]=n?e:I7e(e),c=o.parentNode,d=null,f=0;if(c){var m,g,y=ge.toDOMNode(t,t),_=c.closest('[data-slate-void="true"]'),b=_&&y.contains(_)?_:null,u=c.closest('[contenteditable="false"]'),h=u&&y.contains(u)?u:null,p=c.closest("[data-slate-leaf]"),v=null;if(p){if(d=p.closest('[data-slate-node="text"]'),d){var w=ge.getWindow(t),x=w.document.createRange();x.setStart(d,0),x.setEnd(o,l);var S=x.cloneContents(),E=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];E.forEach(ye=>{if(Oi&&!n&&ye.hasAttribute("data-slate-zero-width")&&ye.textContent.length>0&&ye.textContext!=="\uFEFF"){ye.textContent.startsWith("\uFEFF")&&(ye.textContent=ye.textContent.slice(1));return}ye.parentNode.removeChild(ye)}),f=S.textContent.length,v=d}}else if(b){for(var P=b.querySelectorAll("[data-slate-leaf]"),T=0;T<P.length;T++){var A=P[T];if(ge.hasDOMNode(t,A)){p=A;break}}p?(d=p.closest('[data-slate-node="text"]'),v=p,f=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(ye=>{f-=ye.textContent.length})):f=1}else if(h){var R=ye=>ye?ye.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],D=h.closest('[data-slate-node="element"]');if(a==="forward"){var O,I=[...R(D),...R(D==null?void 0:D.nextElementSibling)];p=(O=I.find(ye=>L7e(h,ye)))!==null&&O!==void 0?O:null}else{var M,G=[...R(D==null?void 0:D.previousElementSibling),...R(D)];p=(M=G.findLast(ye=>Y6(h,ye)))!==null&&M!==void 0?M:null}p&&(d=p.closest('[data-slate-node="text"]'),v=p,a==="forward"?f=0:(f=v.textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(ye=>{f-=ye.textContent.length})))}v&&f===v.textContent.length&&Oi&&v.getAttribute("data-slate-zero-width")==="z"&&(m=v.textContent)!==null&&m!==void 0&&m.startsWith("\uFEFF")&&(c.hasAttribute("data-slate-zero-width")||Eh&&(g=v.textContent)!==null&&g!==void 0&&g.endsWith("\n\n"))&&f--}if(Oi&&!d&&!n){var j=c.hasAttribute("data-slate-node")?c:c.closest("[data-slate-node]");if(j&&ge.hasDOMNode(t,j,{editable:!0})){var $=ge.toSlateNode(t,j),{path:H,offset:K}=F.start(t,ge.findPath(t,$));return j.querySelector("[data-slate-leaf]")||(K=l),{path:H,offset:K}}}if(!d){if(s)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var re=ge.toSlateNode(t,d),fe=ge.findPath(t,re);return{path:fe,offset:f}},toSlateRange:(t,e,r)=>{var n,{exactMatch:s,suppressThrow:a}=r,o=WR(e)?e.anchorNode:e.startContainer,l,c,d,f,m;if(o)if(WR(e)){if(Eh&&e.rangeCount>1){d=e.focusNode;var g=e.getRangeAt(0),y=e.getRangeAt(e.rangeCount-1);if(d instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement&&y.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var _=g.startContainer,b=y.startContainer,u=S(_.children[g.startOffset]),h=S(b.children[y.startOffset]);f=0,h.childNodes.length>0?l=h.childNodes[0]:l=h,u.childNodes.length>0?d=u.childNodes[0]:d=u,h instanceof HTMLElement?c=h.innerHTML.length:c=0}else g.startContainer===d?(l=y.endContainer,c=y.endOffset,f=g.startOffset):(l=g.startContainer,c=g.endOffset,f=y.startOffset)}else l=e.anchorNode,c=e.anchorOffset,d=e.focusNode,f=e.focusOffset;ste&&B7e(l)||Eh?m=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:m=e.isCollapsed}else l=e.startContainer,c=e.startOffset,d=e.endContainer,f=e.endOffset,m=e.collapsed;if(l==null||d==null||c==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));Eh&&(n=d.textContent)!==null&&n!==void 0&&n.endsWith("\n\n")&&f===d.textContent.length&&f--;var p=ge.toSlatePoint(t,[l,c],{exactMatch:s,suppressThrow:a});if(!p)return null;var v=Y6(l,d)||l===d&&f<c,w=m?p:ge.toSlatePoint(t,[d,f],{exactMatch:s,suppressThrow:a,searchDirection:v?"forward":"backward"});if(!w)return null;var x={anchor:p,focus:w};return de.isExpanded(x)&&de.isForward(x)&&ta(d)&&F.void(t,{at:x.focus,mode:"highest"})&&(x=F.unhangRange(t,x,{voids:!0})),x}};function j7e(t,e){var{path:r,diff:n}=e;if(!F.hasPath(t,r))return!1;var s=Me.get(t,r);if(!Qe.isText(s))return!1;if(n.start!==s.text.length||n.text.length===0)return s.text.slice(n.start,n.start+n.text.length)===n.text;var a=te.next(r);if(!F.hasPath(t,a))return!1;var o=Me.get(t,a);return Qe.isText(o)&&o.text.startsWith(n.text)}function hte(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((s,a)=>s.slice(0,a.start)+a.text+s.slice(a.end),t)}function z7e(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n))return n;return r}function V7e(t,e,r){for(var n=Math.min(t.length,e.length,r),s=0;s<n;s++)if(t.charAt(t.length-s-1)!==e.charAt(e.length-s-1))return s;return n}function pte(t,e){var{start:r,end:n,text:s}=e,a=t.slice(r,n),o=z7e(a,s),l=Math.min(a.length-o,s.length-o),c=V7e(a,s,l),d={start:r+o,end:n-c,text:s.slice(o,s.length-c)};return d.start===d.end&&d.text.length===0?null:d}function G7e(t,e,r){var n=Math.min(e.start,r.start),s=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),a=hte(t,e,r),o=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-s),l=a.slice(n,o),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return pte(t,{start:n,end:c,text:l})}function H7e(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function KR(t,e){var{path:r,offset:n}=e;if(!F.hasPath(t,r))return null;var s=Me.get(t,r);if(!Qe.isText(s))return null;var a=F.above(t,{match:l=>it.isElement(l)&&F.isBlock(t,l),at:r});if(!a)return null;for(;n>s.text.length;){var o=F.next(t,{at:r,match:Qe.isText});if(!o||!te.isDescendant(o[1],a[1]))return null;n-=s.text.length,s=o[0],r=o[1]}return{path:r,offset:n}}function q6(t,e){var r=KR(t,e.anchor);if(!r)return null;if(de.isCollapsed(e))return{anchor:r,focus:r};var n=KR(t,e.focus);return n?{anchor:r,focus:n}:null}function XR(t,e,r){var n=Ki.get(t),s=n==null?void 0:n.find(f=>{var{path:m}=f;return te.equals(m,e.path)});if(!s||e.offset<=s.diff.start)return zt.transform(e,r,{affinity:"backward"});var{diff:a}=s;if(e.offset<=a.start+a.text.length){var o={path:e.path,offset:a.start},l=zt.transform(o,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-a.start}:null}var c={path:e.path,offset:e.offset-a.text.length+a.end-a.start},d=zt.transform(c,r,{affinity:"backward"});return d?r.type==="split_node"&&te.equals(r.path,e.path)&&c.offset<r.position&&a.start<r.position?d:{path:d.path,offset:d.offset+a.text.length-a.end+a.start}:null}function Z6(t,e,r){var n=XR(t,e.anchor,r);if(!n)return null;if(de.isCollapsed(e))return{anchor:n,focus:n};var s=XR(t,e.focus,r);return s?{anchor:n,focus:s}:null}function W7e(t,e){var{path:r,diff:n,id:s}=t;switch(e.type){case"insert_text":return!te.equals(e.path,r)||e.offset>=n.end?t:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:s,path:r};case"remove_text":return!te.equals(e.path,r)||e.offset>=n.end?t:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:s,path:r}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:s,path:r};case"split_node":return!te.equals(e.path,r)||e.position>=n.end?{diff:n,id:s,path:te.transform(r,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:s,path:r}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:s,path:te.transform(r,e,{affinity:"forward"})};case"merge_node":return te.equals(e.path,r)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:s,path:te.transform(r,e)}:{diff:n,id:s,path:te.transform(r,e)}}var a=te.transform(r,e);return a?{diff:n,path:a,id:s}:null}function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var K7e=25,X7e=200,Y7e=function(){},q7e=t=>(t==null?void 0:t.constructor.name)==="DataTransfer";function Z7e(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=t,s=!1,a=null,o=null,l=null,c=0,d=!1,f=()=>{var D=gu.get(e);if(gu.delete(e),D){var{selection:O}=e,I=q6(e,D);I&&(!O||!de.equals(I,O))&&Se.select(e,I)}},m=()=>{var D=mu.get(e);if(mu.delete(e),!!D){if(D.at){var O=zt.isPoint(D.at)?KR(e,D.at):q6(e,D.at);if(!O)return;var I=F.range(e,O);(!e.selection||!de.equals(e.selection,I))&&Se.select(e,O)}D.run()}},g=()=>{if(o&&(clearTimeout(o),o=null),l&&(clearTimeout(l),l=null),!w()&&!v()){f();return}s||(s=!0,setTimeout(()=>s=!1)),v()&&(s="action");var D=e.selection&&F.rangeRef(e,e.selection,{affinity:"forward"});ml.set(e,e.marks),Y7e("flush",mu.get(e),Ki.get(e));for(var O=w(),I;I=(M=Ki.get(e))===null||M===void 0?void 0:M[0];){var M,G,j=Ua.get(e);j!==void 0&&(Ua.delete(e),e.marks=j),j&&d===!1&&(d=null);var $=H7e(I);(!e.selection||!de.equals(e.selection,$))&&Se.select(e,$),I.diff.text?F.insertText(e,I.diff.text):F.deleteFragment(e),Ki.set(e,(G=Ki.get(e))===null||G===void 0?void 0:G.filter(re=>{var{id:fe}=re;return fe!==I.id})),j7e(e,I)||(O=!1,mu.delete(e),ml.delete(e),s="action",gu.delete(e),r.cancel(),n.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!gu.get(e)&&(!e.selection||!de.equals(H,e.selection))&&Se.select(e,H),v()){m();return}O&&r(),r.flush(),n.flush(),f();var K=ml.get(e);ml.delete(e),K!==void 0&&(e.marks=K,e.onChange())},y=D=>{a&&clearTimeout(a),a=setTimeout(()=>{hd.set(e,!1),g()},K7e)},_=D=>{hd.set(e,!0),a&&(clearTimeout(a),a=null)},b=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=VR.get(e);if(I){if(w()||O){I.style.display="none";return}I.style.removeProperty("display")}},u=(D,O)=>{var I,M=(I=Ki.get(e))!==null&&I!==void 0?I:[];Ki.set(e,M);var G=Me.leaf(e,D),j=M.findIndex(K=>te.equals(K.path,D));if(j<0){var $=pte(G.text,O);$&&M.push({path:D,diff:O,id:c++}),b();return}var H=G7e(G.text,M[j].diff,O);if(!H){M.splice(j,1),b();return}M[j]=d1(d1({},M[j]),{},{diff:H})},h=function(O){var{at:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d=!1,gu.delete(e),r.cancel(),n.cancel(),v()&&g(),mu.set(e,{at:I,run:O}),l=setTimeout(g)},p=D=>{var O;if(o&&(clearTimeout(o),o=null),!Yh.get(e)){var{inputType:I}=D,M=null,G=D.dataTransfer||D.data||void 0;d!==!1&&I!=="insertText"&&I!=="insertCompositionText"&&(d=!1);var[j]=D.getTargetRanges();j&&(M=ge.toSlateRange(e,j,{exactMatch:!1,suppressThrow:!0}));var $=ge.getWindow(e),H=$.getSelection();if(!M&&H&&(j=H,M=ge.toSlateRange(e,H,{exactMatch:!1,suppressThrow:!0})),M=(O=M)!==null&&O!==void 0?O:e.selection,!!M){var K=!0;if(I.startsWith("delete")){if(de.isExpanded(M)){var[re,fe]=de.edges(M),ye=Me.leaf(e,re.path);if(ye.text.length===re.offset&&fe.offset===0){var he=F.next(e,{at:re.path,match:Qe.isText});he&&te.equals(he[1],fe.path)&&(M={anchor:fe,focus:fe})}}var ue=I.endsWith("Backward")?"backward":"forward",[Z,z]=de.edges(M),[V,Y]=F.leaf(e,Z.path),ne={text:"",start:Z.offset,end:z.offset},ie=Ki.get(e),me=ie==null?void 0:ie.find(Xe=>te.equals(Xe.path,Y)),xe=me?[me.diff,ne]:[ne],we=hte(V.text,...xe);if(we.length===0&&(K=!1),de.isExpanded(M)){if(K&&te.equals(M.anchor.path,M.focus.path)){var Ee={path:M.anchor.path,offset:Z.offset},tt=F.range(e,Ee,Ee);return E(tt),u(M.anchor.path,{text:"",end:z.offset,start:Z.offset})}return h(()=>F.deleteFragment(e,{direction:ue}),{at:M})}}switch(I){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return h(()=>F.deleteFragment(e),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:xt}=M;if(K&&de.isCollapsed(M)){var _t=Me.leaf(e,xt.path);if(xt.offset<_t.text.length)return u(xt.path,{text:"",start:xt.offset,end:xt.offset+1})}return h(()=>F.deleteForward(e),{at:M})}case"deleteContentBackward":{var Gt,{anchor:X}=M,oe=WR(j)?j.isCollapsed:!!((Gt=j)!==null&&Gt!==void 0&&Gt.collapsed);return K&&oe&&de.isCollapsed(M)&&X.offset>0?u(X.path,{text:"",start:X.offset-1,end:X.offset}):h(()=>F.deleteBackward(e),{at:M})}case"deleteEntireSoftLine":return h(()=>{F.deleteBackward(e,{unit:"line"}),F.deleteForward(e,{unit:"line"})},{at:M});case"deleteHardLineBackward":return h(()=>F.deleteBackward(e,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return h(()=>F.deleteBackward(e,{unit:"line"}),{at:M});case"deleteHardLineForward":return h(()=>F.deleteForward(e,{unit:"block"}),{at:M});case"deleteSoftLineForward":return h(()=>F.deleteForward(e,{unit:"line"}),{at:M});case"deleteWordBackward":return h(()=>F.deleteBackward(e,{unit:"word"}),{at:M});case"deleteWordForward":return h(()=>F.deleteForward(e,{unit:"word"}),{at:M});case"insertLineBreak":return h(()=>F.insertSoftBreak(e),{at:M});case"insertParagraph":return h(()=>F.insertBreak(e),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(q7e(G))return h(()=>ge.insertData(e,G),{at:M});var le=G!=null?G:"";if(Ua.get(e)&&(le=le.replace("\uFEFF","")),I==="insertText"&&/.*\n.*\n$/.test(le)&&(le=le.slice(0,-1)),le.includes("\n"))return h(()=>{var Xe=le.split("\n");Xe.forEach((Pe,L)=>{Pe&&F.insertText(e,Pe),L!==Xe.length-1&&F.insertSoftBreak(e)})},{at:M});if(te.equals(M.anchor.path,M.focus.path)){var[Ae,_e]=de.edges(M),ce={start:Ae.offset,end:_e.offset,text:le};if(le&&d&&I==="insertCompositionText"){var be=d.start+d.text.search(/\S|$/),Ye=ce.start+ce.text.search(/\S|$/);Ye===be+1&&ce.end===d.start+d.text.length?(ce.start-=1,d=null,A()):d=!1}else I==="insertText"?d===null?d=ce:d&&de.isCollapsed(M)&&d.end+d.text.length===Ae.offset?d=d1(d1({},d),{},{text:d.text+le}):d=!1:d=!1;if(K){u(Ae.path,ce);return}}return h(()=>F.insertText(e,le),{at:M})}}}}},v=()=>!!mu.get(e),w=()=>{var D;return!!((D=Ki.get(e))!==null&&D!==void 0&&D.length)},x=()=>v()||w(),S=()=>s,E=D=>{gu.set(e,D),o&&(clearTimeout(o),o=null);var{selection:O}=e;if(D){var I=!O||!te.equals(O.anchor.path,D.anchor.path),M=!O||!te.equals(O.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(I&&d||M)&&(d=!1),(I||w())&&(o=setTimeout(g,X7e))}},P=()=>{(v()||!w())&&g()},T=D=>{w()||(b(!0),setTimeout(b))},A=()=>{v()||(l=setTimeout(g))},R=D=>{if(!(w()||v())&&D.some(I=>ek(e,I,D))){var O;(O=ote.get(e))===null||O===void 0||O()}};return{flush:g,scheduleFlush:A,hasPendingDiffs:w,hasPendingAction:v,hasPendingChanges:x,isFlushing:S,handleUserSelect:E,handleCompositionEnd:y,handleCompositionStart:_,handleDOMBeforeInput:p,handleKeyDown:T,handleDomMutations:R,handleInput:P}}function J7e(){var t=C.useRef(!1);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}var xy=hb?C.useLayoutEffect:C.useEffect;function Q7e(t,e,r){var[n]=C.useState(()=>new MutationObserver(e));xy(()=>{n.takeRecords()}),C.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(t.current,r),()=>n.disconnect()},[n,t,r])}var e9e=["node"];function Q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function t9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var r9e={subtree:!0,childList:!0,characterData:!0},n9e=Oi?t=>{var{node:e}=t,r=Pp(t,e9e);if(!Oi)return null;var n=Oc(),s=J7e(),[a]=C.useState(()=>Z7e(t9e({editor:n},r)));return Q7e(e,a.handleDomMutations,r9e),JM.set(n,a.scheduleFlush),s&&a.flush(),a}:()=>null,i9e=["anchor","focus"],s9e=["anchor","focus"],a9e=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),mte=(t,e)=>{var r=Pp(t,i9e),n=Pp(e,s9e);return t[Dp]===e[Dp]&&a9e(r,n)},o9e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(!de.equals(n,s)||!mte(n,s))return!1}return!0},l9e=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],s=e[r];if(n.anchor.offset!==s.anchor.offset||n.focus.offset!==s.focus.offset||!mte(n,s))return!1}return!0};function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function u9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var c9e=t=>{var{isLast:e,leaf:r,parent:n,text:s}=t,a=Oc(),o=ge.findPath(a,s),l=te.parent(o),c=!!r[lte];return a.isVoid(n)?q.createElement(LT,{length:Me.string(n).length}):r.text===""&&n.children[n.children.length-1]===s&&!a.isInline(n)&&F.string(a,l)===""?q.createElement(LT,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?q.createElement(LT,{isMarkPlaceholder:c}):e&&r.text.slice(-1)==="\n"?q.createElement(tj,{isTrailing:!0,text:r.text}):q.createElement(tj,{text:r.text})},tj=t=>{var{text:e,isTrailing:r=!1}=t,n=C.useRef(null),s=()=>"".concat(e!=null?e:"").concat(r?"\n":""),[a]=C.useState(s);return xy(()=>{var o=s();n.current&&n.current.textContent!==o&&(n.current.textContent=o)}),q.createElement(d9e,{ref:n},a)},d9e=C.memo(C.forwardRef((t,e)=>q.createElement("span",{"data-slate-string":!0,ref:e},t.children))),LT=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=t,s={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return n&&(s["data-slate-mark-placeholder"]=!0),q.createElement("span",u9e({},s),!(Oi||ite)||!r?"\uFEFF":null,r?q.createElement("br",null):null)};function rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var f9e=Oi?300:0;function h9e(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}function nj(t){t.current&&(clearTimeout(t.current),t.current=null)}var p9e=t=>{var{leaf:e,isLast:r,text:n,parent:s,renderPlaceholder:a,renderLeaf:o=p=>q.createElement(g9e,gte({},p))}=t,l=Oc(),c=C.useRef(null),d=C.useRef(null),[f,m]=C.useState(!1),g=C.useRef(null),y=C.useCallback(p=>{if(h9e(c,p==null),p==null){var v;VR.delete(l),(v=e.onPlaceholderResize)===null||v===void 0||v.call(e,null)}else{if(VR.set(l,p),!c.current){var w=window.ResizeObserver||_7e;c.current=new w(()=>{var x;(x=e.onPlaceholderResize)===null||x===void 0||x.call(e,p)})}c.current.observe(p),d.current=p}},[d,e,l]),_=q.createElement(c9e,{isLast:r,leaf:e,parent:s,text:n}),b=!!e[Dp];if(C.useEffect(()=>(b?g.current||(g.current=setTimeout(()=>{m(!0),g.current=null},f9e)):(nj(g),m(!1)),()=>nj(g)),[b,m]),b&&f){var u={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Jc?"inherit":void 0},contentEditable:!1,ref:y}};_=q.createElement(q.Fragment,null,a(u),_)}var h={"data-slate-leaf":!0};return o({attributes:h,children:_,leaf:e,text:n})},m9e=q.memo(p9e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&Qe.equals(e.leaf,t.leaf)&&e.leaf[Dp]===t.leaf[Dp]),g9e=t=>{var{attributes:e,children:r}=t;return q.createElement("span",gte({},e),r)},v9e=t=>{for(var{decorations:e,isLast:r,parent:n,renderPlaceholder:s,renderLeaf:a,text:o}=t,l=Oc(),c=C.useRef(null),d=Qe.decorations(o,e),f=ge.findKey(l,o),m=[],g=0;g<d.length;g++){var y=d[g];m.push(q.createElement(m9e,{isLast:r&&g===d.length-1,key:"".concat(f.id,"-").concat(g),renderPlaceholder:s,leaf:y,text:o,parent:n,renderLeaf:a}))}var _=C.useCallback(b=>{var u=jS.get(l);b?(u==null||u.set(f,b),Od.set(o,b),wy.set(b,o)):(u==null||u.delete(f),Od.delete(o),c.current&&wy.delete(c.current)),c.current=b},[c,l,f,o]);return q.createElement("span",{"data-slate-node":"text",ref:_},m)},vte=q.memo(v9e,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&l9e(e.decorations,t.decorations));function ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function YR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var y9e=t=>{var{decorations:e,element:r,renderElement:n=p=>q.createElement(tk,YR({},p)),renderPlaceholder:s,renderLeaf:a,selection:o}=t,l=Oc(),c=w9e(),d=l.isInline(r),f=ge.findKey(l,r),m=C.useCallback(p=>{var v=jS.get(l);p?(v==null||v.set(f,p),Od.set(r,p),wy.set(p,r)):(v==null||v.delete(f),Od.delete(r))},[l,f,r]),g=bte({decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:a,selection:o}),y={"data-slate-node":"element",ref:m};if(d&&(y["data-slate-inline"]=!0),!d&&F.hasInlines(l,r)){var _=Me.string(r),b=Yee(_);b==="rtl"&&(y.dir=b)}if(F.isVoid(l,r)){y["data-slate-void"]=!0,!c&&d&&(y.contentEditable=!1);var u=d?"span":"div",[[h]]=Me.texts(r);g=q.createElement(u,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},q.createElement(vte,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:h})),qM.set(h,0),ZM.set(h,r)}return n({attributes:y,children:g,element:r})},_9e=q.memo(y9e,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&o9e(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&de.equals(t.selection,e.selection))),tk=t=>{var{attributes:e,children:r,element:n}=t,s=Oc(),a=s.isInline(n)?"span":"div";return q.createElement(a,YR(YR({},e),{},{style:{position:"relative"}}),r)},yte=C.createContext(()=>[]),b9e=()=>C.useContext(yte),_te=C.createContext(!1),KQe=()=>C.useContext(_te),bte=t=>{var{decorations:e,node:r,renderElement:n,renderPlaceholder:s,renderLeaf:a,selection:o}=t,l=b9e(),c=Oc();Yh.set(c,!1);for(var d=ge.findPath(c,r),f=[],m=it.isElement(r)&&!c.isInline(r)&&F.hasInlines(c,r),g=0;g<r.children.length;g++){var y=d.concat(g),_=r.children[g],b=ge.findKey(c,_),u=F.range(c,y),h=o&&de.intersection(u,o),p=l([_,y]);for(var v of e){var w=de.intersection(v,u);w&&p.push(w)}it.isElement(_)?f.push(q.createElement(_te.Provider,{key:"provider-".concat(b.id),value:!!h},q.createElement(_9e,{decorations:p,element:_,key:b.id,renderElement:n,renderPlaceholder:s,renderLeaf:a,selection:h}))):f.push(q.createElement(vte,{decorations:p,key:b.id,isLast:m&&g===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:a,text:_})),qM.set(_,g),ZM.set(_,r)}return f},wte=C.createContext(!1),w9e=()=>C.useContext(wte),xte=C.createContext(null),Ete=()=>{var t=C.useContext(xte);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e};function x9e(){var t=Oc(),e=C.useRef(!1),r=C.useRef(0),n=C.useCallback(()=>{if(!e.current){e.current=!0;var s=ge.getWindow(t);s.cancelAnimationFrame(r.current),r.current=s.requestAnimationFrame(()=>{e.current=!1})}},[t]);return C.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:n}}var E9e=3,S9e={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},C9e={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},A9e={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Nr=t=>{var e=S9e[t],r=C9e[t],n=A9e[t],s=e&&RT(e),a=r&&RT(r),o=n&&RT(n);return l=>!!(s&&s(l)||X6&&a&&a(l)||!X6&&o&&o(l))},Xr={isBold:Nr("bold"),isCompose:Nr("compose"),isMoveBackward:Nr("moveBackward"),isMoveForward:Nr("moveForward"),isDeleteBackward:Nr("deleteBackward"),isDeleteForward:Nr("deleteForward"),isDeleteLineBackward:Nr("deleteLineBackward"),isDeleteLineForward:Nr("deleteLineForward"),isDeleteWordBackward:Nr("deleteWordBackward"),isDeleteWordForward:Nr("deleteWordForward"),isExtendBackward:Nr("extendBackward"),isExtendForward:Nr("extendForward"),isExtendLineBackward:Nr("extendLineBackward"),isExtendLineForward:Nr("extendLineForward"),isItalic:Nr("italic"),isMoveLineBackward:Nr("moveLineBackward"),isMoveLineForward:Nr("moveLineForward"),isMoveWordBackward:Nr("moveWordBackward"),isMoveWordForward:Nr("moveWordForward"),isRedo:Nr("redo"),isSoftBreak:Nr("insertSoftBreak"),isSplitBlock:Nr("splitBlock"),isTransposeCharacter:Nr("transposeCharacter"),isUndo:Nr("undo")},T9e=(t,e)=>{var r=[],n=()=>{r=[]},s=o=>{if(e.current){var l=o.filter(c=>ek(t,c,o));r.push(...l)}};function a(){r.length>0&&(r.reverse().forEach(o=>{o.type!=="characterData"&&(o.removedNodes.forEach(l=>{o.target.insertBefore(l,o.nextSibling)}),o.addedNodes.forEach(l=>{o.target.removeChild(l)}))}),n())}return{registerMutations:s,restoreDOM:a,clear:n}},P9e={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Ste extends C.Component{constructor(){super(...arguments),fa(this,"context",null),fa(this,"manager",null),fa(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,P9e)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=T9e(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,n,s=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(s!=null&&s.length){var a;(a=this.manager)===null||a===void 0||a.registerMutations(s)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}fa(Ste,"contextType",YM);var D9e=Oi?Ste:t=>{var{children:e}=t;return q.createElement(q.Fragment,null,e)},R9e=C.createContext(!1),O9e=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],I9e=["text"];function sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var B9e=t=>q.createElement(q.Fragment,null,bte(t)),F9e=C.forwardRef((t,e)=>{var r=C.useCallback(Z=>q.createElement(M9e,lo({},Z)),[]),{autoFocus:n,decorate:s=k9e,onDOMBeforeInput:a,placeholder:o,readOnly:l=!1,renderElement:c,renderLeaf:d,renderPlaceholder:f=r,scrollSelectionIntoView:m=N9e,style:g={},as:y="div",disableDefaultStyles:_=!1}=t,b=Pp(t,O9e),u=Ete(),[h,p]=C.useState(!1),v=C.useRef(null),w=C.useRef([]),[x,S]=C.useState(),E=C.useRef(!1),{onUserInput:P,receivedUserInput:T}=x9e(),[,A]=C.useReducer(Z=>Z+1,0);ote.set(u,A),GR.set(u,l);var R=C.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);C.useEffect(()=>{v.current&&n&&v.current.focus()},[n]);var D=C.useRef(),O=C.useMemo(()=>Yze(()=>{if(Yh.get(u)){O();return}var Z=ge.toDOMNode(u,u),z=Z.getRootNode();if(!E.current&&Jc&&z instanceof ShadowRoot){E.current=!0;var V=N7e();V?document.execCommand("indent"):Se.deselect(u),E.current=!1;return}var Y=D.current;if((Oi||!ge.isComposing(u))&&(!R.isUpdatingSelection||Y!=null&&Y.isFlushing())&&!R.isDraggingInternally){var ne=ge.findDocumentOrShadowRoot(u),{activeElement:ie}=ne,me=ge.toDOMNode(u,u),xe=qg(ne);if(ie===me?(R.latestElement=ie,Bu.set(u,!0)):Bu.delete(u),!xe)return Se.deselect(u);var{anchorNode:we,focusNode:Ee}=xe,tt=ge.hasEditableTarget(u,we)||ge.isTargetInsideNonReadonlyVoid(u,we),xt=ge.hasTarget(u,Ee);if(tt&&xt){var _t=ge.toSlateRange(u,xe,{exactMatch:!1,suppressThrow:!0});_t&&(!ge.isComposing(u)&&!(Y!=null&&Y.hasPendingChanges())&&!(Y!=null&&Y.isFlushing())?Se.select(u,_t):Y==null||Y.handleUserSelect(_t))}l&&(!tt||!xt)&&Se.deselect(u)}},100),[u,l,R]),I=C.useMemo(()=>Vze(O,0),[O]);D.current=n9e({node:v,onDOMSelectionChange:O,scheduleOnDOMSelectionChange:I}),xy(()=>{var Z,z,V;v.current&&(V=QM(v.current))?(ate.set(u,V),pb.set(u,v.current),Od.set(u,v.current),wy.set(v.current,u)):Od.delete(u);var{selection:Y}=u,ne=ge.findDocumentOrShadowRoot(u),ie=qg(ne);if(!(!ie||!ge.isFocused(u)||(Z=D.current)!==null&&Z!==void 0&&Z.hasPendingAction())){var me=tt=>{var xt=ie.type!=="None";if(!(!Y&&!xt)){var _t=ie.focusNode,Gt;if(Eh&&ie.rangeCount>1){var X=ie.getRangeAt(0),oe=ie.getRangeAt(ie.rangeCount-1);X.startContainer===_t?Gt=oe.endContainer:Gt=X.startContainer}else Gt=ie.anchorNode;var le=pb.get(u),Ae=!1;if(le.contains(Gt)&&le.contains(_t)&&(Ae=!0),xt&&Ae&&Y&&!tt){var _e=ge.toSlateRange(u,ie,{exactMatch:!0,suppressThrow:!0});if(_e&&de.equals(_e,Y)){var ce;if(!R.hasMarkPlaceholder||(ce=Gt)!==null&&ce!==void 0&&(ce=ce.parentElement)!==null&&ce!==void 0&&ce.hasAttribute("data-slate-mark-placeholder"))return}}if(Y&&!ge.hasRange(u,Y)){u.selection=ge.toSlateRange(u,ie,{exactMatch:!1,suppressThrow:!0});return}R.isUpdatingSelection=!0;var be=Y&&ge.toDOMRange(u,Y);return be?(ge.isComposing(u)&&!Oi?ie.collapseToEnd():de.isBackward(Y)?ie.setBaseAndExtent(be.endContainer,be.endOffset,be.startContainer,be.startOffset):ie.setBaseAndExtent(be.startContainer,be.startOffset,be.endContainer,be.endOffset),m(u,be)):ie.removeAllRanges(),be}};ie.rangeCount<=1&&me();var xe=((z=D.current)===null||z===void 0?void 0:z.isFlushing())==="action";if(!Oi||!xe){setTimeout(()=>{R.isUpdatingSelection=!1});return}var we=null,Ee=requestAnimationFrame(()=>{if(xe){var tt=xt=>{try{var _t=ge.toDOMNode(u,u);_t.focus(),me(xt)}catch(Gt){}};tt(),we=setTimeout(()=>{tt(!0),R.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Ee),we&&clearTimeout(we)}}});var M=C.useCallback(Z=>{var z=ge.toDOMNode(u,u),V=z.getRootNode();if(E!=null&&E.current&&Jc&&V instanceof ShadowRoot){var Y=Z.getTargetRanges(),ne=Y[0],ie=new window.Range;ie.setStart(ne.startContainer,ne.startOffset),ie.setEnd(ne.endContainer,ne.endOffset);var me=ge.toSlateRange(u,ie,{exactMatch:!1,suppressThrow:!1});Se.select(u,me),Z.preventDefault(),Z.stopImmediatePropagation();return}if(P(),!l&&ge.hasEditableTarget(u,Z.target)&&!L9e(Z,a)){var xe;if(D.current)return D.current.handleDOMBeforeInput(Z);I.flush(),O.flush();var{selection:we}=u,{inputType:Ee}=Z,tt=Z.dataTransfer||Z.data||void 0,xt=Ee==="insertCompositionText"||Ee==="deleteCompositionText";if(xt&&ge.isComposing(u))return;var _t=!1;if(Ee==="insertText"&&we&&de.isCollapsed(we)&&Z.data&&Z.data.length===1&&/[a-z ]/i.test(Z.data)&&we.anchor.offset!==0&&(_t=!0,u.marks&&(_t=!1),!Yh.get(u))){var Gt,X,{anchor:oe}=we,[le,Ae]=ge.toDOMPoint(u,oe),_e=(Gt=le.parentElement)===null||Gt===void 0?void 0:Gt.closest("a"),ce=ge.getWindow(u);if(_t&&_e&&ge.hasDOMNode(u,_e)){var be,Ye=ce==null?void 0:ce.document.createTreeWalker(_e,NodeFilter.SHOW_TEXT).lastChild();Ye===le&&((be=Ye.textContent)===null||be===void 0?void 0:be.length)===Ae&&(_t=!1)}if(_t&&le.parentElement&&(ce==null||(X=ce.getComputedStyle(le.parentElement))===null||X===void 0?void 0:X.whiteSpace)==="pre"){var Xe=F.above(u,{at:oe.path,match:ae=>it.isElement(ae)&&F.isBlock(u,ae)});Xe&&Me.string(Xe[0]).includes("	")&&(_t=!1)}}if((!Ee.startsWith("delete")||Ee.startsWith("deleteBy"))&&!Yh.get(u)){var[Pe]=Z.getTargetRanges();if(Pe){var L=ge.toSlateRange(u,Pe,{exactMatch:!1,suppressThrow:!1});if(!we||!de.equals(we,L)){_t=!1;var B=!xt&&u.selection&&F.rangeRef(u,u.selection);Se.select(u,L),B&&Yg.set(u,B)}}}if(xt)return;if(_t||Z.preventDefault(),we&&de.isExpanded(we)&&Ee.startsWith("delete")){var U=Ee.endsWith("Backward")?"backward":"forward";F.deleteFragment(u,{direction:U});return}switch(Ee){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(u);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(u);break}case"deleteContentBackward":{F.deleteBackward(u);break}case"deleteEntireSoftLine":{F.deleteBackward(u,{unit:"line"}),F.deleteForward(u,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(u,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(u,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(u,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(u,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(u,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(u,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(u);break;case"insertParagraph":{F.insertBreak(u);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Ee==="insertFromComposition"&&ge.isComposing(u)&&(p(!1),hd.set(u,!1)),(tt==null?void 0:tt.constructor.name)==="DataTransfer"?ge.insertData(u,tt):typeof tt=="string"&&(_t?w.current.push(()=>F.insertText(u,tt)):F.insertText(u,tt));break}}var J=(xe=Yg.get(u))===null||xe===void 0?void 0:xe.unref();Yg.delete(u),J&&(!u.selection||!de.equals(u.selection,J))&&Se.select(u,J)}},[u,O,P,a,l,I]),G=C.useCallback(Z=>{Z==null?(O.cancel(),I.cancel(),pb.delete(u),Od.delete(u),v.current&&iu&&v.current.removeEventListener("beforeinput",M)):iu&&Z.addEventListener("beforeinput",M),v.current=Z,typeof e=="function"?e(Z):e&&(e.current=Z)},[O,I,u,M,e]);xy(()=>{var Z=ge.getWindow(u);Z.document.addEventListener("selectionchange",I);var z=()=>{R.isDraggingInternally=!1};return Z.document.addEventListener("dragend",z),Z.document.addEventListener("drop",z),()=>{Z.document.removeEventListener("selectionchange",I),Z.document.removeEventListener("dragend",z),Z.document.removeEventListener("drop",z)}},[I,R]);var j=s([u,[]]),$=o&&u.children.length===1&&Array.from(Me.texts(u)).length===1&&Me.string(u)===""&&!h,H=C.useCallback(Z=>{if(Z&&$){var z;S((z=Z.getBoundingClientRect())===null||z===void 0?void 0:z.height)}else S(void 0)},[$]);if($){var K=F.start(u,[]);j.push({[Dp]:!0,placeholder:o,onPlaceholderResize:H,anchor:K,focus:K})}var{marks:re}=u;if(R.hasMarkPlaceholder=!1,u.selection&&de.isCollapsed(u.selection)&&re){var{anchor:fe}=u.selection,ye=Me.leaf(u,fe.path),he=Pp(ye,I9e);if(!Qe.equals(ye,re,{loose:!0})){R.hasMarkPlaceholder=!0;var ue=Object.fromEntries(Object.keys(he).map(Z=>[Z,null]));j.push(lo(lo(lo({[lte]:!0},ue),re),{},{anchor:fe,focus:fe}))}}return C.useEffect(()=>{setTimeout(()=>{var{selection:Z}=u;if(Z){var{anchor:z}=Z,V=Me.leaf(u,z.path);if(re&&!Qe.equals(V,re,{loose:!0})){Ua.set(u,re);return}}Ua.delete(u)})}),q.createElement(wte.Provider,{value:l},q.createElement(R9e.Provider,{value:h},q.createElement(yte.Provider,{value:s},q.createElement(D9e,{node:v,receivedUserInput:T},q.createElement(y,lo(lo({role:l?void 0:"textbox","aria-multiline":l?void 0:!0},b),{},{spellCheck:iu||!hb?b.spellCheck:!1,autoCorrect:iu||!hb?b.autoCorrect:"false",autoCapitalize:iu||!hb?b.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l,zindex:-1,suppressContentEditableWarning:!0,ref:G,style:lo(lo({},_?{}:lo({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},x?{minHeight:x}:{})),g),onBeforeInput:C.useCallback(Z=>{if(!iu&&!l&&!Ai(Z,b.onBeforeInput)&&ge.hasSelectableTarget(u,Z.target)&&(Z.preventDefault(),!ge.isComposing(u))){var z=Z.data;F.insertText(u,z)}},[b.onBeforeInput,u,l]),onInput:C.useCallback(Z=>{if(!Ai(Z,b.onInput)){if(D.current){D.current.handleInput();return}for(var z of w.current)z();if(w.current=[],!ge.isFocused(u)){var V=Z.nativeEvent,Y=u;if(V.inputType==="historyUndo"&&typeof Y.undo=="function"){Y.undo();return}if(V.inputType==="historyRedo"&&typeof Y.redo=="function"){Y.redo();return}}}},[b.onInput,u]),onBlur:C.useCallback(Z=>{if(!(l||R.isUpdatingSelection||!ge.hasSelectableTarget(u,Z.target)||Ai(Z,b.onBlur))){var z=ge.findDocumentOrShadowRoot(u);if(R.latestElement!==z.activeElement){var{relatedTarget:V}=Z,Y=ge.toDOMNode(u,u);if(V!==Y&&!(ta(V)&&V.hasAttribute("data-slate-spacer"))){if(V!=null&&hc(V)&&ge.hasDOMNode(u,V)){var ne=ge.toSlateNode(u,V);if(it.isElement(ne)&&!u.isVoid(ne))return}if(Jc){var ie=qg(z);ie==null||ie.removeAllRanges()}Bu.delete(u)}}}},[l,R.isUpdatingSelection,R.latestElement,u,b.onBlur]),onClick:C.useCallback(Z=>{if(ge.hasTarget(u,Z.target)&&!Ai(Z,b.onClick)&&hc(Z.target)){var z=ge.toSlateNode(u,Z.target),V=ge.findPath(u,z);if(!F.hasPath(u,V)||Me.get(u,V)!==z)return;if(Z.detail===E9e&&V.length>=1){var Y=V;if(!(it.isElement(z)&&F.isBlock(u,z))){var ne,ie=F.above(u,{match:_t=>it.isElement(_t)&&F.isBlock(u,_t),at:V});Y=(ne=ie==null?void 0:ie[1])!==null&&ne!==void 0?ne:V.slice(0,1)}var me=F.range(u,Y);Se.select(u,me);return}if(l)return;var xe=F.start(u,V),we=F.end(u,V),Ee=F.void(u,{at:xe}),tt=F.void(u,{at:we});if(Ee&&tt&&te.equals(Ee[1],tt[1])){var xt=F.range(u,xe);Se.select(u,xt)}}},[u,b.onClick,l]),onCompositionEnd:C.useCallback(Z=>{if(ge.hasSelectableTarget(u,Z.target)){var z;if(ge.isComposing(u)&&Promise.resolve().then(()=>{p(!1),hd.set(u,!1)}),(z=D.current)===null||z===void 0||z.handleCompositionEnd(Z),Ai(Z,b.onCompositionEnd)||Oi)return;if(!Jc&&!A7e&&!ite&&!P7e&&!T7e&&Z.data){var V=Ua.get(u);Ua.delete(u),V!==void 0&&(ml.set(u,u.marks),u.marks=V),F.insertText(u,Z.data);var Y=ml.get(u);ml.delete(u),Y!==void 0&&(u.marks=Y)}}},[b.onCompositionEnd,u]),onCompositionUpdate:C.useCallback(Z=>{ge.hasSelectableTarget(u,Z.target)&&!Ai(Z,b.onCompositionUpdate)&&(ge.isComposing(u)||(p(!0),hd.set(u,!0)))},[b.onCompositionUpdate,u]),onCompositionStart:C.useCallback(Z=>{if(ge.hasSelectableTarget(u,Z.target)){var z;if((z=D.current)===null||z===void 0||z.handleCompositionStart(Z),Ai(Z,b.onCompositionStart)||Oi)return;p(!0);var{selection:V}=u;if(V&&de.isExpanded(V)){F.deleteFragment(u);return}}},[b.onCompositionStart,u]),onCopy:C.useCallback(Z=>{ge.hasSelectableTarget(u,Z.target)&&!Ai(Z,b.onCopy)&&!aj(Z)&&(Z.preventDefault(),ge.setFragmentData(u,Z.clipboardData,"copy"))},[b.onCopy,u]),onCut:C.useCallback(Z=>{if(!l&&ge.hasSelectableTarget(u,Z.target)&&!Ai(Z,b.onCut)&&!aj(Z)){Z.preventDefault(),ge.setFragmentData(u,Z.clipboardData,"cut");var{selection:z}=u;if(z)if(de.isExpanded(z))F.deleteFragment(u);else{var V=Me.parent(u,z.anchor.path);F.isVoid(u,V)&&Se.delete(u)}}},[l,u,b.onCut]),onDragOver:C.useCallback(Z=>{if(ge.hasTarget(u,Z.target)&&!Ai(Z,b.onDragOver)){var z=ge.toSlateNode(u,Z.target);it.isElement(z)&&F.isVoid(u,z)&&Z.preventDefault()}},[b.onDragOver,u]),onDragStart:C.useCallback(Z=>{if(!l&&ge.hasTarget(u,Z.target)&&!Ai(Z,b.onDragStart)){var z=ge.toSlateNode(u,Z.target),V=ge.findPath(u,z),Y=it.isElement(z)&&F.isVoid(u,z)||F.void(u,{at:V,voids:!0});if(Y){var ne=F.range(u,V);Se.select(u,ne)}R.isDraggingInternally=!0,ge.setFragmentData(u,Z.dataTransfer,"drag")}},[l,u,b.onDragStart,R]),onDrop:C.useCallback(Z=>{if(!l&&ge.hasTarget(u,Z.target)&&!Ai(Z,b.onDrop)){Z.preventDefault();var z=u.selection,V=ge.findEventRange(u,Z),Y=Z.dataTransfer;Se.select(u,V),R.isDraggingInternally&&z&&!de.equals(z,V)&&!F.void(u,{at:V,voids:!0})&&Se.delete(u,{at:z}),ge.insertData(u,Y),ge.isFocused(u)||ge.focus(u)}},[l,u,b.onDrop,R]),onDragEnd:C.useCallback(Z=>{!l&&R.isDraggingInternally&&b.onDragEnd&&ge.hasTarget(u,Z.target)&&b.onDragEnd(Z)},[l,R,b,u]),onFocus:C.useCallback(Z=>{if(!l&&!R.isUpdatingSelection&&ge.hasEditableTarget(u,Z.target)&&!Ai(Z,b.onFocus)){var z=ge.toDOMNode(u,u),V=ge.findDocumentOrShadowRoot(u);if(R.latestElement=V.activeElement,Eh&&Z.target!==z){z.focus();return}Bu.set(u,!0)}},[l,R,u,b.onFocus]),onKeyDown:C.useCallback(Z=>{if(!l&&ge.hasEditableTarget(u,Z.target)){var z;(z=D.current)===null||z===void 0||z.handleKeyDown(Z);var{nativeEvent:V}=Z;if(ge.isComposing(u)&&V.isComposing===!1&&(hd.set(u,!1),p(!1)),Ai(Z,b.onKeyDown)||ge.isComposing(u))return;var{selection:Y}=u,ne=u.children[Y!==null?Y.focus.path[0]:0],ie=Yee(Me.string(ne))==="rtl";if(Xr.isRedo(V)){Z.preventDefault();var me=u;typeof me.redo=="function"&&me.redo();return}if(Xr.isUndo(V)){Z.preventDefault();var xe=u;typeof xe.undo=="function"&&xe.undo();return}if(Xr.isMoveLineBackward(V)){Z.preventDefault(),Se.move(u,{unit:"line",reverse:!0});return}if(Xr.isMoveLineForward(V)){Z.preventDefault(),Se.move(u,{unit:"line"});return}if(Xr.isExtendLineBackward(V)){Z.preventDefault(),Se.move(u,{unit:"line",edge:"focus",reverse:!0});return}if(Xr.isExtendLineForward(V)){Z.preventDefault(),Se.move(u,{unit:"line",edge:"focus"});return}if(Xr.isMoveBackward(V)){Z.preventDefault(),Y&&de.isCollapsed(Y)?Se.move(u,{reverse:!ie}):Se.collapse(u,{edge:ie?"end":"start"});return}if(Xr.isMoveForward(V)){Z.preventDefault(),Y&&de.isCollapsed(Y)?Se.move(u,{reverse:ie}):Se.collapse(u,{edge:ie?"start":"end"});return}if(Xr.isMoveWordBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)&&Se.collapse(u,{edge:"focus"}),Se.move(u,{unit:"word",reverse:!ie});return}if(Xr.isMoveWordForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)&&Se.collapse(u,{edge:"focus"}),Se.move(u,{unit:"word",reverse:ie});return}if(iu){if((ste||Jc)&&Y&&(Xr.isDeleteBackward(V)||Xr.isDeleteForward(V))&&de.isCollapsed(Y)){var we=Me.parent(u,Y.anchor.path);if(it.isElement(we)&&F.isVoid(u,we)&&(F.isInline(u,we)||F.isBlock(u,we))){Z.preventDefault(),F.deleteBackward(u,{unit:"block"});return}}}else{if(Xr.isBold(V)||Xr.isItalic(V)||Xr.isTransposeCharacter(V)){Z.preventDefault();return}if(Xr.isSoftBreak(V)){Z.preventDefault(),F.insertSoftBreak(u);return}if(Xr.isSplitBlock(V)){Z.preventDefault(),F.insertBreak(u);return}if(Xr.isDeleteBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"backward"}):F.deleteBackward(u);return}if(Xr.isDeleteForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"forward"}):F.deleteForward(u);return}if(Xr.isDeleteLineBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"backward"}):F.deleteBackward(u,{unit:"line"});return}if(Xr.isDeleteLineForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"forward"}):F.deleteForward(u,{unit:"line"});return}if(Xr.isDeleteWordBackward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"backward"}):F.deleteBackward(u,{unit:"word"});return}if(Xr.isDeleteWordForward(V)){Z.preventDefault(),Y&&de.isExpanded(Y)?F.deleteFragment(u,{direction:"forward"}):F.deleteForward(u,{unit:"word"});return}}}},[l,u,b.onKeyDown]),onPaste:C.useCallback(Z=>{!l&&ge.hasEditableTarget(u,Z.target)&&!Ai(Z,b.onPaste)&&(!iu||O7e(Z.nativeEvent)||Jc)&&(Z.preventDefault(),ge.insertData(u,Z.clipboardData))},[l,u,b.onPaste])}),q.createElement(B9e,{decorations:j,node:u,renderElement:c,renderPlaceholder:f,renderLeaf:d,selection:u.selection}))))))}),M9e=t=>{var{attributes:e,children:r}=t;return q.createElement("span",lo({},e),r,Oi&&q.createElement("br",null))},k9e=()=>[],N9e=(t,e)=>{if(e.getBoundingClientRect&&(!t.selection||t.selection&&de.isCollapsed(t.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),Jze(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Ai=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.isDefaultPrevented()||t.isPropagationStopped()},aj=t=>hc(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement),L9e=(t,e)=>{if(!e)return!1;var r=e(t);return r!=null?r:t.defaultPrevented},Cte=C.createContext(!1),U9e=()=>C.useContext(Cte),$9e=C.createContext({});function j9e(t){var e=C.useRef([]).current,r=C.useRef({editor:t}).current,n=C.useCallback(a=>{r.editor=a,e.forEach(o=>o(a))},[e,r]),s=C.useMemo(()=>({getSlate:()=>r.editor,addEventListener:a=>(e.push(a),()=>{e.splice(e.indexOf(a),1)})}),[e,r]);return{selectorContext:s,onChange:n}}var z9e=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],V9e=t=>{var{editor:e,children:r,onChange:n,onSelectionChange:s,onValueChange:a,initialValue:o}=t,l=Pp(t,z9e),[c,d]=q.useState(()=>{if(!Me.isNodeList(o))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Wn.stringify(o)));if(!F.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Wn.stringify(e)));return e.children=o,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:f,onChange:m}=j9e(e),g=C.useCallback(b=>{var u;switch(n&&n(e.children),b==null||(u=b.operation)===null||u===void 0?void 0:u.type){case"set_selection":s==null||s(e.selection);break;default:a==null||a(e.children)}d(h=>({v:h.v+1,editor:e})),m(e)},[e,m,n,s,a]);C.useEffect(()=>(HR.set(e,g),()=>{HR.set(e,()=>{})}),[e,g]);var[y,_]=C.useState(ge.isFocused(e));return C.useEffect(()=>{_(ge.isFocused(e))},[e]),xy(()=>{var b=()=>_(ge.isFocused(e));return nte>=17?(document.addEventListener("focusin",b),document.addEventListener("focusout",b),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",b)}):(document.addEventListener("focus",b,!0),document.addEventListener("blur",b,!0),()=>{document.removeEventListener("focus",b,!0),document.removeEventListener("blur",b,!0)})},[]),q.createElement($9e.Provider,{value:f},q.createElement(xte.Provider,{value:c},q.createElement(YM.Provider,{value:c.editor},q.createElement(Cte.Provider,{value:y},r))))},oj=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},lj=(t,e,r)=>{var n=ge.toDOMRange(t,e).getBoundingClientRect(),s=ge.toDOMRange(t,r).getBoundingClientRect();return oj(n,s)&&oj(s,n)},G9e=(t,e)=>{var r=F.range(t,de.end(e)),n=Array.from(F.positions(t,{at:e})),s=0,a=n.length,o=Math.floor(a/2);if(lj(t,F.range(t,n[s]),r))return F.range(t,n[s],r);if(n.length<2)return F.range(t,n[n.length-1],r);for(;o!==n.length&&o!==s;)lj(t,F.range(t,n[o]),r)?a=o:s=o,o=Math.floor((s+a)/2);return F.range(t,n[a],r)};function uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var H9e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:s,onChange:a,deleteBackward:o,addMark:l,removeMark:c}=n;return jS.set(n,new WeakMap),n.addMark=(d,f)=>{var m,g;(m=JM.get(n))===null||m===void 0||m(),!Ua.get(n)&&(g=Ki.get(n))!==null&&g!==void 0&&g.length&&Ua.set(n,null),ml.delete(n),l(d,f)},n.removeMark=d=>{var f;!Ua.get(n)&&(f=Ki.get(n))!==null&&f!==void 0&&f.length&&Ua.set(n,null),ml.delete(n),c(d)},n.deleteBackward=d=>{if(d!=="line")return o(d);if(n.selection&&de.isCollapsed(n.selection)){var f=F.above(n,{match:_=>it.isElement(_)&&F.isBlock(n,_),at:n.selection});if(f){var[,m]=f,g=F.range(n,m,n.selection.anchor),y=G9e(n,g);de.isCollapsed(y)||Se.delete(n,{at:y})}}},n.apply=d=>{var f=[],m=[],g=Ki.get(n);if(g!=null&&g.length){var y=g.map(I=>W7e(I,d)).filter(Boolean);Ki.set(n,y)}var _=gu.get(n);_&&gu.set(n,Z6(n,_,d));var b=mu.get(n);if(b!=null&&b.at){var u=zt.isPoint(b==null?void 0:b.at)?XR(n,b.at,d):Z6(n,b.at,d);mu.set(n,u?cj(cj({},b),{},{at:u}):null)}switch(d.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{f.push(...Vf(n,d.path));break}case"set_selection":{var h;(h=Yg.get(n))===null||h===void 0||h.unref(),Yg.delete(n);break}case"insert_node":case"remove_node":{f.push(...Vf(n,te.parent(d.path)));break}case"merge_node":{var p=te.previous(d.path);f.push(...Vf(n,p));break}case"move_node":{var v=te.common(te.parent(d.path),te.parent(d.newPath));f.push(...Vf(n,v));var w;te.isBefore(d.path,d.newPath)?(f.push(...Vf(n,te.parent(d.path))),w=d.newPath):(f.push(...Vf(n,te.parent(d.newPath))),w=d.path);var x=Me.get(e,te.parent(w)),S=ge.findKey(n,x),E=F.pathRef(n,te.parent(w));m.push([E,S]);break}}switch(s(d),d.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":Yh.set(n,!0)}for(var[P,T]of f){var[A]=F.node(n,P);Ox.set(A,T)}for(var[R,D]of m){if(R.current){var[O]=F.node(n,R.current);Ox.set(O,D)}R.unref()}},n.setFragmentData=d=>{var{selection:f}=n;if(f){var[m,g]=de.edges(f),y=F.void(n,{at:m.path}),_=F.void(n,{at:g.path});if(!(de.isCollapsed(f)&&!y)){var b=ge.toDOMRange(n,f),u=b.cloneContents(),h=u.childNodes[0];if(u.childNodes.forEach(A=>{A.textContent&&A.textContent.trim()!==""&&(h=A)}),_){var[p]=_,v=b.cloneRange(),w=ge.toDOMNode(n,p);v.setEndAfter(w),u=v.cloneContents()}if(y&&(h=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach(A=>{var R=A.getAttribute("data-slate-zero-width")==="n";A.textContent=R?"\n":""}),cte(h)){var x=h.ownerDocument.createElement("span");x.style.whiteSpace="pre",x.appendChild(h),u.appendChild(x),h=x}var S=n.getFragment(),E=JSON.stringify(S),P=window.btoa(encodeURIComponent(E));h.setAttribute("data-slate-fragment",P),d.setData("application/".concat(r),P);var T=u.ownerDocument.createElement("div");return T.appendChild(u),T.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(T),d.setData("text/html",T.innerHTML),d.setData("text/plain",fte(T)),u.ownerDocument.body.removeChild(T),d}}},n.insertData=d=>{n.insertFragmentData(d)||n.insertTextData(d)},n.insertFragmentData=d=>{var f=d.getData("application/".concat(r))||k7e(d);if(f){var m=decodeURIComponent(window.atob(f)),g=JSON.parse(m);return n.insertFragment(g),!0}return!1},n.insertTextData=d=>{var f=d.getData("text/plain");if(f){var m=f.split(/\r\n|\r|\n/),g=!1;for(var y of m)g&&Se.splitNodes(n,{always:!0}),n.insertText(y),g=!0;return!0}return!1},n.onChange=d=>{var f=nte<18?ZO.unstable_batchedUpdates:m=>m();f(()=>{var m=HR.get(n);m&&m(d),a(d)})},n},Vf=(t,e)=>{var r=[];for(var[n,s]of F.levels(t,{at:e})){var a=ge.findKey(t,n);r.push([s,a])}return r},W9e=(t,e)=>{e&&Rc(t,()=>{aFe(t),xM(t,e)}),ge.focus(t)},K9e=t=>ge.isComposing(t),X9e=t=>ge.isFocused(t),Y9e=(t,{edge:e="start"}={})=>{const r=e==="start"?NQ(t,[]):EM(t,[]);W9e(t,r)},q9e=LM,Z9e=lm,J9e=OS,dj=Ns,Q9e=MS;function eVe(t,e,r,n){if(!dj(t))return t;e=Z9e(e,t);for(var s=-1,a=e.length,o=a-1,l=t;l!=null&&++s<a;){var c=Q9e(e[s]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=o){var f=l[c];d=n?n(f,c,l):void 0,d===void 0&&(d=dj(f)?f:J9e(e[s+1])?[]:{})}q9e(l,c,d),l=l[c]}return t}var tVe=eVe,rVe=Tee,nVe=tVe,iVe=lm;function sVe(t,e,r){for(var n=-1,s=e.length,a={};++n<s;){var o=e[n],l=rVe(t,o);r(l,o)&&nVe(a,iVe(o,t),l)}return a}var aVe=sVe,oVe=aVe,lVe=k8e;function uVe(t,e){return oVe(t,e,function(r,n){return lVe(t,n)})}var cVe=uVe,fj=tm,dVe=PS,fVe=Ja,hj=fj?fj.isConcatSpreadable:void 0;function hVe(t){return fVe(t)||dVe(t)||!!(hj&&t&&t[hj])}var pVe=hVe,mVe=zM,gVe=pVe;function Ate(t,e,r,n,s){var a=-1,o=t.length;for(r||(r=gVe),s||(s=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?Ate(l,e-1,r,n,s):mVe(s,l):n||(s[s.length]=l)}return s}var vVe=Ate,yVe=vVe;function _Ve(t){var e=t==null?0:t.length;return e?yVe(t,1):[]}var bVe=_Ve,wVe=bVe,xVe=lee,EVe=uee;function SVe(t){return EVe(xVe(t,void 0,wVe),t+"")}var Tte=SVe,CVe=cVe,AVe=Tte,TVe=AVe(function(t,e){return t==null?{}:CVe(t,e)}),PVe=TVe;const DVe=ui(PVe);function RVe(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var OVe=RVe,IVe=Tee,BVe=OVe;function FVe(t,e){return e.length<2?t:IVe(t,BVe(e,0,-1))}var MVe=FVe,kVe=lm,NVe=L8e,LVe=MVe,UVe=MS;function $Ve(t,e){return e=kVe(e,t),t=LVe(t,e),t==null||delete t[UVe(NVe(e))]}var jVe=$Ve,zVe=ree;function VVe(t){return zVe(t)?void 0:t}var GVe=VVe,HVe=yee,WVe=zee,KVe=jVe,XVe=lm,YVe=am,qVe=GVe,ZVe=Tte,JVe=Lee,QVe=1,eGe=2,tGe=4,rGe=ZVe(function(t,e){var r={};if(t==null)return r;var n=!1;e=HVe(e,function(a){return a=XVe(a,t),n||(n=a.length>1),a}),YVe(t,JVe(t),r),n&&(r=WVe(r,QVe|eGe|tGe,qVe));for(var s=e.length;s--;)KVe(r,e[s]);return r}),nGe=rGe;const iGe=ui(nGe);var pj=Object.prototype.hasOwnProperty;function mj(t,e,r){for(r of t.keys())if(Zg(r,e))return r}function Zg(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&Zg(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=mj(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=mj(e,s),!s)||!Zg(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(pj.call(t,r)&&++n&&!pj.call(e,r)||!(r in e)||!Zg(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function sGe(t){const e=q.useRef(t),r=q.useRef(0);return Zg(t,e.current)||(e.current=t,r.current+=1),q.useMemo(()=>e.current,[r.current])}function gj(t,e){return q.useMemo(t,sGe(e))}globalThis&&globalThis.__rest;const Nl=t=>t,rk=t=>({_tag:"Left",value:t}),zS=t=>({_tag:"Right",value:t}),aGe=(t,e,r)=>r._tag==="Left"?t(r.value):e(r.value),Pte={dimap:(t,e,r)=>n=>e(r(t(n))),first:t=>([e,r])=>[t(e),r],right:t=>e=>e._tag==="Left"?e:zS(t(e.value)),wander:t=>e=>e.map(t)},oGe={empty:()=>{},foldMap:(t,e)=>{for(let r=0;r<e.length;r++){const n=t(e[r]);if(n!=null)return n}}},lGe={empty:()=>[],foldMap:(t,e)=>{let r=[];return e.forEach(n=>{r=r.concat(t(n))}),r}},nk=t=>({dimap:(e,r,n)=>s=>n(e(s)),first:e=>([r,n])=>e(r),right:e=>r=>r._tag==="Left"?t.empty():e(r.value),wander:e=>r=>t.foldMap(e,r)}),UT={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},cm=(t,e)=>{const r=e;return r._tag=t,r},Dte=t=>(t._removable=!0,t);function or(t,e,r){switch(arguments.length){case 2:{const n=(s,a)=>t(s,e(s,a));return n._tag=UT[t._tag][e._tag],n._removable=e._removable||!1,n}default:{const n=UT[t._tag][e._tag],s=(a,o)=>t(a,e(a,r(a,o)));return s._tag=UT[n][r._tag],s._removable=r._removable||!1,s}}}const uGe=cm("Equivalence",(t,e)=>e),VS=(t,e)=>cm("Iso",(r,n)=>r.dimap(t,e,n)),Ls=(t,e)=>cm("Lens",(r,n)=>r.dimap(s=>[t(s),s],e,r.first(n))),ik=(t,e)=>cm("Prism",(r,n)=>r.dimap(t,s=>aGe(Nl,e,s),r.right(n))),sk=cm("Traversal",(t,e)=>t.dimap(Nl,Nl,t.wander(e))),cGe=t=>cm("Getter",(e,r)=>e.dimap(t,Nl,r)),Rte=(t,e,r)=>t(Pte,e)(r),dGe=(t,e,r)=>t(Pte,()=>e)(r),fGe=(t,e)=>t(nk({}),Nl)(e),hGe=(t,e)=>t(nk(oGe),Nl)(e),Ote=(t,e)=>t(nk(lGe),r=>[r])(e),pGe=VS(t=>t.map((e,r)=>[r,e]),t=>{const e=[...t].sort((n,s)=>n[0]-s[0]),r=[];for(let n=0;n<e.length;++n)(n===e.length-1||e[n][0]!==e[n+1][0])&&r.push(e[n][1]);return r}),vj=t=>Ls(e=>e[t],([e,r])=>Object.assign(Object.assign({},r),{[t]:e})),mGe=t=>Ls(e=>{const r={};for(const n of t)r[n]=e[n];return r},([e,r])=>{const n=Object.assign({},r);for(const s of t)delete n[s];return Object.assign(n,e)}),Ite=t=>Ls(e=>e[t],([e,r])=>{const n=r.slice();return n[t]=e,n}),ak=Ite(0),ok=t=>ik(e=>t(e)?zS(e):rk(e),Nl),Ey=Symbol("__no_match__"),Bte=ok(t=>t!==Ey),Fte=Symbol("__remove_me__"),$T=t=>Dte(or(Ls(e=>0<=t&&t<e.length?e[t]:Ey,([e,r])=>{if(e===Ey)return r;if(e===Fte)return typeof r=="string"?r.substring(0,t)+r.substring(t+1):[...r.slice(0,t),...r.slice(t+1)];if(typeof r=="string")return t===0?e+r.substring(1):t===r.length?r.substring(0,t-1)+e:r.substring(0,t)+e+r.substring(t+1);{const n=r.slice();return n[t]=e,n}}),Bte)),gGe=ik(t=>t===void 0?rk(void 0):zS(t),Nl),vGe=t=>ik(e=>t(e)?zS(e):rk(e),Nl),yGe=t=>Dte(or(Ls(e=>{const r=e.findIndex(t);return r===-1?[Ey,-1]:[e[r],r]},([[e,r],n])=>{if(e===Ey)return n;if(e===Fte)return[...n.slice(0,r),...n.slice(r+1)];const s=n.slice();return s[r]=e,s}),ak,Bte)),_Ge=t=>or(Ls(e=>{const r=e.map((n,s)=>t(n)?s:null).filter(n=>n!=null);return[r.map(n=>e[n]),r]},([[e,r],n])=>{const s=n.length,a=e.length;let o=0,l=0,c=0;const d=[];for(;o<s;)r[l]===o?(++l,c<a&&(d.push(e[c]),++c)):d.push(n[o]),++o;for(;c<a;)d.push(e[c++]);return d}),ak),bGe=t=>Ls(e=>e===void 0?t:e,([e,r])=>e),wGe=t=>or(Ls(e=>{const r=Ote(t,e);return[r,r.length]},([[e,r],n])=>{if(e.length!==r)throw new Error("cannot add/remove elements through partsOf");let s=0;return Rte(t,()=>e[s++],n)}),ak),xGe=t=>Ls(e=>t(e),([e,r])=>e),EGe=t=>Ls(e=>e,([e,r])=>t(e)),SGe=Ls(t=>{},([t,e])=>t===void 0?e:[t,...e]),CGe=Ls(t=>{},([t,e])=>t===void 0?e:[...e,t]),AGe=or(VS(t=>t.split(""),t=>t.join("")),sk),TGe=or(VS(t=>t.split(/\b/),t=>t.join("")),sk,ok(t=>!/\s+/.test(t)));class vr{constructor(e){this._ref=e}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(e){return new vr(or(this._ref,e._ref))}iso(e,r){return new vr(or(this._ref,VS(e,r)))}lens(e,r){return new vr(or(this._ref,Ls(e,([n,s])=>r(s,n))))}indexed(){return new vr(or(this._ref,pGe))}prop(e){return new vr(or(this._ref,vj(e)))}path(...e){return e.length===1&&(e=e[0].split(".")),new vr(e.reduce((r,n)=>or(r,vj(n)),this._ref))}pick(e){return new vr(or(this._ref,mGe(e)))}nth(e){return new vr(or(this._ref,Ite(e)))}filter(e){return new vr(or(this._ref,_Ge(e)))}valueOr(e){return new vr(or(this._ref,bGe(e)))}partsOf(e){const r=typeof e=="function"?e(Mte):e;return new vr(or(this._ref,wGe(r._ref)))}reread(e){return new vr(or(this._ref,xGe(e)))}rewrite(e){return new vr(or(this._ref,EGe(e)))}optional(){return new vr(or(this._ref,gGe))}guard_(){return e=>this.guard(e)}guard(e){return new vr(or(this._ref,vGe(e)))}at(e){return new vr(or(this._ref,$T(e)))}head(){return new vr(or(this._ref,$T(0)))}index(e){return new vr(or(this._ref,$T(e)))}find(e){return new vr(or(this._ref,yGe(e)))}elems(){return new vr(or(this._ref,sk))}to(e){return new vr(or(this._ref,cGe(e)))}when(e){return new vr(or(this._ref,ok(e)))}chars(){return new vr(or(this._ref,AGe))}words(){return new vr(or(this._ref,TGe))}prependTo(){return new vr(or(this._ref,SGe))}appendTo(){return new vr(or(this._ref,CGe))}}const Mte=new vr(uGe);function PGe(){return Mte}function DGe(t){return e=>fGe(t._ref,e)}function RGe(t){return e=>hGe(t._ref,e)}function OGe(t){return e=>Ote(t._ref,e)}function IGe(t){return e=>r=>Rte(t._ref,e,r)}function BGe(t){return e=>r=>dGe(t._ref,e,r)}const yj=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),FGe=new WeakMap,MGe=(t,e,r)=>{const n=yj(()=>new WeakMap,FGe,e);return yj(t,n,r)},kGe=t=>typeof t=="function";function NGe(t,e){return MGe(()=>{const r=e(PGe());return Ro(s=>{const a=s(t);return a instanceof Promise?a.then(o=>_j(r,o)):_j(r,a)},(s,a,o)=>{const l=kGe(o)?IGe(r)(o):BGe(r)(o),c=s(t);return a(t,c instanceof Promise?c.then(l):l(c))})},t,e)}const _j=(t,e)=>t._tag==="Traversal"?OGe(t)(e):t._tag==="Prism"?RGe(t)(e):DGe(t)(e);var LGe=Object.defineProperty,UGe=Object.defineProperties,$Ge=Object.getOwnPropertyDescriptors,Ix=Object.getOwnPropertySymbols,kte=Object.prototype.hasOwnProperty,Nte=Object.prototype.propertyIsEnumerable,bj=(t,e,r)=>e in t?LGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Le=(t,e)=>{for(var r in e||(e={}))kte.call(e,r)&&bj(t,r,e[r]);if(Ix)for(var r of Ix(e))Nte.call(e,r)&&bj(t,r,e[r]);return t},Zt=(t,e)=>UGe(t,$Ge(e)),Qa=(t,e)=>{var r={};for(var n in t)kte.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ix)for(var n of Ix(t))e.indexOf(n)<0&&Nte.call(t,n)&&(r[n]=t[n]);return r};function Lte(t){var e=t,{attributes:r,children:n,editor:s,leaf:a,nodeProps:o,text:l}=e,c=Qa(e,["attributes","children","editor","leaf","nodeProps","text"]);return q.createElement("span",Le(Le({},r),c),n)}var jGe=["readOnly","onChange","decorate","renderElement","renderLeaf"],{PlateControllerProvider:XQe,plateControllerStore:mb,usePlateControllerStore:lk}=gM({activeId:Ro(null),editorStores:Ro({}),primaryEditorIds:Ro([])},{name:"plateController"}),zGe=()=>lk().get,jT=()=>lk().set,VGe=()=>!!lk().store({warnIfNoStore:!1}),GGe=t=>{const e=q.useMemo(()=>Ro(r=>{const n=r(mb.atom.editorStores),s=o=>{var l;return o&&(l=n[o])!=null?l:null};if(t)return s(t);const a=[r(mb.atom.activeId),...r(mb.atom.primaryEditorIds)];for(const o of a){const l=s(o);if(l)return l}return null}),[t]);return zGe().atom(e)},HGe=(t={})=>{var e=t,{id:r,decorate:n=null,editor:s,isMounted:a=!1,primary:o=!0,readOnly:l=null,renderElement:c=null,renderLeaf:d=null,versionDecorate:f=1,versionEditor:m=1,versionSelection:g=1,versionValue:y=1,onChange:_=null,onSelectionChange:b=null,onValueChange:u=null}=e,h=Qa(e,["id","decorate","editor","isMounted","primary","readOnly","renderElement","renderLeaf","versionDecorate","versionEditor","versionSelection","versionValue","onChange","onSelectionChange","onValueChange"]);return gM(Le({decorate:n,editor:s,isMounted:a,primary:o,readOnly:l,renderElement:c,renderLeaf:d,versionDecorate:f,versionEditor:m,versionSelection:g,versionValue:y,onChange:_,onSelectionChange:b,onValueChange:u},h),{extend:p=>({trackedEditor:Ro(v=>({editor:v(p.editor),version:v(p.versionEditor)})),trackedSelection:Ro(v=>({selection:v(p.editor).selection,version:v(p.versionSelection)})),trackedValue:Ro(v=>({value:v(p.editor).children,version:v(p.versionValue)}))}),name:"plate"})},{PlateProvider:WGe,plateStore:YQe,usePlateStore:S_}=HGe(),Ute=(t,{debugHookName:e="usePlateEditorStore"}={})=>{var r;const n=(r=S_(t).store({warnIfNoStore:!1}))!=null?r:null,[s]=q.useState(!!n),a=s?n:GGe(t),o=VGe(),l=q.useMemo(()=>RR(),[]);if(!a){if(o)return l;throw new Error("".concat(e," must be used inside a Plate or PlateController"))}return a},Xu=(t,e)=>{const r=Ute(t,Le({debugHookName:"usePlateSelectors"},e));return S_({store:r}).get},$te=(t,e)=>{const r=Ute(t,Le({debugHookName:"usePlateActions"},e));return S_({store:r}).set},qR=(t,e,r={})=>{const n=q.useRef(1),s=$te(e,Le({debugHookName:"useIncrementVersion"},r))[t]();return q.useCallback(()=>{const a=n.current+1;s(a),n.current=a},[s])},KGe=(t,e={})=>{const r=qR("versionDecorate",t,Le({debugHookName:"useRedecorate"},e));return q.useCallback(()=>{r()},[r])},XGe=()=>Xu(void 0,{debugHookName:"useEditorId"}).editor().id;function wl(t,...e){return hee({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return Le(Le({},r),n)})}function Gf(t){return typeof t=="function"}function $r(t={}){var e;let r,n;Gf(t)?(r={key:""},n=o=>t(o)):r=t;const s=(e=r.key)!=null?e:"",a=wl({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return a.configure=o=>{const l=Le({},a);return l.__configuration=c=>Gf(o)?o(c):o,$r(l)},a.configurePlugin=(o,l)=>{const c=Le({},a),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===o.key)return g=!0,$r(Zt(Le({},_),{__configuration:b=>Gf(l)?l(b):l}));if(_.plugins&&_.plugins.length>0){const b=d(_.plugins);if(b.found)return g=!0,Zt(Le({},_),{plugins:b.plugins})}return _});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,$r(c)},a.extendEditorApi=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1}],$r(l)},a.extendOptions=o=>{const l=Le({},a);return l.__optionExtensions=[...l.__optionExtensions,o],$r(l)},a.extendApi=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0}],$r(l)},a.extendEditorTransforms=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1,isTransform:!0}],$r(l)},a.extendTransforms=o=>{const l=Le({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0,isTransform:!0}],$r(l)},a.extend=o=>{let l=Le({},a);return Gf(o)?l.__extensions=[...l.__extensions,o]:l=wl(l,o),$r(l)},a.clone=()=>wl(a),a.extendPlugin=(o,l)=>{const c=Le({},a),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===o.key)return g=!0,$r(Zt(Le({},_),{__extensions:[..._.__extensions,b=>Gf(l)?l(b):l]}));if(_.plugins&&_.plugins.length>0){const b=d(_.plugins);if(b.found)return g=!0,Zt(Le({},_),{plugins:b.plugins})}return _});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,f.found||c.plugins.push($r({key:o.key,__extensions:[m=>Gf(l)?l(m):l]})),$r(c)},a}function uk(t={}){return $r(t)}var jte=({apply:t,node:e,path:r=[],query:n,source:s})=>{w_([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),$Q(e)&&e.children.forEach((o,l)=>{jte({apply:t,node:o,path:r.concat([l]),query:n,source:s})})},zte=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const a=(s=n.inject.plugins)==null?void 0:s[e.key];a&&r.push(a)}),[e,...r]},YGe=(t,e)=>{var r;const n=Object.values(t.plugins).find(s=>s.node.type===e);return(r=n==null?void 0:n.key)!=null?r:e},qGe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},ZGe={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},JGe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Pr=t=>{const e=qGe[t],r=ZGe[t],n=JGe[t],s=e&&Kh(e),a=r&&Kh(r),o=n&&Kh(n);return l=>!!(s!=null&&s(l)||px&&(a!=null&&a(l))||!px&&(o!=null&&o(l)))},QGe={isBold:Pr("bold"),isCompose:Pr("compose"),isDeleteBackward:Pr("deleteBackward"),isDeleteForward:Pr("deleteForward"),isDeleteLineBackward:Pr("deleteLineBackward"),isDeleteLineForward:Pr("deleteLineForward"),isDeleteWordBackward:Pr("deleteWordBackward"),isDeleteWordForward:Pr("deleteWordForward"),isExtendBackward:Pr("extendBackward"),isExtendForward:Pr("extendForward"),isExtendLineBackward:Pr("extendLineBackward"),isExtendLineForward:Pr("extendLineForward"),isItalic:Pr("italic"),isMoveBackward:Pr("moveBackward"),isMoveForward:Pr("moveForward"),isMoveLineBackward:Pr("moveLineBackward"),isMoveLineForward:Pr("moveLineForward"),isMoveWordBackward:Pr("moveWordBackward"),isMoveWordForward:Pr("moveWordForward"),isRedo:Pr("redo"),isSoftBreak:Pr("insertSoftBreak"),isSplitBlock:Pr("splitBlock"),isTransposeCharacter:Pr("transposeCharacter"),isUndo:Pr("undo")},eHe=t=>{jte(Zt(Le({},t),{apply:Ta}))};function Yn(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}var tHe=$r({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}}),rHe=$r({key:"dom"}),nHe=({editor:t})=>IQ(t),iHe=$r({key:"history",extendEditor:nHe}),sHe=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],a=[],o=[];return t.pluginList.forEach(l=>{l.node.isInline&&a.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&o.push(l.node.type)}),t.isInline=l=>a.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>o.includes(l.type)?!0:n(l),t},aHe=$r({key:"inlineVoid",extendEditor:sHe}),oHe=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const a=s.parser;if(!a)return!1;const o=zte(t,s),{deserialize:l,format:c,mimeTypes:d}=a;if(!c)return!1;const f=Array.isArray(c)?c:[c],m=d||f.map(g=>g.includes("/")?g:"text/".concat(g));for(const g of m){let y=r.getData(g);if(!y||!GHe(t,o,{data:y,dataTransfer:r}))continue;y=KHe(t,o,{data:y,dataTransfer:r});let _=l==null?void 0:l(Zt(Le({},Yn(t,s)),{data:y,dataTransfer:r}));if(_!=null&&_.length&&(_=XHe(t,o,{data:y,dataTransfer:r,fragment:_}),_.length!==0))return HHe(t,o,{data:y,dataTransfer:r,fragment:_}),!0}return!1})||e(r)},t},lHe=$r({key:"parser",extendEditor:oHe}),uHe=class extends Error{constructor(e,r="DEFAULT"){super("[".concat(r,"] ").concat(e)),this.type=r,this.name="PlateError"}},cHe=uk({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,a,o)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new uHe(s,a);(c=(l=d.logger)[n])==null||c.call(l,s,a,o)}};return{debug:{error:(n,s,a)=>r("error",n,s,a),info:(n,s,a)=>r("info",n,s,a),log:(n,s,a)=>r("log",n,s,a),warn:(n,s,a)=>r("warn",n,s,a)}}}),dHe=(t,e)=>{NS(t,Le({at:[],nodes:t.api.create.value()},e))},fHe=t=>{dHe(t),t.history.undos=[],t.history.redos=[],t.operations=[]},hHe=(t,e,r)=>{var n;const{defaultType:s=t.getType(C_),type:a}=e,o=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!a||!o)return;const l=zQ(t,Zt(Le({},r),{match:{type:a}}));l&&a===s||t.setNodes({type:l?s:a},{at:o})},C_=$r({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),pHe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const a=()=>{Oee(t)&&Iee(t)};return t.deleteBackward=o=>{r(o),a()},t.deleteForward=o=>{n(o),a()},t.deleteFragment=o=>{s(o),a()},t.apply=o=>{if(o.type==="set_selection"){const{properties:l}=o;t.prevSelection=l,e(o),t.currentKeyboardEvent=null;return}e(o)},t},Vte=uk({key:"slateNext",extendEditor:pHe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>Le({children:[{text:""}],type:t.getType(C_)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{fHe(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),NS(t,{at:[],nodes:r})},toggle:{block:Cp(hHe,t),mark:Cp(Bee,t)}})),GS=t=>t.nodeType===Node.ELEMENT_NODE,Gte=t=>t.nodeType===Node.TEXT_NODE,mHe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),ck=t=>{if(!GS(t))return!1;const e=t,r=mHe.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?ck(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},wj=t=>GS(t)?!ck(t):!1,gHe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),vHe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&wj(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||wj(e))return!0;if((e.textContent||"").length>0)return!1}},yHe=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},xj=t=>{t.inlineFormattingContext=null},_He=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&yHe(e);const{whiteSpaceRule:s}=e,a=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),o=(()=>s==="normal"?"collapse":vHe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=gHe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:o,trimStart:a,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},bHe=(t,e)=>{if(GS(t)){Wte(t,e);return}if(Gte(t)){_He(t,e);return}Hte(t,e)},Hte=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)bHe(n,e)},wHe=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},Wte=(t,e)=>{const r=ck(t),n=e.whiteSpaceRule,s=wHe(t);s&&(e.whiteSpaceRule=s),r||xj(e),Hte(t,e),r||xj(e),e.whiteSpaceRule=n},xHe=t=>{const e=t.cloneNode(!0);return Wte(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},dk=(t,e)=>Array.from(e.childNodes).flatMap(Xte(t)),EHe=(t,e)=>{if(e.nodeName==="BODY")return um("fragment",{},dk(t,e))},SHe=t=>{if(t.nodeName==="BR")return"\n"},Kte=(t,e,{deserializeLeaf:r,element:n})=>{var s,a;const{node:{isElement:o,isLeaf:l,type:c},parsers:d}=e,f=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!f)return;const{attributeNames:m,isElement:g,isLeaf:y,query:_,rules:b}=f;let{parse:u}=f;const h=g||o,p=y||l;if(!r&&!h||r&&!p||b&&!b.some(({validAttribute:S,validClassName:E,validNodeName:P="*",validStyle:T})=>{var A;if(P){const R=Ku(P);if(R.length>0&&!R.includes(n.nodeName)&&P!=="*")return!1}if(E&&!n.classList.contains(E))return!1;if(T)for(const[R,D]of Object.entries(T)){if(!Ku(D).includes(n.style[R])&&D!=="*"||D==="*"&&!n.style[R])return;const I=(A=e.inject.nodeProps)==null?void 0:A.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,D]of Object.entries(S)){const O=Ku(D),I=n.getAttribute(R);if(!vf(I)||!O.includes(I))return!1}return!0})||_&&!_(Zt(Le({},Yn(t,e)),{element:n})))return;if(!u)if(h)u=()=>({type:c});else if(p)u=()=>({[c]:!0});else return;let v=(a=u(Zt(Le({},Yn(t,e)),{element:n,node:{}})))!=null?a:{};if(Object.keys(v).length===0)return;if(zte(t,e).forEach(x=>{var S,E,P,T;const A=(T=(P=(E=(S=x.parsers)==null?void 0:S.html)==null?void 0:E.deserializer)==null?void 0:P.parse)==null?void 0:T.call(P,Zt(Le({},Yn(t,e)),{element:n,node:v}));A&&(v=Le(Le({},v),A))}),m){const x={},S=n.getAttributeNames();for(const E of S)m.includes(E)&&(x[E]=n.getAttribute(E));Object.keys(x).length>0&&(v.attributes=x)}return Zt(Le({},f),{node:v})},CHe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=Kte(t,n,{element:e}),!!r)),r},AHe=(t,e)=>{var r;const n=CHe(t,e);if(n){const{node:s,withoutChildren:a}=n;let o=(r=s.children)!=null?r:dk(t,e);return(o.length===0||a)&&(o=[{text:""}]),um("element",s,o)}},THe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=Kte(t,n,{deserializeLeaf:!0,element:e});s&&(r=Le(Le({},r),s.node))}),r},PHe=(t,e)=>{const r=THe(t,e);return dk(t,e).reduce((n,s)=>{if(!s)return n;if(Gl(s))Object.keys(r).length>0&&eHe({node:s,query:{filter:([a])=>fc(a)},source:r}),n.push(s);else{const a=Le({},r);fc(s)&&s.text&&Object.keys(a).forEach(o=>{a[o]&&s[o]&&(a[o]=s[o])}),n.push(um("text",a,s))}return n},[])},DHe=t=>{if(Gte(t))return t.textContent||""},Xte=t=>e=>{const r=DHe(e);if(r)return r;if(!GS(e))return null;const n=SHe(e);if(n)return n;const s=EHe(t,e);if(s)return s;const a=AHe(t,e);return a||PHe(t,e)},RHe=(t,e)=>Xte(t)(e),OHe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},IHe=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=OHe(r)),e&&(r=xHe(r));const n=RHe(t,r);return zHe(t,{descendants:n})},BHe=t=>new DOMParser().parseFromString(t,"text/html"),FHe=$r({key:"html"}).extendApi(({editor:t})=>({deserialize:Cp(IHe,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=BHe(e);return t.html.deserialize({element:r.body})},format:"text/html"}}),MHe=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Rc(t,()=>{r(n);const s=e();if(s.maxLength){const a=LQ(t,[]).length;if(a>s.maxLength){const o=a-s.maxLength;t.delete({distance:o,reverse:!0,unit:"character"})}}})},t},Ej=uk({key:"length",extendEditor:MHe}),kHe=({maxLength:t,plugins:e=[]})=>{let r=[cHe,Vte,rHe,iHe,aHe,lHe,t?Ej.configure({options:{maxLength:t}}):Ej,FHe,tHe,C_];const n=new Map(e.map(s=>[s.key,s]));return r=r.map(s=>{const a=n.get(s.key);if(a){const o=e.findIndex(l=>l.key===s.key);return o!==-1&&e.splice(o,1),a}return s}),r},NHe=t=>e=>fc(e)||Gl(e)&&t.isInline(e),LHe=t=>()=>({children:[],type:t}),UHe=(t,e)=>t.some((r,n,s)=>{const a=s[n-1];return n!==0?e(r)!==e(a):!1}),$He=(t,e,r)=>{const n=UHe(t,e),{fragment:s}=t.reduce((a,o)=>{if(n&&e(o)){let l=a.precedingBlock;l||(l=r(),a.precedingBlock=l,a.fragment.push(l)),l.children.push(o)}else a.fragment.push(o),a.precedingBlock=null;return a},{fragment:[],precedingBlock:null});return s},jHe=t=>t.length===0?[{text:""}]:t,Yte=(t,e,r)=>(t=jHe(t),t=$He(t,e,r),t=t.map(n=>Gl(n)?Zt(Le({},n),{children:Yte(n.children,e,r)}):n),t),zHe=(t,{descendants:e})=>{const r=NHe(t),n=t.getType(C_),s=LHe(n);return Yte(e,r,s)},VHe=(t,e,r)=>{var n,s,a,o;const{key:l,inject:{nodeProps:c,targetPlugins:d}}=e,{className:f,element:m,style:g,text:y}=r,_=m!=null?m:y;if(!_||!c)return;const{classNames:b,defaultNodeValue:u,nodeKey:h=l,query:p,styleKey:v=h,transformClassName:w,transformNodeValue:x,transformProps:S,transformStyle:E,validNodeValues:P}=c,T=p==null?void 0:p(Zt(Le(Le({},c),Yn(t,e)),{nodeProps:r}));if(!T&&d&&Gl(_)&&_.type&&!d.includes(YGe(t,_.type)))return;const A=_[h];if(!T&&(!vf(A)||P&&!P.includes(A)||A===u))return;const R=Zt(Le(Le({},r),Yn(t,e)),{nodeValue:A}),D=(n=x==null?void 0:x(R))!=null?n:A;R.value=D;let O={};return m&&(O.className=np(f,"slate-".concat(h,"-").concat(A))),(b!=null&&b[A]||w)&&(O.className=(s=w==null?void 0:w(R))!=null?s:np(f,b==null?void 0:b[D])),v&&(O.style=(a=E==null?void 0:E(R))!=null?a:Zt(Le({},g),{[v]:D})),S&&(O=(o=S(Zt(Le({},R),{props:O})))!=null?o:O),O},qte=(t,e)=>(t.pluginList.forEach(r=>{if(r.inject.nodeProps){const n=VHe(t,r,e);n&&(e=Le(Le({},e),n))}}),Zt(Le({},e),{editor:t})),GHe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var a;const o=(a=s.parser)==null?void 0:a.query;return!o||o(Zt(Le({},Yn(t,s)),{data:r,dataTransfer:n}))}),HHe=(t,e,r)=>{var n=r,{fragment:s}=n,a=Qa(n,["fragment"]);Rc(t,()=>{e.some(o=>{var l,c;return((c=(l=o.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,Le(Zt(Le({},Yn(t,o)),{fragment:s}),a)))===!0}),t.insertFragment(s)})},WHe=t=>{const e=t.children;let r=z5e(e);t.pluginList.forEach(n=>{var s;const a=(s=n.normalizeInitialValue)==null?void 0:s.call(n,Zt(Le({},Yn(t,n)),{value:r}));a&&(r=a)}),!W5e(e,r)&&r&&(t.children=r)},KHe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var a;const o=(a=s.parser)==null?void 0:a.transformData;o&&(r=o(Zt(Le({},Yn(t,s)),{data:r,dataTransfer:n})))}),r),XHe=(t,e,r)=>{var n=r,{fragment:s}=n,a=Qa(n,["fragment"]);return e.forEach(o=>{var l;const c=(l=o.parser)==null?void 0:l.transformFragment;c&&(s=c(Le(Le({fragment:s},a),Yn(t,o))))}),s},Zte=(t,e)=>{var r,n,s,a;let o=wl({},e);if(o.__resolved=!0,o.__configuration){const d=o.__configuration(Yn(t,o));o=wl(o,d),delete o.__configuration}o.__extensions&&o.__extensions.length>0&&(o.__extensions.forEach(d=>{o=wl(o,d(Yn(t,o)))}),o.__extensions=[]);const l=(r=o.inject)==null?void 0:r.targetPluginToInject,c=(n=o.inject)==null?void 0:n.targetPlugins;return l&&c&&c.length>0&&(o.inject=o.inject||{},o.inject.plugins=Ta({},o.inject.plugins,Object.fromEntries(c.map(d=>{const f=l(Zt(Le({},Yn(t,o)),{targetPlugin:d}));return[d,f]})))),(s=o.node)!=null&&s.component&&(o.render.node=o.node.component),(a=o.render)!=null&&a.node&&(o.node.component=o.render.node),YHe(t,o),o},YHe=(t,e)=>{e.__extensions||t.api.debug.error("Invalid plugin '".concat(e.key,"', you should use createSlatePlugin."),"USE_CREATE_PLUGIN"),e.node.isElement&&e.node.isLeaf&&t.api.debug.error("Plugin ".concat(e.key," cannot be both an element and a leaf."),"PLUGIN_NODE_TYPE")},qHe=(t,e=[])=>{t.pluginList=[],t.plugins={},t.api={},t.transforms={},t.tf=t.transforms,t.shortcuts={};const r=eWe(t,e);return tWe(t,r),rWe(t),ZHe(t),JHe(t),t.pluginList.forEach(n=>{n.extendEditor&&(t=n.extendEditor(Yn(t,n)))}),t},ZHe=t=>{t.pluginList.forEach(e=>{let r=Wee(e.key)(e.options,{immer:{enableMapSet:!0}});e.__optionExtensions&&e.__optionExtensions.length>0&&e.__optionExtensions.forEach(n=>{const s=n(Yn(t,e));r=r.extendSelectors(()=>s)}),e.optionsStore=r})},JHe=t=>{const e=[];t.pluginList.forEach(r=>{Object.entries(r.api).forEach(([n,s])=>{t.api[n]=s}),r.__apiExtensions&&r.__apiExtensions.length>0&&(r.__apiExtensions.forEach(({extension:n,isPluginSpecific:s,isTransform:a})=>{const o=n(Yn(t,r));a?s?(t.transforms[r.key]||(t.transforms[r.key]={}),r.transforms[r.key]||(r.transforms[r.key]={}),Ta(t.transforms[r.key],o),Ta(r.transforms[r.key],o)):(Ta(t.transforms,o),Ta(r.transforms,o)):s?(t.api[r.key]||(t.api[r.key]={}),r.api[r.key]||(r.api[r.key]={}),Ta(t.api[r.key],o),Ta(r.api[r.key],o)):(Ta(t.api,o),Ta(r.api,o))}),delete r.__apiExtensions),Object.entries(r.shortcuts).forEach(([n,s])=>{var a;if(s===null){const o=e.findIndex(l=>l.key===n);o!==-1&&e.splice(o,1)}else{const o=(a=s.priority)!=null?a:r.priority,l=e.findIndex(c=>c.key===n);(l===-1||o>=e[l].priority)&&(l!==-1&&e.splice(l,1),e.push({key:n,hotkey:s,priority:o}))}})}),e.sort((r,n)=>n.hotkey.priority-r.hotkey.priority),t.shortcuts=Object.fromEntries(e.map(({key:r,hotkey:n})=>{const s=n,a=Qa(s,["priority"]);return[r,a]}))},QHe=(t,e)=>{const r=new Map,n=s=>{const a=Zte(t,s),o=r.get(a.key);o?r.set(a.key,wl(o,a)):r.set(a.key,a),a.plugins&&a.plugins.length>0&&a.plugins.forEach(n)};return e.forEach(n),r},eWe=(t,e)=>{const r=QHe(t,e),n=Array.from(r.values()).filter(l=>l.enabled!==!1);n.sort((l,c)=>c.priority-l.priority);const s=[],a=new Set,o=l=>{var c;a.has(l.key)||(a.add(l.key),(c=l.dependencies)==null||c.forEach(d=>{const f=r.get(d);f?o(f):t.api.debug.warn('Plugin "'.concat(l.key,'" depends on missing plugin "').concat(d,'"'),"PLUGIN_DEPENDENCY_MISSING")}),s.push(l))};return n.forEach(o),s},tWe=(t,e)=>{t.pluginList=e,t.plugins=Object.fromEntries(e.map(r=>[r.key,r]))},rWe=t=>{const e=r=>{let n=[...r];const s={},a={},o={};for(const l of r)l.override.enabled&&Object.assign(s,l.override.enabled),l.override.components&&Object.entries(l.override.components).forEach(([c,d])=>{(!a[c]||l.priority>a[c].priority)&&(a[c]={component:d,priority:l.priority})}),l.override.plugins&&Object.entries(l.override.plugins).forEach(([c,d])=>{o[c]=wl(o[c],d),d.enabled!==void 0&&(s[c]=d.enabled)});return n=n.map(l=>{var c;let d=Le({},l);o[l.key]&&(d=wl(d,o[l.key])),a[l.key]&&(!l.render.node&&!l.node.component||a[l.key].priority>l.priority)&&(d.render.node=a[l.key].component,d.node.component=a[l.key].component);const f=(c=s[l.key])!=null?c:d.enabled;return vf(f)&&(d.enabled=f),d}),n.filter(l=>l.enabled!==!1).map(l=>Zt(Le({},l),{plugins:e(l.plugins||[])}))};t.pluginList=e(t.pluginList),t.plugins=Object.fromEntries(t.pluginList.map(r=>[r.key,r]))},nWe=t=>"slate-".concat(t);function iWe(t,e){let r=e;const n=t.plugins[e.key];return n||(r.node||(r=$r(r)),r.__resolved?r:Zte(t,r))}function sWe(t,e){var r,n;const s=t.getPlugin(e);return(n=(r=s.node.type)!=null?r:s.key)!=null?n:""}var aWe=(t,e={})=>{var r=e,{id:n,autoSelect:s,maxLength:a,plugins:o=[],rootPlugin:l,selection:c,shouldNormalizeEditor:d,value:f}=r,m=Qa(r,["id","autoSelect","maxLength","plugins","rootPlugin","selection","shouldNormalizeEditor","value"]),g,y;const _=t;_.id=n!=null?n:_.id,_.key=(g=_.key)!=null?g:Math.random(),_.isFallback=!1,_.getApi=()=>_.api,_.getTransforms=()=>_.transforms,_.getPlugin=h=>iWe(_,h),_.getType=h=>sWe(_,h),_.getInjectProps=h=>{var p,v;return(v=(p=_.getPlugin(h).inject)==null?void 0:p.nodeProps)!=null?v:{}},_.getOptionsStore=h=>_.getPlugin(h).optionsStore,_.getOptions=h=>_.getOptionsStore(h)?_.getOptionsStore(h).get.state():_.getPlugin(h).options,_.getOption=(h,p,...v)=>{const w=_.getOptionsStore(h);if(!w)return _.getPlugin(h).options[p];const x=w.get[p];if(x)return x(...v);_.api.debug.error("editor.getOption: ".concat(p," option is not defined in plugin ").concat(h.key,"."),"OPTION_UNDEFINED")},_.setOption=(h,p,v)=>{const w=_.getOptionsStore(h);if(!w)return;const x=w.set[p];x?x(v):_.api.debug.error("editor.setOption: ".concat(p," option is not defined in plugin ").concat(h.key,"."),"OPTION_UNDEFINED")},_.setOptions=(h,p)=>{const v=_.getOptionsStore(h);v&&(typeof p=="object"?v.set.mergeState(p):typeof p=="function"&&v.set.state(p))};const b=kHe({maxLength:a,plugins:o});let u=$r(Zt(Le({key:"root",priority:1e4},m),{plugins:[...b,...o]}));if(l&&(u=l(u)),qHe(_,[u]),typeof f=="string"?_.children=_.api.html.deserialize({element:f}):f&&(_.children=f),((y=_.children)==null?void 0:y.length)===0&&(_.children=_.api.create.value()),c)_.selection=c;else if(s){const p=(s==="start"?"start":"end")==="start"?NQ(_,[]):EM(_,[]);xM(_,p)}return f&&WHe(_),d&&tFe(_,{force:!0}),_},oWe=["configure","configurePlugin","extendEditorApi","extendApi","extendEditorTransforms","extend","extendPlugin"];function HS(t,e){const r=Le({},t);return oWe.forEach(s=>{const a=r[s];r[s]=(...o)=>{const l=a(...o);return HS(l)}}),r.withComponent=s=>r.extend({node:{component:s},render:{node:s}}),e?r.extend(e):r}var Jte=(t={})=>{const e=$r(t);return HS(e)};function lWe(t={}){return Jte(t)}function dm(t,e){return Zt(Le({},Yn(t,e)),{useOption:(r,...n)=>t.useOption(e,r,...n)})}var Qte=t=>Qa(t,["api","editor","getOption","getOptions","plugin","setOption","setOptions","tf","type","useOption"]),uWe=lWe({key:"plateApi",dependencies:["debug"]}).extendEditorApi(({editor:t})=>({redecorate:()=>{t.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}})),cWe=HS(Vte,{handlers:{onKeyDown:({editor:t,event:e})=>{e.persist(),t.currentKeyboardEvent=e}}}),fk=Wee("event-editor")({blur:null,focus:null,last:null}),zT=fk.set,dWe=fk.get;fk.use;var fWe="focus-editor-event",hWe="blur-editor-event",pWe=Jte({key:"eventEditor",handlers:{onBlur:({editor:t})=>{dWe.focus()===t.id&&zT.focus(null),zT.blur(t.id),document.dispatchEvent(new CustomEvent(hWe,{detail:{id:t.id}}))},onFocus:({editor:t})=>{zT.focus(t.id),document.dispatchEvent(new CustomEvent(fWe,{detail:{id:t.id}}))}}}),mWe=HS(C_,({editor:t,type:e})=>({shortcuts:{toggleParagraph:{keys:[[t1.Mod,t1.Alt,"0"],[t1.Mod,t1.Shift,"0"]],preventDefault:!0,handler:()=>{t.tf.toggle.block({type:e})}}}})),gWe=({editor:t})=>H9e(t),vWe=$r({key:"dom",extendEditor:gWe}).extendEditorTransforms(({editor:t})=>{const{reset:e}=t.tf;return{reset:()=>{const r=X9e(t);e(),r&&Y9e(t,{edge:"start"})}}}),yWe=()=>[cWe,vWe,pWe,uWe,mWe],_We=(t,e={})=>{var r=e,{plugins:n=[]}=r,s=Qa(r,["plugins"]);const a=aWe(t,Zt(Le({},s),{plugins:[...yWe(),...n]}));return a.useOptions=(o,l,c)=>{const d=a.getOptionsStore(o);return d||a.api.debug.error("editor.useOptions: ".concat(o.key," plugin is missing"),"PLUGIN_MISSING"),d.useStore(l,c)},a.useOption=(o,l,...c)=>{const d=a.getOptionsStore(o);d||a.api.debug.error("editor.useOption: ".concat(o.key," plugin is missing"),"PLUGIN_MISSING");const f=d==null?void 0:d.use[l];if(f)return f(...c);a.api.debug.error("editor.useOption: ".concat(l," option is not defined in plugin ").concat(o.key),"OPTION_UNDEFINED")},a},ere=(t={})=>{var e=t,{editor:r=XBe()}=e,n=Qa(e,["editor"]);return _We(r,n)},bWe=(t={})=>{const e=ere(t);return e.isFallback=!0,e.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},e},Sj=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tre=({attributes:t,editor:e,plugin:r,props:n})=>{var s,a;let o={};r.node.props&&(o=(s=typeof r.node.props=="function"?r.node.props(n):r.node.props)!=null?s:{}),!o.nodeProps&&t&&(o.nodeProps=DVe(t,(a=r.node.dangerouslyAllowAttributes)!=null?a:[])),n=Le(Le({},n),o),n.nodeProps&&Object.keys(n.nodeProps).forEach(c=>{var d,f;((d=n.nodeProps)==null?void 0:d[c])===void 0&&((f=n.nodeProps)==null||delete f[c])});const{className:l}=n;return Le(Zt(Le({},n),{className:np(nWe(r.node.type),l)}),dm(e,r))},Cj=t=>(e,r,{composing:n}={})=>!(!Pr(t)(r)||!!n!==K9e(e));Zt(Le({},QGe),{isTab:Cj("tab"),isUntab:Cj("untab")});var wWe=(t,e)=>{const r=t.pluginList.filter(n=>n.decorate);if(!(r.length===0&&!e))return n=>{let s=[];const a=o=>{o!=null&&o.length&&(s=[...s,...o])};return r.forEach(o=>{a(o.decorate(Zt(Le({},dm(t,o)),{entry:n})))}),e&&a(e({editor:t,entry:n})),s}},xWe=t=>{let e=!1;return Zt(Le({},t),{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>e,isTrusted:t.isTrusted,nativeEvent:t,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>t.preventDefault(),stopPropagation:()=>{e=!0,t.stopPropagation()},target:t.target,timeStamp:t.timeStamp,type:t.type})},EWe=(t,e)=>{if(!e)return!1;const r=e(t);return r!=null?r:t.isPropagationStopped()},SWe=(t,{editableProps:e,handlerKey:r})=>{const n=e==null?void 0:e[r],s=t.pluginList.filter(a=>{var o;return(o=a.handlers)==null?void 0:o[r]});if(!(s.length===0&&!n))return a=>{const l=a instanceof Event?xWe(a):a;return s.some(d=>{const f=d.handlers[r],m=f(Zt(Le({},dm(t,d)),{event:l}));return m!=null?m:!1})?!0:EWe(l,n)}},CWe=(t,e)=>t.pluginList.some(r=>{const n=r.handlers.onChange;if(!n)return!1;const s=n(Zt(Le({},dm(t,r)),{value:e}));return s!=null?s:!1}),AWe="element",TWe={element:null},{ElementProvider:PWe,useElementStore:DWe}=gM(TWe,{name:"element"}),RWe=(t,e)=>function(n){const{key:s,render:{node:a}}=e,{children:o,element:l}=n;if(l.type===e.node.type){const c=a!=null?a:tk,d=t.pluginList.flatMap(y=>{var _,b;return(b=(_=y.render)==null?void 0:_.aboveNodes)!=null?b:[]}),f=t.pluginList.flatMap(y=>{var _,b;return(b=(_=y.render)==null?void 0:_.belowNodes)!=null?b:[]});n=tre({attributes:l.attributes,editor:t,plugin:e,props:n});let m=o;f.forEach(y=>{const _=y(Zt(Le({},n),{key:s}));_&&(m=_(Zt(Le({},n),{children:m})))});let g=q.createElement(c,Le({},n),m);return d.forEach(y=>{const _=y(Zt(Le({},n),{key:s}));_&&(g=_(Zt(Le({},n),{children:g})))}),q.createElement(PWe,{element:l,scope:s},g)}},OWe=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isElement&&r.push(RWe(t,n))}),function(s){const a=qte(t,s);let o;return r.some(l=>(o=l(a),!!o)),o||(e?e(a):q.createElement(tk,Le({},a)))}},IWe=(t,e)=>function(n){var s;const{render:{node:a}}=e,{children:o,leaf:l}=n;if(l[(s=e.node.type)!=null?s:e.key]){const c=a!=null?a:Lte,d=tre({attributes:l.attributes,editor:t,plugin:e,props:n});return q.createElement(c,Le({},d),o)}return o},BWe=(t,e)=>{const r=[];return t.pluginList.forEach(n=>{n.node.isLeaf&&n.key&&r.push(IWe(t,n))}),function(s){const a=qte(t,s);return r.forEach(o=>{const l=o(a);l!==void 0&&(a.children=l)}),e?e(a):q.createElement(Lte,Le({},a))}},zo=(t,e={})=>{var r;return(r=Xu(t,Le({debugHookName:"useEditorRef"},e)).editor())!=null?r:bWe()};function ZQe(t,e){const r=zo(e);return dm(r,t)}var JQe=(t=AWe)=>{const e=zo(),r=DWe(t).get.element();return r||(e.api.debug.warn("useElement(".concat(t,") hook must be used inside the node component's context"),"USE_ELEMENT_CONTEXT"),{})};function FWe({id:t,editableRef:e}){const r=zo(t);return q.createElement(q.Fragment,null,Object.entries(r.shortcuts).map(([n,s])=>!s||!vf(s.keys)||!s.handler?null:q.createElement(MWe,{id:t,key:n,editableRef:e,hotkeyConfig:s})))}function MWe({id:t,editableRef:e,hotkeyConfig:r}){const n=zo(t),s=r,{keys:a,handler:o}=s,l=Qa(s,["keys","handler"]),c=KRe(a,(d,f)=>{o({editor:n,event:d,eventDetails:f})},Le({enableOnContentEditable:!0},l),[]);return C.useEffect(()=>{e.current&&c(e.current)},[c,e]),null}var kWe=({id:t})=>{const e=zo(t),r=KGe(t),n=S_(t),s=Object.fromEntries(jGe.map(o=>[o,n.set[o]()])),a=q.useMemo(()=>s,[]);return q.useEffect(()=>{e.api.redecorate=r,e.setPlateState=(o,l)=>{var c;const d=a;(c=d[o])==null||c.call(d,l)}},[e,r,a]),null};function NWe({id:t,plugin:e}){var r;const n=zo(t);return(r=e.useHooks)==null||r.call(e,dm(n,e)),null}function LWe({id:t}){const e=Xu(t).editor(),r=$te(t).isMounted();return q.useEffect(()=>(r(!0),()=>{r(!1)}),[r]),q.createElement(q.Fragment,null,e.pluginList.map(n=>q.createElement(NWe,{id:t,key:n.key,plugin:n})))}var UWe=q.memo(({id:t})=>{const e=Ete(),r=qR("versionEditor",t);q.useEffect(()=>{r()});const n=qR("versionSelection",t),s=q.useRef(e.selection),a=$We(s.current,e.selection);return q.useEffect(()=>{a||n(),s.current=e.selection},[e.selection,a,n]),null}),$We=(t,e)=>!t&&!e?!0:!t||!e?!1:de.equals(t,e);function jWe({children:t,decorate:e,editor:r,primary:n,readOnly:s,renderElement:a,renderLeaf:o,onChange:l,onSelectionChange:c,onValueChange:d}){return q.createElement(WGe,{readOnly:s,onChange:l,onSelectionChange:c,onValueChange:d,decorate:e,editor:r,primary:n,renderElement:a,renderLeaf:o,scope:r.id},t)}function QQe(t){return t.editor?q.createElement(jWe,Le({key:t.editor.key},t)):null}var zWe=(t={})=>{const{id:e}=t,r=zo(e),n=Xu(e),s=n.versionDecorate(),a=n.readOnly(),o=n.decorate(),l=n.renderLeaf(),c=n.renderElement(),d=q.useMemo(()=>wWe(r,o!=null?o:t==null?void 0:t.decorate),[t==null?void 0:t.decorate,r,o]),f=q.useMemo(()=>{if(!(!s||!d))return _=>d(_)},[d,s]),m=q.useMemo(()=>OWe(r,c!=null?c:t==null?void 0:t.renderElement),[t==null?void 0:t.renderElement,r,c]),g=q.useMemo(()=>BWe(r,l!=null?l:t==null?void 0:t.renderLeaf),[t==null?void 0:t.renderLeaf,r,l]),y=gj(()=>{const _={decorate:f,renderElement:m,renderLeaf:g};return vf(a)&&(_.readOnly=a),Sj.forEach(b=>{const u=SWe(r,{editableProps:t,handlerKey:b});u&&(_[b]=u)}),_},[f,t,m,g,a]);return gj(()=>Le(Le({},iGe(t,[...Sj,"renderElement","renderLeaf","decorate"])),y),[t,y])},VWe=({id:t})=>{const e=zo(t),r=Xu(t).onChange(),n=Xu(t).onValueChange(),s=Xu(t).onSelectionChange(),a=q.useCallback(c=>{CWe(e,c)||r==null||r({editor:e,value:c})},[e,r]),o=q.useMemo(()=>c=>{n==null||n({editor:e,value:c})},[e,n]),l=q.useMemo(()=>c=>{s==null||s({editor:e,selection:c})},[e,s]);return q.useMemo(()=>({key:e.key,editor:e,initialValue:e.children,value:e.children,onChange:a,onSelectionChange:l,onValueChange:o}),[e,a,l,o])},GWe=({id:t})=>{const e=XGe(),r=t!=null?t:e,n=q.useMemo(()=>NGe(mb.atom.editorStores,f=>f.prop(r)),[r]),s=jT().atom(n,{warnIfNoStore:!1}),a=S_(r).store(),o=Xu(r).primary(),l=jT().primaryEditorIds({warnIfNoStore:!1}),c=U9e(),d=jT().activeId({warnIfNoStore:!1});return q.useEffect(()=>(s(a!=null?a:null),()=>{s(null),d(f=>f===r?null:f)}),[a,s,d,r]),q.useEffect(()=>{if(o)return l(f=>[...f,r]),()=>{l(f=>f.filter(m=>m!==r))}},[r,o,l]),q.useEffect(()=>{r&&c&&d(r)},[r,c,d]),null};function HWe({id:t,children:e}){var r;const n=VWe({id:t}),s=zo(t);let a=q.createElement(V9e,Le({},n),e);return(r=s.pluginList)==null||r.forEach(o=>{const{render:{aboveSlate:l}}=o;l&&(a=q.createElement(l,null,a))}),a}var WWe=q.forwardRef((t,e)=>{var r=t,{renderEditable:n}=r,s=Qa(r,["renderEditable"]);const{id:a}=s,o=zo(a);if(!o)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const l=zWe(s),c=C.useRef(null),d=fM(e,c),f=q.createElement(F9e,Le({ref:d},l));let m=null,g=null;o.pluginList.forEach(_=>{const{render:{afterEditable:b,beforeEditable:u}}=_;b&&(m=q.createElement(q.Fragment,null,m,q.createElement(b,Le({},l)))),u&&(g=q.createElement(q.Fragment,null,g,q.createElement(u,Le({},l))))});let y=q.createElement(q.Fragment,null,g,n?n(f):f,q.createElement(kWe,{id:a}),q.createElement(FWe,{id:a,editableRef:c}),q.createElement(UWe,{id:a}),q.createElement(LWe,{id:a}),q.createElement(GWe,{id:a}),m);return o.pluginList.forEach(_=>{const{render:{aboveEditable:b}}=_;b&&(y=q.createElement(b,null,y))}),q.createElement(HWe,{id:a},y)});WWe.displayName="PlateContent";function eet(t={},e=[]){return q.useMemo(()=>t.enabled===!1?null:ere(t),[t.id,t.enabled,...e])}var KWe=Object.defineProperty,XWe=Object.defineProperties,YWe=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,rre=Object.prototype.hasOwnProperty,nre=Object.prototype.propertyIsEnumerable,Aj=(t,e,r)=>e in t?KWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,la=(t,e)=>{for(var r in e||(e={}))rre.call(e,r)&&Aj(t,r,e[r]);if(Bx)for(var r of Bx(e))nre.call(e,r)&&Aj(t,r,e[r]);return t},Rp=(t,e)=>XWe(t,YWe(e)),ire=(t,e)=>{var r={};for(var n in t)rre.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bx)for(var n of Bx(t))e.indexOf(n)<0&&nre.call(t,n)&&(r[n]=t[n]);return r},qWe=t=>{const e=Qte(t),{attributes:r,element:n,elementToAttributes:s,nodeProps:a}=e,o=ire(e,["attributes","element","elementToAttributes","nodeProps"]);return{props:Rp(la(la(la(la({},r),o),a),s==null?void 0:s(n)),{className:np(t.className,a==null?void 0:a.className)}),ref:fM(t.ref,r.ref)}},ZWe=q.forwardRef((t,e)=>{const{props:r,ref:n}=qWe(Rp(la({},t),{ref:e}));return q.createElement(fRe,Rp(la({},r),{ref:n}))});ZWe.displayName="PlateElement";var JWe=t=>{const e=Qte(t),{attributes:r,leaf:n,leafToAttributes:s,nodeProps:a,text:o}=e,l=ire(e,["attributes","leaf","leafToAttributes","nodeProps","text"]);return{props:Rp(la(la(la(la({},r),l),a),s==null?void 0:s(n)),{className:np(t.className,a==null?void 0:a.className)}),ref:fM(t.ref,r.ref)}},QWe=q.forwardRef((t,e)=>{const{props:r,ref:n}=JWe(Rp(la({},t),{ref:e}));return q.createElement(hRe,Rp(la({},r),{ref:n}))});QWe.displayName="PlateLeaf";var tet=t=>{if(!t)return{props:{}};const{preventDefaultOnEnterKeydown:e}=t,r=n=>{(n.key==="Enter"||n.keyCode===13)&&n.preventDefault()};return{props:{onKeyDownCapture:e?n=>r(n):void 0}}},eKe=UM,Tj=Ns;function sre(t,e,r,n,s,a){return Tj(t)&&Tj(e)&&(a.set(e,t),eKe(t,e,void 0,sre,a),a.delete(e)),t}var tKe=sre,rKe=oee,nKe=cee,iKe=tKe,sKe=fee;nKe(function(t){return t.push(void 0,iKe),rKe(sKe,void 0,t)});var aKe=Object.defineProperty,oKe=Object.defineProperties,lKe=Object.getOwnPropertyDescriptors,Fx=Object.getOwnPropertySymbols,are=Object.prototype.hasOwnProperty,ore=Object.prototype.propertyIsEnumerable,Pj=(t,e,r)=>e in t?aKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qt=(t,e)=>{for(var r in e||(e={}))are.call(e,r)&&Pj(t,r,e[r]);if(Fx)for(var r of Fx(e))ore.call(e,r)&&Pj(t,r,e[r]);return t},Bi=(t,e)=>oKe(t,lKe(e)),lre=(t,e)=>{var r={};for(var n in t)are.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Fx)for(var n of Fx(t))e.indexOf(n)<0&&ore.call(t,n)&&(r[n]=t[n]);return r};function VT(t,...e){return hee({},t,...e,(r,n,s)=>{if(Array.isArray(n))return n;if(s==="options")return qt(qt({},r),n)})}function Hf(t){return typeof t=="function"}function yn(t={}){var e;let r,n;Hf(t)?(r={key:""},n=o=>t(o)):r=t;const s=(e=r.key)!=null?e:"",a=VT({key:s,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__optionExtensions:[],api:{},dependencies:[],editor:{},inject:{},node:{type:s},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},shortcuts:{},transforms:{},handlers:{}},t);return a.configure=o=>{const l=qt({},a);return l.__configuration=c=>Hf(o)?o(c):o,yn(l)},a.configurePlugin=(o,l)=>{const c=qt({},a),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===o.key)return g=!0,yn(Bi(qt({},_),{__configuration:b=>Hf(l)?l(b):l}));if(_.plugins&&_.plugins.length>0){const b=d(_.plugins);if(b.found)return g=!0,Bi(qt({},_),{plugins:b.plugins})}return _});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,yn(c)},a.extendEditorApi=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1}],yn(l)},a.extendOptions=o=>{const l=qt({},a);return l.__optionExtensions=[...l.__optionExtensions,o],yn(l)},a.extendApi=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0}],yn(l)},a.extendEditorTransforms=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!1,isTransform:!0}],yn(l)},a.extendTransforms=o=>{const l=qt({},a);return l.__apiExtensions=[...l.__apiExtensions,{extension:o,isPluginSpecific:!0,isTransform:!0}],yn(l)},a.extend=o=>{let l=qt({},a);return Hf(o)?l.__extensions=[...l.__extensions,o]:l=VT(l,o),yn(l)},a.clone=()=>VT(a),a.extendPlugin=(o,l)=>{const c=qt({},a),d=m=>{let g=!1;const y=m.map(_=>{if(_.key===o.key)return g=!0,yn(Bi(qt({},_),{__extensions:[..._.__extensions,b=>Hf(l)?l(b):l]}));if(_.plugins&&_.plugins.length>0){const b=d(_.plugins);if(b.found)return g=!0,Bi(qt({},_),{plugins:b.plugins})}return _});return{found:g,plugins:y}},f=d(c.plugins);return c.plugins=f.plugins,f.found||c.plugins.push(yn({key:o.key,__extensions:[m=>Hf(l)?l(m):l]})),yn(c)},a}function A_(t={}){return yn(t)}var ure=({apply:t,node:e,path:r=[],query:n,source:s})=>{w_([e,r],n)&&(s instanceof Function?t(e,s()):t(e,s)),$Q(e)&&e.children.forEach((o,l)=>{ure({apply:t,node:o,path:r.concat([l]),query:n,source:s})})},cre=(t,e)=>{const r=[];return[...t.pluginList].reverse().forEach(n=>{var s;const a=(s=n.inject.plugins)==null?void 0:s[e.key];a&&r.push(a)}),[e,...r]},uKe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},cKe={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},dKe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Lr=t=>{const e=uKe[t],r=cKe[t],n=dKe[t],s=e&&Kh(e),a=r&&Kh(r),o=n&&Kh(n);return l=>!!(s!=null&&s(l)||px&&(a!=null&&a(l))||!px&&(o!=null&&o(l)))};Lr("bold"),Lr("compose"),Lr("deleteBackward"),Lr("deleteForward"),Lr("deleteLineBackward"),Lr("deleteLineForward"),Lr("deleteWordBackward"),Lr("deleteWordForward"),Lr("extendBackward"),Lr("extendForward"),Lr("extendLineBackward"),Lr("extendLineForward"),Lr("italic"),Lr("moveBackward"),Lr("moveForward"),Lr("moveLineBackward"),Lr("moveLineForward"),Lr("moveWordBackward"),Lr("moveWordForward"),Lr("redo"),Lr("insertSoftBreak"),Lr("splitBlock"),Lr("transposeCharacter"),Lr("undo");var fKe=t=>{ure(Bi(qt({},t),{apply:Ta}))};function Yu(t,e){const r=t.getPlugin(e);return{api:t.api,editor:t,getOption:(n,...s)=>t.getOption(r,n,...s),getOptions:()=>t.getOptions(r),plugin:r,setOption:(n,s)=>t.setOption(r,n,s),setOptions:n=>t.setOptions(r,n),tf:t.transforms,type:r.node.type}}yn({key:"ast",parser:{deserialize:({data:t})=>{const e=decodeURIComponent(window.atob(t));let r;try{r=JSON.parse(e)}catch(n){}return r},format:"application/x-slate-fragment"}});yn({key:"dom"});var hKe=({editor:t})=>IQ(t);yn({key:"history",extendEditor:hKe});var pKe=({editor:t})=>{const{isInline:e,isVoid:r,markableVoid:n}=t,s=[],a=[],o=[];return t.pluginList.forEach(l=>{l.node.isInline&&a.push(l.node.type),l.node.isVoid&&s.push(l.node.type),l.node.isMarkableVoid&&o.push(l.node.type)}),t.isInline=l=>a.includes(l.type)?!0:e(l),t.isVoid=l=>s.includes(l.type)?!0:r(l),t.markableVoid=l=>o.includes(l.type)?!0:n(l),t};yn({key:"inlineVoid",extendEditor:pKe});var mKe=({editor:t})=>{const{insertData:e}=t;return t.insertData=r=>{[...t.pluginList].reverse().some(s=>{const a=s.parser;if(!a)return!1;const o=cre(t,s),{deserialize:l,format:c,mimeTypes:d}=a;if(!c)return!1;const f=Array.isArray(c)?c:[c],m=d||f.map(g=>g.includes("/")?g:"text/".concat(g));for(const g of m){let y=r.getData(g);if(!y||!KKe(t,o,{data:y,dataTransfer:r}))continue;y=YKe(t,o,{data:y,dataTransfer:r});let _=l==null?void 0:l(Bi(qt({},Yu(t,s)),{data:y,dataTransfer:r}));if(_!=null&&_.length&&(_=qKe(t,o,{data:y,dataTransfer:r,fragment:_}),_.length!==0))return XKe(t,o,{data:y,dataTransfer:r,fragment:_}),!0}return!1})||e(r)},t};yn({key:"parser",extendEditor:mKe});var gKe=class extends Error{constructor(t,e="DEFAULT"){super("[".concat(e,"] ").concat(t)),this.type=e,this.name="PlateError"}};A_({key:"debug",options:{isProduction:!0,logLevel:"error",logger:{error:(t,e,r)=>console.error("".concat(e?"[".concat(e,"] "):"").concat(t),r),info:(t,e,r)=>console.info("".concat(e?"[".concat(e,"] "):"").concat(t),r),log:(t,e,r)=>console.log("".concat(e?"[".concat(e,"] "):"").concat(t),r),warn:(t,e,r)=>console.warn("".concat(e?"[".concat(e,"] "):"").concat(t),r)},throwErrors:!0}}).extendEditorApi(({getOptions:t})=>{const e=["error","warn","info","log"],r=(n,s,a,o)=>{var l,c;const d=t();if(!(d.isProduction&&n==="log")&&e.indexOf(n)<=e.indexOf(d.logLevel)){if(n==="error"&&d.throwErrors)throw s instanceof Error?s:new gKe(s,a);(c=(l=d.logger)[n])==null||c.call(l,s,a,o)}};return{debug:{error:(n,s,a)=>r("error",n,s,a),info:(n,s,a)=>r("info",n,s,a),log:(n,s,a)=>r("log",n,s,a),warn:(n,s,a)=>r("warn",n,s,a)}}});var vKe=(t,e)=>{NS(t,qt({at:[],nodes:t.api.create.value()},e))},yKe=t=>{vKe(t),t.history.undos=[],t.history.redos=[],t.operations=[]},_Ke=(t,e,r)=>{var n;const{defaultType:s=t.getType(WS),type:a}=e,o=(n=r==null?void 0:r.at)!=null?n:t.selection;if(!a||!o)return;const l=zQ(t,Bi(qt({},r),{match:{type:a}}));l&&a===s||t.setNodes({type:l?s:a},{at:o})},WS=yn({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{query:({element:t})=>t.style.fontFamily!=="Consolas",rules:[{validNodeName:"P"}]}}}}),bKe=({editor:t})=>{const{apply:e,deleteBackward:r,deleteForward:n,deleteFragment:s}=t;t.prevSelection=null,t.currentKeyboardEvent=null;const a=()=>{Oee(t)&&Iee(t)};return t.deleteBackward=o=>{r(o),a()},t.deleteForward=o=>{n(o),a()},t.deleteFragment=o=>{s(o),a()},t.apply=o=>{if(o.type==="set_selection"){const{properties:l}=o;t.prevSelection=l,e(o),t.currentKeyboardEvent=null;return}e(o)},t};A_({key:"slateNext",extendEditor:bKe}).extendEditorApi(({editor:t})=>({create:{block:(e,r)=>qt({children:[{text:""}],type:t.getType(WS)},e)}})).extendEditorApi(({api:t})=>({create:{value:()=>[t.create.block()]}})).extendEditorTransforms(({editor:t})=>({reset:()=>{yKe(t)},setValue:e=>{let r=e;typeof e=="string"?r=t.api.html.deserialize({element:e}):(!e||e.length===0)&&(r=t.api.create.value()),NS(t,{at:[],nodes:r})},toggle:{block:Cp(_Ke,t),mark:Cp(Bee,t)}}));var KS=t=>t.nodeType===Node.ELEMENT_NODE,dre=t=>t.nodeType===Node.TEXT_NODE,wKe=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR","math","svg"]),hk=t=>{if(!KS(t))return!1;const e=t,r=wKe.has(e.tagName),n=e.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&e.parentElement?hk(e.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},Dj=t=>KS(t)?!hk(t):!1,xKe=(t,{shouldCollapseWhiteSpace:e=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:s=!0}={})=>(n==="all"&&(t=t.replace(/^\s+/,"")),r==="single-newline"&&(t=t.replace(/\n$/,"")),e&&(s?t=t.replaceAll(/\s+/g," "):(t=t.replaceAll(/[^\S\n\r]+/g," "),t=t.replaceAll(/^[^\S\n\r]+/gm,""),t=t.replaceAll(/[^\S\n\r]+$/gm,""))),t),EKe=t=>{let e=t;for(;;){if(e.nextSibling)e=e.nextSibling;else{if(e=e.parentElement,e&&Dj(e))return!0;e=(e==null?void 0:e.nextSibling)||null}if(!e||Dj(e))return!0;if((e.textContent||"").length>0)return!1}},SKe=t=>{t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},Rj=t=>{t.inlineFormattingContext=null},CKe=(t,e)=>{const r=t.textContent||"",n=r.trim()==="";(e.inlineFormattingContext||!n)&&SKe(e);const{whiteSpaceRule:s}=e,a=(()=>s!=="normal"?"collapse":!e.inlineFormattingContext||e.inlineFormattingContext.atStart||e.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse")(),o=(()=>s==="normal"?"collapse":EKe(t)?"single-newline":"collapse")(),l={normal:!0,pre:!1,"pre-line":!0}[s],d=xKe(r||"",{shouldCollapseWhiteSpace:l,trimEnd:o,trimStart:a,whiteSpaceIncludesNewlines:s!=="pre-line"});e.inlineFormattingContext&&l&&(e.inlineFormattingContext.lastHasTrailingWhiteSpace=d.endsWith(" ")),t.textContent=d},AKe=(t,e)=>{if(KS(t)){hre(t,e);return}if(dre(t)){CKe(t,e);return}fre(t,e)},fre=(t,e)=>{const r=Array.from(t.childNodes);for(const n of r)AKe(n,e)},TKe=t=>{const e=t.style.whiteSpace;switch(e){case"normal":case"nowrap":return"normal";case"pre":case"pre-wrap":case"break-spaces":return"pre";case"pre-line":return"pre-line"}return t.tagName==="PRE"?"pre":e==="initial"?"normal":null},hre=(t,e)=>{const r=hk(t),n=e.whiteSpaceRule,s=TKe(t);s&&(e.whiteSpaceRule=s),r||Rj(e),fre(t,e),r||Rj(e),e.whiteSpaceRule=n},PKe=t=>{const e=t.cloneNode(!0);return hre(e,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),e},pk=(t,e)=>Array.from(e.childNodes).flatMap(mre(t)),DKe=(t,e)=>{if(e.nodeName==="BODY")return um("fragment",{},pk(t,e))},RKe=t=>{if(t.nodeName==="BR")return"\n"},pre=(t,e,{deserializeLeaf:r,element:n})=>{var s,a;const{node:{isElement:o,isLeaf:l,type:c},parsers:d}=e,f=(s=d==null?void 0:d.html)==null?void 0:s.deserializer;if(!f)return;const{attributeNames:m,isElement:g,isLeaf:y,query:_,rules:b}=f;let{parse:u}=f;const h=g||o,p=y||l;if(!r&&!h||r&&!p||b&&!b.some(({validAttribute:S,validClassName:E,validNodeName:P="*",validStyle:T})=>{var A;if(P){const R=Ku(P);if(R.length>0&&!R.includes(n.nodeName)&&P!=="*")return!1}if(E&&!n.classList.contains(E))return!1;if(T)for(const[R,D]of Object.entries(T)){if(!Ku(D).includes(n.style[R])&&D!=="*"||D==="*"&&!n.style[R])return;const I=(A=e.inject.nodeProps)==null?void 0:A.defaultNodeValue;if(I&&I===n.style[R])return!1}if(S)if(typeof S=="string"){if(!n.getAttributeNames().includes(S))return!1}else for(const[R,D]of Object.entries(S)){const O=Ku(D),I=n.getAttribute(R);if(!vf(I)||!O.includes(I))return!1}return!0})||_&&!_(Bi(qt({},Yu(t,e)),{element:n})))return;if(!u)if(h)u=()=>({type:c});else if(p)u=()=>({[c]:!0});else return;let v=(a=u(Bi(qt({},Yu(t,e)),{element:n,node:{}})))!=null?a:{};if(Object.keys(v).length===0)return;if(cre(t,e).forEach(x=>{var S,E,P,T;const A=(T=(P=(E=(S=x.parsers)==null?void 0:S.html)==null?void 0:E.deserializer)==null?void 0:P.parse)==null?void 0:T.call(P,Bi(qt({},Yu(t,e)),{element:n,node:v}));A&&(v=qt(qt({},v),A))}),m){const x={},S=n.getAttributeNames();for(const E of S)m.includes(E)&&(x[E]=n.getAttribute(E));Object.keys(x).length>0&&(v.attributes=x)}return Bi(qt({},f),{node:v})},OKe=(t,e)=>{let r;return[...t.pluginList].reverse().some(n=>(r=pre(t,n,{element:e}),!!r)),r},IKe=(t,e)=>{var r;const n=OKe(t,e);if(n){const{node:s,withoutChildren:a}=n;let o=(r=s.children)!=null?r:pk(t,e);return(o.length===0||a)&&(o=[{text:""}]),um("element",s,o)}},BKe=(t,e)=>{let r={};return[...t.pluginList].reverse().forEach(n=>{const s=pre(t,n,{deserializeLeaf:!0,element:e});s&&(r=qt(qt({},r),s.node))}),r},FKe=(t,e)=>{const r=BKe(t,e);return pk(t,e).reduce((n,s)=>{if(!s)return n;if(Gl(s))Object.keys(r).length>0&&fKe({node:s,query:{filter:([a])=>fc(a)},source:r}),n.push(s);else{const a=qt({},r);fc(s)&&s.text&&Object.keys(a).forEach(o=>{a[o]&&s[o]&&(a[o]=s[o])}),n.push(um("text",a,s))}return n},[])},MKe=t=>{if(dre(t))return t.textContent||""},mre=t=>e=>{const r=MKe(e);if(r)return r;if(!KS(e))return null;const n=RKe(e);if(n)return n;const s=DKe(t,e);if(s)return s;const a=IKe(t,e);return a||FKe(t,e)},kKe=(t,e)=>mre(t)(e),NKe=t=>{const e=document.createElement("body");return e.innerHTML=t,e},LKe=(t,{collapseWhiteSpace:e=!0,element:r})=>{typeof r=="string"&&(r=NKe(r)),e&&(r=PKe(r));const n=kKe(t,r);return WKe(t,{descendants:n})},UKe=t=>new DOMParser().parseFromString(t,"text/html");yn({key:"html"}).extendApi(({editor:t})=>({deserialize:Cp(LKe,t)})).extend({parser:{deserialize:({api:t,data:e})=>{const r=UKe(e);return t.html.deserialize({element:r.body})},format:"text/html"}});var $Ke=({editor:t,getOptions:e})=>{const{apply:r}=t;return t.apply=n=>{Rc(t,()=>{r(n);const s=e();if(s.maxLength){const a=LQ(t,[]).length;if(a>s.maxLength){const o=a-s.maxLength;t.delete({distance:o,reverse:!0,unit:"character"})}}})},t};A_({key:"length",extendEditor:$Ke});var jKe=t=>e=>fc(e)||Gl(e)&&t.isInline(e),zKe=t=>()=>({children:[],type:t}),VKe=(t,e)=>t.some((r,n,s)=>{const a=s[n-1];return n!==0?e(r)!==e(a):!1}),GKe=(t,e,r)=>{const n=VKe(t,e),{fragment:s}=t.reduce((a,o)=>{if(n&&e(o)){let l=a.precedingBlock;l||(l=r(),a.precedingBlock=l,a.fragment.push(l)),l.children.push(o)}else a.fragment.push(o),a.precedingBlock=null;return a},{fragment:[],precedingBlock:null});return s},HKe=t=>t.length===0?[{text:""}]:t,gre=(t,e,r)=>(t=HKe(t),t=GKe(t,e,r),t=t.map(n=>Gl(n)?Bi(qt({},n),{children:gre(n.children,e,r)}):n),t),WKe=(t,{descendants:e})=>{const r=jKe(t),n=t.getType(WS),s=zKe(n);return gre(e,r,s)},KKe=(t,e,{data:r,dataTransfer:n})=>e.every(s=>{var a;const o=(a=s.parser)==null?void 0:a.query;return!o||o(Bi(qt({},Yu(t,s)),{data:r,dataTransfer:n}))}),XKe=(t,e,r)=>{var n=r,{fragment:s}=n,a=lre(n,["fragment"]);Rc(t,()=>{e.some(o=>{var l,c;return((c=(l=o.parser)==null?void 0:l.preInsert)==null?void 0:c.call(l,qt(Bi(qt({},Yu(t,o)),{fragment:s}),a)))===!0}),t.insertFragment(s)})},YKe=(t,e,{data:r,dataTransfer:n})=>(e.forEach(s=>{var a;const o=(a=s.parser)==null?void 0:a.transformData;o&&(r=o(Bi(qt({},Yu(t,s)),{data:r,dataTransfer:n})))}),r),qKe=(t,e,r)=>{var n=r,{fragment:s}=n,a=lre(n,["fragment"]);return e.forEach(o=>{var l;const c=(l=o.parser)==null?void 0:l.transformFragment;c&&(s=c(qt(qt({fragment:s},a),Yu(t,o))))}),s},ZKe=({editor:t,getOptions:e})=>{const{deleteForward:r}=t;return t.deleteForward=n=>{if(!t.selection)return;const{query:s}=e(),a=!s||w_(Sx(t),s);!K8e(t)&&H8e(t)&&a?wM(t):r(n)},t},net=A_({key:"delete",extendEditor:ZKe,options:{query:{allow:[WS.key]}}}),JKe=({editor:t,getOptions:e})=>{const{deleteBackward:r}=t;return t.deleteBackward=n=>{const{selection:s}=t,{query:a,removeNodeIfEmpty:o}=e();if(n==="character"&&sFe(s)){const l=QBe(t,s,{unit:n});if(l){const[c]=kQ(t,{at:l,match:d=>w_([d,l.path],a)});if(c&&l){const d=eFe(t,s),f=nFe(t,d.path);o&&f&&!CM(f)&&wM(t),xM(t,l)}else r(n)}else r(n)}else r(n)},t};A_({key:"selectOnBackspace",extendEditor:JKe,options:{removeNodeIfEmpty:!1}});var QKe="Separator",Oj="horizontal",eXe=["horizontal","vertical"],vre=C.forwardRef((t,e)=>{const{decorative:r,orientation:n=Oj,...s}=t,a=tXe(n)?n:Oj,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return k.jsx(rt.div,{"data-orientation":a,...l,...s,ref:e})});vre.displayName=QKe;function tXe(t){return eXe.includes(t)}var rXe=vre,mk="Toolbar",[nXe,iet]=Qn(mk,[$o,KJ]),gk=$o(),yre=KJ(),[iXe,_re]=nXe(mk),bre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,orientation:n="horizontal",dir:s,loop:a=!0,...o}=t,l=gk(r),c=zl(s);return k.jsx(iXe,{scope:r,orientation:n,dir:c,children:k.jsx(n_,{asChild:!0,...l,orientation:n,dir:c,loop:a,children:k.jsx(rt.div,{role:"toolbar","aria-orientation":n,dir:c,...o,ref:e})})})});bre.displayName=mk;var wre="ToolbarSeparator",xre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=_re(wre,r);return k.jsx(rXe,{orientation:s.orientation==="horizontal"?"vertical":"horizontal",...n,ref:e})});xre.displayName=wre;var sXe="ToolbarButton",vk=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=gk(r);return k.jsx(Hp,{asChild:!0,...s,focusable:!t.disabled,children:k.jsx(rt.button,{type:"button",...n,ref:e})})});vk.displayName=sXe;var aXe="ToolbarLink",Ere=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=gk(r);return k.jsx(Hp,{asChild:!0,...s,focusable:!0,children:k.jsx(rt.a,{...n,ref:e,onKeyDown:Ce(t.onKeyDown,a=>{a.key===" "&&a.currentTarget.click()})})})});Ere.displayName=aXe;var Sre="ToolbarToggleGroup",oXe=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=_re(Sre,r),a=yre(r);return k.jsx($2e,{"data-orientation":s.orientation,dir:s.dir,...a,...n,ref:e,rovingFocus:!1})});oXe.displayName=Sre;var lXe="ToolbarToggleItem",Cre=C.forwardRef((t,e)=>{const{__scopeToolbar:r,...n}=t,s=yre(r),a={__scopeToolbar:t.__scopeToolbar};return k.jsx(vk,{asChild:!0,...a,children:k.jsx(j2e,{...s,...n,ref:e})})});Cre.displayName=lXe;var set=bre,aet=xre,oet=vk,uet=Ere,cet=Cre,uXe="Separator",Ij="horizontal",cXe=["horizontal","vertical"],Are=C.forwardRef((t,e)=>{const{decorative:r,orientation:n=Ij,...s}=t,a=dXe(n)?n:Ij,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return k.jsx(eS.div,{"data-orientation":a,...l,...s,ref:e})});Are.displayName=uXe;function dXe(t){return cXe.includes(t)}var det=Are;function fXe(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function hXe(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&h2(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function pXe(){return/apple/i.test(navigator.vendor)}function mXe(t){return(t==null?void 0:t.ownerDocument)||document}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var gXe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ZR=gXe.join(","),Tre=typeof Element>"u",Sy=Tre?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Mx=!Tre&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Cy=function(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=s===""||s==="true",o=a||r&&e&&Cy(e.parentNode);return o},vXe=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},yXe=function(e,r,n){if(Cy(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(ZR));return r&&Sy.call(e,ZR)&&s.unshift(e),s=s.filter(n),s},JR=function(e,r,n){for(var s=[],a=Array.from(e);a.length;){var o=a.shift();if(!Cy(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=JR(c,!0,n);n.flatten?s.push.apply(s,d):s.push({scopeParent:o,candidates:d})}else{var f=Sy.call(o,ZR);f&&n.filter(o)&&(r||!e.includes(o))&&s.push(o);var m=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),g=!Cy(m,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(m&&g){var y=JR(m===!0?o.children:m.children,!0,n);n.flatten?s.push.apply(s,y):s.push({scopeParent:o,candidates:y})}else a.unshift.apply(a,o.children)}}return s},Pre=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Dre=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||vXe(e))&&!Pre(e)?0:e.tabIndex},_Xe=function(e,r){var n=Dre(e);return n<0&&r&&!Pre(e)?0:n},bXe=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Rre=function(e){return e.tagName==="INPUT"},wXe=function(e){return Rre(e)&&e.type==="hidden"},xXe=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},EXe=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},SXe=function(e){if(!e.name)return!0;var r=e.form||Mx(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=EXe(s,e.form);return!a||a===e},CXe=function(e){return Rre(e)&&e.type==="radio"},AXe=function(e){return CXe(e)&&!SXe(e)},TXe=function(e){var r,n=e&&Mx(e),s=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var o,l,c;for(a=!!((o=s)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(s)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!a&&s;){var d,f,m;n=Mx(s),s=(d=n)===null||d===void 0?void 0:d.host,a=!!((f=s)!==null&&f!==void 0&&(m=f.ownerDocument)!==null&&m!==void 0&&m.contains(s))}}return a},Bj=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},PXe=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(n==="full-native"&&"checkVisibility"in e){var a=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!a}if(getComputedStyle(e).visibility==="hidden")return!0;var o=Sy.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(Sy.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="full-native"||n==="legacy-full"){if(typeof s=="function"){for(var c=e;e;){var d=e.parentElement,f=Mx(e);if(d&&!d.shadowRoot&&s(d)===!0)return Bj(e);e.assignedSlot?e=e.assignedSlot:!d&&f!==e.ownerDocument?e=f.host:e=d}e=c}if(TXe(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Bj(e);return!1},DXe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return Sy.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},RXe=function(e,r){return!(r.disabled||Cy(r)||wXe(r)||PXe(r,e)||xXe(r)||DXe(r))},Fj=function(e,r){return!(AXe(r)||Dre(r)<0||!RXe(e,r))},OXe=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Ore=function(e){var r=[],n=[];return e.forEach(function(s,a){var o=!!s.scopeParent,l=o?s.scopeParent:s,c=_Xe(l,o),d=o?Ore(s.candidates):l;c===0?o?r.push.apply(r,d):r.push(l):n.push({documentOrder:a,tabIndex:c,item:s,isScope:o,content:d})}),n.sort(bXe).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(r)},Ire=function(e,r){r=r||{};var n;return r.getShadowRoot?n=JR([e],r.includeContainer,{filter:Fj.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:OXe}):n=yXe(e,r.includeContainer,Fj.bind(null,r)),Ore(n)};const Bre={...Ty},IXe=Bre.useInsertionEffect,BXe=IXe||(t=>t());function FXe(t){const e=C.useRef(()=>{});return BXe(()=>{e.current=t}),C.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}var Id=typeof document<"u"?C.useLayoutEffect:C.useEffect;function QR(){return QR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QR.apply(this,arguments)}let Mj=!1,MXe=0;const kj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+MXe++;function kXe(){const[t,e]=C.useState(()=>Mj?kj():void 0);return Id(()=>{t==null&&e(kj())},[]),C.useEffect(()=>{Mj=!0},[]),t}const NXe=Bre.useId,Fre=NXe||kXe;function LXe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const UXe=C.createContext(null),$Xe=C.createContext(null),jXe=()=>{var t;return((t=C.useContext(UXe))==null?void 0:t.id)||null},zXe=()=>C.useContext($Xe);function Mre(t){return"data-floating-ui-"+t}const kre=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Nre(t,e){const r=Ire(t,kre());e==="prev"&&r.reverse();const n=r.indexOf(fXe(mXe(t)));return r.slice(n+1)[0]}function VXe(){return Nre(document.body,"next")}function GXe(){return Nre(document.body,"prev")}function GT(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!hXe(r,n)}function HXe(t){Ire(t,kre()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function Nj(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Lre={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let WXe;function Lj(t){t.key==="Tab"&&(t.target,clearTimeout(WXe))}const Uj=C.forwardRef(function(e,r){const[n,s]=C.useState();Id(()=>(pXe()&&s("button"),document.addEventListener("keydown",Lj),()=>{document.removeEventListener("keydown",Lj)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[Mre("focus-guard")]:"",style:Lre};return C.createElement("span",QR({},e,a))}),Ure=C.createContext(null),$j=Mre("portal");function KXe(t){t===void 0&&(t={});const{id:e,root:r}=t,n=Fre(),s=XXe(),[a,o]=C.useState(null),l=C.useRef(null);return Id(()=>()=>{a==null||a.remove(),queueMicrotask(()=>{l.current=null})},[a]),Id(()=>{if(!n||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=n,d.setAttribute($j,""),c.appendChild(d),l.current=d,o(d)},[e,n]),Id(()=>{if(r===null||!n||l.current)return;let c=r||(s==null?void 0:s.portalNode);c&&!vi(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=n,f.setAttribute($j,""),c=d||c,c.appendChild(f),l.current=f,o(f)},[e,r,n,s]),a}function fet(t){const{children:e,id:r,root:n,preserveTabOrder:s=!0}=t,a=KXe({id:r,root:n}),[o,l]=C.useState(null),c=C.useRef(null),d=C.useRef(null),f=C.useRef(null),m=C.useRef(null),g=o==null?void 0:o.modal,y=o==null?void 0:o.open,_=!!o&&!o.modal&&o.open&&s&&!!(n||a);return C.useEffect(()=>{if(!a||!s||g)return;function b(u){a&&GT(u)&&(u.type==="focusin"?Nj:HXe)(a)}return a.addEventListener("focusin",b,!0),a.addEventListener("focusout",b,!0),()=>{a.removeEventListener("focusin",b,!0),a.removeEventListener("focusout",b,!0)}},[a,s,g]),C.useEffect(()=>{a&&(y||Nj(a))},[y,a]),C.createElement(Ure.Provider,{value:C.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:m,portalNode:a,setFocusManagerState:l}),[s,a])},_&&a&&C.createElement(Uj,{"data-type":"outside",ref:c,onFocus:b=>{if(GT(b,a)){var u;(u=f.current)==null||u.focus()}else{const h=GXe()||(o==null?void 0:o.refs.domReference.current);h==null||h.focus()}}}),_&&a&&C.createElement("span",{"aria-owns":a.id,style:Lre}),a&&Ul.createPortal(e,a),_&&a&&C.createElement(Uj,{"data-type":"outside",ref:d,onFocus:b=>{if(GT(b,a)){var u;(u=m.current)==null||u.focus()}else{const h=VXe()||(o==null?void 0:o.refs.domReference.current);h==null||h.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,b.nativeEvent,"focus-out"))}}}))}const XXe=()=>C.useContext(Ure);function YXe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=Fre(),a=C.useRef({}),[o]=C.useState(()=>LXe()),l=jXe()!=null,[c,d]=C.useState(n.reference),f=FXe((y,_,b)=>{a.current.openEvent=y?_:void 0,o.emit("openchange",{open:y,event:_,reason:b,nested:l}),r==null||r(y,_,b)}),m=C.useMemo(()=>({setPositionReference:d}),[]),g=C.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return C.useMemo(()=>({dataRef:a,open:e,onOpenChange:f,elements:g,events:o,floatingId:s,refs:m}),[e,f,g,o,s,m])}function qXe(t){t===void 0&&(t={});const{nodeId:e}=t,r=YXe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[a,o]=C.useState(null),[l,c]=C.useState(null),f=(s==null?void 0:s.domReference)||a,m=C.useRef(null),g=zXe();Id(()=>{f&&(m.current=f)},[f]);const y=zW({...t,elements:{...s,...l&&{reference:l}}}),_=C.useCallback(v=>{const w=vi(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;c(w),y.refs.setReference(w)},[y.refs]),b=C.useCallback(v=>{(vi(v)||v===null)&&(m.current=v,o(v)),(vi(y.refs.reference.current)||y.refs.reference.current===null||v!==null&&!vi(v))&&y.refs.setReference(v)},[y.refs]),u=C.useMemo(()=>({...y.refs,setReference:b,setPositionReference:_,domReference:m}),[y.refs,b,_]),h=C.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),p=C.useMemo(()=>({...y,...n,refs:u,elements:h,nodeId:e}),[y,u,h,e,n]);return Id(()=>{n.dataRef.current.floatingContext=p;const v=g==null?void 0:g.nodesRef.current.find(w=>w.id===e);v&&(v.context=p)}),C.useMemo(()=>({...y,context:p,refs:u,elements:h}),[y,u,h,p])}var ZXe=Object.defineProperty,JXe=Object.defineProperties,QXe=Object.getOwnPropertyDescriptors,kx=Object.getOwnPropertySymbols,$re=Object.prototype.hasOwnProperty,jre=Object.prototype.propertyIsEnumerable,jj=(t,e,r)=>e in t?ZXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zj=(t,e)=>{for(var r in e||(e={}))$re.call(e,r)&&jj(t,r,e[r]);if(kx)for(var r of kx(e))jre.call(e,r)&&jj(t,r,e[r]);return t},eYe=(t,e)=>JXe(t,QXe(e)),tYe=(t,e)=>{var r={};for(var n in t)$re.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&kx)for(var n of kx(t))e.indexOf(n)<0&&jre.call(t,n)&&(r[n]=t[n]);return r},zre=()=>({bottom:9999,height:0,left:-9999,right:9999,top:-9999,width:0,x:0,y:0}),rYe=()=>({getBoundingClientRect:zre}),nYe=()=>{const t=window.getSelection();return!t||t.rangeCount<1?zre():t.getRangeAt(0).getBoundingClientRect()},het=t=>{var e=t,{getBoundingClientRect:r=nYe}=e,n=tYe(e,["getBoundingClientRect"]);const s=q.useRef(rYe()),[a,o]=q.useState(!0),l=qXe(zj({whileElementsMounted:$W},n)),{middlewareData:c,refs:d,strategy:f,update:m,x:g,y}=l;return _T(()=>{s.current.getBoundingClientRect=r},[r,m]),_T(()=>{d.setReference(s.current)},[d]),_T(()=>{if(!(c!=null&&c.hide))return;const{referenceHidden:_}=c.hide;o(!_)},[c.hide]),eYe(zj({},l),{style:{display:n.open===!1?"none":void 0,left:g!=null?g:0,position:f,top:y!=null?y:0,visibility:a?void 0:"hidden"},virtualElementRef:s})},XS="Switch",[iYe,pet]=Qn(XS),[sYe,aYe]=iYe(XS),Vre=C.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[g,y]=C.useState(null),_=Et(e,v=>y(v)),b=C.useRef(!1),u=g?f||!!g.closest("form"):!0,[h,p]=wi({prop:s,defaultProp:a!=null?a:!1,onChange:d,caller:XS});return k.jsxs(sYe,{scope:r,checked:h,disabled:l,children:[k.jsx(rt.button,{type:"button",role:"switch","aria-checked":h,"aria-required":o,"data-state":Kre(h),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:_,onClick:Ce(t.onClick,v=>{p(w=>!w),u&&(b.current=v.isPropagationStopped(),b.current||v.stopPropagation())})}),u&&k.jsx(Wre,{control:g,bubbles:!b.current,name:n,value:c,checked:h,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Vre.displayName=XS;var Gre="SwitchThumb",Hre=C.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=aYe(Gre,r);return k.jsx(rt.span,{"data-state":Kre(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Hre.displayName=Gre;var oYe="SwitchBubbleInput",Wre=C.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},a)=>{const o=C.useRef(null),l=Et(o,a),c=_F(r),d=FB(e);return C.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&y){const _=new Event("click",{bubbles:n});y.call(f,r),f.dispatchEvent(_)}},[c,r,n]),k.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Wre.displayName=oYe;function Kre(t){return t?"checked":"unchecked"}var met=Vre,get=Hre,yk="ToastProvider",[_k,lYe,uYe]=zp("Toast"),[Xre,vet]=Qn("Toast",[uYe]),[cYe,YS]=Xre(yk),Yre=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=C.useState(null),[d,f]=C.useState(0),m=C.useRef(!1),g=C.useRef(!1);return r.trim()||console.error("Invalid prop `label` supplied to `".concat(yk,"`. Expected non-empty `string`.")),k.jsx(_k.Provider,{scope:e,children:k.jsx(cYe,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:C.useCallback(()=>f(y=>y+1),[]),onToastRemove:C.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:o})})};Yre.displayName=yk;var qre="ToastViewport",dYe=["F8"],eO="toast.viewportPause",tO="toast.viewportResume",Zre=C.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=dYe,label:s="Notifications ({hotkey})",...a}=t,o=YS(qre,r),l=lYe(r),c=C.useRef(null),d=C.useRef(null),f=C.useRef(null),m=C.useRef(null),g=Et(e,m,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;C.useEffect(()=>{const u=h=>{var v;n.length!==0&&n.every(w=>h[w]||h.code===w)&&((v=m.current)==null||v.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n]),C.useEffect(()=>{const u=c.current,h=m.current;if(_&&u&&h){const p=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(eO);h.dispatchEvent(S),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(tO);h.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!u.contains(S.relatedTarget)&&v()},x=()=>{u.contains(document.activeElement)||v()};return u.addEventListener("focusin",p),u.addEventListener("focusout",w),u.addEventListener("pointermove",p),u.addEventListener("pointerleave",x),window.addEventListener("blur",p),window.addEventListener("focus",v),()=>{u.removeEventListener("focusin",p),u.removeEventListener("focusout",w),u.removeEventListener("pointermove",p),u.removeEventListener("pointerleave",x),window.removeEventListener("blur",p),window.removeEventListener("focus",v)}}},[_,o.isClosePausedRef]);const b=C.useCallback(({tabbingDirection:u})=>{const p=l().map(v=>{const w=v.ref.current,x=[w,...SYe(w)];return u==="forwards"?x:x.reverse()});return(u==="forwards"?p.reverse():p).flat()},[l]);return C.useEffect(()=>{const u=m.current;if(u){const h=p=>{var x,S,E;const v=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!v){const P=document.activeElement,T=p.shiftKey;if(p.target===u&&T){(x=d.current)==null||x.focus();return}const D=b({tabbingDirection:T?"backwards":"forwards"}),O=D.findIndex(I=>I===P);HT(D.slice(O+1))?p.preventDefault():T?(S=d.current)==null||S.focus():(E=f.current)==null||E.focus()}};return u.addEventListener("keydown",h),()=>u.removeEventListener("keydown",h)}},[l,b]),k.jsxs(Bwe,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&k.jsx(rO,{ref:d,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"forwards"});HT(u)}}),k.jsx(_k.Slot,{scope:r,children:k.jsx(rt.ol,{tabIndex:-1,...a,ref:g})}),_&&k.jsx(rO,{ref:f,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"backwards"});HT(u)}})]})});Zre.displayName=qre;var Jre="ToastFocusProxy",rO=C.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=YS(Jre,r);return k.jsx(tS,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});rO.displayName=Jre;var T_="Toast",fYe="toast.swipeStart",hYe="toast.swipeMove",pYe="toast.swipeCancel",mYe="toast.swipeEnd",Qre=C.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l,c]=wi({prop:n,defaultProp:s!=null?s:!0,onChange:a,caller:T_});return k.jsx(Jn,{present:r||l,children:k.jsx(yYe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ln(t.onPause),onResume:ln(t.onResume),onSwipeStart:Ce(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(m,"px"))}),onSwipeCancel:Ce(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(m,"px")),c(!1)})})})});Qre.displayName=T_;var[gYe,vYe]=Xre(T_,{onClose(){}}),yYe=C.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:y,..._}=t,b=YS(T_,r),[u,h]=C.useState(null),p=Et(e,I=>h(I)),v=C.useRef(null),w=C.useRef(null),x=s||b.duration,S=C.useRef(0),E=C.useRef(x),P=C.useRef(0),{onToastAdd:T,onToastRemove:A}=b,R=ln(()=>{var M;(u==null?void 0:u.contains(document.activeElement))&&((M=b.viewport)==null||M.focus()),o()}),D=C.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(R,I))},[R]);C.useEffect(()=>{const I=b.viewport;if(I){const M=()=>{D(E.current),d==null||d()},G=()=>{const j=new Date().getTime()-S.current;E.current=E.current-j,window.clearTimeout(P.current),c==null||c()};return I.addEventListener(eO,G),I.addEventListener(tO,M),()=>{I.removeEventListener(eO,G),I.removeEventListener(tO,M)}}},[b.viewport,x,c,d,D]),C.useEffect(()=>{a&&!b.isClosePausedRef.current&&D(x)},[a,x,b.isClosePausedRef,D]),C.useEffect(()=>(T(),()=>A()),[T,A]);const O=C.useMemo(()=>u?ane(u):null,[u]);return b.viewport?k.jsxs(k.Fragment,{children:[O&&k.jsx(_Ye,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:O}),k.jsx(gYe,{scope:r,onClose:R,children:Ul.createPortal(k.jsx(_k.ItemSlot,{scope:r,children:k.jsx(Iwe,{asChild:!0,onEscapeKeyDown:Ce(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||R(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:k.jsx(rt.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,..._,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ce(t.onPointerDown,I=>{I.button===0&&(v.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ce(t.onPointerMove,I=>{if(!v.current)return;const M=I.clientX-v.current.x,G=I.clientY-v.current.y,j=!!w.current,$=["left","right"].includes(b.swipeDirection),H=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,K=$?H(0,M):0,re=$?0:H(0,G),fe=I.pointerType==="touch"?10:2,ye={x:K,y:re},he={originalEvent:I,delta:ye};j?(w.current=ye,f1(hYe,m,he,{discrete:!1})):Vj(ye,b.swipeDirection,fe)?(w.current=ye,f1(fYe,f,he,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(M)>fe||Math.abs(G)>fe)&&(v.current=null)}),onPointerUp:Ce(t.onPointerUp,I=>{const M=w.current,G=I.target;if(G.hasPointerCapture(I.pointerId)&&G.releasePointerCapture(I.pointerId),w.current=null,v.current=null,M){const j=I.currentTarget,$={originalEvent:I,delta:M};Vj(M,b.swipeDirection,b.swipeThreshold)?f1(mYe,y,$,{discrete:!0}):f1(pYe,g,$,{discrete:!0}),j.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),_Ye=t=>{const{__scopeToast:e,children:r,...n}=t,s=YS(T_,e),[a,o]=C.useState(!1),[l,c]=C.useState(!1);return xYe(()=>o(!0)),C.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:k.jsx(hf,{asChild:!0,children:k.jsx(tS,{...n,children:a&&k.jsxs(k.Fragment,{children:[s.label," ",r]})})})},bYe="ToastTitle",ene=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return k.jsx(rt.div,{...n,ref:e})});ene.displayName=bYe;var wYe="ToastDescription",tne=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return k.jsx(rt.div,{...n,ref:e})});tne.displayName=wYe;var rne="ToastAction",nne=C.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?k.jsx(sne,{altText:r,asChild:!0,children:k.jsx(bk,{...n,ref:e})}):(console.error("Invalid prop `altText` supplied to `".concat(rne,"`. Expected non-empty `string`.")),null)});nne.displayName=rne;var ine="ToastClose",bk=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=vYe(ine,r);return k.jsx(sne,{asChild:!0,children:k.jsx(rt.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,s.onClose)})})});bk.displayName=ine;var sne=C.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return k.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function ane(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),EYe(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ane(n))}}),e}function f1(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?SB(s,a):s.dispatchEvent(a)}var Vj=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function xYe(t=()=>{}){const e=ln(t);Zn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function EYe(t){return t.nodeType===t.ELEMENT_NODE}function SYe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function HT(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var yet=Yre,_et=Zre,bet=Qre,wet=ene,xet=tne,Eet=nne,Cet=bk;export{iZe as $,Zm as A,uV as B,nw as C,$Ye as D,Ke as E,Vy as F,hl as G,zYe as H,GYe as I,lwe as J,pwe as K,gE as L,MYe as M,fV as N,nZe as O,fbe as P,KYe as Q,Bt as R,sf as S,GI as T,Bo as U,VYe as V,XYe as W,YYe as X,qYe as Y,aqe as Z,Jqe as _,Wme as a,hZe as a$,rqe as a0,sqe as a1,oqe as a2,lqe as a3,IZe as a4,cqe as a5,_qe as a6,tqe as a7,aZe as a8,dqe as a9,sZe as aA,lZe as aB,uZe as aC,mZe as aD,gZe as aE,_Ze as aF,bZe as aG,wZe as aH,EZe as aI,zqe as aJ,CZe as aK,Uqe as aL,vqe as aM,gqe as aN,Hqe as aO,Gqe as aP,SZe as aQ,WYe as aR,nqe as aS,fqe as aT,QYe as aU,ZYe as aV,pZe as aW,Eqe as aX,iqe as aY,Xqe as aZ,hqe as a_,AZe as aa,Kqe as ab,Wqe as ac,xZe as ad,Sqe as ae,eZe as af,cZe as ag,mqe as ah,Cqe as ai,Aqe as aj,Tqe as ak,Pqe as al,Dqe as am,Rqe as an,Oqe as ao,Fqe as ap,Mqe as aq,kqe as ar,OZe as as,$qe as at,Yqe as au,pqe as av,jqe as aw,Bqe as ax,tZe as ay,oZe as az,eG as b,UJe as b$,Nqe as b0,DZe as b1,Iqe as b2,qqe as b3,Lqe as b4,RZe as b5,dZe as b6,xqe as b7,Zqe as b8,vZe as b9,dJe as bA,cJe as bB,oJe as bC,fJe as bD,nJe as bE,BTe as bF,FTe as bG,XY as bH,JZe as bI,MTe as bJ,kTe as bK,RTe as bL,ITe as bM,PJe as bN,HYe as bO,UTe as bP,gJe as bQ,ZE as bR,mJe as bS,CJe as bT,wJe as bU,yJe as bV,_Je as bW,RJe as bX,OJe as bY,MJe as bZ,kJe as b_,HZe as ba,qZe as bb,WZe as bc,kZe as bd,NZe as be,UZe as bf,$Ze as bg,zZe as bh,XZe as bi,jZe as bj,QZe as bk,LZe as bl,VZe as bm,FZe as bn,MZe as bo,GZe as bp,xn as bq,eJe as br,rJe as bs,iJe as bt,hJe as bu,pJe as bv,sJe as bw,aJe as bx,lJe as by,uJe as bz,np as c,set as c$,$Je as c0,NJe as c1,LJe as c2,FJe as c3,BJe as c4,VJe as c5,HJe as c6,KZe as c7,eQe as c8,ZZe as c9,SQe as cA,CQe as cB,AQe as cC,OQe as cD,IQe as cE,DQe as cF,RQe as cG,TQe as cH,BQe as cI,$2e as cJ,j2e as cK,UQe as cL,MQe as cM,kQe as cN,NQe as cO,zQe as cP,hM as cQ,JYe as cR,yZe as cS,q as cT,WWe as cU,GQe as cV,CRe as cW,det as cX,VQe as cY,LQe as cZ,oet as c_,tQe as ca,YZe as cb,WJe as cc,KJe as cd,XJe as ce,qJe as cf,ZJe as cg,QJe as ch,JJe as ci,rQe as cj,zJe as ck,YJe as cl,GJe as cm,sQe as cn,aQe as co,oQe as cp,iQe as cq,zPe as cr,wQe as cs,TZe as ct,bqe as cu,fZe as cv,Vqe as cw,Qqe as cx,rZe as cy,EQe as cz,Bv as d,oXe as d0,uet as d1,aet as d2,cet as d3,$Qe as d4,HS as d5,yn as d6,oFe as d7,WQe as d8,Yu as d9,PZe as dA,yqe as dB,eqe as dC,eet as dD,mWe as dE,net as dF,QQe as dG,wqe as dH,SJe as dI,bJe as dJ,vJe as dK,uqe as dL,_et as dM,bet as dN,Eet as dO,Cet as dP,wet as dQ,xet as dR,yet as dS,CYe as dT,AYe as dU,Mk as dV,ZQe as da,het as db,nYe as dc,jQe as dd,fM as de,W9e as df,HQe as dg,uFe as dh,zo as di,met as dj,get as dk,xJe as dl,PAe as dm,JQe as dn,KQe as dp,U9e as dq,ZWe as dr,px as ds,AJe as dt,TJe as du,EJe as dv,Gxe as dw,Kxe as dx,fet as dy,tet as dz,ma as e,Je as f,ct as g,bo as h,age as i,k as j,En as k,BYe as l,ss as m,IYe as n,kYe as o,pge as p,ebe as q,C as r,NYe as s,fle as t,il as u,OYe as v,J9 as w,vV as x,zs as y,TYe as z};
